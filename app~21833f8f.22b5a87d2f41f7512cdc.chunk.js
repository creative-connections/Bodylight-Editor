(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["app~21833f8f"],{

/***/ "+kGf":
/*!****************************************************************!*\
  !*** ./src/components/project-files/bodylight-file-factory.js ***!
  \****************************************************************/
/*! exports provided: BodylightFileFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BodylightFileFactory\", function() { return BodylightFileFactory; });\n/* harmony import */ var _bodylight_file__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bodylight-file */ \"xanf\");\n/* harmony import */ var _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bodylight-struct */ \"IsLn\");\n\n\nvar BodylightFileFactory = /*#__PURE__*/function () {\n  function BodylightFileFactory() {}\n\n  BodylightFileFactory.createBodylightFile = function createBodylightFile(entryname, blob, api, isanimate, isother) {\n    var filetype;\n\n    if (entryname.endsWith('.js')) {\n      if (isanimate) filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].ADOBEANIMATE;else if (isother) filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].OTHERJS;else filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].MODELFILE;\n    } else if (entryname.endsWith('.md')) filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].MDFILE;else if (entryname.endsWith('.xml')) filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].DESCRIPTIONFILE;else if (entryname.endsWith('.html')) filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].DESCRIPTIONFILE;else if (entryname.endsWith('.gif')) filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].ANIMATEDGIF;else if (entryname.endsWith('.png')) filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].IMAGE;else if (entryname.endsWith('.jpg')) filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].IMAGE;else filetype = _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].OTHERJS;\n\n    var newfile = new _bodylight_file__WEBPACK_IMPORTED_MODULE_0__[\"BodylightFile\"](entryname, filetype, api, blob);\n    /*if (blob) {\n      api.bs.saveBlobContent(entryname, blob)\n        .then(result => {\n          console.log('result saving blob', result);\n          this.uploaddialog = false;\n        })\n        .catch(error => {\n          console.log('error saving blob', error);\n          this.uploaddialog = false;\n        });\n    }*/\n\n    return newfile; //expect that by convention of Bodylight Compiler, ZIP contains JS and modelDescription.xml\n    //    this.files.push(newfile);\n    //    this.updatelf();\n  };\n\n  return BodylightFileFactory;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiK2tHZi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LWZpbGUtZmFjdG9yeS5qcz9mYTQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Qm9keWxpZ2h0RmlsZX0gZnJvbSAnLi9ib2R5bGlnaHQtZmlsZSc7XG5pbXBvcnQge0ZUWVBFfSBmcm9tICcuL2JvZHlsaWdodC1zdHJ1Y3QnO1xuXG5leHBvcnQgY2xhc3MgQm9keWxpZ2h0RmlsZUZhY3Rvcnkge1xuICBzdGF0aWMgY3JlYXRlQm9keWxpZ2h0RmlsZShlbnRyeW5hbWUsIGJsb2IsIGFwaSwgaXNhbmltYXRlLCBpc290aGVyKSB7XG4gICAgbGV0IGZpbGV0eXBlO1xuICAgIGlmIChlbnRyeW5hbWUuZW5kc1dpdGgoJy5qcycpKSB7XG4gICAgICBpZiAoaXNhbmltYXRlKSBmaWxldHlwZSA9IEZUWVBFLkFET0JFQU5JTUFURTtcbiAgICAgIGVsc2UgaWYgKGlzb3RoZXIpIGZpbGV0eXBlID0gRlRZUEUuT1RIRVJKUztcbiAgICAgIGVsc2UgZmlsZXR5cGUgPSBGVFlQRS5NT0RFTEZJTEU7XG4gICAgfSBlbHNlIGlmIChlbnRyeW5hbWUuZW5kc1dpdGgoJy5tZCcpKSBmaWxldHlwZSA9IEZUWVBFLk1ERklMRTtcbiAgICBlbHNlIGlmIChlbnRyeW5hbWUuZW5kc1dpdGgoJy54bWwnKSkgZmlsZXR5cGUgPSBGVFlQRS5ERVNDUklQVElPTkZJTEU7XG4gICAgZWxzZSBpZiAoZW50cnluYW1lLmVuZHNXaXRoKCcuaHRtbCcpKSBmaWxldHlwZSA9IEZUWVBFLkRFU0NSSVBUSU9ORklMRTtcbiAgICBlbHNlIGlmIChlbnRyeW5hbWUuZW5kc1dpdGgoJy5naWYnKSkgZmlsZXR5cGUgPSBGVFlQRS5BTklNQVRFREdJRjtcbiAgICBlbHNlIGlmIChlbnRyeW5hbWUuZW5kc1dpdGgoJy5wbmcnKSkgZmlsZXR5cGUgPSBGVFlQRS5JTUFHRTtcbiAgICBlbHNlIGlmIChlbnRyeW5hbWUuZW5kc1dpdGgoJy5qcGcnKSkgZmlsZXR5cGUgPSBGVFlQRS5JTUFHRTtcbiAgICBlbHNlIGZpbGV0eXBlID0gRlRZUEUuT1RIRVJKUztcbiAgICBsZXQgbmV3ZmlsZSA9IG5ldyBCb2R5bGlnaHRGaWxlKGVudHJ5bmFtZSwgZmlsZXR5cGUsIGFwaSwgYmxvYik7XG4gICAgLyppZiAoYmxvYikge1xuICAgICAgYXBpLmJzLnNhdmVCbG9iQ29udGVudChlbnRyeW5hbWUsIGJsb2IpXG4gICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCBzYXZpbmcgYmxvYicsIHJlc3VsdCk7XG4gICAgICAgICAgdGhpcy51cGxvYWRkaWFsb2cgPSBmYWxzZTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc2F2aW5nIGJsb2InLCBlcnJvcik7XG4gICAgICAgICAgdGhpcy51cGxvYWRkaWFsb2cgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfSovXG5cbiAgICByZXR1cm4gbmV3ZmlsZTtcblxuICAgIC8vZXhwZWN0IHRoYXQgYnkgY29udmVudGlvbiBvZiBCb2R5bGlnaHQgQ29tcGlsZXIsIFpJUCBjb250YWlucyBKUyBhbmQgbW9kZWxEZXNjcmlwdGlvbi54bWxcbiAgICAvLyAgICB0aGlzLmZpbGVzLnB1c2gobmV3ZmlsZSk7XG4gICAgLy8gICAgdGhpcy51cGRhdGVsZigpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBakNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///+kGf\n");

/***/ }),

/***/ "1Qyv":
/*!************************************************************!*\
  !*** ./src/components/project-files/bodylight-xml-file.js ***!
  \************************************************************/
/*! exports provided: BodylightXmlFile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BodylightXmlFile\", function() { return BodylightXmlFile; });\n/* harmony import */ var _bodylight_md_file__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bodylight-md-file */ \"3Ek+\");\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\nvar BodylightXmlFile = /*#__PURE__*/function (_BodylightMdFile) {\n  _inheritsLoose(BodylightXmlFile, _BodylightMdFile);\n\n  function BodylightXmlFile() {\n    return _BodylightMdFile.apply(this, arguments) || this;\n  }\n\n  var _proto = BodylightXmlFile.prototype;\n\n  _proto.deactivate = function deactivate(file) {\n    file.active = false;\n  };\n\n  return BodylightXmlFile;\n}(_bodylight_md_file__WEBPACK_IMPORTED_MODULE_0__[\"BodylightMdFile\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMVF5di5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LXhtbC1maWxlLmpzP2Q1MGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtCb2R5bGlnaHRNZEZpbGV9IGZyb20gJy4vYm9keWxpZ2h0LW1kLWZpbGUnO1xuXG5cbmV4cG9ydCBjbGFzcyBCb2R5bGlnaHRYbWxGaWxlIGV4dGVuZHMgQm9keWxpZ2h0TWRGaWxlIHtcbiAgZGVhY3RpdmF0ZShmaWxlKSB7XG4gICAgZmlsZS5hY3RpdmUgPSBmYWxzZTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFDQTtBQUpBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1Qyv\n");

/***/ }),

/***/ "3Ek+":
/*!***********************************************************!*\
  !*** ./src/components/project-files/bodylight-md-file.js ***!
  \***********************************************************/
/*! exports provided: BodylightMdFile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BodylightMdFile\", function() { return BodylightMdFile; });\n/* harmony import */ var _bodylight_file_strategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bodylight-file-strategy */ \"EKk8\");\n/* harmony import */ var _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bodylight-struct */ \"IsLn\");\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n//import {BodylightFile} from './bodylight-file';\n\n\nvar BodylightMdFile = /*#__PURE__*/function (_BodylightFileStrateg) {\n  _inheritsLoose(BodylightMdFile, _BodylightFileStrateg);\n\n  function BodylightMdFile() {\n    return _BodylightFileStrateg.apply(this, arguments) || this;\n  }\n\n  var _proto = BodylightMdFile.prototype;\n\n  _proto.loadFile = function loadFile(file) {\n    return _BodylightFileStrateg.prototype.loadFile.call(this, file).then(function (content) {\n      if (content) file.api.editor.setValue(content);else file.api.editor.setValue('');\n      return content;\n    });\n  };\n\n  _proto.activate = function activate(file, newcontent) {\n    _BodylightFileStrateg.prototype.activate.call(this, file, newcontent);\n\n    if (newcontent) {\n      var blob = new Blob([newcontent], {\n        type: 'text/plain'\n      });\n      file.api.bs.saveBlobContent(file.name, blob).then(function (result) {\n        console.log('result saving blob', result); //this.uploaddialog = false;\n      }).catch(function (error) {\n        console.log('error saving blob', error); //this.uploaddialog = false;\n      });\n      file.api.editor.setValue(newcontent, 1);\n      file.api.editor.focus();\n    } else {\n      //opening md file\n      file.api.bs.loadDocContent(file.name).then(function (content) {\n        //if (content)\n        //console.log('content of the file ' + file.name, content);\n        if (content) {\n          //set editor value - 1 cursor at the end\n          if (typeof content === 'string') file.api.editor.setValue(content, 1);\n\n          if (content instanceof Blob) {\n            //read content of blob\n            var reader = new FileReader();\n            reader.addEventListener('loadend', function () {\n              // reader.result contains the contents of blob as a typed array\n              //set editor value - 1 cursor at the end\n              file.api.editor.setValue(reader.result, 1);\n            });\n            reader.readAsText(content);\n          }\n        } else file.api.editor.setValue('');\n\n        file.api.editor.focus();\n      }).catch(function (err) {\n        return console.log('project open file error', err);\n      });\n    }\n  };\n\n  _proto.deactivate = function deactivate(file) {\n    _BodylightFileStrateg.prototype.deactivate.call(this, file);\n\n    this.saveChanges(file);\n  };\n\n  _proto.saveChanges = function saveChanges(file) {\n    file.api.bs.saveDocContent(file.name, file.api.editor.getValue());\n  };\n\n  return BodylightMdFile;\n}(_bodylight_file_strategy__WEBPACK_IMPORTED_MODULE_0__[\"BodylightFileStrategy\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiM0VrKy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LW1kLWZpbGUuanM/ZGM0OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2ltcG9ydCB7Qm9keWxpZ2h0RmlsZX0gZnJvbSAnLi9ib2R5bGlnaHQtZmlsZSc7XG5pbXBvcnQge0JvZHlsaWdodEZpbGVTdHJhdGVneX0gZnJvbSAnLi9ib2R5bGlnaHQtZmlsZS1zdHJhdGVneSc7XG5pbXBvcnQgJy4vYm9keWxpZ2h0LXN0cnVjdCc7XG5cbmV4cG9ydCBjbGFzcyBCb2R5bGlnaHRNZEZpbGUgZXh0ZW5kcyBCb2R5bGlnaHRGaWxlU3RyYXRlZ3kge1xuICBsb2FkRmlsZShmaWxlKSB7XG4gICAgcmV0dXJuIHN1cGVyLmxvYWRGaWxlKGZpbGUpXG4gICAgICAudGhlbihjb250ZW50ID0+e1xuICAgICAgICBpZiAoY29udGVudCkgZmlsZS5hcGkuZWRpdG9yLnNldFZhbHVlKGNvbnRlbnQpO1xuICAgICAgICBlbHNlIGZpbGUuYXBpLmVkaXRvci5zZXRWYWx1ZSgnJyk7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfSk7XG4gIH1cblxuICBhY3RpdmF0ZShmaWxlLCBuZXdjb250ZW50KSB7XG4gICAgc3VwZXIuYWN0aXZhdGUoZmlsZSwgbmV3Y29udGVudCk7XG5cbiAgICBpZiAobmV3Y29udGVudCkge1xuICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbbmV3Y29udGVudF0sIHtcbiAgICAgICAgdHlwZTogJ3RleHQvcGxhaW4nXG4gICAgICB9KTtcbiAgICAgIGZpbGUuYXBpLmJzLnNhdmVCbG9iQ29udGVudChmaWxlLm5hbWUsIGJsb2IpXG4gICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCBzYXZpbmcgYmxvYicsIHJlc3VsdCk7XG4gICAgICAgICAgLy90aGlzLnVwbG9hZGRpYWxvZyA9IGZhbHNlO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzYXZpbmcgYmxvYicsIGVycm9yKTtcbiAgICAgICAgICAvL3RoaXMudXBsb2FkZGlhbG9nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgZmlsZS5hcGkuZWRpdG9yLnNldFZhbHVlKG5ld2NvbnRlbnQsIDEpO1xuICAgICAgZmlsZS5hcGkuZWRpdG9yLmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vb3BlbmluZyBtZCBmaWxlXG4gICAgICBmaWxlLmFwaS5icy5sb2FkRG9jQ29udGVudChmaWxlLm5hbWUpXG4gICAgICAgIC50aGVuKGNvbnRlbnQgPT57XG4gICAgICAgICAgLy9pZiAoY29udGVudClcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdjb250ZW50IG9mIHRoZSBmaWxlICcgKyBmaWxlLm5hbWUsIGNvbnRlbnQpO1xuICAgICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICAvL3NldCBlZGl0b3IgdmFsdWUgLSAxIGN1cnNvciBhdCB0aGUgZW5kXG4gICAgICAgICAgICBpZiAodHlwZW9mKGNvbnRlbnQpID09PSAnc3RyaW5nJykgZmlsZS5hcGkuZWRpdG9yLnNldFZhbHVlKGNvbnRlbnQsIDEpO1xuICAgICAgICAgICAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgIC8vcmVhZCBjb250ZW50IG9mIGJsb2JcbiAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gcmVhZGVyLnJlc3VsdCBjb250YWlucyB0aGUgY29udGVudHMgb2YgYmxvYiBhcyBhIHR5cGVkIGFycmF5XG4gICAgICAgICAgICAgICAgLy9zZXQgZWRpdG9yIHZhbHVlIC0gMSBjdXJzb3IgYXQgdGhlIGVuZFxuICAgICAgICAgICAgICAgIGZpbGUuYXBpLmVkaXRvci5zZXRWYWx1ZShyZWFkZXIucmVzdWx0LCAxKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBmaWxlLmFwaS5lZGl0b3Iuc2V0VmFsdWUoJycpO1xuICAgICAgICAgIGZpbGUuYXBpLmVkaXRvci5mb2N1cygpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyPT5jb25zb2xlLmxvZygncHJvamVjdCBvcGVuIGZpbGUgZXJyb3InLCBlcnIpKTtcbiAgICB9XG4gIH1cblxuICBkZWFjdGl2YXRlKGZpbGUpIHtcbiAgICBzdXBlci5kZWFjdGl2YXRlKGZpbGUpO1xuICAgIHRoaXMuc2F2ZUNoYW5nZXMoZmlsZSk7XG4gIH1cblxuICBzYXZlQ2hhbmdlcyhmaWxlKSB7XG4gICAgZmlsZS5hcGkuYnMuc2F2ZURvY0NvbnRlbnQoZmlsZS5uYW1lLCBmaWxlLmFwaS5lZGl0b3IuZ2V0VmFsdWUoKSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXJEQTtBQXVEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBMURBO0FBNERBO0FBQ0E7QUFDQTtBQTlEQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3Ek+\n");

/***/ }),

/***/ "A3Sy":
/*!***********************************************************!*\
  !*** ./src/components/project-files/bodylight-js-file.js ***!
  \***********************************************************/
/*! exports provided: BodylightJsFile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BodylightJsFile\", function() { return BodylightJsFile; });\n/* harmony import */ var _bodylight_file_strategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bodylight-file-strategy */ \"EKk8\");\n/* harmony import */ var _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bodylight-struct */ \"IsLn\");\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\nvar BodylightJsFile = /*#__PURE__*/function (_BodylightFileStrateg) {\n  _inheritsLoose(BodylightJsFile, _BodylightFileStrateg);\n\n  function BodylightJsFile() {\n    return _BodylightFileStrateg.apply(this, arguments) || this;\n  }\n\n  var _proto = BodylightJsFile.prototype;\n\n  _proto.activate = function activate(file, content) {\n    _BodylightFileStrateg.prototype.activate.call(this, file, content);\n  };\n\n  _proto.deactivate = function deactivate(file) {\n    _BodylightFileStrateg.prototype.deactivate.call(this, file);\n  };\n\n  return BodylightJsFile;\n}(_bodylight_file_strategy__WEBPACK_IMPORTED_MODULE_0__[\"BodylightFileStrategy\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQTNTeS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LWpzLWZpbGUuanM/MDM3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0JvZHlsaWdodEZpbGVTdHJhdGVneX0gZnJvbSAnLi9ib2R5bGlnaHQtZmlsZS1zdHJhdGVneSc7XG5pbXBvcnQgJy4vYm9keWxpZ2h0LXN0cnVjdCc7XG5pbXBvcnQge0ZUWVBFfSBmcm9tICcuL2JvZHlsaWdodC1zdHJ1Y3QnO1xuXG5leHBvcnQgY2xhc3MgQm9keWxpZ2h0SnNGaWxlIGV4dGVuZHMgQm9keWxpZ2h0RmlsZVN0cmF0ZWd5IHtcblxuXG4gIGFjdGl2YXRlKGZpbGUsIGNvbnRlbnQpIHtcbiAgICBzdXBlci5hY3RpdmF0ZShmaWxlLCBjb250ZW50KTtcbiAgfVxuICBkZWFjdGl2YXRlKGZpbGUpIHtcbiAgICBzdXBlci5kZWFjdGl2YXRlKGZpbGUpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFOQTtBQU9BO0FBQ0E7QUFDQTtBQVRBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///A3Sy\n");

/***/ }),

/***/ "EKk8":
/*!*****************************************************************!*\
  !*** ./src/components/project-files/bodylight-file-strategy.js ***!
  \*****************************************************************/
/*! exports provided: BodylightFileStrategy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BodylightFileStrategy\", function() { return BodylightFileStrategy; });\nvar BodylightFileStrategy = /*#__PURE__*/function () {\n  function BodylightFileStrategy() {//this.api = api;\n  }\n  /**\n   * Loads file and returns it's content\n   * @returns {Promise<any | void>}\n   */\n\n\n  var _proto = BodylightFileStrategy.prototype;\n\n  _proto.loadFile = function loadFile(file) {\n    //opening md file\n    if (file.api) {\n      return file.api.bs.loadDocContent(file.name).then(function (content) {\n        return content;\n      }).catch(function (err) {\n        console.log('project open file error', err);\n        return err;\n      });\n    } //TODO fail when file.api is not available\n\n  }\n  /**\n   * Activates the file by setting it's value to true and set editor content\n   */\n  ;\n\n  _proto.activate = function activate(file, content) {\n    file.active = true;\n  };\n\n  _proto.deactivate = function deactivate(file) {\n    file.active = false;\n  };\n\n  _proto.saveChanges = function saveChanges(file) {};\n\n  return BodylightFileStrategy;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRUtrOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LWZpbGUtc3RyYXRlZ3kuanM/MTBhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQm9keWxpZ2h0RmlsZVN0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy90aGlzLmFwaSA9IGFwaTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgZmlsZSBhbmQgcmV0dXJucyBpdCdzIGNvbnRlbnRcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55IHwgdm9pZD59XG4gICAqL1xuICBsb2FkRmlsZShmaWxlKSB7XG4gICAgLy9vcGVuaW5nIG1kIGZpbGVcbiAgICBpZiAoZmlsZS5hcGkpIHtcbiAgICAgIHJldHVybiBmaWxlLmFwaS5icy5sb2FkRG9jQ29udGVudChmaWxlLm5hbWUpXG4gICAgICAgIC50aGVuKGNvbnRlbnQgPT57XG4gICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnI9Pntjb25zb2xlLmxvZygncHJvamVjdCBvcGVuIGZpbGUgZXJyb3InLCBlcnIpOyByZXR1cm4gZXJyO30pO1xuICAgIH1cbiAgICAvL1RPRE8gZmFpbCB3aGVuIGZpbGUuYXBpIGlzIG5vdCBhdmFpbGFibGVcbiAgfVxuXG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgdGhlIGZpbGUgYnkgc2V0dGluZyBpdCdzIHZhbHVlIHRvIHRydWUgYW5kIHNldCBlZGl0b3IgY29udGVudFxuICAgKi9cbiAgYWN0aXZhdGUoZmlsZSwgY29udGVudCkge1xuICAgIGZpbGUuYWN0aXZlID0gdHJ1ZTtcbiAgfVxuXG4gIGRlYWN0aXZhdGUoZmlsZSkge1xuICAgIGZpbGUuYWN0aXZlID0gZmFsc2U7XG4gIH1cblxuICBzYXZlQ2hhbmdlcyhmaWxlKSB7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFEQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUF0QkE7QUFDQTtBQURBO0FBd0JBO0FBQ0E7QUFDQTtBQTFCQTtBQTRCQTtBQUNBO0FBQ0E7QUE5QkE7QUFDQTtBQURBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///EKk8\n");

/***/ }),

/***/ "IsLn":
/*!**********************************************************!*\
  !*** ./src/components/project-files/bodylight-struct.js ***!
  \**********************************************************/
/*! exports provided: FTYPE, FileType2StrategyMap, DEMOFILES, DEMOCONTENT, utf8Encode, utf8Decode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FTYPE\", function() { return FTYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FileType2StrategyMap\", function() { return FileType2StrategyMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEMOFILES\", function() { return DEMOFILES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEMOCONTENT\", function() { return DEMOCONTENT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"utf8Encode\", function() { return utf8Encode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"utf8Decode\", function() { return utf8Decode; });\n/* harmony import */ var _bodylight_md_file__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bodylight-md-file */ \"3Ek+\");\n/* harmony import */ var _bodylight_model_file__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bodylight-model-file */ \"miZY\");\n/* harmony import */ var _bodylight_animate_file__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bodylight-animate-file */ \"MLrc\");\n/* harmony import */ var _bodylight_js_file__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bodylight-js-file */ \"A3Sy\");\n/* harmony import */ var _bodylight_xml_file__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bodylight-xml-file */ \"1Qyv\");\n\n\n\n\n\nvar FTYPE = {\n  MDFILE: {\n    name: 'MDFILE',\n    value: 0,\n    title: 'Web simulator (markdown)',\n    faclass: 'fa fa-file-text'\n  },\n  MODELFILE: {\n    name: 'MODELFILE',\n    value: 1,\n    title: 'Model FMU/JS(js)',\n    faclass: 'fa fa-file-code-o'\n  },\n  ADOBEANIMATE: {\n    name: 'ADOBEANIMATE',\n    value: 2,\n    title: 'Adobe Animate CreateJS(js)',\n    faclass: 'fa fa-file-image-o'\n  },\n  ANIMATEDGIF: {\n    name: 'ANIMATEDGIF',\n    value: 3,\n    title: 'Animated GIF(gif)',\n    faclass: 'fa fa-file-movie-o'\n  },\n  IMAGE: {\n    name: 'IMAGE',\n    value: 4,\n    title: 'Common image(png,jpg)',\n    faclass: 'fa fa-file-image-o'\n  },\n  OTHERJS: {\n    name: 'OTHERJS',\n    value: 5,\n    title: 'Other Javascript(js) ',\n    faclass: 'fa fa-file-o'\n  },\n  DESCRIPTIONFILE: {\n    name: 'DESCRIPTIONFILE',\n    value: 6,\n    title: 'description of FMU file(xml)',\n    faclass: 'fa fa-file-excel-o'\n  }\n}; //call it once when the api is known - e.g. when project is attached\n\nvar FileType2StrategyMap = new Map();\nFileType2StrategyMap.set('MDFILE', new _bodylight_md_file__WEBPACK_IMPORTED_MODULE_0__[\"BodylightMdFile\"]());\nFileType2StrategyMap.set('MODELFILE', new _bodylight_model_file__WEBPACK_IMPORTED_MODULE_1__[\"BodylightModelFile\"]());\nFileType2StrategyMap.set('ADOBEANIMATE', new _bodylight_animate_file__WEBPACK_IMPORTED_MODULE_2__[\"BodylightAnimateFile\"]());\nFileType2StrategyMap.set('ANIMATEDGIF', new _bodylight_animate_file__WEBPACK_IMPORTED_MODULE_2__[\"BodylightAnimateFile\"]());\nFileType2StrategyMap.set('IMAGE', new _bodylight_animate_file__WEBPACK_IMPORTED_MODULE_2__[\"BodylightAnimateFile\"]());\nFileType2StrategyMap.set('OTHERJS', new _bodylight_js_file__WEBPACK_IMPORTED_MODULE_3__[\"BodylightJsFile\"]());\nFileType2StrategyMap.set('DESCRIPTIONFILE', new _bodylight_xml_file__WEBPACK_IMPORTED_MODULE_4__[\"BodylightXmlFile\"]());\nvar DEMOFILES = [{\n  name: 'index.md',\n  type: FTYPE.MDFILE,\n  active: false\n}, {\n  name: 'BurkhoffFMI.js',\n  type: FTYPE.MODELFILE,\n  active: false\n}, {\n  name: 'SrdceCelek.js',\n  type: FTYPE.ADOBEANIMATE,\n  active: false\n}, {\n  name: 'heart.gif',\n  type: FTYPE.ANIMATEDGIF,\n  active: false\n}];\nvar DEMOCONTENT = '# Introduction\\n' + '\\n' + 'Markdown with Bodylight Components v.2\\n' + '\\n' + 'You may use markdown to tag `**bold** or __italic__ ` so it will be rendered as **bold** or __italic__ \\n' + '\\n' + '## Sections\\n' + 'sections can be added using one or multipla hash symbols `#`. \\n' + '## Mathematics\\n' + 'katex is supported thus writing LATEX like syntax between `$` symbol will render the math.\\n' + '\\n' + 'E.g. Dirichlet integral `$\\\\int_{0}^\\\\infty\\\\frac{\\\\sin(x)}{x}dx = \\\\frac{\\\\pi}{2}$` is rendered:\\n' + '\\n' + '$\\\\int_{0}^\\\\infty\\\\frac{\\\\sin(x)}{x}dx = \\\\frac{\\\\pi}{2}$\\n' + '\\n' + '## Bodylight components\\n' + '\\n' + 'Bodylight web components can be rendered directly, use full xml-tags with closing tags (not self-closing).\\n' + '<bdl-range min=\"10\" max=\"20\" step=\"2\" default=\"15\"></bdl-range>\\n' + '\\n' + '## Animation\\n' + '\\n' + 'Adobe Animate can be exported into CreateJS components, these can be imported and used with `<bdl-animate-adobe></bdl-animate-adobe>` component.\\n' + '\\n' + '## FMI \\n' + '\\n' + 'Modelica models exported to FMU and compiled by Bodylight FMU Compiler can be imported and used with `<bdl-fmi></bdl-fmi>` component.\\n' + '\\n' + '## Charts\\n' + 'Plotly, Chartjs and Dygraph libraries are supported use `<bdl-chartjs-time></bdl-chartjs-time>` or `<bdl-plotly></bdl-plotly>` or `<bdl-dygraph></bdl-dygraph>` components.\\n' + '\\n' + '## Animated GIF\\n' + 'Animated GIF can be imported, component `bdl-animate-gif` can handle animation and controls animation per each frame.\\n';\n/**\n * Encodes multi-byte Unicode string into utf-8 multiple single-byte characters\n * (BMP / basic multilingual plane only).\n *\n * Chars in range U+0080 - U+07FF are encoded in 2 chars, U+0800 - U+FFFF in 3 chars.\n *\n * Can be achieved in JavaScript by unescape(encodeURIComponent(str)),\n * but this approach may be useful in other languages.\n *\n * @param   {string} unicodeString - Unicode string to be encoded as UTF-8.\n * @returns {string} UTF8-encoded string.\n */\n\nfunction utf8Encode(unicodeString) {\n  if (typeof unicodeString != 'string') throw new TypeError('parameter ‘unicodeString’ is not a string');\n  var utf8String = unicodeString.replace(/[\\u0080-\\u07ff]/g, // U+0080 - U+07FF => 2 bytes 110yyyyy, 10zzzzzz\n  function (c) {\n    var cc = c.charCodeAt(0);\n    return String.fromCharCode(0xc0 | cc >> 6, 0x80 | cc & 0x3f);\n  }).replace(/[\\u0800-\\uffff]/g, // U+0800 - U+FFFF => 3 bytes 1110xxxx, 10yyyyyy, 10zzzzzz\n  function (c) {\n    var cc = c.charCodeAt(0);\n    return String.fromCharCode(0xe0 | cc >> 12, 0x80 | cc >> 6 & 0x3F, 0x80 | cc & 0x3f);\n  });\n  return utf8String;\n}\n/**\n * Decodes utf-8 encoded string back into multi-byte Unicode characters.\n *\n * Can be achieved JavaScript by decodeURIComponent(escape(str)),\n * but this approach may be useful in other languages.\n *\n * @param   {string} utf8String - UTF-8 string to be decoded back to Unicode.\n * @returns {string} Decoded Unicode string.\n */\n\nfunction utf8Decode(utf8String) {\n  if (typeof utf8String != 'string') throw new TypeError('parameter ‘utf8String’ is not a string'); // note: decode 3-byte chars first as decoded 2-byte strings could appear to be 3-byte char!\n\n  var unicodeString = utf8String.replace(/[\\u00e0-\\u00ef][\\u0080-\\u00bf][\\u0080-\\u00bf]/g, // 3-byte chars\n  function (c) {\n    // (note parentheses for precedence)\n    var cc = (c.charCodeAt(0) & 0x0f) << 12 | (c.charCodeAt(1) & 0x3f) << 6 | c.charCodeAt(2) & 0x3f;\n    return String.fromCharCode(cc);\n  }).replace(/[\\u00c0-\\u00df][\\u0080-\\u00bf]/g, // 2-byte chars\n  function (c) {\n    // (note parentheses for precedence)\n    var cc = (c.charCodeAt(0) & 0x1f) << 6 | c.charCodeAt(1) & 0x3f;\n    return String.fromCharCode(cc);\n  });\n  return unicodeString;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSXNMbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LXN0cnVjdC5qcz8yMmMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Qm9keWxpZ2h0TWRGaWxlfSBmcm9tICcuL2JvZHlsaWdodC1tZC1maWxlJztcbmltcG9ydCB7Qm9keWxpZ2h0TW9kZWxGaWxlfSBmcm9tICcuL2JvZHlsaWdodC1tb2RlbC1maWxlJztcbmltcG9ydCB7Qm9keWxpZ2h0QW5pbWF0ZUZpbGV9IGZyb20gJy4vYm9keWxpZ2h0LWFuaW1hdGUtZmlsZSc7XG5pbXBvcnQge0JvZHlsaWdodEpzRmlsZX0gZnJvbSAnLi9ib2R5bGlnaHQtanMtZmlsZSc7XG5pbXBvcnQge0JvZHlsaWdodFhtbEZpbGV9IGZyb20gJy4vYm9keWxpZ2h0LXhtbC1maWxlJztcblxuZXhwb3J0IGNvbnN0IEZUWVBFID0ge1xuICBNREZJTEU6IHtuYW1lOiAnTURGSUxFJywgdmFsdWU6IDAsIHRpdGxlOiAnV2ViIHNpbXVsYXRvciAobWFya2Rvd24pJywgZmFjbGFzczogJ2ZhIGZhLWZpbGUtdGV4dCd9LFxuICBNT0RFTEZJTEU6IHtuYW1lOiAnTU9ERUxGSUxFJywgdmFsdWU6IDEsIHRpdGxlOiAnTW9kZWwgRk1VL0pTKGpzKScsIGZhY2xhc3M6ICdmYSBmYS1maWxlLWNvZGUtbyd9LFxuICBBRE9CRUFOSU1BVEU6IHtuYW1lOiAnQURPQkVBTklNQVRFJywgdmFsdWU6IDIsIHRpdGxlOiAnQWRvYmUgQW5pbWF0ZSBDcmVhdGVKUyhqcyknLCBmYWNsYXNzOiAnZmEgZmEtZmlsZS1pbWFnZS1vJ30sXG4gIEFOSU1BVEVER0lGOiB7bmFtZTogJ0FOSU1BVEVER0lGJywgdmFsdWU6IDMsIHRpdGxlOiAnQW5pbWF0ZWQgR0lGKGdpZiknLCBmYWNsYXNzOiAnZmEgZmEtZmlsZS1tb3ZpZS1vJ30sXG4gIElNQUdFOiB7bmFtZTogJ0lNQUdFJywgdmFsdWU6IDQsIHRpdGxlOiAnQ29tbW9uIGltYWdlKHBuZyxqcGcpJywgZmFjbGFzczogJ2ZhIGZhLWZpbGUtaW1hZ2Utbyd9LFxuICBPVEhFUkpTOiB7bmFtZTogJ09USEVSSlMnLCB2YWx1ZTogNSwgdGl0bGU6ICdPdGhlciBKYXZhc2NyaXB0KGpzKSAnLCBmYWNsYXNzOiAnZmEgZmEtZmlsZS1vJ30sXG4gIERFU0NSSVBUSU9ORklMRToge25hbWU6ICdERVNDUklQVElPTkZJTEUnLCB2YWx1ZTogNiwgdGl0bGU6ICdkZXNjcmlwdGlvbiBvZiBGTVUgZmlsZSh4bWwpJywgZmFjbGFzczogJ2ZhIGZhLWZpbGUtZXhjZWwtbyd9XG59O1xuXG4vL2NhbGwgaXQgb25jZSB3aGVuIHRoZSBhcGkgaXMga25vd24gLSBlLmcuIHdoZW4gcHJvamVjdCBpcyBhdHRhY2hlZFxuZXhwb3J0IGNvbnN0IEZpbGVUeXBlMlN0cmF0ZWd5TWFwID0gbmV3IE1hcCgpO1xuRmlsZVR5cGUyU3RyYXRlZ3lNYXAuc2V0KCdNREZJTEUnLCBuZXcgQm9keWxpZ2h0TWRGaWxlKCkpO1xuRmlsZVR5cGUyU3RyYXRlZ3lNYXAuc2V0KCdNT0RFTEZJTEUnLCBuZXcgQm9keWxpZ2h0TW9kZWxGaWxlKCkpO1xuRmlsZVR5cGUyU3RyYXRlZ3lNYXAuc2V0KCdBRE9CRUFOSU1BVEUnLCBuZXcgQm9keWxpZ2h0QW5pbWF0ZUZpbGUoKSk7XG5GaWxlVHlwZTJTdHJhdGVneU1hcC5zZXQoJ0FOSU1BVEVER0lGJywgbmV3IEJvZHlsaWdodEFuaW1hdGVGaWxlKCkpO1xuRmlsZVR5cGUyU3RyYXRlZ3lNYXAuc2V0KCdJTUFHRScsIG5ldyBCb2R5bGlnaHRBbmltYXRlRmlsZSgpKTtcbkZpbGVUeXBlMlN0cmF0ZWd5TWFwLnNldCgnT1RIRVJKUycsIG5ldyBCb2R5bGlnaHRKc0ZpbGUoKSk7XG5GaWxlVHlwZTJTdHJhdGVneU1hcC5zZXQoJ0RFU0NSSVBUSU9ORklMRScsIG5ldyBCb2R5bGlnaHRYbWxGaWxlKCkpO1xuXG5leHBvcnQgY29uc3QgREVNT0ZJTEVTID0gW1xuICB7bmFtZTogJ2luZGV4Lm1kJywgdHlwZTogRlRZUEUuTURGSUxFLCBhY3RpdmU6IGZhbHNlfSxcbiAge25hbWU6ICdCdXJraG9mZkZNSS5qcycsIHR5cGU6IEZUWVBFLk1PREVMRklMRSwgYWN0aXZlOiBmYWxzZX0sXG4gIHtuYW1lOiAnU3JkY2VDZWxlay5qcycsIHR5cGU6IEZUWVBFLkFET0JFQU5JTUFURSwgYWN0aXZlOiBmYWxzZX0sXG4gIHtuYW1lOiAnaGVhcnQuZ2lmJywgdHlwZTogRlRZUEUuQU5JTUFURURHSUYsIGFjdGl2ZTogZmFsc2V9XG5dO1xuXG5leHBvcnQgY29uc3QgREVNT0NPTlRFTlQgPSAnIyBJbnRyb2R1Y3Rpb25cXG4nICtcbiAgJ1xcbicgK1xuICAnTWFya2Rvd24gd2l0aCBCb2R5bGlnaHQgQ29tcG9uZW50cyB2LjJcXG4nICtcbiAgJ1xcbicgK1xuICAnWW91IG1heSB1c2UgbWFya2Rvd24gdG8gdGFnIGAqKmJvbGQqKiBvciBfX2l0YWxpY19fIGAgc28gaXQgd2lsbCBiZSByZW5kZXJlZCBhcyAqKmJvbGQqKiBvciBfX2l0YWxpY19fIFxcbicgK1xuICAnXFxuJyArXG4gICcjIyBTZWN0aW9uc1xcbicgK1xuICAnc2VjdGlvbnMgY2FuIGJlIGFkZGVkIHVzaW5nIG9uZSBvciBtdWx0aXBsYSBoYXNoIHN5bWJvbHMgYCNgLiBcXG4nICtcbiAgJyMjIE1hdGhlbWF0aWNzXFxuJyArXG4gICdrYXRleCBpcyBzdXBwb3J0ZWQgdGh1cyB3cml0aW5nIExBVEVYIGxpa2Ugc3ludGF4IGJldHdlZW4gYCRgIHN5bWJvbCB3aWxsIHJlbmRlciB0aGUgbWF0aC5cXG4nICtcbiAgJ1xcbicgK1xuICAnRS5nLiBEaXJpY2hsZXQgaW50ZWdyYWwgYCRcXFxcaW50X3swfV5cXFxcaW5mdHlcXFxcZnJhY3tcXFxcc2luKHgpfXt4fWR4ID0gXFxcXGZyYWN7XFxcXHBpfXsyfSRgIGlzIHJlbmRlcmVkOlxcbicgK1xuICAnXFxuJyArXG4gICckXFxcXGludF97MH1eXFxcXGluZnR5XFxcXGZyYWN7XFxcXHNpbih4KX17eH1keCA9IFxcXFxmcmFje1xcXFxwaX17Mn0kXFxuJyArXG4gICdcXG4nICtcbiAgJyMjIEJvZHlsaWdodCBjb21wb25lbnRzXFxuJyArXG4gICdcXG4nICtcbiAgJ0JvZHlsaWdodCB3ZWIgY29tcG9uZW50cyBjYW4gYmUgcmVuZGVyZWQgZGlyZWN0bHksIHVzZSBmdWxsIHhtbC10YWdzIHdpdGggY2xvc2luZyB0YWdzIChub3Qgc2VsZi1jbG9zaW5nKS5cXG4nICtcbiAgJzxiZGwtcmFuZ2UgbWluPVwiMTBcIiBtYXg9XCIyMFwiIHN0ZXA9XCIyXCIgZGVmYXVsdD1cIjE1XCI+PC9iZGwtcmFuZ2U+XFxuJyArXG4gICdcXG4nICtcbiAgJyMjIEFuaW1hdGlvblxcbicgK1xuICAnXFxuJyArXG4gICdBZG9iZSBBbmltYXRlIGNhbiBiZSBleHBvcnRlZCBpbnRvIENyZWF0ZUpTIGNvbXBvbmVudHMsIHRoZXNlIGNhbiBiZSBpbXBvcnRlZCBhbmQgdXNlZCB3aXRoIGA8YmRsLWFuaW1hdGUtYWRvYmU+PC9iZGwtYW5pbWF0ZS1hZG9iZT5gIGNvbXBvbmVudC5cXG4nICtcbiAgJ1xcbicgK1xuICAnIyMgRk1JIFxcbicgK1xuICAnXFxuJyArXG4gICdNb2RlbGljYSBtb2RlbHMgZXhwb3J0ZWQgdG8gRk1VIGFuZCBjb21waWxlZCBieSBCb2R5bGlnaHQgRk1VIENvbXBpbGVyIGNhbiBiZSBpbXBvcnRlZCBhbmQgdXNlZCB3aXRoIGA8YmRsLWZtaT48L2JkbC1mbWk+YCBjb21wb25lbnQuXFxuJyArXG4gICdcXG4nICtcbiAgJyMjIENoYXJ0c1xcbicgK1xuICAnUGxvdGx5LCBDaGFydGpzIGFuZCBEeWdyYXBoIGxpYnJhcmllcyBhcmUgc3VwcG9ydGVkIHVzZSBgPGJkbC1jaGFydGpzLXRpbWU+PC9iZGwtY2hhcnRqcy10aW1lPmAgb3IgYDxiZGwtcGxvdGx5PjwvYmRsLXBsb3RseT5gIG9yIGA8YmRsLWR5Z3JhcGg+PC9iZGwtZHlncmFwaD5gIGNvbXBvbmVudHMuXFxuJyArXG4gICdcXG4nICtcbiAgJyMjIEFuaW1hdGVkIEdJRlxcbicgK1xuICAnQW5pbWF0ZWQgR0lGIGNhbiBiZSBpbXBvcnRlZCwgY29tcG9uZW50IGBiZGwtYW5pbWF0ZS1naWZgIGNhbiBoYW5kbGUgYW5pbWF0aW9uIGFuZCBjb250cm9scyBhbmltYXRpb24gcGVyIGVhY2ggZnJhbWUuXFxuJztcblxuLyoqXG4gKiBFbmNvZGVzIG11bHRpLWJ5dGUgVW5pY29kZSBzdHJpbmcgaW50byB1dGYtOCBtdWx0aXBsZSBzaW5nbGUtYnl0ZSBjaGFyYWN0ZXJzXG4gKiAoQk1QIC8gYmFzaWMgbXVsdGlsaW5ndWFsIHBsYW5lIG9ubHkpLlxuICpcbiAqIENoYXJzIGluIHJhbmdlIFUrMDA4MCAtIFUrMDdGRiBhcmUgZW5jb2RlZCBpbiAyIGNoYXJzLCBVKzA4MDAgLSBVK0ZGRkYgaW4gMyBjaGFycy5cbiAqXG4gKiBDYW4gYmUgYWNoaWV2ZWQgaW4gSmF2YVNjcmlwdCBieSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSksXG4gKiBidXQgdGhpcyBhcHByb2FjaCBtYXkgYmUgdXNlZnVsIGluIG90aGVyIGxhbmd1YWdlcy5cbiAqXG4gKiBAcGFyYW0gICB7c3RyaW5nfSB1bmljb2RlU3RyaW5nIC0gVW5pY29kZSBzdHJpbmcgdG8gYmUgZW5jb2RlZCBhcyBVVEYtOC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVURjgtZW5jb2RlZCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dGY4RW5jb2RlKHVuaWNvZGVTdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiB1bmljb2RlU3RyaW5nICE9ICdzdHJpbmcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJhbWV0ZXIg4oCYdW5pY29kZVN0cmluZ+KAmSBpcyBub3QgYSBzdHJpbmcnKTtcbiAgY29uc3QgdXRmOFN0cmluZyA9IHVuaWNvZGVTdHJpbmcucmVwbGFjZShcbiAgICAvW1xcdTAwODAtXFx1MDdmZl0vZywgIC8vIFUrMDA4MCAtIFUrMDdGRiA9PiAyIGJ5dGVzIDExMHl5eXl5LCAxMHp6enp6elxuICAgIGZ1bmN0aW9uKGMpIHtcbiAgICAgIHZhciBjYyA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4YzAgfCBjYz4+NiwgMHg4MCB8IGNjJjB4M2YpOyB9XG4gICkucmVwbGFjZShcbiAgICAvW1xcdTA4MDAtXFx1ZmZmZl0vZywgIC8vIFUrMDgwMCAtIFUrRkZGRiA9PiAzIGJ5dGVzIDExMTB4eHh4LCAxMHl5eXl5eSwgMTB6enp6enpcbiAgICBmdW5jdGlvbihjKSB7XG4gICAgICB2YXIgY2MgPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgweGUwIHwgY2M+PjEyLCAweDgwIHwgY2M+PjYmMHgzRiwgMHg4MCB8IGNjJjB4M2YpOyB9XG4gICk7XG4gIHJldHVybiB1dGY4U3RyaW5nO1xufVxuXG4vKipcbiAqIERlY29kZXMgdXRmLTggZW5jb2RlZCBzdHJpbmcgYmFjayBpbnRvIG11bHRpLWJ5dGUgVW5pY29kZSBjaGFyYWN0ZXJzLlxuICpcbiAqIENhbiBiZSBhY2hpZXZlZCBKYXZhU2NyaXB0IGJ5IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoc3RyKSksXG4gKiBidXQgdGhpcyBhcHByb2FjaCBtYXkgYmUgdXNlZnVsIGluIG90aGVyIGxhbmd1YWdlcy5cbiAqXG4gKiBAcGFyYW0gICB7c3RyaW5nfSB1dGY4U3RyaW5nIC0gVVRGLTggc3RyaW5nIHRvIGJlIGRlY29kZWQgYmFjayB0byBVbmljb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gRGVjb2RlZCBVbmljb2RlIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhEZWNvZGUodXRmOFN0cmluZykge1xuICBpZiAodHlwZW9mIHV0ZjhTdHJpbmcgIT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhcmFtZXRlciDigJh1dGY4U3RyaW5n4oCZIGlzIG5vdCBhIHN0cmluZycpO1xuICAvLyBub3RlOiBkZWNvZGUgMy1ieXRlIGNoYXJzIGZpcnN0IGFzIGRlY29kZWQgMi1ieXRlIHN0cmluZ3MgY291bGQgYXBwZWFyIHRvIGJlIDMtYnl0ZSBjaGFyIVxuICBjb25zdCB1bmljb2RlU3RyaW5nID0gdXRmOFN0cmluZy5yZXBsYWNlKFxuICAgIC9bXFx1MDBlMC1cXHUwMGVmXVtcXHUwMDgwLVxcdTAwYmZdW1xcdTAwODAtXFx1MDBiZl0vZywgIC8vIDMtYnl0ZSBjaGFyc1xuICAgIGZ1bmN0aW9uKGMpIHsgIC8vIChub3RlIHBhcmVudGhlc2VzIGZvciBwcmVjZWRlbmNlKVxuICAgICAgdmFyIGNjID0gKChjLmNoYXJDb2RlQXQoMCkmMHgwZik8PDEyKSB8ICgoYy5jaGFyQ29kZUF0KDEpJjB4M2YpPDw2KSB8ICggYy5jaGFyQ29kZUF0KDIpJjB4M2YpO1xuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2MpOyB9XG4gICkucmVwbGFjZShcbiAgICAvW1xcdTAwYzAtXFx1MDBkZl1bXFx1MDA4MC1cXHUwMGJmXS9nLCAgICAgICAgICAgICAgICAgLy8gMi1ieXRlIGNoYXJzXG4gICAgZnVuY3Rpb24oYykgeyAgLy8gKG5vdGUgcGFyZW50aGVzZXMgZm9yIHByZWNlZGVuY2UpXG4gICAgICB2YXIgY2MgPSAoYy5jaGFyQ29kZUF0KDApJjB4MWYpPDw2IHwgYy5jaGFyQ29kZUF0KDEpJjB4M2Y7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjYyk7IH1cbiAgKTtcbiAgcmV0dXJuIHVuaWNvZGVTdHJpbmc7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVBBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBa0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///IsLn\n");

/***/ }),

/***/ "MLrc":
/*!****************************************************************!*\
  !*** ./src/components/project-files/bodylight-animate-file.js ***!
  \****************************************************************/
/*! exports provided: BodylightAnimateFile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BodylightAnimateFile\", function() { return BodylightAnimateFile; });\n/* harmony import */ var _bodylight_file_strategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bodylight-file-strategy */ \"EKk8\");\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\nvar BodylightAnimateFile = /*#__PURE__*/function (_BodylightFileStrateg) {\n  _inheritsLoose(BodylightAnimateFile, _BodylightFileStrateg);\n\n  function BodylightAnimateFile() {\n    return _BodylightFileStrateg.apply(this, arguments) || this;\n  }\n\n  return BodylightAnimateFile;\n}(_bodylight_file_strategy__WEBPACK_IMPORTED_MODULE_0__[\"BodylightFileStrategy\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTUxyYy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LWFuaW1hdGUtZmlsZS5qcz8zMGJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Qm9keWxpZ2h0RmlsZVN0cmF0ZWd5fSBmcm9tICcuL2JvZHlsaWdodC1maWxlLXN0cmF0ZWd5JztcblxuZXhwb3J0IGNsYXNzIEJvZHlsaWdodEFuaW1hdGVGaWxlIGV4dGVuZHMgQm9keWxpZ2h0RmlsZVN0cmF0ZWd5IHtcblxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///MLrc\n");

/***/ }),

/***/ "SsNQ":
/*!***********************************************************!*\
  !*** ./src/components/project-files/bodylight-storage.js ***!
  \***********************************************************/
/*! exports provided: LFKEYS, BodylightStorage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LFKEYS\", function() { return LFKEYS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BodylightStorage\", function() { return BodylightStorage; });\n/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! localforage */ \"oAJy\");\n/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bodylight-struct */ \"IsLn\");\n/* harmony import */ var js_sha1__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js-sha1 */ \"YZm+\");\n/* harmony import */ var js_sha1__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(js_sha1__WEBPACK_IMPORTED_MODULE_2__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\nvar LFKEYS = {\n  FILELIST: 'BodylightEditor.Filelist',\n  FILECONTENT: 'BodylightEditor.Content',\n  FMIENTRIES: 'BodylightEditor.FMIEntries',\n  FMISRCS: 'BodylightEditor.FMISrcs',\n  NAME: 'BodylightEditor.Name',\n  EXPORTNAME: 'BodylightEditor.ExportName',\n  GH: 'Bodylight.GithubSync'\n};\n/**\n * Common utils to store large data (JS files, datasets, project files) in local storage of browser\n * `localforage` library is used - it employs indexeddb and fallsback to localstorage in older browsers\n */\n\nvar BodylightStorage = /*#__PURE__*/function () {\n  function BodylightStorage() {}\n\n  var _proto = BodylightStorage.prototype;\n\n  _proto.getFileList = function getFileList() {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FILELIST).then(function (value) {\n      //add api to the structure retrieved from storage\n      //for (let item of value) item.api = api;\n      return value;\n    }).catch(function (error) {\n      console.error('BodylightStorage getFileList:', error); //set demo files\n\n      return error;\n    });\n  };\n\n  _proto.setFileList = function setFileList(files) {\n    /*let filesclone = files.slice(0);\n    //remove api property from files structure to be stored\n    for (let fitem of filesclone) {\n      console.log('removing api property', fitem.api);\n      fitem.api = undefined;\n      console.log('removing api property', fitem.api);\n    }*/\n    var filesclone = files.map(function (_ref) {\n      var api = _ref.api,\n          keepAttrs = _objectWithoutPropertiesLoose(_ref, [\"api\"]);\n\n      return keepAttrs;\n    });\n    console.log('BodylightStorage setfilelist() files:', filesclone);\n    localforage__WEBPACK_IMPORTED_MODULE_0___default.a.setItem(LFKEYS.FILELIST, filesclone);\n  };\n\n  _proto.saveDocContent = function saveDocContent(filename, content) {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.setItem(LFKEYS.FILECONTENT + '.' + filename, content);\n  };\n\n  _proto.loadDocContent = function loadDocContent(filename) {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FILECONTENT + '.' + filename);\n  };\n\n  _proto.loadDocContentStr = /*#__PURE__*/function () {\n    var _loadDocContentStr = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(filename) {\n      var str;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FILECONTENT + '.' + filename);\n\n            case 2:\n              str = _context.sent;\n\n              if (!(typeof str === 'string')) {\n                _context.next = 5;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Object(_bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"utf8Encode\"])(str));\n\n            case 5:\n              return _context.abrupt(\"return\", str);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function loadDocContentStr(_x) {\n      return _loadDocContentStr.apply(this, arguments);\n    }\n\n    return loadDocContentStr;\n  }();\n\n  _proto.loadBlobContent = /*#__PURE__*/function () {\n    var _loadBlobContent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(filename) {\n      var str;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FILECONTENT + '.' + filename);\n\n            case 2:\n              str = _context2.sent;\n              return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                if (typeof str === 'blob') {\n                  var a = new FileReader();\n\n                  a.onloadend = function () {\n                    resolve(a.result); // it outputs a promise\n                  };\n\n                  a.readAsArrayBuffer(blob);\n                } else reject();\n              }));\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function loadBlobContent(_x2) {\n      return _loadBlobContent.apply(this, arguments);\n    }\n\n    return loadBlobContent;\n  }();\n\n  _proto.loadBlobContentBase64 = /*#__PURE__*/function () {\n    var _loadBlobContentBase = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(filename) {\n      var str;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FILECONTENT + '.' + filename);\n\n            case 2:\n              str = _context3.sent;\n              return _context3.abrupt(\"return\", new Promise(function (resolve, reject) {\n                if (typeof str === 'blob') {\n                  var a = new FileReader();\n\n                  a.onloadend = function () {\n                    var base64data = a.result;\n                    resolve(base64data.substr(base64data.indexOf(',') + 1));\n                  };\n\n                  a.readAsDataURL(blob);\n                } else reject();\n              }));\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function loadBlobContentBase64(_x3) {\n      return _loadBlobContentBase.apply(this, arguments);\n    }\n\n    return loadBlobContentBase64;\n  }();\n\n  _proto.loadDocUrl = /*#__PURE__*/function () {\n    var _loadDocUrl = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(filename) {\n      var blob;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FILECONTENT + '.' + filename);\n\n            case 2:\n              blob = _context4.sent;\n\n              if (!(blob instanceof Blob)) {\n                _context4.next = 7;\n                break;\n              }\n\n              _context4.next = 6;\n              return URL.createObjectURL(blob);\n\n            case 6:\n              return _context4.abrupt(\"return\", _context4.sent);\n\n            case 7:\n              return _context4.abrupt(\"return\", '');\n\n            case 8:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function loadDocUrl(_x4) {\n      return _loadDocUrl.apply(this, arguments);\n    }\n\n    return loadDocUrl;\n  }();\n\n  _proto.renameDoc = function renameDoc(oldfilename, newfilename) {\n    var _this = this;\n\n    localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FILECONTENT + '.' + oldfilename).then(function (value) {\n      //save value under new key\n      _this.saveDocContent(newfilename, value).then(function (result) {\n        //remove oldfilename key\n        localforage__WEBPACK_IMPORTED_MODULE_0___default.a.removeItem(LFKEYS.FILECONTENT + '.' + oldfilename);\n      });\n    });\n  };\n\n  _proto.saveBlobContent = function saveBlobContent(filename, blob) {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.setItem(LFKEYS.FILECONTENT + '.' + filename, blob);\n  };\n\n  _proto.deleteDoc = function deleteDoc(filename) {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.removeItem(LFKEYS.FILECONTENT + '.' + filename);\n  };\n\n  _proto.clearStorage = function clearStorage() {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.clear();\n  };\n\n  _proto.getBlob = function getBlob(filename) {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FILECONTENT + '.' + filename);\n  };\n\n  _proto.setFmiListEntries = function setFmiListEntries(entries) {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.setItem(LFKEYS.FMIENTRIES, entries);\n  };\n\n  _proto.setFmiListSrcs = function setFmiListSrcs(srcentries) {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.setItem(LFKEYS.FMISRCS, srcentries);\n  };\n\n  _proto.getProjectName = function getProjectName() {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.NAME).then(function (value) {\n      return value;\n    }).catch(function (error) {\n      console.log('BodylightStorage getEntries error:', error);\n      return 'project.zip';\n    });\n  };\n\n  _proto.getExportProjectName = function getExportProjectName() {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.EXPORTNAME).then(function (value) {\n      return value;\n    }).catch(function (error) {\n      console.log('BodylightStorage getEntries error:', error);\n      return 'projectexport.zip';\n    });\n  };\n\n  _proto.setProjectName = function setProjectName(name) {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.setItem(LFKEYS.NAME, name);\n  };\n\n  _proto.setExportProjectName = function setExportProjectName(name) {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.setItem(LFKEYS.EXPORTNAME, name);\n  };\n\n  _proto.getFMIListEntries = function getFMIListEntries() {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FMIENTRIES).then(function (value) {\n      return value;\n    }).catch(function (error) {\n      console.log('BodylightStorage getEntries error:', error);\n      return error;\n    });\n  };\n\n  _proto.getFMIListSrcs = function getFMIListSrcs() {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.FMISRCS).then(function (value) {\n      return value;\n    }).catch(function (error) {\n      console.log('BodylightStorage getSrcs error:', error);\n      return error;\n    });\n  };\n\n  _proto.storeghparams = function storeghparams(ghstruct) {\n    //let ghstruct = {org: org, repo: repo, dir: dir};\n    var ghstructstr = JSON.stringify(ghstruct);\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.setItem(LFKEYS.GH, ghstructstr);\n  };\n\n  _proto.restoreghparams = function restoreghparams() {\n    return localforage__WEBPACK_IMPORTED_MODULE_0___default.a.getItem(LFKEYS.GH).then(function (value) {\n      return JSON.parse(value);\n    });\n  };\n\n  return BodylightStorage;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3NOUS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LXN0b3JhZ2UuanM/NGFjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9jYWxGb3JhZ2UgZnJvbSAnbG9jYWxmb3JhZ2UnO1xuaW1wb3J0ICcuL2JvZHlsaWdodC1zdHJ1Y3QnO1xuaW1wb3J0IHt1dGY4RW5jb2RlfSBmcm9tICcuL2JvZHlsaWdodC1zdHJ1Y3QnO1xuaW1wb3J0IHNoYTEgZnJvbSAnanMtc2hhMSc7XG5cblxuZXhwb3J0IGNvbnN0IExGS0VZUyA9IHtcbiAgRklMRUxJU1Q6ICdCb2R5bGlnaHRFZGl0b3IuRmlsZWxpc3QnLFxuICBGSUxFQ09OVEVOVDogJ0JvZHlsaWdodEVkaXRvci5Db250ZW50JyxcbiAgRk1JRU5UUklFUzogJ0JvZHlsaWdodEVkaXRvci5GTUlFbnRyaWVzJyxcbiAgRk1JU1JDUzogJ0JvZHlsaWdodEVkaXRvci5GTUlTcmNzJyxcbiAgTkFNRTogJ0JvZHlsaWdodEVkaXRvci5OYW1lJyxcbiAgRVhQT1JUTkFNRTogJ0JvZHlsaWdodEVkaXRvci5FeHBvcnROYW1lJyxcbiAgR0g6ICdCb2R5bGlnaHQuR2l0aHViU3luYydcbn07XG5cbi8qKlxuICogQ29tbW9uIHV0aWxzIHRvIHN0b3JlIGxhcmdlIGRhdGEgKEpTIGZpbGVzLCBkYXRhc2V0cywgcHJvamVjdCBmaWxlcykgaW4gbG9jYWwgc3RvcmFnZSBvZiBicm93c2VyXG4gKiBgbG9jYWxmb3JhZ2VgIGxpYnJhcnkgaXMgdXNlZCAtIGl0IGVtcGxveXMgaW5kZXhlZGRiIGFuZCBmYWxsc2JhY2sgdG8gbG9jYWxzdG9yYWdlIGluIG9sZGVyIGJyb3dzZXJzXG4gKi9cbmV4cG9ydCBjbGFzcyBCb2R5bGlnaHRTdG9yYWdlIHtcbiAgZ2V0RmlsZUxpc3QoKSB7XG4gICAgcmV0dXJuIGxvY2FsRm9yYWdlLmdldEl0ZW0oTEZLRVlTLkZJTEVMSVNUKVxuICAgICAgLnRoZW4odmFsdWU9PntcbiAgICAgICAgLy9hZGQgYXBpIHRvIHRoZSBzdHJ1Y3R1cmUgcmV0cmlldmVkIGZyb20gc3RvcmFnZVxuICAgICAgICAvL2ZvciAobGV0IGl0ZW0gb2YgdmFsdWUpIGl0ZW0uYXBpID0gYXBpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yPT57XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0JvZHlsaWdodFN0b3JhZ2UgZ2V0RmlsZUxpc3Q6JywgZXJyb3IpO1xuICAgICAgICAvL3NldCBkZW1vIGZpbGVzXG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgIH0pO1xuICB9XG5cbiAgc2V0RmlsZUxpc3QoZmlsZXMpIHtcbiAgICAvKmxldCBmaWxlc2Nsb25lID0gZmlsZXMuc2xpY2UoMCk7XG4gICAgLy9yZW1vdmUgYXBpIHByb3BlcnR5IGZyb20gZmlsZXMgc3RydWN0dXJlIHRvIGJlIHN0b3JlZFxuICAgIGZvciAobGV0IGZpdGVtIG9mIGZpbGVzY2xvbmUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZW1vdmluZyBhcGkgcHJvcGVydHknLCBmaXRlbS5hcGkpO1xuICAgICAgZml0ZW0uYXBpID0gdW5kZWZpbmVkO1xuICAgICAgY29uc29sZS5sb2coJ3JlbW92aW5nIGFwaSBwcm9wZXJ0eScsIGZpdGVtLmFwaSk7XG4gICAgfSovXG4gICAgY29uc3QgZmlsZXNjbG9uZSA9IGZpbGVzLm1hcCgoe2FwaSwgLi4ua2VlcEF0dHJzfSkgPT4ga2VlcEF0dHJzKTtcbiAgICBjb25zb2xlLmxvZygnQm9keWxpZ2h0U3RvcmFnZSBzZXRmaWxlbGlzdCgpIGZpbGVzOicsIGZpbGVzY2xvbmUpO1xuICAgIGxvY2FsRm9yYWdlLnNldEl0ZW0oTEZLRVlTLkZJTEVMSVNULCBmaWxlc2Nsb25lKTtcbiAgfVxuXG4gIHNhdmVEb2NDb250ZW50KGZpbGVuYW1lLCBjb250ZW50KSB7XG4gICAgcmV0dXJuIGxvY2FsRm9yYWdlLnNldEl0ZW0oTEZLRVlTLkZJTEVDT05URU5UICsgJy4nICsgZmlsZW5hbWUsIGNvbnRlbnQpO1xuICB9XG5cbiAgbG9hZERvY0NvbnRlbnQoZmlsZW5hbWUpIHtcbiAgICByZXR1cm4gbG9jYWxGb3JhZ2UuZ2V0SXRlbShMRktFWVMuRklMRUNPTlRFTlQgKyAnLicgKyBmaWxlbmFtZSk7XG4gIH1cblxuICBhc3luYyBsb2FkRG9jQ29udGVudFN0cihmaWxlbmFtZSkge1xuICAgIGxldCBzdHIgPSBhd2FpdCBsb2NhbEZvcmFnZS5nZXRJdGVtKExGS0VZUy5GSUxFQ09OVEVOVCArICcuJyArIGZpbGVuYW1lKTtcbiAgICAvL2NvbnNvbGUubG9nKCdkb2MgY29udGVudCBzdHIgZm9yICcsIGZpbGVuYW1lLCAnOicsIHN0cik7XG4gICAgaWYgKHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnKSByZXR1cm4gdXRmOEVuY29kZShzdHIpO1xuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBhc3luYyBsb2FkQmxvYkNvbnRlbnQoZmlsZW5hbWUpIHtcbiAgICBsZXQgc3RyID0gYXdhaXQgbG9jYWxGb3JhZ2UuZ2V0SXRlbShMRktFWVMuRklMRUNPTlRFTlQgKyAnLicgKyBmaWxlbmFtZSk7XG4gICAgLy9jb25zb2xlLmxvZygnZG9jIGNvbnRlbnQgc3RyIGZvciAnLCBmaWxlbmFtZSwgJzonLCBzdHIpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+IHtcbiAgICAgIGlmICh0eXBlb2Ygc3RyID09PSAnYmxvYicpIHtcbiAgICAgICAgbGV0IGEgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICBhLm9ubG9hZGVuZCA9ICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGEucmVzdWx0KTsvLyBpdCBvdXRwdXRzIGEgcHJvbWlzZVxuICAgICAgICB9O1xuICAgICAgICBhLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICAgICAgfSBlbHNlIHJlamVjdCgpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIGxvYWRCbG9iQ29udGVudEJhc2U2NChmaWxlbmFtZSkge1xuICAgIGxldCBzdHIgPSBhd2FpdCBsb2NhbEZvcmFnZS5nZXRJdGVtKExGS0VZUy5GSUxFQ09OVEVOVCArICcuJyArIGZpbGVuYW1lKTtcbiAgICAvL2NvbnNvbGUubG9nKCdkb2MgY29udGVudCBzdHIgZm9yICcsIGZpbGVuYW1lLCAnOicsIHN0cik7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT4ge1xuICAgICAgaWYgKHR5cGVvZiBzdHIgPT09ICdibG9iJykge1xuICAgICAgICBsZXQgYSA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIGEub25sb2FkZW5kID0gKCkgPT4ge1xuICAgICAgICAgIGxldCBiYXNlNjRkYXRhID0gYS5yZXN1bHQ7XG4gICAgICAgICAgcmVzb2x2ZShiYXNlNjRkYXRhLnN1YnN0cihiYXNlNjRkYXRhLmluZGV4T2YoJywnKSArIDEpKTtcbiAgICAgICAgfTtcbiAgICAgICAgYS5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgfSBlbHNlIHJlamVjdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgbG9hZERvY1VybChmaWxlbmFtZSkge1xuICAgIGxldCBibG9iID0gYXdhaXQgbG9jYWxGb3JhZ2UuZ2V0SXRlbShMRktFWVMuRklMRUNPTlRFTlQgKyAnLicgKyBmaWxlbmFtZSk7XG4gICAgLy9jb25zb2xlLmxvZygnbG9hZGRvY3VybCgpIGZvciAnLCBmaWxlbmFtZSwgJzonLCBibG9iKTtcbiAgICAvL2lmICh0eXBlb2Ygc3RyID09PSAnc3RyaW5nJykgcmV0dXJuIHV0ZjhFbmNvZGUoc3RyKTtcbiAgICBpZiAoYmxvYiBpbnN0YW5jZW9mIEJsb2IpIHJldHVybiBhd2FpdCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHJlbmFtZURvYyhvbGRmaWxlbmFtZSwgbmV3ZmlsZW5hbWUpIHtcbiAgICBsb2NhbEZvcmFnZS5nZXRJdGVtKExGS0VZUy5GSUxFQ09OVEVOVCArICcuJyArIG9sZGZpbGVuYW1lKVxuICAgICAgLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAvL3NhdmUgdmFsdWUgdW5kZXIgbmV3IGtleVxuICAgICAgICB0aGlzLnNhdmVEb2NDb250ZW50KG5ld2ZpbGVuYW1lLCB2YWx1ZSlcbiAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgLy9yZW1vdmUgb2xkZmlsZW5hbWUga2V5XG4gICAgICAgICAgICBsb2NhbEZvcmFnZS5yZW1vdmVJdGVtKExGS0VZUy5GSUxFQ09OVEVOVCArICcuJyArIG9sZGZpbGVuYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgc2F2ZUJsb2JDb250ZW50KGZpbGVuYW1lLCBibG9iKSB7XG4gICAgcmV0dXJuIGxvY2FsRm9yYWdlLnNldEl0ZW0oTEZLRVlTLkZJTEVDT05URU5UICsgJy4nICsgZmlsZW5hbWUsIGJsb2IpO1xuICB9XG5cbiAgZGVsZXRlRG9jKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIGxvY2FsRm9yYWdlLnJlbW92ZUl0ZW0oTEZLRVlTLkZJTEVDT05URU5UICsgJy4nICsgZmlsZW5hbWUpO1xuICB9XG5cbiAgY2xlYXJTdG9yYWdlKCkge1xuICAgIHJldHVybiBsb2NhbEZvcmFnZS5jbGVhcigpO1xuICB9XG5cbiAgZ2V0QmxvYihmaWxlbmFtZSkge1xuICAgIHJldHVybiBsb2NhbEZvcmFnZS5nZXRJdGVtKExGS0VZUy5GSUxFQ09OVEVOVCArICcuJyArIGZpbGVuYW1lKTtcbiAgfVxuICBzZXRGbWlMaXN0RW50cmllcyhlbnRyaWVzKSB7XG4gICAgcmV0dXJuIGxvY2FsRm9yYWdlLnNldEl0ZW0oTEZLRVlTLkZNSUVOVFJJRVMsIGVudHJpZXMpO1xuICB9XG4gIHNldEZtaUxpc3RTcmNzKHNyY2VudHJpZXMpIHtcbiAgICByZXR1cm4gbG9jYWxGb3JhZ2Uuc2V0SXRlbShMRktFWVMuRk1JU1JDUywgc3JjZW50cmllcyk7XG4gIH1cblxuICBnZXRQcm9qZWN0TmFtZSgpIHtcbiAgICByZXR1cm4gbG9jYWxGb3JhZ2UuZ2V0SXRlbShMRktFWVMuTkFNRSlcbiAgICAgIC50aGVuKHZhbHVlID0+IHtyZXR1cm4gdmFsdWU7fSlcbiAgICAgIC5jYXRjaChlcnJvcj0+e1xuICAgICAgICBjb25zb2xlLmxvZygnQm9keWxpZ2h0U3RvcmFnZSBnZXRFbnRyaWVzIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuICdwcm9qZWN0LnppcCc7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldEV4cG9ydFByb2plY3ROYW1lKCkge1xuICAgIHJldHVybiBsb2NhbEZvcmFnZS5nZXRJdGVtKExGS0VZUy5FWFBPUlROQU1FKVxuICAgICAgLnRoZW4odmFsdWUgPT4ge3JldHVybiB2YWx1ZTt9KVxuICAgICAgLmNhdGNoKGVycm9yPT57XG4gICAgICAgIGNvbnNvbGUubG9nKCdCb2R5bGlnaHRTdG9yYWdlIGdldEVudHJpZXMgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gJ3Byb2plY3RleHBvcnQuemlwJztcbiAgICAgIH0pO1xuICB9XG5cbiAgc2V0UHJvamVjdE5hbWUobmFtZSkge1xuICAgIHJldHVybiBsb2NhbEZvcmFnZS5zZXRJdGVtKExGS0VZUy5OQU1FLCBuYW1lKTtcbiAgfVxuXG4gIHNldEV4cG9ydFByb2plY3ROYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gbG9jYWxGb3JhZ2Uuc2V0SXRlbShMRktFWVMuRVhQT1JUTkFNRSwgbmFtZSk7XG4gIH1cblxuICBnZXRGTUlMaXN0RW50cmllcygpIHtcbiAgICByZXR1cm4gbG9jYWxGb3JhZ2UuZ2V0SXRlbShMRktFWVMuRk1JRU5UUklFUylcbiAgICAgIC50aGVuKHZhbHVlPT4ge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yPT57XG4gICAgICAgIGNvbnNvbGUubG9nKCdCb2R5bGlnaHRTdG9yYWdlIGdldEVudHJpZXMgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9KTtcbiAgfVxuICBnZXRGTUlMaXN0U3JjcygpIHtcbiAgICByZXR1cm4gbG9jYWxGb3JhZ2UuZ2V0SXRlbShMRktFWVMuRk1JU1JDUylcbiAgICAgIC50aGVuKHZhbHVlPT4ge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yPT57XG4gICAgICAgIGNvbnNvbGUubG9nKCdCb2R5bGlnaHRTdG9yYWdlIGdldFNyY3MgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9KTtcbiAgfVxuXG4gIHN0b3JlZ2hwYXJhbXMoZ2hzdHJ1Y3QpIHtcbiAgICAvL2xldCBnaHN0cnVjdCA9IHtvcmc6IG9yZywgcmVwbzogcmVwbywgZGlyOiBkaXJ9O1xuICAgIGNvbnN0IGdoc3RydWN0c3RyID0gSlNPTi5zdHJpbmdpZnkoZ2hzdHJ1Y3QpO1xuICAgIHJldHVybiBsb2NhbEZvcmFnZS5zZXRJdGVtKExGS0VZUy5HSCwgZ2hzdHJ1Y3RzdHIpO1xuICB9XG5cbiAgcmVzdG9yZWdocGFyYW1zKCkge1xuICAgIHJldHVybiBsb2NhbEZvcmFnZS5nZXRJdGVtKExGS0VZUy5HSClcbiAgICAgIC50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgfSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTNCQTtBQTZCQTtBQUNBO0FBQ0E7QUEvQkE7QUFpQ0E7QUFDQTtBQUNBO0FBbkNBO0FBQUE7QUFvQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQXJDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUEyQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBNUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQXdEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQXpEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUF1RUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBeEVBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUErRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFGQTtBQTRGQTtBQUNBO0FBQ0E7QUE5RkE7QUFnR0E7QUFDQTtBQUNBO0FBbEdBO0FBb0dBO0FBQ0E7QUFDQTtBQXRHQTtBQXdHQTtBQUNBO0FBQ0E7QUExR0E7QUEyR0E7QUFDQTtBQUNBO0FBN0dBO0FBOEdBO0FBQ0E7QUFDQTtBQWhIQTtBQWtIQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBekhBO0FBMkhBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsSUE7QUFvSUE7QUFDQTtBQUNBO0FBdElBO0FBd0lBO0FBQ0E7QUFDQTtBQTFJQTtBQTRJQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckpBO0FBc0pBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvSkE7QUFpS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJLQTtBQXVLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBNUtBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///SsNQ\n");

/***/ }),

/***/ "components/project":
/*!***********************************!*\
  !*** ./src/components/project.js ***!
  \***********************************/
/*! exports provided: Project */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Project\", function() { return Project; });\n/* harmony import */ var _editorapi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editorapi */ \"6Y9Y\");\n/* harmony import */ var aurelia_event_aggregator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aurelia-event-aggregator */ \"aurelia-event-aggregator\");\n/* harmony import */ var aurelia_framework__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jszip */ \"xOOu\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./project-files/bodylight-struct */ \"IsLn\");\n/* harmony import */ var _project_files_bodylight_file_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./project-files/bodylight-file-factory */ \"+kGf\");\n/* harmony import */ var _project_files_bodylight_file__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./project-files/bodylight-file */ \"xanf\");\n/* harmony import */ var _githubsync_GithubSync__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./githubsync/GithubSync */ \"Cys2\");\nvar _dec, _class, _temp;\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n//import * as localForage from 'localforage';\n\n\n\n\n\n\n\n\n //import {LFKEYS} from './project-files/bodylight-storage';\n\nvar Project = (_dec = Object(aurelia_framework__WEBPACK_IMPORTED_MODULE_2__[\"inject\"])(_editorapi__WEBPACK_IMPORTED_MODULE_0__[\"Editorapi\"], aurelia_event_aggregator__WEBPACK_IMPORTED_MODULE_1__[\"EventAggregator\"], _githubsync_GithubSync__WEBPACK_IMPORTED_MODULE_7__[\"GithubSync\"]), _dec(_class = (_temp = /*#__PURE__*/function () {\n  function Project(api, ea, gs) {\n    var _this = this;\n\n    this.showButtons = false;\n    this.showgithub = false;\n    this.uploaddialog = false;\n    this.currentfile = null;\n    this.askFile = false;\n    this.firstmdfile = false;\n    this.api = api;\n    this.ea = ea;\n\n    this.handleContentUpdate = function (e) {\n      //content update is called by editor - catch this event and save changes\n      _this.saveChanges();\n    };\n\n    this.gs = gs; //this.bs = bs;\n  }\n  /**\n   * Callback when the component is attached,\n   * get file list from the local storage\n   */\n\n\n  var _proto = Project.prototype;\n\n  _proto.attached = function attached() {\n    var _this2 = this;\n\n    this.STATUS = _githubsync_GithubSync__WEBPACK_IMPORTED_MODULE_7__[\"STATUS\"]; //get filelist from storage\n\n    this.api.bs.getFileList().then(function (value) {\n      //adds every file from storage to the visible list\n      console.log('Project attached() filelist:', value);\n\n      if (value) {\n        //convert array of struct to array of objects\n        _this2.files = [];\n        _this2.api.projectfiles = _this2.files;\n\n        for (var _iterator = _createForOfIteratorHelperLoose(value), _step; !(_step = _iterator()).done;) {\n          var fileitem = _step.value;\n          var bodylightfile = new _project_files_bodylight_file__WEBPACK_IMPORTED_MODULE_6__[\"BodylightFile\"](fileitem.name, fileitem.type, _this2.api);\n\n          _this2.files.push(bodylightfile); //first MD file - read content and put it into editor\n\n\n          console.log('adding file from local storage', fileitem);\n\n          if (!_this2.firstmdfile && fileitem.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MDFILE.value) {\n            console.log('opening first md file', fileitem);\n            _this2.firstmdfile = true;\n\n            _this2.open(bodylightfile);\n          } else if (fileitem.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MODELFILE.value || fileitem.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].ADOBEANIMATE.value) {\n            console.log('opening model/adobe JS file'); //this.api.insertScriptFile(bodylightfile); //MOVED to plugin fallback\n          }\n\n          _this2.updateadobeentries();\n        }\n      } else {\n        _this2.files = []; //DEMOFILES;\n\n        _this2.api.projectfiles = _this2.files;\n\n        _this2.updatelf();\n      }\n    }).catch(function (error) {\n      //set demo files\n      console.log('error', error);\n      _this2.files = []; //DEMOFILES;\n\n      _this2.api.projectfiles = _this2.files;\n    }); //if the file dialog change some properties of the file - update it\n\n    this.ea.subscribe('file-dialog', function (fileitems) {\n      //assign type in fileitems[0].value will be name of the FTYPE in string\n      _this2.currentfile.type = _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"][fileitems[0].value];\n    });\n    document.getElementById('editorref').addEventListener('contentupdate', this.handleContentUpdate); //this.api = api;\n    //this.strategymap = createStrategyMap(this.api);\n\n    this.api.getFmiEntries();\n    this.api.initProjectName();\n  }\n  /**\n   * Callback when the component is detached, closed e.g. by browser,\n   * stores file list and content of the files internally\n   */\n  ;\n\n  _proto.detached = function detached() {\n    var editorel = document.getElementById('editorref');\n    if (editorel) editorel.removeEventListener('contentupdate', this.handleContentUpdate); //this.ea.unsubscribe\n  }\n  /**\n   * stores files in localforage\n   */\n  ;\n\n  _proto.updatelf = function updatelf() {\n    this.api.bs.setFileList(this.files); //update list of adobe files\n\n    this.updateadobeentries();\n  };\n\n  _proto.updateadobeentries = function updateadobeentries() {\n    //console.log('project update adobe entries:',this.files);\n    this.api.adobeentries = this.files.filter(function (x) {\n      return x.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].ADOBEANIMATE.value;\n    });\n    console.log('project update adobe entries:', this.api.adobeentries);\n  }\n  /**\n   * Opens file content in editor,\n   * if it is binary file, it opens just property dialog\n   * @param file\n   */\n  ;\n\n  _proto.open = function open(file) {\n    //close file dialog\n    this.api.askFile = false; //no action needed when opening same MD file\n\n    if (this.currentfile === file && this.currentfile.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MDFILE.value) return; //save-content of previous file and open content of selected file\n\n    if (this.currentfile) this.currentfile.deactivate(this.strategymap); //switch to file\n\n    this.currentfile = file; //activate it\n\n    this.currentfile.activate(); //this.strategymap);\n  }\n  /**\n   * Delete file and it's content from project\n   * @param file\n   */\n  ;\n\n  _proto.delete = function _delete(file) {\n    var _this3 = this;\n\n    this.api.askFile = false;\n    this.api.bs.deleteDoc(file.name).then(function (result) {\n      var i = _this3.files.indexOf(file);\n\n      _this3.files.splice(i, 1);\n\n      _this3.updatelf(); //delete if in fmi entries\n\n\n      _this3.api.deleteFmiEntry(file);\n    });\n  }\n  /**\n   * Creates new empty document file\n   */\n  ;\n\n  _proto.create = function create() {\n    this.api.askFile = false; //get file name - unique\n\n    var filename = prompt('Web simulator document file name (*.md):', 'index.md');\n\n    if (filename) {\n      if (!filename.endsWith('.md')) filename = filename.concat('.md'); //solve name clash\n\n      var nameclash = this.files.find(function (element) {\n        return element.name === filename;\n      });\n\n      while (nameclash) {\n        filename = this.add1toname(filename); // eslint-disable-next-line no-loop-func\n\n        nameclash = this.files.find(function (element) {\n          return element.name === filename;\n        });\n      } //make some demo content\n\n\n      var content = _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"DEMOCONTENT\"]; //create file object\n\n      /*let blob = new Blob([content], {\n        type: 'text/plain'\n      });*/\n\n      var newfile = new _project_files_bodylight_file__WEBPACK_IMPORTED_MODULE_6__[\"BodylightFile\"](filename, _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MDFILE, this.api); //BodylightFileFactory.createBodylightFile(filename, blob, this.api);//new BodylightFile(filename, this.api);//{name: filename, type: FTYPE.MDFILE};\n      //push to file array - update localstorage\n\n      this.files.push(newfile);\n      this.updatelf(); //if currentfile is some other file - then save content an deactivate\n\n      if (this.currentfile) {\n        if (!this.currentfile.api) this.currentfile.api = this.api;\n        this.currentfile.deactivate(); //this.strategymap);\n      } //activate new file\n\n\n      this.currentfile = newfile;\n      if (!this.currentfile.api) this.currentfile.api = this.api;\n      this.currentfile.activate(content);\n    }\n  };\n\n  _proto.saveChanges = function saveChanges() {\n    if (this.currentfile) this.currentfile.saveChanges(); //this.strategymap);\n  };\n\n  _proto.add1toname = function add1toname(name) {\n    var endswith08 = /[0-8]$/g;\n    var endswith09 = /9$/g;\n    var names = name.split('.', 2);\n\n    if (endswith08.test(names[0])) {\n      //increment last character\n      var l = names[0].length;\n      var n = parseInt(names[0][l - 1], 10) + 1;\n\n      var _newname = names[0].substr(0, l - 1) + n + '.' + names[1];\n\n      return _newname;\n    }\n\n    if (endswith09.test(names[0])) {\n      //9 becomes 10\n      var _newname2 = names[0].substr(0, names[0].length - 1) + '10.' + names[1];\n\n      return _newname2;\n    }\n\n    var newname = names[0] + '1.' + names[1];\n    return newname;\n  };\n\n  _proto.toggleMenu = function toggleMenu() {\n    this.showButtons = !this.showButtons;\n  } //opens upload dialog with button/area to dragndrop file\n  ;\n\n  _proto.upload = function upload() {\n    this.uploaddialog = !this.uploaddialog;\n  } //handles after file is loaded\n  ;\n\n  _proto.handleFileLoad = function handleFileLoad(event) {\n    console.log('handlefileload event:', event); //let data = event.target.result;\n    //console.log('handlefile data:', data);\n    //window.editor.editor.setValue(data);\n    //window.editor.editor.focus();\n  };\n\n  _proto.drag = function drag(event) {\n    this.isDragging = true;\n    event.preventDefault();\n  };\n\n  _proto.drop = function drop(event) {\n    this.isDragging = false;\n    event.preventDefault();\n    this.dragNdrop(event);\n  } //starts file loading\n  ;\n\n  _proto.dragNdrop = function dragNdrop(event) {\n    var reader = new FileReader(); //sets global variable to this instance\n    //window.editor = this;\n\n    reader.onload = this.handleFileLoad;\n    var files = event.target.files || event.dataTransfer.files; //console.log(files);\n\n    var filename = files[0].name;\n\n    if (filename.endsWith('.zip')) {\n      //extract zip and save blob of extracted files\n      this.extractZipFile(files);\n    } else {\n      // add other file type into project - save blob into localstorage, etc.\n      var newfile = _project_files_bodylight_file_factory__WEBPACK_IMPORTED_MODULE_5__[\"BodylightFileFactory\"].createBodylightFile(filename, files[0], this.api, true, false);\n      this.files.push(newfile);\n      this.updatelf();\n      this.uploaddialog = false;\n    }\n  }\n  /**\n   * extracts ZIP file produced by FMU compiler - contains JS with webassembly and fmu, and modeldescription.xml\n   * @param files array of files - files[0] should contain the zip file\n   */\n  ;\n\n  _proto.extractZipFile = function extractZipFile(files) {\n    var _this4 = this;\n\n    jszip__WEBPACK_IMPORTED_MODULE_3___default.a.loadAsync(files[0]).then(function (zip) {\n      _this4.api.newFmiEntry();\n\n      zip.forEach(function (relativePath, zipEntry) {\n        var entryname = zipEntry.name;\n        zipEntry.async('blob').then(function (blob) {\n          //let newfile= new BodylightFile()\n          var newfile = new _project_files_bodylight_file__WEBPACK_IMPORTED_MODULE_6__[\"BodylightFile\"](entryname, entryname.endsWith('.xml') ? _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].DESCRIPTIONFILE : _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MODELFILE, _this4.api, blob);\n\n          if (entryname.endsWith('.xml')) {\n            //parse modeldescription.file\n            _this4.api.setFmiEntryDescription(blob);\n          } else {\n            //fill src of model\n            _this4.api.setFmiEntrySrc(entryname); //inserts script into DOM - for previewing\n            //this.api.insertScriptFile(newfile, blob); //MOVED to plugin fallback\n\n          } //BodylightFileFactory.createBodylightFile(entryname, blob, this.api,false,false);\n\n\n          _this4.files.push(newfile);\n\n          _this4.updatelf();\n\n          _this4.uploaddialog = false;\n        });\n      });\n    });\n  };\n\n  _proto.extractProjectZipFile = function extractProjectZipFile(files) {\n    var _this5 = this;\n\n    jszip__WEBPACK_IMPORTED_MODULE_3___default.a.loadAsync(files[0]).then(function (zip) {\n      zip.forEach(function (relativePath, zipEntry) {\n        var entryname = zipEntry.name;\n\n        if (entryname === 'bodylight-project.json') {\n          zipEntry.async('text').then(function (value) {\n            _this5.files = [];\n            var myproject = JSON.parse(value); //project files needs to be instantiated\n\n            for (var _iterator2 = _createForOfIteratorHelperLoose(myproject.files), _step2; !(_step2 = _iterator2()).done;) {\n              var fileitem = _step2.value;\n\n              _this5.files.push(new _project_files_bodylight_file__WEBPACK_IMPORTED_MODULE_6__[\"BodylightFile\"](fileitem.name, fileitem.type, _this5.api));\n            } //update api.projectfiles\n\n\n            _this5.api.projectfiles = _this5.files;\n\n            _this5.updatelf(); //fmientries stored in project file\n\n\n            _this5.api.fmientries = myproject.fmientries;\n            _this5.api.fmientriessrc = myproject.fmientriessrc;\n            _this5.api.filename = myproject.projectname;\n            _this5.api.exportfilename = myproject.exportprojectname;\n          });\n        } else {\n          zipEntry.async('blob').then(function (blob) {\n            //let newfile= new BodylightFile()\n            //will store content in blob\n            var newfile = new _project_files_bodylight_file__WEBPACK_IMPORTED_MODULE_6__[\"BodylightFile\"](entryname, entryname.endsWith('.xml') ? _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].DESCRIPTIONFILE : _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MODELFILE, _this5.api, blob); //BodylightFileFactory.createBodylightFile(entryname, blob, this.api,false,false);\n            //this.files.push(newfile);\n            //this.updatelf();\n          });\n        }\n      });\n    });\n  }\n  /**\n   * Creates new empty project\n   */\n  ;\n\n  _proto.newProject = function newProject() {\n    var _this6 = this;\n\n    this.showButtons = false;\n\n    if (confirm('Create new empty project?')) {\n      this.api.bs.clearStorage().then(function () {\n        _this6.files = [];\n\n        _this6.updatelf();\n      });\n    }\n  }\n  /**\n   * Saves project as ZIP file\n   */\n  ;\n\n  _proto.save = function save() {\n    var filename = prompt('Enter file name of web simulator project(*.zip):', this.api.filename);\n    this.showButtons = false;\n    if (!filename) return;\n    if (!filename.endsWith('.zip')) filename = filename.concat('.zip');\n    this.api.setProjectName(filename);\n    var zip = new jszip__WEBPACK_IMPORTED_MODULE_3___default.a();\n    var filesclone = this.files.map(function (_ref) {\n      var api = _ref.api,\n          bloburl = _ref.bloburl,\n          keepAttrs = _objectWithoutPropertiesLoose(_ref, [\"api\", \"bloburl\"]);\n\n      return keepAttrs;\n    });\n    zip.file('bodylight-project.json', JSON.stringify({\n      files: filesclone,\n      fmientries: this.api.fmientries,\n      fmientriessrc: this.api.fmientriessrc,\n      projectname: this.api.filename,\n      exportprojectname: this.api.exportfilename\n    }));\n\n    for (var _iterator3 = _createForOfIteratorHelperLoose(this.files), _step3; !(_step3 = _iterator3()).done;) {\n      var file = _step3.value;\n      //'blob' or 'string' content are zipped as entries\n      zip.file(file.name, file.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MDFILE.value ? this.api.bs.loadDocContentStr(file.name) : this.api.bs.loadDocContent(file.name), {\n        binary: true\n      }); //zip.file(file.name, this.api.bs.loadDocContent(file.name), {binary: true});\n    }\n\n    zip.generateAsync({\n      type: 'blob'\n    }).then(function (blob) {\n      saveAs(blob, filename);\n    });\n  }\n  /**\n   * Uploads ZIP as project file\n   */\n  ;\n\n  _proto.load = function load(event) {\n    this.showButtons = false;\n    var reader = new FileReader(); //sets global variable to this instance\n    //window.editor = this;\n\n    reader.onload = this.handleFileLoad;\n    var files = event.target.files || event.dataTransfer.files;\n    console.log(files);\n    var filename = files[0].name;\n\n    if (filename.endsWith('.zip')) {\n      //extract zip and save blob of extracted files\n      this.extractProjectZipFile(files);\n    }\n  }\n  /**\n   * exports as HTML and related files, which can be published in web server or served locally\n   */\n  ;\n\n  _proto.exportAsHtml = function exportAsHtml() {\n    var _this7 = this;\n\n    var projectname = prompt('Enter file name for web simulator export to HTML(packed in *.zip):', this.api.exportfilename);\n    this.showButtons = false;\n    if (!projectname) return;\n    var filename = projectname;\n    if (!projectname.endsWith('.zip')) filename = projectname.concat('.zip');\n    this.api.setExportProjectName(filename);\n    var firstmdfile = this.files.filter(function (item) {\n      return item.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MDFILE.value;\n    })[0];\n    var indexhtmlcontent = \"<!DOCTYPE html>\\n<html>\\n<head>\\n    <meta charset=\\\"utf-8\\\">\\n    <title>\" + projectname + \"</title>\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n    <script src=\\\"bodylight.bundle.js\\\" data-main=\\\"aurelia-bootstrapper\\\"></script>\\n</head>\\n<body aurelia-app=\\\"webcomponents\\\">\\n    <bdl-markdown-book2 index=\\\"\" + firstmdfile.name + \"\\\" summary=\\\"summary.md\\\">\\n<img src=\\\"Bodylight_loading2_amber.gif\\\" height=\\\"140\\\" width=\\\"85\\\" style=\\\"display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);\\\"/>\\n    </bdl-markdown-book2>\\n</body>\\n</html>\\n\"; //let indexhtml = new BodylightFile('index.html', FTYPE.MDFILE, this.api, indexhtmlblob);\n    //htmlfiles.push(indexhtml);\n    //TODO push most updated bundle - best local - rather then from CDN in case of offline use\n\n    var bundleurl = 'bodylight.bundle.js';\n    fetch(bundleurl).then(function (res) {\n      return res.blob();\n    }).then(function (bodylightblob) {\n      //let bodylightjs = new BodylightFile('bodylight.bundle.js', FTYPE.OTHERJS, this.api, bodylightblob);\n      //htmlfiles.push(bodylightjs);\n      //now save as zip\n      var zip = new jszip__WEBPACK_IMPORTED_MODULE_3___default.a(); //zip.file('bodylight-project.json', JSON.stringify(this.files));\n      //adds index.html with generated content, if do not exist in project\n\n      if (!_this7.files.find(function (file) {\n        return file.name === ' index.html';\n      })) zip.file('index.html', indexhtmlcontent); //adds bodylight.bundle.js\n\n      zip.file('bodylight.bundle.js', bodylightblob); //adds all project files\n\n      for (var _iterator4 = _createForOfIteratorHelperLoose(_this7.files), _step4; !(_step4 = _iterator4()).done;) {\n        var _file = _step4.value;\n        //'blob' or 'string' content are zipped as entries\n        zip.file(_file.name, _file.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MDFILE.value ? _this7.api.bs.loadDocContentStr(_file.name) : _this7.api.bs.loadDocContent(_file.name), {\n          binary: true\n        }); //zip.file(file.name, this.api.bs.loadDocContent(file.name), {binary: true});\n      } //create default summary if it is not part of the project already\n\n\n      if (!_this7.files.find(function (file) {\n        return file.name === 'summary.md';\n      })) {\n        var summarymdcontent = ''; //loop over mdfiles only, each mdfile will be an entry\n\n        for (var _iterator5 = _createForOfIteratorHelperLoose(_this7.files.filter(function (item) {\n          return item.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MDFILE.value;\n        })), _step5; !(_step5 = _iterator5()).done;) {\n          var file = _step5.value;\n          summarymdcontent += '  * [' + file.name + '](#' + file.name + ')\\n';\n        } //create blob from generated content\n\n\n        var sblob = new Blob([summarymdcontent], {\n          type: 'text/plain;charset=utf-8'\n        }); //store file and blob in local storage\n\n        var sbodylightfile = new _project_files_bodylight_file__WEBPACK_IMPORTED_MODULE_6__[\"BodylightFile\"]('summary.md', _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MDFILE, _this7.api, sblob); //and add it into project 'files' structure\n\n        _this7.files.push(sbodylightfile); //zip the summary file\n\n\n        zip.file('summary.md', summarymdcontent);\n\n        _this7.updatelf();\n      } //add loading animated gif\n\n\n      var loadinggifurl = 'Bodylight_loading2_amber.gif';\n      fetch(loadinggifurl).then(function (res) {\n        return res.blob();\n      }).then(function (loadingblob) {\n        zip.file(loadinggifurl, loadingblob); //and generates ZIP and save it\n      }).catch(function (error) {\n        console.error('Project exportAsHtml() error:', error); //and generates ZIP and save it\n      }).finally(function () {\n        zip.generateAsync({\n          type: 'blob'\n        }).then(function (blob) {\n          saveAs(blob, filename);\n        });\n      });\n    });\n  };\n\n  _proto.rename = function rename(file) {\n    var oldfilename = file.name;\n    var filename = prompt('Rename file name:', file.name); //empty filename - no change\n\n    if (!filename) return; //add md extension if ommited for mdfile\n\n    if (file.type.value === _project_files_bodylight_struct__WEBPACK_IMPORTED_MODULE_4__[\"FTYPE\"].MDFILE.value) {\n      if (!filename.endsWith('.md')) filename = filename.concat('.md');\n    } //store in local structure\n\n\n    file.name = filename; //update storage\n\n    this.updatelf(); //rename in storage\n\n    this.api.bs.renameDoc(oldfilename, filename);\n  };\n\n  _proto.syncGithub1 = function syncGithub1() {\n    var _this8 = this;\n\n    this.showgithub = !this.showgithub;\n    this.showButtons = false; //let githuburl = prompt('')\n    //TODO restore from bs\n\n    this.api.bs.restoreghparams().then(function (ghparams) {\n      _this8.githuborg = ghparams.org;\n      _this8.githubrepo = ghparams.repo;\n      _this8.githubpath = ghparams.path;\n      _this8.githubtoken = ghparams.token;\n    });\n  };\n\n  _proto.compareGithub = function compareGithub() {\n    this.gs.compareDir(this.files, this.githuborg, this.githubrepo, this.githubpath, this.api.bs);\n    this.api.bs.storeghparams({\n      org: this.githuborg,\n      repo: this.githubrepo,\n      path: this.githubpath,\n      token: this.githubtoken\n    });\n  };\n\n  _proto.pullFromGithub = function pullFromGithub() {\n    alert('note yet implemented');\n  };\n\n  _proto.pushToGithub = function pushToGithub() {\n    alert('note yet implemented');\n  };\n\n  _proto.syncUploadGithub = function syncUploadGithub(file) {\n    var a = prompt('The file will be uploaded to GITHUB and replaced. Confirm commit message or cancel.', 'UPDATE ' + file.name);\n    if (!a) return;\n    this.gs.uploadFile(file, this.githuborg, this.githubrepo, this.githubpath, this.githubtoken, this.api.bs, a);\n  };\n\n  _proto.syncDownloadGithub = function syncDownloadGithub(file) {\n    var a = confirm('Are you sure? The file will be replaced from downloaded copy from GITHUB');\n    if (!a) return;\n    this.gs.downloadFile(file, this.githuborg, this.githubrepo, this.githubpath, this.api.bs);\n  };\n\n  return Project;\n}(), _temp)) || _class);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9wcm9qZWN0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcHJvamVjdC5qcz8wMmFhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vaW1wb3J0ICogYXMgbG9jYWxGb3JhZ2UgZnJvbSAnbG9jYWxmb3JhZ2UnO1xuaW1wb3J0IHtFZGl0b3JhcGl9IGZyb20gJy4vZWRpdG9yYXBpJztcbmltcG9ydCB7RXZlbnRBZ2dyZWdhdG9yfSBmcm9tICdhdXJlbGlhLWV2ZW50LWFnZ3JlZ2F0b3InO1xuaW1wb3J0IHtpbmplY3R9IGZyb20gJ2F1cmVsaWEtZnJhbWV3b3JrJztcbmltcG9ydCBKU1ppcCBmcm9tICdqc3ppcCc7XG5pbXBvcnQgJy4vcHJvamVjdC1maWxlcy9ib2R5bGlnaHQtc3RydWN0JztcbmltcG9ydCB7Qm9keWxpZ2h0RmlsZUZhY3Rvcnl9IGZyb20gJy4vcHJvamVjdC1maWxlcy9ib2R5bGlnaHQtZmlsZS1mYWN0b3J5JztcbmltcG9ydCB7Qm9keWxpZ2h0RmlsZX0gZnJvbSAnLi9wcm9qZWN0LWZpbGVzL2JvZHlsaWdodC1maWxlJztcbmltcG9ydCB7RlRZUEUsIERFTU9DT05URU5UfSBmcm9tICcuL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LXN0cnVjdCc7XG5pbXBvcnQge0dpdGh1YlN5bmMsIFNUQVRVU30gZnJvbSAnLi9naXRodWJzeW5jL0dpdGh1YlN5bmMnO1xuLy9pbXBvcnQge0xGS0VZU30gZnJvbSAnLi9wcm9qZWN0LWZpbGVzL2JvZHlsaWdodC1zdG9yYWdlJztcblxuQGluamVjdChFZGl0b3JhcGksIEV2ZW50QWdncmVnYXRvciwgR2l0aHViU3luYylcbmV4cG9ydCBjbGFzcyBQcm9qZWN0IHtcbiAgc2hvd0J1dHRvbnMgPSBmYWxzZTtcbiAgc2hvd2dpdGh1YiA9IGZhbHNlO1xuICB1cGxvYWRkaWFsb2cgPSBmYWxzZTtcbiAgY3VycmVudGZpbGU9bnVsbDtcbiAgYXNrRmlsZT1mYWxzZTtcbiAgZmlyc3RtZGZpbGU9ZmFsc2U7XG4gIGNvbnN0cnVjdG9yKGFwaSwgZWEsIGdzKSB7XG4gICAgdGhpcy5hcGkgPSBhcGk7XG4gICAgdGhpcy5lYSA9IGVhO1xuICAgIHRoaXMuaGFuZGxlQ29udGVudFVwZGF0ZSA9IGUgPT4ge1xuICAgICAgLy9jb250ZW50IHVwZGF0ZSBpcyBjYWxsZWQgYnkgZWRpdG9yIC0gY2F0Y2ggdGhpcyBldmVudCBhbmQgc2F2ZSBjaGFuZ2VzXG4gICAgICB0aGlzLnNhdmVDaGFuZ2VzKCk7XG4gICAgfTtcbiAgICB0aGlzLmdzID0gZ3M7XG4gICAgLy90aGlzLmJzID0gYnM7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgd2hlbiB0aGUgY29tcG9uZW50IGlzIGF0dGFjaGVkLFxuICAgKiBnZXQgZmlsZSBsaXN0IGZyb20gdGhlIGxvY2FsIHN0b3JhZ2VcbiAgICovXG4gIGF0dGFjaGVkKCkge1xuICAgIHRoaXMuU1RBVFVTID0gU1RBVFVTO1xuICAgIC8vZ2V0IGZpbGVsaXN0IGZyb20gc3RvcmFnZVxuICAgIHRoaXMuYXBpLmJzLmdldEZpbGVMaXN0KClcbiAgICAgIC50aGVuKHZhbHVlPT57XG4gICAgICAgIC8vYWRkcyBldmVyeSBmaWxlIGZyb20gc3RvcmFnZSB0byB0aGUgdmlzaWJsZSBsaXN0XG4gICAgICAgIGNvbnNvbGUubG9nKCdQcm9qZWN0IGF0dGFjaGVkKCkgZmlsZWxpc3Q6JywgdmFsdWUpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAvL2NvbnZlcnQgYXJyYXkgb2Ygc3RydWN0IHRvIGFycmF5IG9mIG9iamVjdHNcbiAgICAgICAgICB0aGlzLmZpbGVzID0gW107XG4gICAgICAgICAgdGhpcy5hcGkucHJvamVjdGZpbGVzID0gdGhpcy5maWxlcztcbiAgICAgICAgICBmb3IgKGxldCBmaWxlaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgbGV0IGJvZHlsaWdodGZpbGUgPSBuZXcgQm9keWxpZ2h0RmlsZShmaWxlaXRlbS5uYW1lLCBmaWxlaXRlbS50eXBlLCB0aGlzLmFwaSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlsZXMucHVzaChib2R5bGlnaHRmaWxlKTtcbiAgICAgICAgICAgIC8vZmlyc3QgTUQgZmlsZSAtIHJlYWQgY29udGVudCBhbmQgcHV0IGl0IGludG8gZWRpdG9yXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYWRkaW5nIGZpbGUgZnJvbSBsb2NhbCBzdG9yYWdlJywgZmlsZWl0ZW0pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZpcnN0bWRmaWxlICYmIGZpbGVpdGVtLnR5cGUudmFsdWUgPT09IEZUWVBFLk1ERklMRS52YWx1ZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb3BlbmluZyBmaXJzdCBtZCBmaWxlJywgZmlsZWl0ZW0pO1xuICAgICAgICAgICAgICB0aGlzLmZpcnN0bWRmaWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5vcGVuKGJvZHlsaWdodGZpbGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICggZmlsZWl0ZW0udHlwZS52YWx1ZSA9PT0gRlRZUEUuTU9ERUxGSUxFLnZhbHVlIHx8IGZpbGVpdGVtLnR5cGUudmFsdWUgPT09IEZUWVBFLkFET0JFQU5JTUFURS52YWx1ZSApICB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvcGVuaW5nIG1vZGVsL2Fkb2JlIEpTIGZpbGUnKTtcbiAgICAgICAgICAgICAgLy90aGlzLmFwaS5pbnNlcnRTY3JpcHRGaWxlKGJvZHlsaWdodGZpbGUpOyAvL01PVkVEIHRvIHBsdWdpbiBmYWxsYmFja1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVhZG9iZWVudHJpZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5maWxlcyA9IFtdOy8vREVNT0ZJTEVTO1xuICAgICAgICAgIHRoaXMuYXBpLnByb2plY3RmaWxlcyA9IHRoaXMuZmlsZXM7XG4gICAgICAgICAgdGhpcy51cGRhdGVsZigpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yPT57XG4gICAgICAgIC8vc2V0IGRlbW8gZmlsZXNcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB0aGlzLmZpbGVzID0gW107Ly9ERU1PRklMRVM7XG4gICAgICAgIHRoaXMuYXBpLnByb2plY3RmaWxlcyA9IHRoaXMuZmlsZXM7XG4gICAgICB9KTtcbiAgICAvL2lmIHRoZSBmaWxlIGRpYWxvZyBjaGFuZ2Ugc29tZSBwcm9wZXJ0aWVzIG9mIHRoZSBmaWxlIC0gdXBkYXRlIGl0XG4gICAgdGhpcy5lYS5zdWJzY3JpYmUoJ2ZpbGUtZGlhbG9nJywgZmlsZWl0ZW1zID0+e1xuICAgICAgLy9hc3NpZ24gdHlwZSBpbiBmaWxlaXRlbXNbMF0udmFsdWUgd2lsbCBiZSBuYW1lIG9mIHRoZSBGVFlQRSBpbiBzdHJpbmdcbiAgICAgIHRoaXMuY3VycmVudGZpbGUudHlwZSA9IEZUWVBFW2ZpbGVpdGVtc1swXS52YWx1ZV07XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRvcnJlZicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRlbnR1cGRhdGUnLCB0aGlzLmhhbmRsZUNvbnRlbnRVcGRhdGUpO1xuICAgIC8vdGhpcy5hcGkgPSBhcGk7XG4gICAgLy90aGlzLnN0cmF0ZWd5bWFwID0gY3JlYXRlU3RyYXRlZ3lNYXAodGhpcy5hcGkpO1xuICAgIHRoaXMuYXBpLmdldEZtaUVudHJpZXMoKTtcbiAgICB0aGlzLmFwaS5pbml0UHJvamVjdE5hbWUoKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBkZXRhY2hlZCwgY2xvc2VkIGUuZy4gYnkgYnJvd3NlcixcbiAgICogc3RvcmVzIGZpbGUgbGlzdCBhbmQgY29udGVudCBvZiB0aGUgZmlsZXMgaW50ZXJuYWxseVxuICAgKi9cbiAgZGV0YWNoZWQoKSB7XG4gICAgY29uc3QgZWRpdG9yZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdG9ycmVmJyk7XG4gICAgaWYgKGVkaXRvcmVsKSBlZGl0b3JlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZW50dXBkYXRlJywgdGhpcy5oYW5kbGVDb250ZW50VXBkYXRlKTtcbiAgICAvL3RoaXMuZWEudW5zdWJzY3JpYmVcbiAgfVxuXG4gIC8qKlxuICAgKiBzdG9yZXMgZmlsZXMgaW4gbG9jYWxmb3JhZ2VcbiAgICovXG4gIHVwZGF0ZWxmKCkge1xuICAgIHRoaXMuYXBpLmJzLnNldEZpbGVMaXN0KHRoaXMuZmlsZXMpO1xuICAgIC8vdXBkYXRlIGxpc3Qgb2YgYWRvYmUgZmlsZXNcbiAgICB0aGlzLnVwZGF0ZWFkb2JlZW50cmllcygpO1xuICB9XG5cbiAgdXBkYXRlYWRvYmVlbnRyaWVzKCkge1xuICAgIC8vY29uc29sZS5sb2coJ3Byb2plY3QgdXBkYXRlIGFkb2JlIGVudHJpZXM6Jyx0aGlzLmZpbGVzKTtcbiAgICB0aGlzLmFwaS5hZG9iZWVudHJpZXMgPSB0aGlzLmZpbGVzLmZpbHRlcih4ID0+IHgudHlwZS52YWx1ZSA9PT0gRlRZUEUuQURPQkVBTklNQVRFLnZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygncHJvamVjdCB1cGRhdGUgYWRvYmUgZW50cmllczonLCB0aGlzLmFwaS5hZG9iZWVudHJpZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIGZpbGUgY29udGVudCBpbiBlZGl0b3IsXG4gICAqIGlmIGl0IGlzIGJpbmFyeSBmaWxlLCBpdCBvcGVucyBqdXN0IHByb3BlcnR5IGRpYWxvZ1xuICAgKiBAcGFyYW0gZmlsZVxuICAgKi9cbiAgb3BlbihmaWxlKSB7XG4gICAgLy9jbG9zZSBmaWxlIGRpYWxvZ1xuICAgIHRoaXMuYXBpLmFza0ZpbGUgPSBmYWxzZTtcbiAgICAvL25vIGFjdGlvbiBuZWVkZWQgd2hlbiBvcGVuaW5nIHNhbWUgTUQgZmlsZVxuICAgIGlmICh0aGlzLmN1cnJlbnRmaWxlID09PSBmaWxlICYmIHRoaXMuY3VycmVudGZpbGUudHlwZS52YWx1ZSA9PT0gRlRZUEUuTURGSUxFLnZhbHVlKSByZXR1cm47XG4gICAgLy9zYXZlLWNvbnRlbnQgb2YgcHJldmlvdXMgZmlsZSBhbmQgb3BlbiBjb250ZW50IG9mIHNlbGVjdGVkIGZpbGVcbiAgICBpZiAodGhpcy5jdXJyZW50ZmlsZSkgdGhpcy5jdXJyZW50ZmlsZS5kZWFjdGl2YXRlKHRoaXMuc3RyYXRlZ3ltYXApO1xuICAgIC8vc3dpdGNoIHRvIGZpbGVcbiAgICB0aGlzLmN1cnJlbnRmaWxlID0gZmlsZTtcbiAgICAvL2FjdGl2YXRlIGl0XG4gICAgdGhpcy5jdXJyZW50ZmlsZS5hY3RpdmF0ZSgpOy8vdGhpcy5zdHJhdGVneW1hcCk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGZpbGUgYW5kIGl0J3MgY29udGVudCBmcm9tIHByb2plY3RcbiAgICogQHBhcmFtIGZpbGVcbiAgICovXG4gIGRlbGV0ZShmaWxlKSB7XG4gICAgdGhpcy5hcGkuYXNrRmlsZSA9IGZhbHNlO1xuICAgIHRoaXMuYXBpLmJzLmRlbGV0ZURvYyhmaWxlLm5hbWUpXG4gICAgICAudGhlbihyZXN1bHQ9PntcbiAgICAgICAgbGV0IGkgPSB0aGlzLmZpbGVzLmluZGV4T2YoZmlsZSk7XG4gICAgICAgIHRoaXMuZmlsZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB0aGlzLnVwZGF0ZWxmKCk7XG4gICAgICAgIC8vZGVsZXRlIGlmIGluIGZtaSBlbnRyaWVzXG4gICAgICAgIHRoaXMuYXBpLmRlbGV0ZUZtaUVudHJ5KGZpbGUpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBuZXcgZW1wdHkgZG9jdW1lbnQgZmlsZVxuICAgKi9cbiAgY3JlYXRlKCkge1xuICAgIHRoaXMuYXBpLmFza0ZpbGUgPSBmYWxzZTtcbiAgICAvL2dldCBmaWxlIG5hbWUgLSB1bmlxdWVcbiAgICBsZXQgZmlsZW5hbWUgPSBwcm9tcHQoJ1dlYiBzaW11bGF0b3IgZG9jdW1lbnQgZmlsZSBuYW1lICgqLm1kKTonLCAnaW5kZXgubWQnKTtcbiAgICBpZiAoZmlsZW5hbWUpIHtcbiAgICAgIGlmICghZmlsZW5hbWUuZW5kc1dpdGgoJy5tZCcpKSBmaWxlbmFtZSA9IGZpbGVuYW1lLmNvbmNhdCgnLm1kJyk7XG4gICAgICAvL3NvbHZlIG5hbWUgY2xhc2hcbiAgICAgIGxldCBuYW1lY2xhc2ggPSB0aGlzLmZpbGVzLmZpbmQoZWxlbWVudCA9PiBlbGVtZW50Lm5hbWUgPT09IGZpbGVuYW1lKTtcbiAgICAgIHdoaWxlIChuYW1lY2xhc2gpIHtcbiAgICAgICAgZmlsZW5hbWUgPSB0aGlzLmFkZDF0b25hbWUoZmlsZW5hbWUpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9vcC1mdW5jXG4gICAgICAgIG5hbWVjbGFzaCA9IHRoaXMuZmlsZXMuZmluZChlbGVtZW50ID0+IGVsZW1lbnQubmFtZSA9PT0gZmlsZW5hbWUpO1xuICAgICAgfVxuICAgICAgLy9tYWtlIHNvbWUgZGVtbyBjb250ZW50XG4gICAgICBsZXQgY29udGVudCA9IERFTU9DT05URU5UO1xuICAgICAgLy9jcmVhdGUgZmlsZSBvYmplY3RcbiAgICAgIC8qbGV0IGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0sIHtcbiAgICAgICAgdHlwZTogJ3RleHQvcGxhaW4nXG4gICAgICB9KTsqL1xuICAgICAgbGV0IG5ld2ZpbGUgPSBuZXcgQm9keWxpZ2h0RmlsZShmaWxlbmFtZSwgRlRZUEUuTURGSUxFLCB0aGlzLmFwaSk7XG4gICAgICAvL0JvZHlsaWdodEZpbGVGYWN0b3J5LmNyZWF0ZUJvZHlsaWdodEZpbGUoZmlsZW5hbWUsIGJsb2IsIHRoaXMuYXBpKTsvL25ldyBCb2R5bGlnaHRGaWxlKGZpbGVuYW1lLCB0aGlzLmFwaSk7Ly97bmFtZTogZmlsZW5hbWUsIHR5cGU6IEZUWVBFLk1ERklMRX07XG5cbiAgICAgIC8vcHVzaCB0byBmaWxlIGFycmF5IC0gdXBkYXRlIGxvY2Fsc3RvcmFnZVxuICAgICAgdGhpcy5maWxlcy5wdXNoKG5ld2ZpbGUpO1xuICAgICAgdGhpcy51cGRhdGVsZigpO1xuXG4gICAgICAvL2lmIGN1cnJlbnRmaWxlIGlzIHNvbWUgb3RoZXIgZmlsZSAtIHRoZW4gc2F2ZSBjb250ZW50IGFuIGRlYWN0aXZhdGVcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRmaWxlKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50ZmlsZS5hcGkpIHRoaXMuY3VycmVudGZpbGUuYXBpID0gdGhpcy5hcGk7XG4gICAgICAgIHRoaXMuY3VycmVudGZpbGUuZGVhY3RpdmF0ZSgpOy8vdGhpcy5zdHJhdGVneW1hcCk7XG4gICAgICB9XG4gICAgICAvL2FjdGl2YXRlIG5ldyBmaWxlXG4gICAgICB0aGlzLmN1cnJlbnRmaWxlID0gbmV3ZmlsZTtcbiAgICAgIGlmICghdGhpcy5jdXJyZW50ZmlsZS5hcGkpIHRoaXMuY3VycmVudGZpbGUuYXBpID0gdGhpcy5hcGk7XG4gICAgICB0aGlzLmN1cnJlbnRmaWxlLmFjdGl2YXRlKGNvbnRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHNhdmVDaGFuZ2VzKCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRmaWxlKSB0aGlzLmN1cnJlbnRmaWxlLnNhdmVDaGFuZ2VzKCk7Ly90aGlzLnN0cmF0ZWd5bWFwKTtcbiAgfVxuXG4gIGFkZDF0b25hbWUobmFtZSkge1xuICAgIGxldCBlbmRzd2l0aDA4ID0gL1swLThdJC9nO1xuICAgIGxldCBlbmRzd2l0aDA5ID0gLzkkL2c7XG4gICAgbGV0IG5hbWVzID0gbmFtZS5zcGxpdCgnLicsIDIpO1xuICAgIGlmIChlbmRzd2l0aDA4LnRlc3QobmFtZXNbMF0pKSB7XG4gICAgICAvL2luY3JlbWVudCBsYXN0IGNoYXJhY3RlclxuICAgICAgbGV0IGwgPSBuYW1lc1swXS5sZW5ndGg7XG4gICAgICBsZXQgbiA9IHBhcnNlSW50KG5hbWVzWzBdW2wgLSAxXSwgMTApICsgMTtcbiAgICAgIGxldCBuZXduYW1lID0gbmFtZXNbMF0uc3Vic3RyKDAsIGwgLSAxKSArIG4gKyAnLicgKyBuYW1lc1sxXTtcbiAgICAgIHJldHVybiBuZXduYW1lO1xuICAgIH1cbiAgICBpZiAoZW5kc3dpdGgwOS50ZXN0KG5hbWVzWzBdKSkge1xuICAgICAgLy85IGJlY29tZXMgMTBcbiAgICAgIGxldCBuZXduYW1lID0gbmFtZXNbMF0uc3Vic3RyKDAsIG5hbWVzWzBdLmxlbmd0aCAtIDEpICsgJzEwLicgKyBuYW1lc1sxXTtcbiAgICAgIHJldHVybiBuZXduYW1lO1xuICAgIH1cbiAgICBsZXQgbmV3bmFtZSA9IG5hbWVzWzBdICsgJzEuJyArIG5hbWVzWzFdO1xuICAgIHJldHVybiBuZXduYW1lO1xuICB9XG5cblxuICB0b2dnbGVNZW51KCkge1xuICAgIHRoaXMuc2hvd0J1dHRvbnMgPSAhIHRoaXMuc2hvd0J1dHRvbnM7XG4gIH1cblxuICAvL29wZW5zIHVwbG9hZCBkaWFsb2cgd2l0aCBidXR0b24vYXJlYSB0byBkcmFnbmRyb3AgZmlsZVxuICB1cGxvYWQoKSB7XG4gICAgdGhpcy51cGxvYWRkaWFsb2cgPSAhIHRoaXMudXBsb2FkZGlhbG9nO1xuICB9XG5cbiAgLy9oYW5kbGVzIGFmdGVyIGZpbGUgaXMgbG9hZGVkXG4gIGhhbmRsZUZpbGVMb2FkKGV2ZW50KSB7XG4gICAgY29uc29sZS5sb2coJ2hhbmRsZWZpbGVsb2FkIGV2ZW50OicsIGV2ZW50KTtcbiAgICAvL2xldCBkYXRhID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAvL2NvbnNvbGUubG9nKCdoYW5kbGVmaWxlIGRhdGE6JywgZGF0YSk7XG4gICAgLy93aW5kb3cuZWRpdG9yLmVkaXRvci5zZXRWYWx1ZShkYXRhKTtcbiAgICAvL3dpbmRvdy5lZGl0b3IuZWRpdG9yLmZvY3VzKCk7XG4gIH1cblxuICBkcmFnKGV2ZW50KSB7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cblxuICBkcm9wKGV2ZW50KSB7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmRyYWdOZHJvcChldmVudCk7XG4gIH1cblxuICAvL3N0YXJ0cyBmaWxlIGxvYWRpbmdcbiAgZHJhZ05kcm9wKGV2ZW50KSB7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAvL3NldHMgZ2xvYmFsIHZhcmlhYmxlIHRvIHRoaXMgaW5zdGFuY2VcbiAgICAvL3dpbmRvdy5lZGl0b3IgPSB0aGlzO1xuICAgIHJlYWRlci5vbmxvYWQgPSB0aGlzLmhhbmRsZUZpbGVMb2FkO1xuICAgIGxldCBmaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlcyB8fCBldmVudC5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgLy9jb25zb2xlLmxvZyhmaWxlcyk7XG4gICAgbGV0IGZpbGVuYW1lID0gZmlsZXNbMF0ubmFtZTtcbiAgICBpZiAoZmlsZW5hbWUuZW5kc1dpdGgoJy56aXAnKSkge1xuICAgICAgLy9leHRyYWN0IHppcCBhbmQgc2F2ZSBibG9iIG9mIGV4dHJhY3RlZCBmaWxlc1xuICAgICAgdGhpcy5leHRyYWN0WmlwRmlsZShmaWxlcyk7XG4gICAgfSBlbHNlIHsvLyBhZGQgb3RoZXIgZmlsZSB0eXBlIGludG8gcHJvamVjdCAtIHNhdmUgYmxvYiBpbnRvIGxvY2Fsc3RvcmFnZSwgZXRjLlxuICAgICAgbGV0IG5ld2ZpbGUgPSBCb2R5bGlnaHRGaWxlRmFjdG9yeS5jcmVhdGVCb2R5bGlnaHRGaWxlKGZpbGVuYW1lLCBmaWxlc1swXSwgdGhpcy5hcGksIHRydWUsIGZhbHNlKTtcbiAgICAgIHRoaXMuZmlsZXMucHVzaChuZXdmaWxlKTtcbiAgICAgIHRoaXMudXBkYXRlbGYoKTtcbiAgICAgIHRoaXMudXBsb2FkZGlhbG9nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGV4dHJhY3RzIFpJUCBmaWxlIHByb2R1Y2VkIGJ5IEZNVSBjb21waWxlciAtIGNvbnRhaW5zIEpTIHdpdGggd2ViYXNzZW1ibHkgYW5kIGZtdSwgYW5kIG1vZGVsZGVzY3JpcHRpb24ueG1sXG4gICAqIEBwYXJhbSBmaWxlcyBhcnJheSBvZiBmaWxlcyAtIGZpbGVzWzBdIHNob3VsZCBjb250YWluIHRoZSB6aXAgZmlsZVxuICAgKi9cbiAgZXh0cmFjdFppcEZpbGUoZmlsZXMpIHtcbiAgICBKU1ppcC5sb2FkQXN5bmMoZmlsZXNbMF0pXG4gICAgICAudGhlbih6aXAgPT4ge1xuICAgICAgICB0aGlzLmFwaS5uZXdGbWlFbnRyeSgpO1xuICAgICAgICB6aXAuZm9yRWFjaCgocmVsYXRpdmVQYXRoLCB6aXBFbnRyeSkgPT4ge1xuICAgICAgICAgIGxldCBlbnRyeW5hbWUgPSB6aXBFbnRyeS5uYW1lO1xuICAgICAgICAgIHppcEVudHJ5LmFzeW5jKCdibG9iJykudGhlbihibG9iID0+IHtcbiAgICAgICAgICAgIC8vbGV0IG5ld2ZpbGU9IG5ldyBCb2R5bGlnaHRGaWxlKClcbiAgICAgICAgICAgIGxldCBuZXdmaWxlID0gbmV3IEJvZHlsaWdodEZpbGUoZW50cnluYW1lLCAoZW50cnluYW1lLmVuZHNXaXRoKCcueG1sJykpID8gRlRZUEUuREVTQ1JJUFRJT05GSUxFIDogRlRZUEUuTU9ERUxGSUxFLCB0aGlzLmFwaSwgYmxvYik7XG4gICAgICAgICAgICBpZiAoZW50cnluYW1lLmVuZHNXaXRoKCcueG1sJykpIHtcbiAgICAgICAgICAgICAgLy9wYXJzZSBtb2RlbGRlc2NyaXB0aW9uLmZpbGVcbiAgICAgICAgICAgICAgdGhpcy5hcGkuc2V0Rm1pRW50cnlEZXNjcmlwdGlvbihibG9iKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vZmlsbCBzcmMgb2YgbW9kZWxcbiAgICAgICAgICAgICAgdGhpcy5hcGkuc2V0Rm1pRW50cnlTcmMoZW50cnluYW1lKTtcbiAgICAgICAgICAgICAgLy9pbnNlcnRzIHNjcmlwdCBpbnRvIERPTSAtIGZvciBwcmV2aWV3aW5nXG4gICAgICAgICAgICAgIC8vdGhpcy5hcGkuaW5zZXJ0U2NyaXB0RmlsZShuZXdmaWxlLCBibG9iKTsgLy9NT1ZFRCB0byBwbHVnaW4gZmFsbGJhY2tcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vQm9keWxpZ2h0RmlsZUZhY3RvcnkuY3JlYXRlQm9keWxpZ2h0RmlsZShlbnRyeW5hbWUsIGJsb2IsIHRoaXMuYXBpLGZhbHNlLGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZmlsZXMucHVzaChuZXdmaWxlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlbGYoKTtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkZGlhbG9nID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBleHRyYWN0UHJvamVjdFppcEZpbGUoZmlsZXMpIHtcbiAgICBKU1ppcC5sb2FkQXN5bmMoZmlsZXNbMF0pXG4gICAgICAudGhlbih6aXAgPT4ge1xuICAgICAgICB6aXAuZm9yRWFjaCgocmVsYXRpdmVQYXRoLCB6aXBFbnRyeSkgPT4ge1xuICAgICAgICAgIGxldCBlbnRyeW5hbWUgPSB6aXBFbnRyeS5uYW1lO1xuICAgICAgICAgIGlmIChlbnRyeW5hbWUgPT09ICdib2R5bGlnaHQtcHJvamVjdC5qc29uJykge1xuICAgICAgICAgICAgemlwRW50cnkuYXN5bmMoJ3RleHQnKS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5maWxlcyA9IFtdO1xuICAgICAgICAgICAgICBsZXQgbXlwcm9qZWN0ID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIC8vcHJvamVjdCBmaWxlcyBuZWVkcyB0byBiZSBpbnN0YW50aWF0ZWRcbiAgICAgICAgICAgICAgZm9yIChsZXQgZmlsZWl0ZW0gb2YgbXlwcm9qZWN0LmZpbGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWxlcy5wdXNoKG5ldyBCb2R5bGlnaHRGaWxlKGZpbGVpdGVtLm5hbWUsIGZpbGVpdGVtLnR5cGUsIHRoaXMuYXBpKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy91cGRhdGUgYXBpLnByb2plY3RmaWxlc1xuICAgICAgICAgICAgICB0aGlzLmFwaS5wcm9qZWN0ZmlsZXMgPSB0aGlzLmZpbGVzO1xuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZWxmKCk7XG4gICAgICAgICAgICAgIC8vZm1pZW50cmllcyBzdG9yZWQgaW4gcHJvamVjdCBmaWxlXG4gICAgICAgICAgICAgIHRoaXMuYXBpLmZtaWVudHJpZXMgPSBteXByb2plY3QuZm1pZW50cmllcztcbiAgICAgICAgICAgICAgdGhpcy5hcGkuZm1pZW50cmllc3NyYyA9IG15cHJvamVjdC5mbWllbnRyaWVzc3JjO1xuICAgICAgICAgICAgICB0aGlzLmFwaS5maWxlbmFtZSA9IG15cHJvamVjdC5wcm9qZWN0bmFtZTtcbiAgICAgICAgICAgICAgdGhpcy5hcGkuZXhwb3J0ZmlsZW5hbWUgPSBteXByb2plY3QuZXhwb3J0cHJvamVjdG5hbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgemlwRW50cnkuYXN5bmMoJ2Jsb2InKS50aGVuKGJsb2IgPT4ge1xuICAgICAgICAgICAgICAvL2xldCBuZXdmaWxlPSBuZXcgQm9keWxpZ2h0RmlsZSgpXG4gICAgICAgICAgICAgIC8vd2lsbCBzdG9yZSBjb250ZW50IGluIGJsb2JcbiAgICAgICAgICAgICAgbGV0IG5ld2ZpbGUgPSBuZXcgQm9keWxpZ2h0RmlsZShlbnRyeW5hbWUsIChlbnRyeW5hbWUuZW5kc1dpdGgoJy54bWwnKSkgPyBGVFlQRS5ERVNDUklQVElPTkZJTEUgOiBGVFlQRS5NT0RFTEZJTEUsIHRoaXMuYXBpLCBibG9iKTtcbiAgICAgICAgICAgICAgLy9Cb2R5bGlnaHRGaWxlRmFjdG9yeS5jcmVhdGVCb2R5bGlnaHRGaWxlKGVudHJ5bmFtZSwgYmxvYiwgdGhpcy5hcGksZmFsc2UsZmFsc2UpO1xuICAgICAgICAgICAgICAvL3RoaXMuZmlsZXMucHVzaChuZXdmaWxlKTtcbiAgICAgICAgICAgICAgLy90aGlzLnVwZGF0ZWxmKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBuZXcgZW1wdHkgcHJvamVjdFxuICAgKi9cbiAgbmV3UHJvamVjdCgpIHtcbiAgICB0aGlzLnNob3dCdXR0b25zID0gZmFsc2U7XG4gICAgaWYgKGNvbmZpcm0oJ0NyZWF0ZSBuZXcgZW1wdHkgcHJvamVjdD8nKSkge1xuICAgICAgdGhpcy5hcGkuYnMuY2xlYXJTdG9yYWdlKClcbiAgICAgICAgLnRoZW4oKCk9PntcbiAgICAgICAgICB0aGlzLmZpbGVzID0gW107XG4gICAgICAgICAgdGhpcy51cGRhdGVsZigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2F2ZXMgcHJvamVjdCBhcyBaSVAgZmlsZVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICBsZXQgZmlsZW5hbWUgPSBwcm9tcHQoJ0VudGVyIGZpbGUgbmFtZSBvZiB3ZWIgc2ltdWxhdG9yIHByb2plY3QoKi56aXApOicsIHRoaXMuYXBpLmZpbGVuYW1lKTtcbiAgICB0aGlzLnNob3dCdXR0b25zID0gZmFsc2U7XG4gICAgaWYgKCFmaWxlbmFtZSkgcmV0dXJuO1xuICAgIGlmICghZmlsZW5hbWUuZW5kc1dpdGgoJy56aXAnKSkgZmlsZW5hbWUgPSBmaWxlbmFtZS5jb25jYXQoJy56aXAnKTtcbiAgICB0aGlzLmFwaS5zZXRQcm9qZWN0TmFtZShmaWxlbmFtZSk7XG4gICAgbGV0IHppcCA9IG5ldyBKU1ppcCgpO1xuICAgIGNvbnN0IGZpbGVzY2xvbmUgPSB0aGlzLmZpbGVzLm1hcCgoe2FwaSwgYmxvYnVybCwgLi4ua2VlcEF0dHJzfSkgPT4ga2VlcEF0dHJzKTtcbiAgICB6aXAuZmlsZSgnYm9keWxpZ2h0LXByb2plY3QuanNvbicsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGZpbGVzOiBmaWxlc2Nsb25lLFxuICAgICAgZm1pZW50cmllczogdGhpcy5hcGkuZm1pZW50cmllcyxcbiAgICAgIGZtaWVudHJpZXNzcmM6IHRoaXMuYXBpLmZtaWVudHJpZXNzcmMsXG4gICAgICBwcm9qZWN0bmFtZTogdGhpcy5hcGkuZmlsZW5hbWUsXG4gICAgICBleHBvcnRwcm9qZWN0bmFtZTogdGhpcy5hcGkuZXhwb3J0ZmlsZW5hbWVcbiAgICB9KSk7XG4gICAgZm9yIChsZXQgZmlsZSBvZiB0aGlzLmZpbGVzKSB7XG4gICAgICAvLydibG9iJyBvciAnc3RyaW5nJyBjb250ZW50IGFyZSB6aXBwZWQgYXMgZW50cmllc1xuICAgICAgemlwLmZpbGUoZmlsZS5uYW1lLCAoZmlsZS50eXBlLnZhbHVlID09PSBGVFlQRS5NREZJTEUudmFsdWUpXG4gICAgICAgID8gdGhpcy5hcGkuYnMubG9hZERvY0NvbnRlbnRTdHIoZmlsZS5uYW1lKVxuICAgICAgICA6IHRoaXMuYXBpLmJzLmxvYWREb2NDb250ZW50KGZpbGUubmFtZSksIHtiaW5hcnk6IHRydWV9ICk7XG4gICAgICAvL3ppcC5maWxlKGZpbGUubmFtZSwgdGhpcy5hcGkuYnMubG9hZERvY0NvbnRlbnQoZmlsZS5uYW1lKSwge2JpbmFyeTogdHJ1ZX0pO1xuICAgIH1cbiAgICB6aXAuZ2VuZXJhdGVBc3luYyh7dHlwZTogJ2Jsb2InfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgICAgc2F2ZUFzKGJsb2IsIGZpbGVuYW1lKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwbG9hZHMgWklQIGFzIHByb2plY3QgZmlsZVxuICAgKi9cbiAgbG9hZChldmVudCkge1xuICAgIHRoaXMuc2hvd0J1dHRvbnMgPSBmYWxzZTtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIC8vc2V0cyBnbG9iYWwgdmFyaWFibGUgdG8gdGhpcyBpbnN0YW5jZVxuICAgIC8vd2luZG93LmVkaXRvciA9IHRoaXM7XG4gICAgcmVhZGVyLm9ubG9hZCA9IHRoaXMuaGFuZGxlRmlsZUxvYWQ7XG4gICAgbGV0IGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzIHx8IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBjb25zb2xlLmxvZyhmaWxlcyk7XG4gICAgbGV0IGZpbGVuYW1lID0gZmlsZXNbMF0ubmFtZTtcbiAgICBpZiAoZmlsZW5hbWUuZW5kc1dpdGgoJy56aXAnKSkge1xuICAgICAgLy9leHRyYWN0IHppcCBhbmQgc2F2ZSBibG9iIG9mIGV4dHJhY3RlZCBmaWxlc1xuICAgICAgdGhpcy5leHRyYWN0UHJvamVjdFppcEZpbGUoZmlsZXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBleHBvcnRzIGFzIEhUTUwgYW5kIHJlbGF0ZWQgZmlsZXMsIHdoaWNoIGNhbiBiZSBwdWJsaXNoZWQgaW4gd2ViIHNlcnZlciBvciBzZXJ2ZWQgbG9jYWxseVxuICAgKi9cbiAgZXhwb3J0QXNIdG1sKCkge1xuICAgIGxldCBwcm9qZWN0bmFtZSA9IHByb21wdCgnRW50ZXIgZmlsZSBuYW1lIGZvciB3ZWIgc2ltdWxhdG9yIGV4cG9ydCB0byBIVE1MKHBhY2tlZCBpbiAqLnppcCk6JywgdGhpcy5hcGkuZXhwb3J0ZmlsZW5hbWUpO1xuICAgIHRoaXMuc2hvd0J1dHRvbnMgPSBmYWxzZTtcbiAgICBpZiAoIXByb2plY3RuYW1lKSByZXR1cm47XG4gICAgbGV0IGZpbGVuYW1lID0gcHJvamVjdG5hbWU7XG4gICAgaWYgKCFwcm9qZWN0bmFtZS5lbmRzV2l0aCgnLnppcCcpKSBmaWxlbmFtZSA9IHByb2plY3RuYW1lLmNvbmNhdCgnLnppcCcpO1xuICAgIHRoaXMuYXBpLnNldEV4cG9ydFByb2plY3ROYW1lKGZpbGVuYW1lKTtcbiAgICBsZXQgZmlyc3RtZGZpbGUgPSB0aGlzLmZpbGVzLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZS52YWx1ZSA9PT0gRlRZUEUuTURGSUxFLnZhbHVlKVswXTtcbiAgICBsZXQgaW5kZXhodG1sY29udGVudCA9IGA8IURPQ1RZUEUgaHRtbD5cbjxodG1sPlxuPGhlYWQ+XG4gICAgPG1ldGEgY2hhcnNldD1cInV0Zi04XCI+XG4gICAgPHRpdGxlPiR7cHJvamVjdG5hbWV9PC90aXRsZT5cbiAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIj5cbiAgICA8c2NyaXB0IHNyYz1cImJvZHlsaWdodC5idW5kbGUuanNcIiBkYXRhLW1haW49XCJhdXJlbGlhLWJvb3RzdHJhcHBlclwiPjwvc2NyaXB0PlxuPC9oZWFkPlxuPGJvZHkgYXVyZWxpYS1hcHA9XCJ3ZWJjb21wb25lbnRzXCI+XG4gICAgPGJkbC1tYXJrZG93bi1ib29rMiBpbmRleD1cIiR7Zmlyc3RtZGZpbGUubmFtZX1cIiBzdW1tYXJ5PVwic3VtbWFyeS5tZFwiPlxuPGltZyBzcmM9XCJCb2R5bGlnaHRfbG9hZGluZzJfYW1iZXIuZ2lmXCIgaGVpZ2h0PVwiMTQwXCIgd2lkdGg9XCI4NVwiIHN0eWxlPVwiZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtcIi8+XG4gICAgPC9iZGwtbWFya2Rvd24tYm9vazI+XG48L2JvZHk+XG48L2h0bWw+XG5gO1xuICAgIC8vbGV0IGluZGV4aHRtbCA9IG5ldyBCb2R5bGlnaHRGaWxlKCdpbmRleC5odG1sJywgRlRZUEUuTURGSUxFLCB0aGlzLmFwaSwgaW5kZXhodG1sYmxvYik7XG4gICAgLy9odG1sZmlsZXMucHVzaChpbmRleGh0bWwpO1xuICAgIC8vVE9ETyBwdXNoIG1vc3QgdXBkYXRlZCBidW5kbGUgLSBiZXN0IGxvY2FsIC0gcmF0aGVyIHRoZW4gZnJvbSBDRE4gaW4gY2FzZSBvZiBvZmZsaW5lIHVzZVxuICAgIGxldCBidW5kbGV1cmwgPSAnYm9keWxpZ2h0LmJ1bmRsZS5qcyc7XG4gICAgZmV0Y2goYnVuZGxldXJsKVxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5ibG9iKCkpXG4gICAgICAudGhlbihib2R5bGlnaHRibG9iID0+IHtcbiAgICAgICAgLy9sZXQgYm9keWxpZ2h0anMgPSBuZXcgQm9keWxpZ2h0RmlsZSgnYm9keWxpZ2h0LmJ1bmRsZS5qcycsIEZUWVBFLk9USEVSSlMsIHRoaXMuYXBpLCBib2R5bGlnaHRibG9iKTtcbiAgICAgICAgLy9odG1sZmlsZXMucHVzaChib2R5bGlnaHRqcyk7XG5cbiAgICAgICAgLy9ub3cgc2F2ZSBhcyB6aXBcbiAgICAgICAgbGV0IHppcCA9IG5ldyBKU1ppcCgpO1xuICAgICAgICAvL3ppcC5maWxlKCdib2R5bGlnaHQtcHJvamVjdC5qc29uJywgSlNPTi5zdHJpbmdpZnkodGhpcy5maWxlcykpO1xuICAgICAgICAvL2FkZHMgaW5kZXguaHRtbCB3aXRoIGdlbmVyYXRlZCBjb250ZW50LCBpZiBkbyBub3QgZXhpc3QgaW4gcHJvamVjdFxuICAgICAgICBpZiAoISB0aGlzLmZpbGVzLmZpbmQoZmlsZSA9PiBmaWxlLm5hbWUgPT09ICcgaW5kZXguaHRtbCcpKSB6aXAuZmlsZSgnaW5kZXguaHRtbCcsIGluZGV4aHRtbGNvbnRlbnQpO1xuXG4gICAgICAgIC8vYWRkcyBib2R5bGlnaHQuYnVuZGxlLmpzXG4gICAgICAgIHppcC5maWxlKCdib2R5bGlnaHQuYnVuZGxlLmpzJywgYm9keWxpZ2h0YmxvYik7XG4gICAgICAgIC8vYWRkcyBhbGwgcHJvamVjdCBmaWxlc1xuICAgICAgICBmb3IgKGxldCBmaWxlIG9mIHRoaXMuZmlsZXMpIHtcbiAgICAgICAgICAvLydibG9iJyBvciAnc3RyaW5nJyBjb250ZW50IGFyZSB6aXBwZWQgYXMgZW50cmllc1xuICAgICAgICAgIHppcC5maWxlKFxuICAgICAgICAgICAgZmlsZS5uYW1lLFxuICAgICAgICAgICAgKGZpbGUudHlwZS52YWx1ZSA9PT0gRlRZUEUuTURGSUxFLnZhbHVlKVxuICAgICAgICAgICAgICA/IHRoaXMuYXBpLmJzLmxvYWREb2NDb250ZW50U3RyKGZpbGUubmFtZSlcbiAgICAgICAgICAgICAgOiB0aGlzLmFwaS5icy5sb2FkRG9jQ29udGVudChmaWxlLm5hbWUpLCB7YmluYXJ5OiB0cnVlfVxuICAgICAgICAgICk7XG4gICAgICAgICAgLy96aXAuZmlsZShmaWxlLm5hbWUsIHRoaXMuYXBpLmJzLmxvYWREb2NDb250ZW50KGZpbGUubmFtZSksIHtiaW5hcnk6IHRydWV9KTtcbiAgICAgICAgfVxuICAgICAgICAvL2NyZWF0ZSBkZWZhdWx0IHN1bW1hcnkgaWYgaXQgaXMgbm90IHBhcnQgb2YgdGhlIHByb2plY3QgYWxyZWFkeVxuICAgICAgICBpZiAoIXRoaXMuZmlsZXMuZmluZChmaWxlID0+IGZpbGUubmFtZSA9PT0gJ3N1bW1hcnkubWQnKSkge1xuICAgICAgICAgIGxldCBzdW1tYXJ5bWRjb250ZW50ID0gJyc7XG4gICAgICAgICAgLy9sb29wIG92ZXIgbWRmaWxlcyBvbmx5LCBlYWNoIG1kZmlsZSB3aWxsIGJlIGFuIGVudHJ5XG4gICAgICAgICAgZm9yIChsZXQgZmlsZSBvZiB0aGlzLmZpbGVzLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZS52YWx1ZSA9PT0gRlRZUEUuTURGSUxFLnZhbHVlKSkge1xuICAgICAgICAgICAgc3VtbWFyeW1kY29udGVudCArPSAnICAqIFsnICsgZmlsZS5uYW1lICsgJ10oIycgKyBmaWxlLm5hbWUgKyAnKVxcbic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vY3JlYXRlIGJsb2IgZnJvbSBnZW5lcmF0ZWQgY29udGVudFxuICAgICAgICAgIGxldCBzYmxvYiA9IG5ldyBCbG9iKFtzdW1tYXJ5bWRjb250ZW50XSwge3R5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnfSk7XG4gICAgICAgICAgLy9zdG9yZSBmaWxlIGFuZCBibG9iIGluIGxvY2FsIHN0b3JhZ2VcbiAgICAgICAgICBsZXQgc2JvZHlsaWdodGZpbGUgPSBuZXcgQm9keWxpZ2h0RmlsZSgnc3VtbWFyeS5tZCcsIEZUWVBFLk1ERklMRSwgdGhpcy5hcGksIHNibG9iKTtcbiAgICAgICAgICAvL2FuZCBhZGQgaXQgaW50byBwcm9qZWN0ICdmaWxlcycgc3RydWN0dXJlXG4gICAgICAgICAgdGhpcy5maWxlcy5wdXNoKHNib2R5bGlnaHRmaWxlKTtcbiAgICAgICAgICAvL3ppcCB0aGUgc3VtbWFyeSBmaWxlXG4gICAgICAgICAgemlwLmZpbGUoJ3N1bW1hcnkubWQnLCBzdW1tYXJ5bWRjb250ZW50KTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZWxmKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy9hZGQgbG9hZGluZyBhbmltYXRlZCBnaWZcbiAgICAgICAgbGV0IGxvYWRpbmdnaWZ1cmwgPSAnQm9keWxpZ2h0X2xvYWRpbmcyX2FtYmVyLmdpZic7XG4gICAgICAgIGZldGNoKGxvYWRpbmdnaWZ1cmwpXG4gICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5ibG9iKCkpXG4gICAgICAgICAgLnRoZW4obG9hZGluZ2Jsb2IgPT57XG4gICAgICAgICAgICB6aXAuZmlsZShsb2FkaW5nZ2lmdXJsLCBsb2FkaW5nYmxvYik7XG4gICAgICAgICAgICAvL2FuZCBnZW5lcmF0ZXMgWklQIGFuZCBzYXZlIGl0XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT57XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm9qZWN0IGV4cG9ydEFzSHRtbCgpIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAgIC8vYW5kIGdlbmVyYXRlcyBaSVAgYW5kIHNhdmUgaXRcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICB6aXAuZ2VuZXJhdGVBc3luYyh7dHlwZTogJ2Jsb2InfSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oYmxvYikge1xuICAgICAgICAgICAgICAgIHNhdmVBcyhibG9iLCBmaWxlbmFtZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cbiAgcmVuYW1lKGZpbGUpIHtcbiAgICBsZXQgb2xkZmlsZW5hbWUgPSBmaWxlLm5hbWU7XG4gICAgbGV0IGZpbGVuYW1lID0gcHJvbXB0KCdSZW5hbWUgZmlsZSBuYW1lOicsIGZpbGUubmFtZSk7XG4gICAgLy9lbXB0eSBmaWxlbmFtZSAtIG5vIGNoYW5nZVxuICAgIGlmICghZmlsZW5hbWUpIHJldHVybjtcbiAgICAvL2FkZCBtZCBleHRlbnNpb24gaWYgb21taXRlZCBmb3IgbWRmaWxlXG4gICAgaWYgKGZpbGUudHlwZS52YWx1ZSA9PT0gRlRZUEUuTURGSUxFLnZhbHVlKSB7XG4gICAgICBpZiAoIWZpbGVuYW1lLmVuZHNXaXRoKCcubWQnKSkgZmlsZW5hbWUgPSBmaWxlbmFtZS5jb25jYXQoJy5tZCcpO1xuICAgIH1cbiAgICAvL3N0b3JlIGluIGxvY2FsIHN0cnVjdHVyZVxuICAgIGZpbGUubmFtZSA9IGZpbGVuYW1lO1xuICAgIC8vdXBkYXRlIHN0b3JhZ2VcbiAgICB0aGlzLnVwZGF0ZWxmKCk7XG4gICAgLy9yZW5hbWUgaW4gc3RvcmFnZVxuICAgIHRoaXMuYXBpLmJzLnJlbmFtZURvYyhvbGRmaWxlbmFtZSwgZmlsZW5hbWUpO1xuICB9XG5cbiAgc3luY0dpdGh1YjEoKSB7XG4gICAgdGhpcy5zaG93Z2l0aHViID0gISB0aGlzLnNob3dnaXRodWI7XG4gICAgdGhpcy5zaG93QnV0dG9ucyA9IGZhbHNlO1xuICAgIC8vbGV0IGdpdGh1YnVybCA9IHByb21wdCgnJylcbiAgICAvL1RPRE8gcmVzdG9yZSBmcm9tIGJzXG4gICAgdGhpcy5hcGkuYnMucmVzdG9yZWdocGFyYW1zKClcbiAgICAgIC50aGVuKGdocGFyYW1zID0+e1xuICAgICAgICB0aGlzLmdpdGh1Ym9yZyA9IGdocGFyYW1zLm9yZztcbiAgICAgICAgdGhpcy5naXRodWJyZXBvID0gZ2hwYXJhbXMucmVwbztcbiAgICAgICAgdGhpcy5naXRodWJwYXRoID0gZ2hwYXJhbXMucGF0aDtcbiAgICAgICAgdGhpcy5naXRodWJ0b2tlbiA9IGdocGFyYW1zLnRva2VuO1xuICAgICAgfSk7XG4gIH1cbiAgY29tcGFyZUdpdGh1YigpIHtcbiAgICB0aGlzLmdzLmNvbXBhcmVEaXIodGhpcy5maWxlcywgdGhpcy5naXRodWJvcmcsIHRoaXMuZ2l0aHVicmVwbywgdGhpcy5naXRodWJwYXRoLCB0aGlzLmFwaS5icyk7XG4gICAgdGhpcy5hcGkuYnMuc3RvcmVnaHBhcmFtcyh7b3JnOiB0aGlzLmdpdGh1Ym9yZywgcmVwbzogdGhpcy5naXRodWJyZXBvLCBwYXRoOiB0aGlzLmdpdGh1YnBhdGgsIHRva2VuOiB0aGlzLmdpdGh1YnRva2VufSk7XG4gIH1cblxuICBwdWxsRnJvbUdpdGh1YigpIHtcbiAgICBhbGVydCgnbm90ZSB5ZXQgaW1wbGVtZW50ZWQnKTtcbiAgfVxuICBwdXNoVG9HaXRodWIoKSB7XG4gICAgYWxlcnQoJ25vdGUgeWV0IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICBzeW5jVXBsb2FkR2l0aHViKGZpbGUpIHtcbiAgICBsZXQgYSA9IHByb21wdCgnVGhlIGZpbGUgd2lsbCBiZSB1cGxvYWRlZCB0byBHSVRIVUIgYW5kIHJlcGxhY2VkLiBDb25maXJtIGNvbW1pdCBtZXNzYWdlIG9yIGNhbmNlbC4nLCAnVVBEQVRFICcgKyBmaWxlLm5hbWUpO1xuICAgIGlmICghYSkgcmV0dXJuO1xuICAgIHRoaXMuZ3MudXBsb2FkRmlsZShmaWxlLCB0aGlzLmdpdGh1Ym9yZywgdGhpcy5naXRodWJyZXBvLCB0aGlzLmdpdGh1YnBhdGgsIHRoaXMuZ2l0aHVidG9rZW4sIHRoaXMuYXBpLmJzLCBhKTtcbiAgfVxuXG4gIHN5bmNEb3dubG9hZEdpdGh1YihmaWxlKSB7XG4gICAgbGV0IGEgPSBjb25maXJtKCdBcmUgeW91IHN1cmU/IFRoZSBmaWxlIHdpbGwgYmUgcmVwbGFjZWQgZnJvbSBkb3dubG9hZGVkIGNvcHkgZnJvbSBHSVRIVUInKTtcbiAgICBpZiAoIWEpIHJldHVybjtcbiAgICB0aGlzLmdzLmRvd25sb2FkRmlsZShmaWxlLCB0aGlzLmdpdGh1Ym9yZywgdGhpcy5naXRodWJyZXBvLCB0aGlzLmdpdGh1YnBhdGgsIHRoaXMuYXBpLmJzKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFPQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZCQTtBQUNBO0FBREE7QUFzQkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQTdFQTtBQUNBO0FBREE7QUErRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBdEZBO0FBQ0E7QUFEQTtBQXdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNUZBO0FBOEZBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2R0E7QUFDQTtBQURBO0FBeUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXhIQTtBQUNBO0FBREE7QUF5SEE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXZJQTtBQUNBO0FBREE7QUF5SUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTdLQTtBQStLQTtBQUNBO0FBQ0E7QUFqTEE7QUFtTEE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFyTUE7QUF3TUE7QUFDQTtBQXpNQTtBQUNBO0FBREE7QUE2TUE7QUFDQTtBQTlNQTtBQUNBO0FBREE7QUFrTkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeE5BO0FBME5BO0FBQ0E7QUFDQTtBQUNBO0FBN05BO0FBZ09BO0FBQ0E7QUFDQTtBQUNBO0FBbk9BO0FBQ0E7QUFEQTtBQXVPQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBNVBBO0FBQ0E7QUFEQTtBQTZQQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdlJBO0FBd1JBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBOVRBO0FBQ0E7QUFEQTtBQStUQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUE1VUE7QUFDQTtBQURBO0FBOFVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUEzV0E7QUFDQTtBQURBO0FBNldBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUE3WEE7QUFDQTtBQURBO0FBOFhBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZkQTtBQXdkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdmVBO0FBd2VBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyZkE7QUFzZkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBemZBO0FBMmZBO0FBQ0E7QUFDQTtBQTdmQTtBQThmQTtBQUNBO0FBQ0E7QUFoZ0JBO0FBa2dCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdGdCQTtBQXdnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVnQkE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///components/project\n");

/***/ }),

/***/ "components/project.css":
/*!************************************!*\
  !*** ./src/components/project.css ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"JPst\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \"td:first-child {\\n  max-width:20em;\\n  overflow:hidden;\\n  word-break: break-all;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9wcm9qZWN0LmNzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QuY3NzPzMzM2QiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcInRkOmZpcnN0LWNoaWxkIHtcXG4gIG1heC13aWR0aDoyMGVtO1xcbiAgb3ZlcmZsb3c6aGlkZGVuO1xcbiAgd29yZC1icmVhazogYnJlYWstYWxsO1xcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///components/project.css\n");

/***/ }),

/***/ "components/project.html":
/*!*************************************!*\
  !*** ./src/components/project.html ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = \"<template>\\n<require from=\\\"./file-dialog\\\"></require>\\n  <require from=\\\"./project.css\\\"></require>\\n  <div class=\\\"w3-margin w3-card-2 w3-small\\\">\\n    <div>\\n    <div class=\\\"w3-left w3-margin-right\\\">\\n      <button class=\\\"w3-button w3-bar-item w3-theme-l4\\\" click.delegate=\\\"toggleMenu()\\\"><i class=\\\"fa fa-bars\\\"></i> <b>Project menu</b></button>\\n        <div show.bind=\\\"showButtons\\\" class=\\\"w3-card au-animate animate-fade-in animate-fade-out w3-bar-block\\\" style=\\\"position:absolute;margin-top:0px;margin-left:1em\\\">\\n          <button class=\\\"w3-button w3-bar-item w3-theme-l4\\\" click.delegate=\\\"newProject()\\\"><i class=\\\"fa fa-plus\\\"></i> New project</button>\\n          <button class=\\\"w3-button w3-bar-item w3-theme-l4\\\" click.delegate=\\\"save()\\\"><i class=\\\"fa fa-save\\\"></i> Save project as ZIP</button>\\n          <button class=\\\"w3-button w3-bar-item w3-theme-l4\\\"><label for=\\\"loadfile\\\"><i class=\\\"fa fa-upload\\\"></i> Load project from ZIP</label><input id=\\\"loadfile\\\" style=\\\"visibility: hidden;width:10px\\\" type=\\\"file\\\" change.trigger=\\\"load($event)\\\"/></button>\\n          <button class=\\\"w3-button w3-bar-item w3-theme-l4 w3-border-bottom\\\" click.delegate=\\\"exportAsHtml()\\\"><i class=\\\"fa fa-download\\\"></i> Export project as HTML</button>\\n          <button class=\\\"w3-button w3-bar-item w3-theme-l4\\\" click.delegate=\\\"syncGithub1()\\\"><i class=\\\"fa fa-refresh\\\"></i> Sync with GITHUB</button>\\n        </div>\\n    </div>\\n      <span class=\\\"w3-small\\\">\\n      name: <b>${api.filename} </b><br/>\\n      export:<b>${api.exportfilename}</b>\\n      </span>\\n      <table show.bind=\\\"showgithub\\\" class=\\\"w3-small\\\">\\n        <tr><td>github user/org:</td><td><input type=\\\"text\\\" value.bind=\\\"githuborg\\\" placeholder=\\\"creative-connections\\\"/></td></tr>\\n        <tr><td>github repo:</td><td><input type=\\\"text\\\" value.bind=\\\"githubrepo\\\" placehorder=\\\"Bodylight-Scenarios\\\"/></td></tr>\\n        <tr><td>github path:</td><td><input type=\\\"text\\\" value.bind=\\\"githubpath\\\" placeholder=\\\"(fill directory or leave empty)\\\"/></td></tr>\\n        <tr><td>github token:</td><td><input type=\\\"password\\\" value.bind=\\\"githubtoken\\\" placeholder=\\\"(fill token with 'repos' permission)\\\"/></td></tr>\\n        <tr><td colspan=\\\"2\\\" align=\\\"center\\\"><button class=\\\"w3-button w3-bar-item w3-theme-l4\\\" click.delegate=\\\"compareGithub()\\\"><i class=\\\"fa fa-refresh\\\"></i> Compare</button>\\n          <!--button class=\\\"w3-button w3-bar-item w3-theme-l4\\\" click.delegate=\\\"pullFromGithub()\\\"><i class=\\\"fa fa-download\\\"></i> Pull</button>\\n        <button class=\\\"w3-button w3-bar-item w3-theme-l4\\\" click.delegate=\\\"pushToGithub()\\\"><i class=\\\"fa fa-upload\\\"></i> Push</button--></td> </tr>\\n      </table>\\n    </div>\\n    <div class=\\\"w3-clear\\\"></div>\\n  <table>\\n  <tbody>\\n  <tr repeat.for=\\\"file of files\\\" class.bind=\\\"file.active ? 'w3-green w3-hover-grey': 'w3-hover-blue'\\\">\\n    <td title=\\\"${file.type.title}\\\" click.delegate=\\\"open(file)\\\"><i class=\\\"${file.type.faclass}\\\"></i> ${file.name}</td>\\n    <td title=\\\"delete file\\\"><i class=\\\"fa fa-times\\\" click.delegate=\\\"delete(file)\\\"></i> </td>\\n    <td title=\\\"rename file\\\"><i class=\\\"fa fa-edit\\\" click.delegate=\\\"rename(file)\\\"></i> </td>\\n    <td class=\\\"w3-text-orange\\\">\\n      <span show.bind=\\\"file.syncstatus === STATUS.different\\\"><i class=\\\"fa fa-exchange\\\" title=\\\"different choose whether to upload/download\\\"></i> <i class=\\\"fa fa-download\\\" click.delegate=\\\"syncDownlodGithub(file)\\\" title=\\\"download and replace\\\"></i> <i class=\\\"fa fa-upload\\\" click.delegate=\\\"syncUploadGithub(file)\\\" title=\\\"upload to GITHUB\\\"></i></span>\\n      <span show.bind=\\\"file.syncstatus === STATUS.synced\\\"><i class=\\\"fa fa-check w3-text-green\\\" title=\\\"synced\\\"></i></span>\\n      <span show.bind=\\\"file.syncstatus === STATUS.notinlocal\\\"><i class=\\\"fa fa-download\\\" title=\\\"notinlocal, click to download\\\" click.delegate=\\\"syncUploadGithub(file)\\\"></i></span>\\n      <span show.bind=\\\"file.syncstatus === STATUS.notinremote\\\"><i class=\\\"fa fa-upload\\\" title=\\\"notinremote, click to upload\\\" click.delegate=\\\"syncDownlodGithub(file)\\\"></i></span>\\n    </td>\\n  </tr>\\n  <tr><td colspan=\\\"2\\\">\\n    <span class=\\\"w3-padding-4 w3-theme-l3 w3-border w3-round w3-hover-blue\\\" click.delegate=\\\"create()\\\"><i class=\\\"fa fa-plus\\\"></i> Create new file</span>\\n    <span class=\\\"w3-padding-4 w3-theme-l3 w3-border w3-round w3-hover-blue\\\" click.delegate=\\\"upload()\\\"><i class=\\\"fa fa-plus\\\"></i> Upload file</span>\\n    <div show.bind=\\\"uploaddialog\\\"\\n\\n         dragenter.delegate=\\\"drag($event)\\\"\\n         dragover.delegate=\\\"drag($event)\\\"\\n         drop.delegate=\\\"drop($event)\\\"\\n         style=\\\"position:absolute;z-index:5;border:4px dashed #aaa;;margin-top:-4px;margin-left:8px\\\"\\n         class.bind=\\\"isDragging ? 'w3-padding w3-round-large w3-blue w3-card-24':'w3-padding w3-round-large w3-white w3-card-24'\\\">\\n      <p>Drag your files here or click on this area</p>\\n      <input type=\\\"file\\\" change.trigger=\\\"dragNdrop($event)\\\"/>\\n    </div>\\n  </td>\\n  </tr>\\n  </tbody>\\n</table>\\n    <file-dialog></file-dialog>\\n  </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9wcm9qZWN0Lmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wcm9qZWN0Lmh0bWw/YzE1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbjxyZXF1aXJlIGZyb209XFxcIi4vZmlsZS1kaWFsb2dcXFwiPjwvcmVxdWlyZT5cXG4gIDxyZXF1aXJlIGZyb209XFxcIi4vcHJvamVjdC5jc3NcXFwiPjwvcmVxdWlyZT5cXG4gIDxkaXYgY2xhc3M9XFxcInczLW1hcmdpbiB3My1jYXJkLTIgdzMtc21hbGxcXFwiPlxcbiAgICA8ZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ3My1sZWZ0IHczLW1hcmdpbi1yaWdodFxcXCI+XFxuICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwidzMtYnV0dG9uIHczLWJhci1pdGVtIHczLXRoZW1lLWw0XFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwidG9nZ2xlTWVudSgpXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtYmFyc1xcXCI+PC9pPiA8Yj5Qcm9qZWN0IG1lbnU8L2I+PC9idXR0b24+XFxuICAgICAgICA8ZGl2IHNob3cuYmluZD1cXFwic2hvd0J1dHRvbnNcXFwiIGNsYXNzPVxcXCJ3My1jYXJkIGF1LWFuaW1hdGUgYW5pbWF0ZS1mYWRlLWluIGFuaW1hdGUtZmFkZS1vdXQgdzMtYmFyLWJsb2NrXFxcIiBzdHlsZT1cXFwicG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLXRvcDowcHg7bWFyZ2luLWxlZnQ6MWVtXFxcIj5cXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwidzMtYnV0dG9uIHczLWJhci1pdGVtIHczLXRoZW1lLWw0XFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwibmV3UHJvamVjdCgpXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtcGx1c1xcXCI+PC9pPiBOZXcgcHJvamVjdDwvYnV0dG9uPlxcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJ3My1idXR0b24gdzMtYmFyLWl0ZW0gdzMtdGhlbWUtbDRcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzYXZlKClcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1zYXZlXFxcIj48L2k+IFNhdmUgcHJvamVjdCBhcyBaSVA8L2J1dHRvbj5cXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwidzMtYnV0dG9uIHczLWJhci1pdGVtIHczLXRoZW1lLWw0XFxcIj48bGFiZWwgZm9yPVxcXCJsb2FkZmlsZVxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXVwbG9hZFxcXCI+PC9pPiBMb2FkIHByb2plY3QgZnJvbSBaSVA8L2xhYmVsPjxpbnB1dCBpZD1cXFwibG9hZGZpbGVcXFwiIHN0eWxlPVxcXCJ2aXNpYmlsaXR5OiBoaWRkZW47d2lkdGg6MTBweFxcXCIgdHlwZT1cXFwiZmlsZVxcXCIgY2hhbmdlLnRyaWdnZXI9XFxcImxvYWQoJGV2ZW50KVxcXCIvPjwvYnV0dG9uPlxcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJ3My1idXR0b24gdzMtYmFyLWl0ZW0gdzMtdGhlbWUtbDQgdzMtYm9yZGVyLWJvdHRvbVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcImV4cG9ydEFzSHRtbCgpXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtZG93bmxvYWRcXFwiPjwvaT4gRXhwb3J0IHByb2plY3QgYXMgSFRNTDwvYnV0dG9uPlxcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJ3My1idXR0b24gdzMtYmFyLWl0ZW0gdzMtdGhlbWUtbDRcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzeW5jR2l0aHViMSgpXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtcmVmcmVzaFxcXCI+PC9pPiBTeW5jIHdpdGggR0lUSFVCPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcInczLXNtYWxsXFxcIj5cXG4gICAgICBuYW1lOiA8Yj4ke2FwaS5maWxlbmFtZX0gPC9iPjxici8+XFxuICAgICAgZXhwb3J0OjxiPiR7YXBpLmV4cG9ydGZpbGVuYW1lfTwvYj5cXG4gICAgICA8L3NwYW4+XFxuICAgICAgPHRhYmxlIHNob3cuYmluZD1cXFwic2hvd2dpdGh1YlxcXCIgY2xhc3M9XFxcInczLXNtYWxsXFxcIj5cXG4gICAgICAgIDx0cj48dGQ+Z2l0aHViIHVzZXIvb3JnOjwvdGQ+PHRkPjxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB2YWx1ZS5iaW5kPVxcXCJnaXRodWJvcmdcXFwiIHBsYWNlaG9sZGVyPVxcXCJjcmVhdGl2ZS1jb25uZWN0aW9uc1xcXCIvPjwvdGQ+PC90cj5cXG4gICAgICAgIDx0cj48dGQ+Z2l0aHViIHJlcG86PC90ZD48dGQ+PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHZhbHVlLmJpbmQ9XFxcImdpdGh1YnJlcG9cXFwiIHBsYWNlaG9yZGVyPVxcXCJCb2R5bGlnaHQtU2NlbmFyaW9zXFxcIi8+PC90ZD48L3RyPlxcbiAgICAgICAgPHRyPjx0ZD5naXRodWIgcGF0aDo8L3RkPjx0ZD48aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdmFsdWUuYmluZD1cXFwiZ2l0aHVicGF0aFxcXCIgcGxhY2Vob2xkZXI9XFxcIihmaWxsIGRpcmVjdG9yeSBvciBsZWF2ZSBlbXB0eSlcXFwiLz48L3RkPjwvdHI+XFxuICAgICAgICA8dHI+PHRkPmdpdGh1YiB0b2tlbjo8L3RkPjx0ZD48aW5wdXQgdHlwZT1cXFwicGFzc3dvcmRcXFwiIHZhbHVlLmJpbmQ9XFxcImdpdGh1YnRva2VuXFxcIiBwbGFjZWhvbGRlcj1cXFwiKGZpbGwgdG9rZW4gd2l0aCAncmVwb3MnIHBlcm1pc3Npb24pXFxcIi8+PC90ZD48L3RyPlxcbiAgICAgICAgPHRyPjx0ZCBjb2xzcGFuPVxcXCIyXFxcIiBhbGlnbj1cXFwiY2VudGVyXFxcIj48YnV0dG9uIGNsYXNzPVxcXCJ3My1idXR0b24gdzMtYmFyLWl0ZW0gdzMtdGhlbWUtbDRcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJjb21wYXJlR2l0aHViKClcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1yZWZyZXNoXFxcIj48L2k+IENvbXBhcmU8L2J1dHRvbj5cXG4gICAgICAgICAgPCEtLWJ1dHRvbiBjbGFzcz1cXFwidzMtYnV0dG9uIHczLWJhci1pdGVtIHczLXRoZW1lLWw0XFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwicHVsbEZyb21HaXRodWIoKVxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLWRvd25sb2FkXFxcIj48L2k+IFB1bGw8L2J1dHRvbj5cXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcInczLWJ1dHRvbiB3My1iYXItaXRlbSB3My10aGVtZS1sNFxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInB1c2hUb0dpdGh1YigpXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtdXBsb2FkXFxcIj48L2k+IFB1c2g8L2J1dHRvbi0tPjwvdGQ+IDwvdHI+XFxuICAgICAgPC90YWJsZT5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInczLWNsZWFyXFxcIj48L2Rpdj5cXG4gIDx0YWJsZT5cXG4gIDx0Ym9keT5cXG4gIDx0ciByZXBlYXQuZm9yPVxcXCJmaWxlIG9mIGZpbGVzXFxcIiBjbGFzcy5iaW5kPVxcXCJmaWxlLmFjdGl2ZSA/ICd3My1ncmVlbiB3My1ob3Zlci1ncmV5JzogJ3czLWhvdmVyLWJsdWUnXFxcIj5cXG4gICAgPHRkIHRpdGxlPVxcXCIke2ZpbGUudHlwZS50aXRsZX1cXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJvcGVuKGZpbGUpXFxcIj48aSBjbGFzcz1cXFwiJHtmaWxlLnR5cGUuZmFjbGFzc31cXFwiPjwvaT4gJHtmaWxlLm5hbWV9PC90ZD5cXG4gICAgPHRkIHRpdGxlPVxcXCJkZWxldGUgZmlsZVxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXRpbWVzXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwiZGVsZXRlKGZpbGUpXFxcIj48L2k+IDwvdGQ+XFxuICAgIDx0ZCB0aXRsZT1cXFwicmVuYW1lIGZpbGVcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1lZGl0XFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwicmVuYW1lKGZpbGUpXFxcIj48L2k+IDwvdGQ+XFxuICAgIDx0ZCBjbGFzcz1cXFwidzMtdGV4dC1vcmFuZ2VcXFwiPlxcbiAgICAgIDxzcGFuIHNob3cuYmluZD1cXFwiZmlsZS5zeW5jc3RhdHVzID09PSBTVEFUVVMuZGlmZmVyZW50XFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtZXhjaGFuZ2VcXFwiIHRpdGxlPVxcXCJkaWZmZXJlbnQgY2hvb3NlIHdoZXRoZXIgdG8gdXBsb2FkL2Rvd25sb2FkXFxcIj48L2k+IDxpIGNsYXNzPVxcXCJmYSBmYS1kb3dubG9hZFxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInN5bmNEb3dubG9kR2l0aHViKGZpbGUpXFxcIiB0aXRsZT1cXFwiZG93bmxvYWQgYW5kIHJlcGxhY2VcXFwiPjwvaT4gPGkgY2xhc3M9XFxcImZhIGZhLXVwbG9hZFxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInN5bmNVcGxvYWRHaXRodWIoZmlsZSlcXFwiIHRpdGxlPVxcXCJ1cGxvYWQgdG8gR0lUSFVCXFxcIj48L2k+PC9zcGFuPlxcbiAgICAgIDxzcGFuIHNob3cuYmluZD1cXFwiZmlsZS5zeW5jc3RhdHVzID09PSBTVEFUVVMuc3luY2VkXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtY2hlY2sgdzMtdGV4dC1ncmVlblxcXCIgdGl0bGU9XFxcInN5bmNlZFxcXCI+PC9pPjwvc3Bhbj5cXG4gICAgICA8c3BhbiBzaG93LmJpbmQ9XFxcImZpbGUuc3luY3N0YXR1cyA9PT0gU1RBVFVTLm5vdGlubG9jYWxcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1kb3dubG9hZFxcXCIgdGl0bGU9XFxcIm5vdGlubG9jYWwsIGNsaWNrIHRvIGRvd25sb2FkXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwic3luY1VwbG9hZEdpdGh1YihmaWxlKVxcXCI+PC9pPjwvc3Bhbj5cXG4gICAgICA8c3BhbiBzaG93LmJpbmQ9XFxcImZpbGUuc3luY3N0YXR1cyA9PT0gU1RBVFVTLm5vdGlucmVtb3RlXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtdXBsb2FkXFxcIiB0aXRsZT1cXFwibm90aW5yZW1vdGUsIGNsaWNrIHRvIHVwbG9hZFxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInN5bmNEb3dubG9kR2l0aHViKGZpbGUpXFxcIj48L2k+PC9zcGFuPlxcbiAgICA8L3RkPlxcbiAgPC90cj5cXG4gIDx0cj48dGQgY29sc3Bhbj1cXFwiMlxcXCI+XFxuICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtdGhlbWUtbDMgdzMtYm9yZGVyIHczLXJvdW5kIHczLWhvdmVyLWJsdWVcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJjcmVhdGUoKVxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXBsdXNcXFwiPjwvaT4gQ3JlYXRlIG5ldyBmaWxlPC9zcGFuPlxcbiAgICA8c3BhbiBjbGFzcz1cXFwidzMtcGFkZGluZy00IHczLXRoZW1lLWwzIHczLWJvcmRlciB3My1yb3VuZCB3My1ob3Zlci1ibHVlXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwidXBsb2FkKClcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1wbHVzXFxcIj48L2k+IFVwbG9hZCBmaWxlPC9zcGFuPlxcbiAgICA8ZGl2IHNob3cuYmluZD1cXFwidXBsb2FkZGlhbG9nXFxcIlxcblxcbiAgICAgICAgIGRyYWdlbnRlci5kZWxlZ2F0ZT1cXFwiZHJhZygkZXZlbnQpXFxcIlxcbiAgICAgICAgIGRyYWdvdmVyLmRlbGVnYXRlPVxcXCJkcmFnKCRldmVudClcXFwiXFxuICAgICAgICAgZHJvcC5kZWxlZ2F0ZT1cXFwiZHJvcCgkZXZlbnQpXFxcIlxcbiAgICAgICAgIHN0eWxlPVxcXCJwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjU7Ym9yZGVyOjRweCBkYXNoZWQgI2FhYTs7bWFyZ2luLXRvcDotNHB4O21hcmdpbi1sZWZ0OjhweFxcXCJcXG4gICAgICAgICBjbGFzcy5iaW5kPVxcXCJpc0RyYWdnaW5nID8gJ3czLXBhZGRpbmcgdzMtcm91bmQtbGFyZ2UgdzMtYmx1ZSB3My1jYXJkLTI0JzondzMtcGFkZGluZyB3My1yb3VuZC1sYXJnZSB3My13aGl0ZSB3My1jYXJkLTI0J1xcXCI+XFxuICAgICAgPHA+RHJhZyB5b3VyIGZpbGVzIGhlcmUgb3IgY2xpY2sgb24gdGhpcyBhcmVhPC9wPlxcbiAgICAgIDxpbnB1dCB0eXBlPVxcXCJmaWxlXFxcIiBjaGFuZ2UudHJpZ2dlcj1cXFwiZHJhZ05kcm9wKCRldmVudClcXFwiLz5cXG4gICAgPC9kaXY+XFxuICA8L3RkPlxcbiAgPC90cj5cXG4gIDwvdGJvZHk+XFxuPC90YWJsZT5cXG4gICAgPGZpbGUtZGlhbG9nPjwvZmlsZS1kaWFsb2c+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///components/project.html\n");

/***/ }),

/***/ "components/referencearray":
/*!******************************************!*\
  !*** ./src/components/referencearray.js ***!
  \******************************************/
/*! exports provided: Referencearray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Referencearray\", function() { return Referencearray; });\n/* harmony import */ var _editorapi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editorapi */ \"6Y9Y\");\n/* harmony import */ var aurelia_framework__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n/* harmony import */ var aurelia_templating__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aurelia-templating */ \"hij8\");\nvar _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\nvar Referencearray = (_dec = Object(aurelia_framework__WEBPACK_IMPORTED_MODULE_1__[\"inject\"])(_editorapi__WEBPACK_IMPORTED_MODULE_0__[\"Editorapi\"]), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function () {\n  function Referencearray(api) {\n    _initializerDefineProperty(this, \"value\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"askids\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"title\", _descriptor3, this);\n\n    this.numerator = 1;\n    this.denominator = 1;\n    this.inputid = 'id1';\n    this.api = api; //  this.references = [];\n    //this.value ---\n  }\n\n  var _proto = Referencearray.prototype;\n\n  _proto.attached = function attached() {\n    //this.value = []; set by parent\n    //set askids to boolean\n    if (this.askids) this.askids = this.askids === 'true';\n  }\n  /**\n   * generates suggestion based on value - part of name, find all names which includes the value\n   * @param value\n   * @returns {string[]} in form 'referencenumber-variablename'\n   */\n  ;\n\n  _proto.getSuggestions = function getSuggestions(value) {\n    var suggestion;\n\n    if (this.askids) {\n      //will filter all tunable - for inputs\n      suggestion = this.api.currentfmientry.modelvariables.filter(function (variable) {\n        return variable.name.includes(value) && variable.tunable;\n      }).map(function (v) {\n        return v.reference + '-' + v.name;\n      });\n    } else {\n      //will filter all variable - for outputs\n      suggestion = this.api.currentfmientry.modelvariables.filter(function (variable) {\n        return variable.name.includes(value);\n      }).map(function (v) {\n        return v.reference + '-' + v.name;\n      });\n    } //console.log('this.api.currentfminetry.modelvariables', this.api.currentfmientry.modelvariables);\n    //console.log('referencesarray suggestion:', suggestion);\n\n\n    return suggestion;\n    /*\n    return this.api.getSuggestions(value)\n      .then(data =>{\n        return data;\n      })\n      .catch(error =>{\n        return [];\n      });\n      */\n  }\n  /**\n   * Adds reference into this value\n   */\n  ;\n\n  _proto.addReference = function addReference() {\n    var newvalue = this.goodautocomplete.getRawValue();\n    var reference = newvalue.split('-', 1)[0];\n    var name = newvalue.slice(reference.length + 1);\n    console.log('referencearray newvalue:', newvalue);\n    if (!this.value) this.value = [];\n    if (this.askids) this.value.push({\n      reference: reference,\n      name: name,\n      id: this.inputid,\n      numerator: this.numerator,\n      denominator: this.denominator\n    });else this.value.push({\n      reference: reference,\n      name: name\n    });\n    this.goodautocomplete._value = \"\";\n  };\n\n  _proto.removeReference = function removeReference(item) {\n    var i = this.value.indexOf(item);\n    this.value.splice(i, 1);\n  };\n\n  return Referencearray;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"value\", [aurelia_templating__WEBPACK_IMPORTED_MODULE_2__[\"bindable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"askids\", [aurelia_templating__WEBPACK_IMPORTED_MODULE_2__[\"bindable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"title\", [aurelia_templating__WEBPACK_IMPORTED_MODULE_2__[\"bindable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9yZWZlcmVuY2VhcnJheS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JlZmVyZW5jZWFycmF5LmpzPzQzNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFZGl0b3JhcGl9IGZyb20gJy4vZWRpdG9yYXBpJztcbmltcG9ydCB7aW5qZWN0fSBmcm9tICdhdXJlbGlhLWZyYW1ld29yayc7XG5pbXBvcnQge2JpbmRhYmxlfSBmcm9tICdhdXJlbGlhLXRlbXBsYXRpbmcnO1xuXG5AaW5qZWN0KEVkaXRvcmFwaSlcbmV4cG9ydCBjbGFzcyBSZWZlcmVuY2VhcnJheSB7XG4gIEBiaW5kYWJsZSB2YWx1ZTtcbiAgQGJpbmRhYmxlIGFza2lkcztcbiAgQGJpbmRhYmxlIHRpdGxlO1xuICBudW1lcmF0b3IgPSAxO1xuICBkZW5vbWluYXRvciA9IDE7XG4gIGlucHV0aWQ9J2lkMSdcbiAgY29uc3RydWN0b3IoYXBpKSB7XG4gICAgdGhpcy5hcGkgPSBhcGk7XG4gIC8vICB0aGlzLnJlZmVyZW5jZXMgPSBbXTtcbiAgICAvL3RoaXMudmFsdWUgLS0tXG4gIH1cblxuICBhdHRhY2hlZCgpIHtcbiAgICAvL3RoaXMudmFsdWUgPSBbXTsgc2V0IGJ5IHBhcmVudFxuICAgIC8vc2V0IGFza2lkcyB0byBib29sZWFuXG4gICAgaWYgKHRoaXMuYXNraWRzKSB0aGlzLmFza2lkcyA9ICh0aGlzLmFza2lkcyA9PT0gJ3RydWUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZW5lcmF0ZXMgc3VnZ2VzdGlvbiBiYXNlZCBvbiB2YWx1ZSAtIHBhcnQgb2YgbmFtZSwgZmluZCBhbGwgbmFtZXMgd2hpY2ggaW5jbHVkZXMgdGhlIHZhbHVlXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119IGluIGZvcm0gJ3JlZmVyZW5jZW51bWJlci12YXJpYWJsZW5hbWUnXG4gICAqL1xuICBnZXRTdWdnZXN0aW9ucyh2YWx1ZSkge1xuICAgIGxldCBzdWdnZXN0aW9uO1xuICAgIGlmICh0aGlzLmFza2lkcykgeyAvL3dpbGwgZmlsdGVyIGFsbCB0dW5hYmxlIC0gZm9yIGlucHV0c1xuICAgICAgc3VnZ2VzdGlvbiA9IHRoaXMuYXBpLmN1cnJlbnRmbWllbnRyeS5tb2RlbHZhcmlhYmxlcy5maWx0ZXIodmFyaWFibGUgPT4gKHZhcmlhYmxlLm5hbWUuaW5jbHVkZXModmFsdWUpICYmIHZhcmlhYmxlLnR1bmFibGUpKS5tYXAodiA9PiB7cmV0dXJuIHYucmVmZXJlbmNlICsgJy0nICsgdi5uYW1lOyB9KTtcbiAgICB9IGVsc2UgeyAvL3dpbGwgZmlsdGVyIGFsbCB2YXJpYWJsZSAtIGZvciBvdXRwdXRzXG4gICAgICBzdWdnZXN0aW9uID0gdGhpcy5hcGkuY3VycmVudGZtaWVudHJ5Lm1vZGVsdmFyaWFibGVzLmZpbHRlcih2YXJpYWJsZSA9PiB2YXJpYWJsZS5uYW1lLmluY2x1ZGVzKHZhbHVlKSkubWFwKHYgPT4ge1xuICAgICAgICByZXR1cm4gdi5yZWZlcmVuY2UgKyAnLScgKyB2Lm5hbWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy9jb25zb2xlLmxvZygndGhpcy5hcGkuY3VycmVudGZtaW5ldHJ5Lm1vZGVsdmFyaWFibGVzJywgdGhpcy5hcGkuY3VycmVudGZtaWVudHJ5Lm1vZGVsdmFyaWFibGVzKTtcbiAgICAvL2NvbnNvbGUubG9nKCdyZWZlcmVuY2VzYXJyYXkgc3VnZ2VzdGlvbjonLCBzdWdnZXN0aW9uKTtcbiAgICByZXR1cm4gc3VnZ2VzdGlvbjtcbiAgICAvKlxuICAgIHJldHVybiB0aGlzLmFwaS5nZXRTdWdnZXN0aW9ucyh2YWx1ZSlcbiAgICAgIC50aGVuKGRhdGEgPT57XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnJvciA9PntcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfSk7XG5cbiAgICAgKi9cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHJlZmVyZW5jZSBpbnRvIHRoaXMgdmFsdWVcbiAgICovXG4gIGFkZFJlZmVyZW5jZSgpIHtcbiAgICBsZXQgbmV3dmFsdWUgPSB0aGlzLmdvb2RhdXRvY29tcGxldGUuZ2V0UmF3VmFsdWUoKTtcbiAgICBsZXQgcmVmZXJlbmNlID0gbmV3dmFsdWUuc3BsaXQoJy0nLCAxKVswXTtcbiAgICBsZXQgbmFtZSA9IG5ld3ZhbHVlLnNsaWNlKHJlZmVyZW5jZS5sZW5ndGggKyAxKTtcbiAgICBjb25zb2xlLmxvZygncmVmZXJlbmNlYXJyYXkgbmV3dmFsdWU6JywgbmV3dmFsdWUpO1xuICAgIGlmICghdGhpcy52YWx1ZSkgdGhpcy52YWx1ZSA9IFtdO1xuICAgIGlmICh0aGlzLmFza2lkcykgdGhpcy52YWx1ZS5wdXNoKHtyZWZlcmVuY2U6IHJlZmVyZW5jZSwgbmFtZTogbmFtZSwgaWQ6IHRoaXMuaW5wdXRpZCwgbnVtZXJhdG9yOiB0aGlzLm51bWVyYXRvciwgZGVub21pbmF0b3I6IHRoaXMuZGVub21pbmF0b3J9KTtcbiAgICBlbHNlIHRoaXMudmFsdWUucHVzaCh7cmVmZXJlbmNlOiByZWZlcmVuY2UsIG5hbWU6IG5hbWV9KTtcbiAgICB0aGlzLmdvb2RhdXRvY29tcGxldGUuX3ZhbHVlID0gXCJcIjtcbiAgfVxuXG4gIHJlbW92ZVJlZmVyZW5jZShpdGVtKSB7XG4gICAgbGV0IGkgPSB0aGlzLnZhbHVlLmluZGV4T2YoaXRlbSk7XG4gICAgdGhpcy52YWx1ZS5zcGxpY2UoaSwgMSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBT0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVpBO0FBQ0E7QUFEQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZCQTtBQUNBO0FBREE7QUF5QkE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFsREE7QUFDQTtBQURBO0FBb0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQTdEQTtBQStEQTtBQUNBO0FBQ0E7QUFDQTtBQWxFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///components/referencearray\n");

/***/ }),

/***/ "components/referencearray.html":
/*!********************************************!*\
  !*** ./src/components/referencearray.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = \"<template>\\n  <require from=\\\"./autocomplete/good-auto-complete\\\"></require>\\n  <require from=\\\"./autocomplete/good-auto-complete.css\\\"></require>\\n  <div class=\\\"w3-theme-l4 w3-margin-top w3-margin-bottom\\\">\\n  <table>\\n    <tr repeat.for=\\\"item of value\\\">\\n      <td>${item.reference}</td><td>${item.name}</td><td> <span class=\\\"w3-hover-blue\\\" click.delegate=\\\"removeReference(item)\\\"><i class=\\\"fa fa-trash\\\"></i></span></td>\\n    </tr>\\n  </table>\\n  <div></div>\\n  <good-auto-complete view-model.ref=\\\"goodautocomplete\\\"\\n                      additional-class-input=\\\"form-control\\\"\\n                      selected-item.bind=\\\"valuereference\\\"\\n                      _value.bind=\\\"valuereferenceraw\\\"\\n                      suggestions-provider.bind=\\\"getSuggestions\\\"\\n                      suggestions-debounce=\\\"1000\\\"\\n                      min-search-value-length=\\\"1\\\"\\n                      placeholder=\\\"type first 1-4 letters and select ...\\\">\\n  </good-auto-complete>\\n  <div show.bind=\\\"askids\\\">\\n    <table>\\n      <th>id</th><th>numerator</th><th>denominator</th>\\n      <tr><td><input value.bind=\\\"inputid\\\" size=\\\"5\\\"/></td><td><input value.bind=\\\"numerator\\\" type=\\\"number\\\" size=\\\"6\\\"/></td><td><input value.bind=\\\"denominator\\\" type=\\\"number\\\" size=\\\"6\\\"/></td></tr>\\n    </table>\\n  </div>\\n  <button class=\\\"w3-button w3-theme-l1 w3-round\\\" click.delegate=\\\"addReference()\\\"><i class=\\\"fa fa-plus\\\"></i> Add</button>\\n  </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9yZWZlcmVuY2VhcnJheS5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVmZXJlbmNlYXJyYXkuaHRtbD85ZTkzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8dGVtcGxhdGU+XFxuICA8cmVxdWlyZSBmcm9tPVxcXCIuL2F1dG9jb21wbGV0ZS9nb29kLWF1dG8tY29tcGxldGVcXFwiPjwvcmVxdWlyZT5cXG4gIDxyZXF1aXJlIGZyb209XFxcIi4vYXV0b2NvbXBsZXRlL2dvb2QtYXV0by1jb21wbGV0ZS5jc3NcXFwiPjwvcmVxdWlyZT5cXG4gIDxkaXYgY2xhc3M9XFxcInczLXRoZW1lLWw0IHczLW1hcmdpbi10b3AgdzMtbWFyZ2luLWJvdHRvbVxcXCI+XFxuICA8dGFibGU+XFxuICAgIDx0ciByZXBlYXQuZm9yPVxcXCJpdGVtIG9mIHZhbHVlXFxcIj5cXG4gICAgICA8dGQ+JHtpdGVtLnJlZmVyZW5jZX08L3RkPjx0ZD4ke2l0ZW0ubmFtZX08L3RkPjx0ZD4gPHNwYW4gY2xhc3M9XFxcInczLWhvdmVyLWJsdWVcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJyZW1vdmVSZWZlcmVuY2UoaXRlbSlcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS10cmFzaFxcXCI+PC9pPjwvc3Bhbj48L3RkPlxcbiAgICA8L3RyPlxcbiAgPC90YWJsZT5cXG4gIDxkaXY+PC9kaXY+XFxuICA8Z29vZC1hdXRvLWNvbXBsZXRlIHZpZXctbW9kZWwucmVmPVxcXCJnb29kYXV0b2NvbXBsZXRlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsLWNsYXNzLWlucHV0PVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLWl0ZW0uYmluZD1cXFwidmFsdWVyZWZlcmVuY2VcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZS5iaW5kPVxcXCJ2YWx1ZXJlZmVyZW5jZXJhd1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnMtcHJvdmlkZXIuYmluZD1cXFwiZ2V0U3VnZ2VzdGlvbnNcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zLWRlYm91bmNlPVxcXCIxMDAwXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICBtaW4tc2VhcmNoLXZhbHVlLWxlbmd0aD1cXFwiMVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcInR5cGUgZmlyc3QgMS00IGxldHRlcnMgYW5kIHNlbGVjdCAuLi5cXFwiPlxcbiAgPC9nb29kLWF1dG8tY29tcGxldGU+XFxuICA8ZGl2IHNob3cuYmluZD1cXFwiYXNraWRzXFxcIj5cXG4gICAgPHRhYmxlPlxcbiAgICAgIDx0aD5pZDwvdGg+PHRoPm51bWVyYXRvcjwvdGg+PHRoPmRlbm9taW5hdG9yPC90aD5cXG4gICAgICA8dHI+PHRkPjxpbnB1dCB2YWx1ZS5iaW5kPVxcXCJpbnB1dGlkXFxcIiBzaXplPVxcXCI1XFxcIi8+PC90ZD48dGQ+PGlucHV0IHZhbHVlLmJpbmQ9XFxcIm51bWVyYXRvclxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzaXplPVxcXCI2XFxcIi8+PC90ZD48dGQ+PGlucHV0IHZhbHVlLmJpbmQ9XFxcImRlbm9taW5hdG9yXFxcIiB0eXBlPVxcXCJudW1iZXJcXFwiIHNpemU9XFxcIjZcXFwiLz48L3RkPjwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG4gIDxidXR0b24gY2xhc3M9XFxcInczLWJ1dHRvbiB3My10aGVtZS1sMSB3My1yb3VuZFxcXCIgY2xpY2suZGVsZWdhdGU9XFxcImFkZFJlZmVyZW5jZSgpXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtcGx1c1xcXCI+PC9pPiBBZGQ8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///components/referencearray.html\n");

/***/ }),

/***/ "components/toolbar":
/*!***********************************!*\
  !*** ./src/components/toolbar.js ***!
  \***********************************/
/*! exports provided: Toolbar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Toolbar\", function() { return Toolbar; });\n/* harmony import */ var _editorapi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editorapi */ \"6Y9Y\");\n/* harmony import */ var aurelia_framework__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! localforage */ \"oAJy\");\n/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _bodylightEditorItems__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bodylightEditorItems */ \"Ux9w\");\nvar _dec, _class, _temp;\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar Toolbar = (_dec = Object(aurelia_framework__WEBPACK_IMPORTED_MODULE_1__[\"inject\"])(_editorapi__WEBPACK_IMPORTED_MODULE_0__[\"Editorapi\"]), _dec(_class = (_temp = /*#__PURE__*/function (_BodylightEditorItems) {\n  _inheritsLoose(Toolbar, _BodylightEditorItems);\n\n  function Toolbar(api) {\n    var _this;\n\n    _this = _BodylightEditorItems.call(this) || this;\n    _this.showButtons = false;\n    _this.uploaddialog = false;\n    _this.filename = 'webapplication.md';\n    _this.isDragging = false;\n    _this.api = api;\n    return _this;\n  }\n\n  var _proto = Toolbar.prototype;\n\n  _proto.attached = function attached() {\n    var _this2 = this;\n\n    localforage__WEBPACK_IMPORTED_MODULE_2___default.a.getItem('bodylight-projects').then(function (projects) {\n      _this2.projects = projects;\n    }).catch(function (error) {\n      console.log('Projects localforage:', error);\n    });\n  };\n\n  _proto.newSinglePageProject = function newSinglePageProject() {\n    var projlen = this.projects ? this.projects.length : 0;\n    var name = prompt('Project name :', 'WebApplication' + projlen);\n    this.projects.push({\n      name: name,\n      type: 'single'\n    });\n  };\n\n  _proto.newMultiPageProject = function newMultiPageProject() {\n    var projlen = this.projects ? this.projects.length : 0;\n    var name = prompt('Project name :', 'WebApplication' + projlen);\n    this.projects.push({\n      name: name,\n      type: 'multi'\n    });\n  };\n\n  _proto.exportAsZip = function exportAsZip() {};\n\n  _proto.addItem = function addItem(item) {\n    //delegate to api\n    this.api.addItem(item);\n  };\n\n  _proto.showHelp = function showHelp(item) {\n    //console.log(\"changing help\",item);\n    this.api.helpsrc = item.doc;\n  };\n\n  _proto.undo = function undo() {\n    this.api.editor.undo();\n  };\n\n  _proto.redo = function redo() {\n    this.api.editor.redo();\n  };\n\n  _proto.bold = function bold() {\n    this.api.editor.insert('****');\n    var p = this.api.editor.getCursorPosition();\n    this.api.editor.moveCursorTo(p.row, p.column - 2);\n    this.api.editor.focus();\n  };\n\n  _proto.italic = function italic() {\n    this.api.editor.insert('__');\n    var p = this.api.editor.getCursorPosition();\n    this.api.editor.moveCursorTo(p.row, p.column - 1);\n    this.api.editor.focus();\n  };\n\n  _proto.underline = function underline() {\n    this.api.editor.insert('<u></u>');\n    var p = this.api.editor.getCursorPosition();\n    this.api.editor.moveCursorTo(p.row, p.column - 4);\n    this.api.editor.focus();\n  };\n\n  _proto.code = function code() {\n    this.api.editor.insert('``');\n    var p = this.api.editor.getCursorPosition();\n    this.api.editor.moveCursorTo(p.row, p.column - 1);\n    this.api.editor.focus();\n  };\n\n  _proto.equation = function equation() {\n    this.api.editor.insert('$$');\n    var p = this.api.editor.getCursorPosition();\n    this.api.editor.moveCursorTo(p.row, p.column - 1);\n    this.api.editor.focus();\n  };\n\n  _proto.h1 = function h1() {\n    this.api.editor.insert('# ');\n    this.api.editor.focus();\n  };\n\n  _proto.h2 = function h2() {\n    this.api.editor.insert('## ');\n    this.api.editor.focus();\n  };\n\n  _proto.h3 = function h3() {\n    this.api.editor.insert('### ');\n    this.api.editor.focus();\n  };\n\n  _proto.h4 = function h4() {\n    this.api.editor.insert('#### ');\n    this.api.editor.focus();\n  } //handles download button click, asks for filename and use file-saver.saveAs package to save the blob\n  ;\n\n  _proto.download = function download() {\n    this.api.download();\n  } //opens upload dialog with button/area to dragndrop file\n  ;\n\n  _proto.upload = function upload() {\n    this.uploaddialog = !this.uploaddialog;\n  } //handles after file is loaded\n  ;\n\n  _proto.handleFileLoad = function handleFileLoad(event) {\n    console.log('handlefileload event:', event);\n    var data = event.target.result;\n    console.log('handlefile data:', data);\n    window.editor.editor.setValue(data);\n    window.editor.editor.focus();\n  };\n\n  _proto.drag = function drag(event) {\n    this.isDragging = true;\n    event.preventDefault();\n  };\n\n  _proto.drop = function drop(event) {\n    this.isDragging = false;\n    event.preventDefault();\n    this.dragNdrop(event);\n  } //starts file loading\n  ;\n\n  _proto.dragNdrop = function dragNdrop(event) {\n    var reader = new FileReader(); //sets global variable to this instance\n\n    window.editor = this;\n    reader.onload = this.handleFileLoad;\n    var files = event.target.files || event.dataTransfer.files;\n    console.log(files);\n    this.filename = files[0].name;\n    reader.readAsText(files[0]);\n    this.uploaddialog = false;\n  };\n\n  _proto.save = function save() {};\n\n  _proto.load = function load() {};\n\n  _proto.preview = function preview() {\n    this.api.previewmode = !this.api.previewmode; //call resize on Adobe Animate - after 0.5s\n\n    if (window.ani) {\n      setTimeout(function () {\n        window.ani.handleResize();\n      }, 500);\n    }\n  };\n\n  _proto.autopreview = function autopreview() {\n    this.api.autopreview = !this.api.autopreview;\n  };\n\n  _proto.generatepreview = function generatepreview() {\n    this.api.renderchange(this.api);\n  };\n\n  _proto.identifyItem = function identifyItem() {\n    var selectionRange = this.api.editor.getSelectionRange();\n    var res = this.api.editor.find(/</g, {\n      backwards: true,\n      start: selectionRange,\n      wrap: true,\n      caseSensitive: false,\n      wholeWord: false,\n      regExp: true\n    });\n    var res2 = this.api.editor.find(/>/g, {\n      backwards: false,\n      start: selectionRange,\n      wrap: true,\n      caseSensitive: false,\n      wholeWord: false,\n      regExp: true\n    });\n    var res3 = this.api.editor.find(/<\\//g, {\n      backwards: false,\n      start: res2,\n      wrap: true,\n      caseSensitive: false,\n      wholeWord: false,\n      regExp: true\n    });\n    var res4 = this.api.editor.find(/>/g, {\n      backwards: false,\n      start: res3,\n      wrap: true,\n      caseSensitive: false,\n      wholeWord: false,\n      regExp: true\n    }); //console.log('identifyItem res1', selectionRange);\n    //console.log('identifyItem res1', res);\n    //console.log('identifyItem res4', res4);\n    //set Range object from res to res4\n\n    res4.start = res.start;\n    this.api.editor.selection.setSelectionRange(res4);\n    var item = this.api.editor.getSelectedText();\n    console.log('identifyItem item:', item); //let itemtag =  var reTagCatcher = /(<.[^(><.)]+>)/g;\n\n    try {\n      var itemtag = item.match(/<(bdl-[^(<> )]+)/g)[0].substr(1);\n      console.log('identifyItem tag:', itemtag);\n      var matchitem = this.basicitems.filter(function (x) {\n        return x.name === itemtag;\n      });\n      var myitem = {};\n\n      if (matchitem && matchitem.length > 0) {\n        myitem.name = itemtag;\n        myitem.def = item;\n        myitem.doc = matchitem[0].doc;\n        myitem.dialog = matchitem[0].dialog;\n      } else {\n        matchitem = this.advanceditems.filter(function (x) {\n          return x.name === itemtag;\n        });\n\n        if (matchitem && matchitem.length > 0) {\n          myitem.name = itemtag;\n          myitem.def = item;\n          myitem.doc = matchitem[0].doc;\n          myitem.dialog = matchitem[0].dialog;\n        }\n      }\n\n      if (myitem.name) this.api.addItem(myitem);else console.error('identifyItem - tag not found in basic/advanced items', itemtag);\n    } catch (err) {\n      console.log('identifyItem - tag not found', err);\n    } //from cursor find previous '<' tag and then find '>' and '</...>'\n\n  };\n\n  return Toolbar;\n}(_bodylightEditorItems__WEBPACK_IMPORTED_MODULE_3__[\"BodylightEditorItems\"]), _temp)) || _class);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy90b29sYmFyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdG9vbGJhci5qcz9lOWEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RWRpdG9yYXBpfSBmcm9tICcuL2VkaXRvcmFwaSc7XG5pbXBvcnQge2luamVjdH0gZnJvbSAnYXVyZWxpYS1mcmFtZXdvcmsnO1xuaW1wb3J0IGxvY2FsRm9yYWdlIGZyb20gJ2xvY2FsZm9yYWdlJztcbmltcG9ydCB7Qm9keWxpZ2h0RWRpdG9ySXRlbXN9IGZyb20gJy4vYm9keWxpZ2h0RWRpdG9ySXRlbXMnO1xuXG5AaW5qZWN0KEVkaXRvcmFwaSlcbmV4cG9ydCBjbGFzcyBUb29sYmFyIGV4dGVuZHMgQm9keWxpZ2h0RWRpdG9ySXRlbXMge1xuICBzaG93QnV0dG9ucyA9ZmFsc2U7XG4gIHVwbG9hZGRpYWxvZyA9IGZhbHNlO1xuICBmaWxlbmFtZT0nd2ViYXBwbGljYXRpb24ubWQnXG4gIGlzRHJhZ2dpbmc9ZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoYXBpKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFwaSA9IGFwaTtcbiAgfVxuXG4gIGF0dGFjaGVkKCkge1xuICAgIGxvY2FsRm9yYWdlLmdldEl0ZW0oJ2JvZHlsaWdodC1wcm9qZWN0cycpXG4gICAgICAudGhlbihwcm9qZWN0cyA9PntcbiAgICAgICAgdGhpcy5wcm9qZWN0cyA9IHByb2plY3RzO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnJvcj0+e1xuICAgICAgICBjb25zb2xlLmxvZygnUHJvamVjdHMgbG9jYWxmb3JhZ2U6JywgZXJyb3IpO1xuICAgICAgfSk7XG4gIH1cblxuICBuZXdTaW5nbGVQYWdlUHJvamVjdCgpIHtcbiAgICBjb25zdCBwcm9qbGVuID0gdGhpcy5wcm9qZWN0cyA/IHRoaXMucHJvamVjdHMubGVuZ3RoIDogMDtcbiAgICBsZXQgbmFtZSA9IHByb21wdCgnUHJvamVjdCBuYW1lIDonLCAnV2ViQXBwbGljYXRpb24nICsgcHJvamxlbik7XG4gICAgdGhpcy5wcm9qZWN0cy5wdXNoKHtuYW1lOiBuYW1lLCB0eXBlOiAnc2luZ2xlJ30pO1xuICB9XG4gIG5ld011bHRpUGFnZVByb2plY3QoKSB7XG4gICAgY29uc3QgcHJvamxlbiA9IHRoaXMucHJvamVjdHMgPyB0aGlzLnByb2plY3RzLmxlbmd0aCA6IDA7XG4gICAgbGV0IG5hbWUgPSBwcm9tcHQoJ1Byb2plY3QgbmFtZSA6JywgJ1dlYkFwcGxpY2F0aW9uJyArIHByb2psZW4pO1xuICAgIHRoaXMucHJvamVjdHMucHVzaCh7bmFtZTogbmFtZSwgdHlwZTogJ211bHRpJ30pO1xuICB9XG5cbiAgZXhwb3J0QXNaaXAoKSB7fVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIC8vZGVsZWdhdGUgdG8gYXBpXG4gICAgdGhpcy5hcGkuYWRkSXRlbShpdGVtKTtcbiAgfVxuXG5cbiAgc2hvd0hlbHAoaXRlbSkge1xuICAgIC8vY29uc29sZS5sb2coXCJjaGFuZ2luZyBoZWxwXCIsaXRlbSk7XG4gICAgdGhpcy5hcGkuaGVscHNyYyA9IGl0ZW0uZG9jO1xuICB9XG5cbiAgdW5kbygpIHtcbiAgICB0aGlzLmFwaS5lZGl0b3IudW5kbygpO1xuICB9XG5cbiAgcmVkbygpIHtcbiAgICB0aGlzLmFwaS5lZGl0b3IucmVkbygpO1xuICB9XG5cbiAgYm9sZCgpIHtcbiAgICB0aGlzLmFwaS5lZGl0b3IuaW5zZXJ0KCcqKioqJyk7XG4gICAgbGV0IHAgPSB0aGlzLmFwaS5lZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB0aGlzLmFwaS5lZGl0b3IubW92ZUN1cnNvclRvKHAucm93LCBwLmNvbHVtbiAtIDIpO1xuICAgIHRoaXMuYXBpLmVkaXRvci5mb2N1cygpO1xuICB9XG5cbiAgaXRhbGljKCkge1xuICAgIHRoaXMuYXBpLmVkaXRvci5pbnNlcnQoJ19fJyk7XG4gICAgbGV0IHAgPSB0aGlzLmFwaS5lZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB0aGlzLmFwaS5lZGl0b3IubW92ZUN1cnNvclRvKHAucm93LCBwLmNvbHVtbiAtIDEpO1xuICAgIHRoaXMuYXBpLmVkaXRvci5mb2N1cygpO1xuICB9XG4gIHVuZGVybGluZSgpIHtcbiAgICB0aGlzLmFwaS5lZGl0b3IuaW5zZXJ0KCc8dT48L3U+Jyk7XG4gICAgbGV0IHAgPSB0aGlzLmFwaS5lZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB0aGlzLmFwaS5lZGl0b3IubW92ZUN1cnNvclRvKHAucm93LCBwLmNvbHVtbiAtIDQpO1xuICAgIHRoaXMuYXBpLmVkaXRvci5mb2N1cygpO1xuICB9XG5cblxuICBjb2RlKCkge1xuICAgIHRoaXMuYXBpLmVkaXRvci5pbnNlcnQoJ2BgJyk7XG4gICAgbGV0IHAgPSB0aGlzLmFwaS5lZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB0aGlzLmFwaS5lZGl0b3IubW92ZUN1cnNvclRvKHAucm93LCBwLmNvbHVtbiAtIDEpO1xuICAgIHRoaXMuYXBpLmVkaXRvci5mb2N1cygpO1xuICB9XG4gIGVxdWF0aW9uKCkge1xuICAgIHRoaXMuYXBpLmVkaXRvci5pbnNlcnQoJyQkJyk7XG4gICAgbGV0IHAgPSB0aGlzLmFwaS5lZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB0aGlzLmFwaS5lZGl0b3IubW92ZUN1cnNvclRvKHAucm93LCBwLmNvbHVtbiAtIDEpO1xuICAgIHRoaXMuYXBpLmVkaXRvci5mb2N1cygpO1xuICB9XG5cblxuICBoMSgpIHtcbiAgICB0aGlzLmFwaS5lZGl0b3IuaW5zZXJ0KCcjICcpO1xuICAgIHRoaXMuYXBpLmVkaXRvci5mb2N1cygpO1xuICB9XG4gIGgyKCkge1xuICAgIHRoaXMuYXBpLmVkaXRvci5pbnNlcnQoJyMjICcpO1xuICAgIHRoaXMuYXBpLmVkaXRvci5mb2N1cygpO1xuICB9XG4gIGgzKCkge1xuICAgIHRoaXMuYXBpLmVkaXRvci5pbnNlcnQoJyMjIyAnKTtcbiAgICB0aGlzLmFwaS5lZGl0b3IuZm9jdXMoKTtcbiAgfVxuICBoNCgpIHtcbiAgICB0aGlzLmFwaS5lZGl0b3IuaW5zZXJ0KCcjIyMjICcpO1xuICAgIHRoaXMuYXBpLmVkaXRvci5mb2N1cygpO1xuICB9XG5cbiAgLy9oYW5kbGVzIGRvd25sb2FkIGJ1dHRvbiBjbGljaywgYXNrcyBmb3IgZmlsZW5hbWUgYW5kIHVzZSBmaWxlLXNhdmVyLnNhdmVBcyBwYWNrYWdlIHRvIHNhdmUgdGhlIGJsb2JcbiAgZG93bmxvYWQoKSB7XG4gICAgdGhpcy5hcGkuZG93bmxvYWQoKTtcbiAgfVxuXG4gIC8vb3BlbnMgdXBsb2FkIGRpYWxvZyB3aXRoIGJ1dHRvbi9hcmVhIHRvIGRyYWduZHJvcCBmaWxlXG4gIHVwbG9hZCgpIHtcbiAgICB0aGlzLnVwbG9hZGRpYWxvZyA9ICEgdGhpcy51cGxvYWRkaWFsb2c7XG4gIH1cbiAgLy9oYW5kbGVzIGFmdGVyIGZpbGUgaXMgbG9hZGVkXG4gIGhhbmRsZUZpbGVMb2FkKGV2ZW50KSB7XG4gICAgY29uc29sZS5sb2coJ2hhbmRsZWZpbGVsb2FkIGV2ZW50OicsIGV2ZW50KTtcbiAgICBsZXQgZGF0YSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgY29uc29sZS5sb2coJ2hhbmRsZWZpbGUgZGF0YTonLCBkYXRhKTtcbiAgICB3aW5kb3cuZWRpdG9yLmVkaXRvci5zZXRWYWx1ZShkYXRhKTtcbiAgICB3aW5kb3cuZWRpdG9yLmVkaXRvci5mb2N1cygpO1xuICB9XG5cbiAgZHJhZyhldmVudCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG5cbiAgZHJvcChldmVudCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5kcmFnTmRyb3AoZXZlbnQpO1xuICB9XG5cbiAgLy9zdGFydHMgZmlsZSBsb2FkaW5nXG4gIGRyYWdOZHJvcChldmVudCkge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgLy9zZXRzIGdsb2JhbCB2YXJpYWJsZSB0byB0aGlzIGluc3RhbmNlXG4gICAgd2luZG93LmVkaXRvciA9IHRoaXM7XG4gICAgcmVhZGVyLm9ubG9hZCA9IHRoaXMuaGFuZGxlRmlsZUxvYWQ7XG4gICAgbGV0IGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzIHx8IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBjb25zb2xlLmxvZyhmaWxlcyk7XG4gICAgdGhpcy5maWxlbmFtZSA9IGZpbGVzWzBdLm5hbWU7XG4gICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZXNbMF0pO1xuICAgIHRoaXMudXBsb2FkZGlhbG9nID0gZmFsc2U7XG4gIH1cblxuICBzYXZlKCkge1xuXG4gIH1cbiAgbG9hZCgpIHtcblxuICB9XG5cbiAgcHJldmlldygpIHtcbiAgICB0aGlzLmFwaS5wcmV2aWV3bW9kZSA9ICEgdGhpcy5hcGkucHJldmlld21vZGU7XG4gICAgLy9jYWxsIHJlc2l6ZSBvbiBBZG9iZSBBbmltYXRlIC0gYWZ0ZXIgMC41c1xuICAgIGlmICh3aW5kb3cuYW5pKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge3dpbmRvdy5hbmkuaGFuZGxlUmVzaXplKCk7fSwgNTAwKTtcbiAgICB9XG4gIH1cblxuICBhdXRvcHJldmlldygpIHtcbiAgICB0aGlzLmFwaS5hdXRvcHJldmlldyA9ICEgdGhpcy5hcGkuYXV0b3ByZXZpZXc7XG4gIH1cblxuICBnZW5lcmF0ZXByZXZpZXcoKSB7XG4gICAgdGhpcy5hcGkucmVuZGVyY2hhbmdlKHRoaXMuYXBpKTtcbiAgfVxuXG4gIGlkZW50aWZ5SXRlbSgpIHtcbiAgICBsZXQgc2VsZWN0aW9uUmFuZ2UgPSB0aGlzLmFwaS5lZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICBsZXQgcmVzID0gdGhpcy5hcGkuZWRpdG9yLmZpbmQoLzwvZywgeyBiYWNrd2FyZHM6IHRydWUsIHN0YXJ0OiBzZWxlY3Rpb25SYW5nZSwgd3JhcDogdHJ1ZSwgY2FzZVNlbnNpdGl2ZTogZmFsc2UsIHdob2xlV29yZDogZmFsc2UsIHJlZ0V4cDogdHJ1ZX0pO1xuICAgIGxldCByZXMyID0gdGhpcy5hcGkuZWRpdG9yLmZpbmQoLz4vZywgeyBiYWNrd2FyZHM6IGZhbHNlLCBzdGFydDogc2VsZWN0aW9uUmFuZ2UsIHdyYXA6IHRydWUsIGNhc2VTZW5zaXRpdmU6IGZhbHNlLCB3aG9sZVdvcmQ6IGZhbHNlLCByZWdFeHA6IHRydWV9KTtcbiAgICBsZXQgcmVzMyA9IHRoaXMuYXBpLmVkaXRvci5maW5kKC88XFwvL2csIHsgYmFja3dhcmRzOiBmYWxzZSwgc3RhcnQ6IHJlczIsIHdyYXA6IHRydWUsIGNhc2VTZW5zaXRpdmU6IGZhbHNlLCB3aG9sZVdvcmQ6IGZhbHNlLCByZWdFeHA6IHRydWV9KTtcbiAgICBsZXQgcmVzNCA9IHRoaXMuYXBpLmVkaXRvci5maW5kKC8+L2csIHsgYmFja3dhcmRzOiBmYWxzZSwgc3RhcnQ6IHJlczMsIHdyYXA6IHRydWUsIGNhc2VTZW5zaXRpdmU6IGZhbHNlLCB3aG9sZVdvcmQ6IGZhbHNlLCByZWdFeHA6IHRydWV9KTtcbiAgICAvL2NvbnNvbGUubG9nKCdpZGVudGlmeUl0ZW0gcmVzMScsIHNlbGVjdGlvblJhbmdlKTtcbiAgICAvL2NvbnNvbGUubG9nKCdpZGVudGlmeUl0ZW0gcmVzMScsIHJlcyk7XG4gICAgLy9jb25zb2xlLmxvZygnaWRlbnRpZnlJdGVtIHJlczQnLCByZXM0KTtcbiAgICAvL3NldCBSYW5nZSBvYmplY3QgZnJvbSByZXMgdG8gcmVzNFxuICAgIHJlczQuc3RhcnQgPSByZXMuc3RhcnQ7XG4gICAgdGhpcy5hcGkuZWRpdG9yLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShyZXM0KTtcbiAgICBsZXQgaXRlbSA9IHRoaXMuYXBpLmVkaXRvci5nZXRTZWxlY3RlZFRleHQoKTtcbiAgICBjb25zb2xlLmxvZygnaWRlbnRpZnlJdGVtIGl0ZW06JywgaXRlbSk7XG4gICAgLy9sZXQgaXRlbXRhZyA9ICB2YXIgcmVUYWdDYXRjaGVyID0gLyg8LlteKD48LildKz4pL2c7XG5cbiAgICB0cnkge1xuICAgICAgbGV0IGl0ZW10YWcgPSBpdGVtLm1hdGNoKC88KGJkbC1bXig8PiApXSspL2cpWzBdLnN1YnN0cigxKTtcbiAgICAgIGNvbnNvbGUubG9nKCdpZGVudGlmeUl0ZW0gdGFnOicsIGl0ZW10YWcpO1xuICAgICAgbGV0IG1hdGNoaXRlbSA9IHRoaXMuYmFzaWNpdGVtcy5maWx0ZXIoeCA9PiB4Lm5hbWUgPT09IGl0ZW10YWcpO1xuICAgICAgbGV0IG15aXRlbSA9IHt9O1xuICAgICAgaWYgKG1hdGNoaXRlbSAmJiBtYXRjaGl0ZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICBteWl0ZW0ubmFtZSA9IGl0ZW10YWc7IG15aXRlbS5kZWYgPSBpdGVtOyBteWl0ZW0uZG9jID0gbWF0Y2hpdGVtWzBdLmRvYzsgbXlpdGVtLmRpYWxvZyA9IG1hdGNoaXRlbVswXS5kaWFsb2c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGl0ZW0gPSB0aGlzLmFkdmFuY2VkaXRlbXMuZmlsdGVyKHggPT4geC5uYW1lID09PSBpdGVtdGFnKTtcbiAgICAgICAgaWYgKG1hdGNoaXRlbSAmJiBtYXRjaGl0ZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIG15aXRlbS5uYW1lID0gaXRlbXRhZzsgbXlpdGVtLmRlZiA9IGl0ZW07IG15aXRlbS5kb2MgPSBtYXRjaGl0ZW1bMF0uZG9jOyBteWl0ZW0uZGlhbG9nID0gbWF0Y2hpdGVtWzBdLmRpYWxvZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG15aXRlbS5uYW1lKSB0aGlzLmFwaS5hZGRJdGVtKG15aXRlbSk7XG4gICAgICBlbHNlIGNvbnNvbGUuZXJyb3IoJ2lkZW50aWZ5SXRlbSAtIHRhZyBub3QgZm91bmQgaW4gYmFzaWMvYWR2YW5jZWQgaXRlbXMnLCBpdGVtdGFnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdpZGVudGlmeUl0ZW0gLSB0YWcgbm90IGZvdW5kJywgZXJyKTtcbiAgICB9XG5cblxuICAgIC8vZnJvbSBjdXJzb3IgZmluZCBwcmV2aW91cyAnPCcgdGFnIGFuZCB0aGVuIGZpbmQgJz4nIGFuZCAnPC8uLi4+J1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUZBO0FBR0E7QUFDQTtBQVZBO0FBQ0E7QUFEQTtBQVdBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXBCQTtBQXNCQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBMUJBO0FBMkJBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUEvQkE7QUFDQTtBQURBO0FBbUNBO0FBQ0E7QUFDQTtBQUNBO0FBdENBO0FBeUNBO0FBQ0E7QUFDQTtBQUNBO0FBNUNBO0FBOENBO0FBQ0E7QUFDQTtBQWhEQTtBQWtEQTtBQUNBO0FBQ0E7QUFwREE7QUFzREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0RBO0FBNkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxFQTtBQW1FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4RUE7QUEyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEZBO0FBaUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRGQTtBQXlGQTtBQUNBO0FBQ0E7QUFDQTtBQTVGQTtBQTZGQTtBQUNBO0FBQ0E7QUFDQTtBQWhHQTtBQWlHQTtBQUNBO0FBQ0E7QUFDQTtBQXBHQTtBQXFHQTtBQUNBO0FBQ0E7QUF2R0E7QUFDQTtBQURBO0FBMkdBO0FBQ0E7QUE1R0E7QUFDQTtBQURBO0FBZ0hBO0FBQ0E7QUFqSEE7QUFDQTtBQURBO0FBb0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMUhBO0FBNEhBO0FBQ0E7QUFDQTtBQUNBO0FBL0hBO0FBa0lBO0FBQ0E7QUFDQTtBQUNBO0FBcklBO0FBQ0E7QUFEQTtBQXlJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkpBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUE0SkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBbEtBO0FBb0tBO0FBQ0E7QUFDQTtBQXRLQTtBQXdLQTtBQUNBO0FBQ0E7QUExS0E7QUE0S0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBak5BO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///components/toolbar\n");

/***/ }),

/***/ "components/toolbar.html":
/*!*************************************!*\
  !*** ./src/components/toolbar.html ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = \"<template>\\n  <require from=\\\"./animations.css\\\"></require>\\n\\n      <div class=\\\"w3-card-2 w3-theme-l5 w3-small\\\">\\n        <span class=\\\"w3-small\\\"><pre style=\\\"display:inline\\\" title=\\\"basic bodylight components\\\">basic :</pre></span>\\n        <span repeat.for=\\\"item of basicitems\\\" class=\\\"w3-padding-4 w3-theme-l1\\\" style=\\\"margin-right:4px\\\">\\n          <span class=\\\"w3-hover-blue\\\" click.delegate=\\\"addItem(item)\\\" title=\\\"add item into edited text\\\">${item.name}</span>\\n          <span class=\\\"w3-hover-blue\\\" click.delegate=\\\"showHelp(item)\\\" title=\\\"show help\\\"><i class=\\\"fa fa-question-circle\\\"></i></span>\\n        </span><br/>\\n        <span class=\\\"w3-small\\\"><pre style=\\\"display:inline\\\" title=\\\"advanced bodylight components\\\">advan.:</pre></span>\\n        <span repeat.for=\\\"item of advanceditems\\\" class=\\\"w3-padding-4 w3-theme-l1\\\" style=\\\"margin-right:4px\\\">\\n          <span class=\\\"w3-hover-blue\\\" click.delegate=\\\"addItem(item)\\\" title=\\\"add item into edited text\\\">${item.name}</span>\\n          <span class=\\\"w3-hover-blue\\\" click.delegate=\\\"showHelp(item)\\\" title=\\\"show help\\\"><i class=\\\"fa fa-question-circle\\\"></i></span>\\n        </span><br/>\\n        <span class=\\\"w3-small\\\"><pre style=\\\"display:inline\\\" title=\\\"basic editor tools\\\">editor:</pre></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"undo()\\\" title=\\\"undo\\\"><i class=\\\"fa fa-undo\\\"></i></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"redo()\\\" title=\\\"redo\\\"><i class=\\\"fa fa-repeat\\\"></i></span>\\n        <span class=\\\"w3-border-right\\\" style=\\\"margin-left:4px;margin-right:4px\\\"></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"bold()\\\" title=\\\"bold\\\"><i class=\\\"fa fa-bold\\\"></i></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"italic()\\\" title=\\\"italic\\\"><i class=\\\"fa fa-italic\\\"></i></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"underline()\\\" title=\\\"underline\\\"><i class=\\\"fa fa-underline\\\"></i></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"h1()\\\" title=\\\"header 1\\\" class=\\\"w3-large\\\">H1</span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"h2()\\\" title=\\\"header 2\\\" class=\\\"w3-medium\\\">H2</span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"h3()\\\" title=\\\"header 3\\\" class=\\\"w3-small\\\">H3</span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"h4()\\\" title=\\\"header 4\\\" class=\\\"w3-tiny\\\">H4</span>\\n        <span class=\\\"w3-border-right\\\" style=\\\"margin-left:4px;margin-right:4px\\\"></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"code()\\\" title=\\\"programming code\\\"><i class=\\\"fa fa-code\\\"></i></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"equation()\\\" title=\\\"equation\\\"><i class=\\\"fa fa-superscript\\\"></i></span>\\n        <span class=\\\"w3-border-right\\\" style=\\\"margin-left:4px;margin-right:4px\\\"></span>\\n        <!--span class=\\\"w3-theme-l2\\\" click.delegate=\\\"save()\\\" title=\\\"save file\\\"><i class=\\\"fa fa-save\\\"></i></span-->\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"download()\\\" title=\\\"download file\\\"><i class=\\\"fa fa-download\\\"></i></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"upload()\\\" title=\\\"upload file\\\"><i class=\\\"fa fa-upload\\\"></i></span>\\n        <div show.bind=\\\"uploaddialog\\\"\\n\\n             dragenter.delegate=\\\"drag($event)\\\"\\n             dragover.delegate=\\\"drag($event)\\\"\\n             drop.delegate=\\\"drop($event)\\\"\\n             style=\\\"position:absolute;z-index:5;border:4px dashed #aaa;;margin-top:-4px;margin-left:8px\\\"\\n             class.bind=\\\"isDragging ? 'w3-padding w3-round-large w3-blue w3-card-24':'w3-padding w3-round-large w3-white w3-card-24'\\\">\\n          <p>Drag your files here or click on this area</p>\\n          <input type=\\\"file\\\" change.trigger=\\\"dragNdrop($event)\\\"/>\\n        </div>\\n        <span class=\\\"w3-border-right\\\" style=\\\"margin-left:4px;margin-right:4px\\\"></span>\\n        <span class.bind=\\\"api.previewmode? 'w3-padding-4 w3-hover-blue w3-grey' : 'w3-padding-4 w3-hover-blue'\\\"  click.delegate=\\\"preview()\\\" title=\\\"expand preview\\\"><i class=\\\"fa fa-eye\\\"></i></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"autopreview()\\\" title=\\\"automatically preview\\\"><i class.bind=\\\"api.autopreview? 'fa fa-check-square-o':'fa fa-square-o'\\\"></i><i class=\\\"fa fa-eye-slash\\\"></i></span>\\n        <span class=\\\"w3-padding-4 w3-hover-blue\\\"  click.delegate=\\\"generatepreview()\\\" title=\\\"generate preview\\\"><i class=\\\"fa fa-refresh\\\"></i></span>\\n        <span class=\\\"w3-border-right\\\" style=\\\"margin-left:4px;margin-right:4px\\\"></span>\\n        <span class=\\\"w3-padding-4 w3-theme-l1\\\" style=\\\"margin-right:4px\\\">\\n          <span class=\\\"w3-hover-blue\\\" click.delegate=\\\"identifyItem()\\\" title=\\\"identify and edit component\\\">identify/edit</span>\\n        </span>\\n      </div>\\n\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy90b29sYmFyLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy90b29sYmFyLmh0bWw/N2M3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9hbmltYXRpb25zLmNzc1xcXCI+PC9yZXF1aXJlPlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInczLWNhcmQtMiB3My10aGVtZS1sNSB3My1zbWFsbFxcXCI+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtc21hbGxcXFwiPjxwcmUgc3R5bGU9XFxcImRpc3BsYXk6aW5saW5lXFxcIiB0aXRsZT1cXFwiYmFzaWMgYm9keWxpZ2h0IGNvbXBvbmVudHNcXFwiPmJhc2ljIDo8L3ByZT48L3NwYW4+XFxuICAgICAgICA8c3BhbiByZXBlYXQuZm9yPVxcXCJpdGVtIG9mIGJhc2ljaXRlbXNcXFwiIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtdGhlbWUtbDFcXFwiIHN0eWxlPVxcXCJtYXJnaW4tcmlnaHQ6NHB4XFxcIj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInczLWhvdmVyLWJsdWVcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJhZGRJdGVtKGl0ZW0pXFxcIiB0aXRsZT1cXFwiYWRkIGl0ZW0gaW50byBlZGl0ZWQgdGV4dFxcXCI+JHtpdGVtLm5hbWV9PC9zcGFuPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtaG92ZXItYmx1ZVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInNob3dIZWxwKGl0ZW0pXFxcIiB0aXRsZT1cXFwic2hvdyBoZWxwXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtcXVlc3Rpb24tY2lyY2xlXFxcIj48L2k+PC9zcGFuPlxcbiAgICAgICAgPC9zcGFuPjxici8+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtc21hbGxcXFwiPjxwcmUgc3R5bGU9XFxcImRpc3BsYXk6aW5saW5lXFxcIiB0aXRsZT1cXFwiYWR2YW5jZWQgYm9keWxpZ2h0IGNvbXBvbmVudHNcXFwiPmFkdmFuLjo8L3ByZT48L3NwYW4+XFxuICAgICAgICA8c3BhbiByZXBlYXQuZm9yPVxcXCJpdGVtIG9mIGFkdmFuY2VkaXRlbXNcXFwiIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtdGhlbWUtbDFcXFwiIHN0eWxlPVxcXCJtYXJnaW4tcmlnaHQ6NHB4XFxcIj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInczLWhvdmVyLWJsdWVcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJhZGRJdGVtKGl0ZW0pXFxcIiB0aXRsZT1cXFwiYWRkIGl0ZW0gaW50byBlZGl0ZWQgdGV4dFxcXCI+JHtpdGVtLm5hbWV9PC9zcGFuPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtaG92ZXItYmx1ZVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInNob3dIZWxwKGl0ZW0pXFxcIiB0aXRsZT1cXFwic2hvdyBoZWxwXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtcXVlc3Rpb24tY2lyY2xlXFxcIj48L2k+PC9zcGFuPlxcbiAgICAgICAgPC9zcGFuPjxici8+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtc21hbGxcXFwiPjxwcmUgc3R5bGU9XFxcImRpc3BsYXk6aW5saW5lXFxcIiB0aXRsZT1cXFwiYmFzaWMgZWRpdG9yIHRvb2xzXFxcIj5lZGl0b3I6PC9wcmU+PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInczLXBhZGRpbmctNCB3My1ob3Zlci1ibHVlXFxcIiAgY2xpY2suZGVsZWdhdGU9XFxcInVuZG8oKVxcXCIgdGl0bGU9XFxcInVuZG9cXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS11bmRvXFxcIj48L2k+PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInczLXBhZGRpbmctNCB3My1ob3Zlci1ibHVlXFxcIiAgY2xpY2suZGVsZWdhdGU9XFxcInJlZG8oKVxcXCIgdGl0bGU9XFxcInJlZG9cXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1yZXBlYXRcXFwiPjwvaT48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtYm9yZGVyLXJpZ2h0XFxcIiBzdHlsZT1cXFwibWFyZ2luLWxlZnQ6NHB4O21hcmdpbi1yaWdodDo0cHhcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtaG92ZXItYmx1ZVxcXCIgIGNsaWNrLmRlbGVnYXRlPVxcXCJib2xkKClcXFwiIHRpdGxlPVxcXCJib2xkXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtYm9sZFxcXCI+PC9pPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtaG92ZXItYmx1ZVxcXCIgIGNsaWNrLmRlbGVnYXRlPVxcXCJpdGFsaWMoKVxcXCIgdGl0bGU9XFxcIml0YWxpY1xcXCI+PGkgY2xhc3M9XFxcImZhIGZhLWl0YWxpY1xcXCI+PC9pPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtaG92ZXItYmx1ZVxcXCIgIGNsaWNrLmRlbGVnYXRlPVxcXCJ1bmRlcmxpbmUoKVxcXCIgdGl0bGU9XFxcInVuZGVybGluZVxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXVuZGVybGluZVxcXCI+PC9pPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtaG92ZXItYmx1ZVxcXCIgIGNsaWNrLmRlbGVnYXRlPVxcXCJoMSgpXFxcIiB0aXRsZT1cXFwiaGVhZGVyIDFcXFwiIGNsYXNzPVxcXCJ3My1sYXJnZVxcXCI+SDE8L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtcGFkZGluZy00IHczLWhvdmVyLWJsdWVcXFwiICBjbGljay5kZWxlZ2F0ZT1cXFwiaDIoKVxcXCIgdGl0bGU9XFxcImhlYWRlciAyXFxcIiBjbGFzcz1cXFwidzMtbWVkaXVtXFxcIj5IMjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtaG92ZXItYmx1ZVxcXCIgIGNsaWNrLmRlbGVnYXRlPVxcXCJoMygpXFxcIiB0aXRsZT1cXFwiaGVhZGVyIDNcXFwiIGNsYXNzPVxcXCJ3My1zbWFsbFxcXCI+SDM8L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtcGFkZGluZy00IHczLWhvdmVyLWJsdWVcXFwiICBjbGljay5kZWxlZ2F0ZT1cXFwiaDQoKVxcXCIgdGl0bGU9XFxcImhlYWRlciA0XFxcIiBjbGFzcz1cXFwidzMtdGlueVxcXCI+SDQ8L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtYm9yZGVyLXJpZ2h0XFxcIiBzdHlsZT1cXFwibWFyZ2luLWxlZnQ6NHB4O21hcmdpbi1yaWdodDo0cHhcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtaG92ZXItYmx1ZVxcXCIgIGNsaWNrLmRlbGVnYXRlPVxcXCJjb2RlKClcXFwiIHRpdGxlPVxcXCJwcm9ncmFtbWluZyBjb2RlXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtY29kZVxcXCI+PC9pPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtaG92ZXItYmx1ZVxcXCIgIGNsaWNrLmRlbGVnYXRlPVxcXCJlcXVhdGlvbigpXFxcIiB0aXRsZT1cXFwiZXF1YXRpb25cXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1zdXBlcnNjcmlwdFxcXCI+PC9pPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1ib3JkZXItcmlnaHRcXFwiIHN0eWxlPVxcXCJtYXJnaW4tbGVmdDo0cHg7bWFyZ2luLXJpZ2h0OjRweFxcXCI+PC9zcGFuPlxcbiAgICAgICAgPCEtLXNwYW4gY2xhc3M9XFxcInczLXRoZW1lLWwyXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwic2F2ZSgpXFxcIiB0aXRsZT1cXFwic2F2ZSBmaWxlXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtc2F2ZVxcXCI+PC9pPjwvc3Bhbi0tPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInczLXBhZGRpbmctNCB3My1ob3Zlci1ibHVlXFxcIiAgY2xpY2suZGVsZWdhdGU9XFxcImRvd25sb2FkKClcXFwiIHRpdGxlPVxcXCJkb3dubG9hZCBmaWxlXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtZG93bmxvYWRcXFwiPjwvaT48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtcGFkZGluZy00IHczLWhvdmVyLWJsdWVcXFwiICBjbGljay5kZWxlZ2F0ZT1cXFwidXBsb2FkKClcXFwiIHRpdGxlPVxcXCJ1cGxvYWQgZmlsZVxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXVwbG9hZFxcXCI+PC9pPjwvc3Bhbj5cXG4gICAgICAgIDxkaXYgc2hvdy5iaW5kPVxcXCJ1cGxvYWRkaWFsb2dcXFwiXFxuXFxuICAgICAgICAgICAgIGRyYWdlbnRlci5kZWxlZ2F0ZT1cXFwiZHJhZygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICBkcmFnb3Zlci5kZWxlZ2F0ZT1cXFwiZHJhZygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICBkcm9wLmRlbGVnYXRlPVxcXCJkcm9wKCRldmVudClcXFwiXFxuICAgICAgICAgICAgIHN0eWxlPVxcXCJwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjU7Ym9yZGVyOjRweCBkYXNoZWQgI2FhYTs7bWFyZ2luLXRvcDotNHB4O21hcmdpbi1sZWZ0OjhweFxcXCJcXG4gICAgICAgICAgICAgY2xhc3MuYmluZD1cXFwiaXNEcmFnZ2luZyA/ICd3My1wYWRkaW5nIHczLXJvdW5kLWxhcmdlIHczLWJsdWUgdzMtY2FyZC0yNCc6J3czLXBhZGRpbmcgdzMtcm91bmQtbGFyZ2UgdzMtd2hpdGUgdzMtY2FyZC0yNCdcXFwiPlxcbiAgICAgICAgICA8cD5EcmFnIHlvdXIgZmlsZXMgaGVyZSBvciBjbGljayBvbiB0aGlzIGFyZWE8L3A+XFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJmaWxlXFxcIiBjaGFuZ2UudHJpZ2dlcj1cXFwiZHJhZ05kcm9wKCRldmVudClcXFwiLz5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInczLWJvcmRlci1yaWdodFxcXCIgc3R5bGU9XFxcIm1hcmdpbi1sZWZ0OjRweDttYXJnaW4tcmlnaHQ6NHB4XFxcIj48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcy5iaW5kPVxcXCJhcGkucHJldmlld21vZGU/ICd3My1wYWRkaW5nLTQgdzMtaG92ZXItYmx1ZSB3My1ncmV5JyA6ICd3My1wYWRkaW5nLTQgdzMtaG92ZXItYmx1ZSdcXFwiICBjbGljay5kZWxlZ2F0ZT1cXFwicHJldmlldygpXFxcIiB0aXRsZT1cXFwiZXhwYW5kIHByZXZpZXdcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1leWVcXFwiPjwvaT48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtcGFkZGluZy00IHczLWhvdmVyLWJsdWVcXFwiICBjbGljay5kZWxlZ2F0ZT1cXFwiYXV0b3ByZXZpZXcoKVxcXCIgdGl0bGU9XFxcImF1dG9tYXRpY2FsbHkgcHJldmlld1xcXCI+PGkgY2xhc3MuYmluZD1cXFwiYXBpLmF1dG9wcmV2aWV3PyAnZmEgZmEtY2hlY2stc3F1YXJlLW8nOidmYSBmYS1zcXVhcmUtbydcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtZXllLXNsYXNoXFxcIj48L2k+PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInczLXBhZGRpbmctNCB3My1ob3Zlci1ibHVlXFxcIiAgY2xpY2suZGVsZWdhdGU9XFxcImdlbmVyYXRlcHJldmlldygpXFxcIiB0aXRsZT1cXFwiZ2VuZXJhdGUgcHJldmlld1xcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXJlZnJlc2hcXFwiPjwvaT48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidzMtYm9yZGVyLXJpZ2h0XFxcIiBzdHlsZT1cXFwibWFyZ2luLWxlZnQ6NHB4O21hcmdpbi1yaWdodDo0cHhcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1wYWRkaW5nLTQgdzMtdGhlbWUtbDFcXFwiIHN0eWxlPVxcXCJtYXJnaW4tcmlnaHQ6NHB4XFxcIj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInczLWhvdmVyLWJsdWVcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJpZGVudGlmeUl0ZW0oKVxcXCIgdGl0bGU9XFxcImlkZW50aWZ5IGFuZCBlZGl0IGNvbXBvbmVudFxcXCI+aWRlbnRpZnkvZWRpdDwvc3Bhbj5cXG4gICAgICAgIDwvc3Bhbj5cXG4gICAgICA8L2Rpdj5cXG5cXG5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///components/toolbar.html\n");

/***/ }),

/***/ "components/viewer":
/*!**********************************!*\
  !*** ./src/components/viewer.js ***!
  \**********************************/
/*! exports provided: Viewer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Viewer\", function() { return Viewer; });\nvar Viewer = function Viewer() {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy92aWV3ZXIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy92aWV3ZXIuanM/OThmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmlld2VyIHt9XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///components/viewer\n");

/***/ }),

/***/ "components/viewer.html":
/*!************************************!*\
  !*** ./src/components/viewer.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div class=\\\"w3-tiny\\\">\\n    <markdownaurelia fromid=\\\"editorref\\\" src=\\\"\\\"></markdownaurelia>\\n  </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy92aWV3ZXIuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3ZpZXdlci5odG1sPzNmZGEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcInczLXRpbnlcXFwiPlxcbiAgICA8bWFya2Rvd25hdXJlbGlhIGZyb21pZD1cXFwiZWRpdG9ycmVmXFxcIiBzcmM9XFxcIlxcXCI+PC9tYXJrZG93bmF1cmVsaWE+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///components/viewer.html\n");

/***/ }),

/***/ "editorapp":
/*!**************************!*\
  !*** ./src/editorapp.js ***!
  \**************************/
/*! exports provided: Editorapp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Editorapp\", function() { return Editorapp; });\n/* harmony import */ var aurelia_framework__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n/* harmony import */ var _components_editorapi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/editorapi */ \"6Y9Y\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../package.json */ \"kiQV\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../package.json */ \"kiQV\", 1);\nvar _dec, _class;\n\n\n\n\nvar Editorapp = (_dec = Object(aurelia_framework__WEBPACK_IMPORTED_MODULE_0__[\"inject\"])(_components_editorapi__WEBPACK_IMPORTED_MODULE_1__[\"Editorapi\"]), _dec(_class = function Editorapp(api) {\n  this.api = api;\n  this.version = _package_json__WEBPACK_IMPORTED_MODULE_2__[\"version\"];\n}) || _class);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdG9yYXBwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2VkaXRvcmFwcC5qcz9lNGMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aW5qZWN0fSBmcm9tICdhdXJlbGlhLWZyYW1ld29yayc7XG5pbXBvcnQge0VkaXRvcmFwaX0gZnJvbSAnLi9jb21wb25lbnRzL2VkaXRvcmFwaSc7XG5pbXBvcnQge3ZlcnNpb259IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5cbkBpbmplY3QoRWRpdG9yYXBpKVxuZXhwb3J0IGNsYXNzIEVkaXRvcmFwcCB7XG4gIGNvbnN0cnVjdG9yKGFwaSkge1xuICAgIHRoaXMuYXBpID0gYXBpO1xuICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///editorapp\n");

/***/ }),

/***/ "editorapp.html":
/*!****************************!*\
  !*** ./src/editorapp.html ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = \"<template>\\n  <require from=\\\"./components/toolbar\\\"></require>\\n  <require from=\\\"./components/a-dialog\\\"></require>\\n  <require from=\\\"./components/file-dialog\\\"></require>\\n  <require from=\\\"./components/help\\\"></require>\\n  <require from=\\\"./components/editor\\\"></require>\\n  <require from=\\\"./components/viewer\\\"></require>\\n  <require from=\\\"./components/project\\\"></require>\\n  <require from=\\\"w3-css/w3.css\\\"></require>\\n  <require from=\\\"./w3-theme-bodylight.css\\\"></require>\\n\\n  <div class=\\\"w3-row\\\">\\n    <div class=\\\"w3-col s6 m4 l3\\\">\\n      <project></project>\\n      <a-dialog></a-dialog>\\n      <help></help>\\n    </div>\\n    <div class=\\\"w3-col s6 m8 l9\\\">\\n      <div class=\\\"w3-center\\\"><b>Bodylight Editor v ${version}</b></div>\\n      <toolbar></toolbar>\\n      <div class=\\\"w3-half\\\" show.bind=\\\"!api.previewmode\\\">\\n        <editor></editor>\\n      </div>\\n      <div class=\\\"w3-rest\\\">\\n        <viewer></viewer>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdG9yYXBwLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZWRpdG9yYXBwLmh0bWw/YTQxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9jb21wb25lbnRzL3Rvb2xiYXJcXFwiPjwvcmVxdWlyZT5cXG4gIDxyZXF1aXJlIGZyb209XFxcIi4vY29tcG9uZW50cy9hLWRpYWxvZ1xcXCI+PC9yZXF1aXJlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9jb21wb25lbnRzL2ZpbGUtZGlhbG9nXFxcIj48L3JlcXVpcmU+XFxuICA8cmVxdWlyZSBmcm9tPVxcXCIuL2NvbXBvbmVudHMvaGVscFxcXCI+PC9yZXF1aXJlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9jb21wb25lbnRzL2VkaXRvclxcXCI+PC9yZXF1aXJlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9jb21wb25lbnRzL3ZpZXdlclxcXCI+PC9yZXF1aXJlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9jb21wb25lbnRzL3Byb2plY3RcXFwiPjwvcmVxdWlyZT5cXG4gIDxyZXF1aXJlIGZyb209XFxcInczLWNzcy93My5jc3NcXFwiPjwvcmVxdWlyZT5cXG4gIDxyZXF1aXJlIGZyb209XFxcIi4vdzMtdGhlbWUtYm9keWxpZ2h0LmNzc1xcXCI+PC9yZXF1aXJlPlxcblxcbiAgPGRpdiBjbGFzcz1cXFwidzMtcm93XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidzMtY29sIHM2IG00IGwzXFxcIj5cXG4gICAgICA8cHJvamVjdD48L3Byb2plY3Q+XFxuICAgICAgPGEtZGlhbG9nPjwvYS1kaWFsb2c+XFxuICAgICAgPGhlbHA+PC9oZWxwPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidzMtY29sIHM2IG04IGw5XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ3My1jZW50ZXJcXFwiPjxiPkJvZHlsaWdodCBFZGl0b3IgdiAke3ZlcnNpb259PC9iPjwvZGl2PlxcbiAgICAgIDx0b29sYmFyPjwvdG9vbGJhcj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ3My1oYWxmXFxcIiBzaG93LmJpbmQ9XFxcIiFhcGkucHJldmlld21vZGVcXFwiPlxcbiAgICAgICAgPGVkaXRvcj48L2VkaXRvcj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ3My1yZXN0XFxcIj5cXG4gICAgICAgIDx2aWV3ZXI+PC92aWV3ZXI+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cIjsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///editorapp.html\n");

/***/ }),

/***/ "editormain":
/*!***************************!*\
  !*** ./src/editormain.js ***!
  \***************************/
/*! exports provided: configure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"configure\", function() { return configure; });\n/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! regenerator-runtime/runtime */ \"ls82\");\n/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_environment_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/environment.json */ \"BEPO\");\nvar _config_environment_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../config/environment.json */ \"BEPO\", 1);\n/* harmony import */ var aurelia_pal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aurelia-pal */ \"70NS\");\n// regenerator-runtime is to support async/await syntax in ESNext.\n// If you target latest browsers (have native support), or don't use async/await, you can remove regenerator-runtime.\n\n\n\nfunction configure(aurelia) {\n  aurelia.use.standardConfiguration().plugin('aurelia-bodylight-plugin').plugin('aurelia-dynamic-html').plugin('aurelia-animator-css').feature('resources/index');\n  aurelia.use.developmentLogging(_config_environment_json__WEBPACK_IMPORTED_MODULE_1__[\"debug\"] ? 'debug' : 'warn');\n\n  if (_config_environment_json__WEBPACK_IMPORTED_MODULE_1__[\"testing\"]) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(function () {\n    //const registry = aurelia.container.get(CustomElementRegistry);\n    aurelia.setRoot('editorapp');\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdG9ybWFpbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9lZGl0b3JtYWluLmpzP2EwMWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVnZW5lcmF0b3ItcnVudGltZSBpcyB0byBzdXBwb3J0IGFzeW5jL2F3YWl0IHN5bnRheCBpbiBFU05leHQuXG4vLyBJZiB5b3UgdGFyZ2V0IGxhdGVzdCBicm93c2VycyAoaGF2ZSBuYXRpdmUgc3VwcG9ydCksIG9yIGRvbid0IHVzZSBhc3luYy9hd2FpdCwgeW91IGNhbiByZW1vdmUgcmVnZW5lcmF0b3ItcnVudGltZS5cbmltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lJztcbmltcG9ydCAqIGFzIGVudmlyb25tZW50IGZyb20gJy4uL2NvbmZpZy9lbnZpcm9ubWVudC5qc29uJztcbmltcG9ydCB7UExBVEZPUk19IGZyb20gJ2F1cmVsaWEtcGFsJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZShhdXJlbGlhKSB7XG4gIGF1cmVsaWEudXNlXG4gICAgLnN0YW5kYXJkQ29uZmlndXJhdGlvbigpXG4gICAgLnBsdWdpbihQTEFURk9STS5tb2R1bGVOYW1lKCdhdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4nKSlcbiAgICAucGx1Z2luKFBMQVRGT1JNLm1vZHVsZU5hbWUoJ2F1cmVsaWEtZHluYW1pYy1odG1sJykpXG4gICAgLnBsdWdpbihQTEFURk9STS5tb2R1bGVOYW1lKCdhdXJlbGlhLWFuaW1hdG9yLWNzcycpKVxuICAgIC5mZWF0dXJlKFBMQVRGT1JNLm1vZHVsZU5hbWUoJ3Jlc291cmNlcy9pbmRleCcpKTtcblxuICBhdXJlbGlhLnVzZS5kZXZlbG9wbWVudExvZ2dpbmcoZW52aXJvbm1lbnQuZGVidWcgPyAnZGVidWcnIDogJ3dhcm4nKTtcblxuICBpZiAoZW52aXJvbm1lbnQudGVzdGluZykge1xuICAgIGF1cmVsaWEudXNlLnBsdWdpbihQTEFURk9STS5tb2R1bGVOYW1lKCdhdXJlbGlhLXRlc3RpbmcnKSk7XG4gIH1cblxuICBhdXJlbGlhLnN0YXJ0KCkudGhlbigoKSA9PiB7XG4gICAgLy9jb25zdCByZWdpc3RyeSA9IGF1cmVsaWEuY29udGFpbmVyLmdldChDdXN0b21FbGVtZW50UmVnaXN0cnkpO1xuICAgIGF1cmVsaWEuc2V0Um9vdChQTEFURk9STS5tb2R1bGVOYW1lKCdlZGl0b3JhcHAnKSk7XG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///editormain\n");

/***/ }),

/***/ "miZY":
/*!**************************************************************!*\
  !*** ./src/components/project-files/bodylight-model-file.js ***!
  \**************************************************************/
/*! exports provided: BodylightModelFile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BodylightModelFile\", function() { return BodylightModelFile; });\n/* harmony import */ var _bodylight_file_strategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bodylight-file-strategy */ \"EKk8\");\n/* harmony import */ var _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bodylight-struct */ \"IsLn\");\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n//import {BodylightFile} from './bodylight-file';\n\n\nvar BodylightModelFile = /*#__PURE__*/function (_BodylightFileStrateg) {\n  _inheritsLoose(BodylightModelFile, _BodylightFileStrateg);\n\n  function BodylightModelFile() {\n    return _BodylightFileStrateg.apply(this, arguments) || this;\n  }\n\n  var _proto = BodylightModelFile.prototype;\n\n  _proto.activate = function activate(file, newcontent) {\n    _BodylightFileStrateg.prototype.activate.call(this, file, newcontent); //opening other file will open only dialog\n\n\n    file.api.askFile = true;\n    file.api.askFileRef = this;\n    file.api.askFileItems = [{\n      title: 'File Type',\n      value: file.type.name,\n      options: [_bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].MODELFILE, _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].ADOBEANIMATE, _bodylight_struct__WEBPACK_IMPORTED_MODULE_1__[\"FTYPE\"].OTHERJS]\n    }];\n  };\n\n  _proto.deactivate = function deactivate(file) {\n    _BodylightFileStrateg.prototype.deactivate.call(this, file);\n  };\n\n  return BodylightModelFile;\n}(_bodylight_file_strategy__WEBPACK_IMPORTED_MODULE_0__[\"BodylightFileStrategy\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlaWS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LW1vZGVsLWZpbGUuanM/OWEyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2ltcG9ydCB7Qm9keWxpZ2h0RmlsZX0gZnJvbSAnLi9ib2R5bGlnaHQtZmlsZSc7XG5pbXBvcnQge0JvZHlsaWdodEZpbGVTdHJhdGVneX0gZnJvbSAnLi9ib2R5bGlnaHQtZmlsZS1zdHJhdGVneSc7XG5pbXBvcnQge0ZUWVBFfSBmcm9tICcuL2JvZHlsaWdodC1zdHJ1Y3QnO1xuXG5leHBvcnQgY2xhc3MgQm9keWxpZ2h0TW9kZWxGaWxlIGV4dGVuZHMgQm9keWxpZ2h0RmlsZVN0cmF0ZWd5IHtcbiAgYWN0aXZhdGUoZmlsZSwgbmV3Y29udGVudCkge1xuICAgIHN1cGVyLmFjdGl2YXRlKGZpbGUsIG5ld2NvbnRlbnQpO1xuICAgIC8vb3BlbmluZyBvdGhlciBmaWxlIHdpbGwgb3BlbiBvbmx5IGRpYWxvZ1xuICAgIGZpbGUuYXBpLmFza0ZpbGUgPSB0cnVlO1xuICAgIGZpbGUuYXBpLmFza0ZpbGVSZWYgPSB0aGlzO1xuICAgIGZpbGUuYXBpLmFza0ZpbGVJdGVtcyA9IFt7dGl0bGU6ICdGaWxlIFR5cGUnLCB2YWx1ZTogZmlsZS50eXBlLm5hbWUsIG9wdGlvbnM6IFtGVFlQRS5NT0RFTEZJTEUsIEZUWVBFLkFET0JFQU5JTUFURSwgRlRZUEUuT1RIRVJKU119XTtcbiAgfVxuXG4gIGRlYWN0aXZhdGUoZmlsZSkge1xuICAgIHN1cGVyLmRlYWN0aXZhdGUoZmlsZSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBWkE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///miZY\n");

/***/ }),

/***/ "resources/index":
/*!********************************!*\
  !*** ./src/resources/index.js ***!
  \********************************/
/*! exports provided: configure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"configure\", function() { return configure; });\n/* harmony import */ var aurelia_pal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia-pal */ \"70NS\");\n\nfunction configure(config) {\n  config.globalResources(['components/graphics/springmassraw.html', 'components/graphics/springmass.html']);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb3VyY2VzL2luZGV4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy9pbmRleC5qcz85NzVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UExBVEZPUk19IGZyb20gXCJhdXJlbGlhLXBhbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlKGNvbmZpZykge1xuICBjb25maWcuZ2xvYmFsUmVzb3VyY2VzKFtcbiAgICBQTEFURk9STS5tb2R1bGVOYW1lKCdjb21wb25lbnRzL2dyYXBoaWNzL3NwcmluZ21hc3NyYXcuaHRtbCcpLFxuICAgIFBMQVRGT1JNLm1vZHVsZU5hbWUoJ2NvbXBvbmVudHMvZ3JhcGhpY3Mvc3ByaW5nbWFzcy5odG1sJylcbiAgXSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUlBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///resources/index\n");

/***/ }),

/***/ "w3-theme-bodylight.css":
/*!************************************!*\
  !*** ./src/w3-theme-bodylight.css ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"JPst\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w3-theme-l5 {color:#000 !important; background-color:#f8fcfe !important}\\n.w3-theme-l4 {color:#000 !important; background-color:#e7f5fb !important}\\n.w3-theme-l3 {color:#000 !important; background-color:#d0ecf7 !important}\\n.w3-theme-l2 {color:#000 !important; background-color:#b8e2f3 !important}\\n.w3-theme-l1 {color:#000 !important; background-color:#a1d9ef !important}\\n.w3-theme-d1 {color:#000 !important; background-color:#69c2e6 !important}\\n.w3-theme-d2 {color:#fff !important; background-color:#4ab6e0 !important}\\n.w3-theme-d3 {color:#fff !important; background-color:#2aa9db !important}\\n.w3-theme-d4 {color:#fff !important; background-color:#2092bf !important}\\n.w3-theme-d5 {color:#fff !important; background-color:#1b7a9f !important}\\n\\n.w3-theme-light {color:#000 !important; background-color:#f8fcfe !important}\\n.w3-theme-dark {color:#fff !important; background-color:#1b7a9f !important}\\n.w3-theme-action {color:#fff !important; background-color:#1b7a9f !important}\\n\\n.w3-theme {color:#000 !important; background-color:#87ceeb !important}\\n.w3-text-theme {color:#87ceeb !important}\\n.w3-border-theme {border-color:#87ceeb !important}\\n\\n.w3-hover-theme:hover {color:#000 !important; background-color:#87ceeb !important}\\n.w3-hover-text-theme:hover {color:#87ceeb !important}\\n.w3-hover-border-theme:hover {border-color:#87ceeb !important}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidzMtdGhlbWUtYm9keWxpZ2h0LmNzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy93My10aGVtZS1ib2R5bGlnaHQuY3NzP2FkZjQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi53My10aGVtZS1sNSB7Y29sb3I6IzAwMCAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiNmOGZjZmUgIWltcG9ydGFudH1cXG4udzMtdGhlbWUtbDQge2NvbG9yOiMwMDAgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjojZTdmNWZiICFpbXBvcnRhbnR9XFxuLnczLXRoZW1lLWwzIHtjb2xvcjojMDAwICFpbXBvcnRhbnQ7IGJhY2tncm91bmQtY29sb3I6I2QwZWNmNyAhaW1wb3J0YW50fVxcbi53My10aGVtZS1sMiB7Y29sb3I6IzAwMCAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiNiOGUyZjMgIWltcG9ydGFudH1cXG4udzMtdGhlbWUtbDEge2NvbG9yOiMwMDAgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjojYTFkOWVmICFpbXBvcnRhbnR9XFxuLnczLXRoZW1lLWQxIHtjb2xvcjojMDAwICFpbXBvcnRhbnQ7IGJhY2tncm91bmQtY29sb3I6IzY5YzJlNiAhaW1wb3J0YW50fVxcbi53My10aGVtZS1kMiB7Y29sb3I6I2ZmZiAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiM0YWI2ZTAgIWltcG9ydGFudH1cXG4udzMtdGhlbWUtZDMge2NvbG9yOiNmZmYgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjojMmFhOWRiICFpbXBvcnRhbnR9XFxuLnczLXRoZW1lLWQ0IHtjb2xvcjojZmZmICFpbXBvcnRhbnQ7IGJhY2tncm91bmQtY29sb3I6IzIwOTJiZiAhaW1wb3J0YW50fVxcbi53My10aGVtZS1kNSB7Y29sb3I6I2ZmZiAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiMxYjdhOWYgIWltcG9ydGFudH1cXG5cXG4udzMtdGhlbWUtbGlnaHQge2NvbG9yOiMwMDAgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjojZjhmY2ZlICFpbXBvcnRhbnR9XFxuLnczLXRoZW1lLWRhcmsge2NvbG9yOiNmZmYgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjojMWI3YTlmICFpbXBvcnRhbnR9XFxuLnczLXRoZW1lLWFjdGlvbiB7Y29sb3I6I2ZmZiAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiMxYjdhOWYgIWltcG9ydGFudH1cXG5cXG4udzMtdGhlbWUge2NvbG9yOiMwMDAgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjojODdjZWViICFpbXBvcnRhbnR9XFxuLnczLXRleHQtdGhlbWUge2NvbG9yOiM4N2NlZWIgIWltcG9ydGFudH1cXG4udzMtYm9yZGVyLXRoZW1lIHtib3JkZXItY29sb3I6Izg3Y2VlYiAhaW1wb3J0YW50fVxcblxcbi53My1ob3Zlci10aGVtZTpob3ZlciB7Y29sb3I6IzAwMCAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiM4N2NlZWIgIWltcG9ydGFudH1cXG4udzMtaG92ZXItdGV4dC10aGVtZTpob3ZlciB7Y29sb3I6Izg3Y2VlYiAhaW1wb3J0YW50fVxcbi53My1ob3Zlci1ib3JkZXItdGhlbWU6aG92ZXIge2JvcmRlci1jb2xvcjojODdjZWViICFpbXBvcnRhbnR9XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///w3-theme-bodylight.css\n");

/***/ }),

/***/ "xanf":
/*!********************************************************!*\
  !*** ./src/components/project-files/bodylight-file.js ***!
  \********************************************************/
/*! exports provided: BodylightFile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BodylightFile\", function() { return BodylightFile; });\n/* harmony import */ var _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bodylight-struct */ \"IsLn\");\n\nvar BodylightFile = /*#__PURE__*/function () {\n  function BodylightFile(name, type, api, blob) {\n    var _this = this;\n\n    this.name = '';\n    this.type = _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FTYPE\"].MDFILE;\n    this.active = false;\n    this.bloburl = '';\n    this.name = name;\n\n    if (type) {\n      this.type = type;\n    } else {\n      //determine type from name\n      var name2 = name.toLowerCase();\n      if (name2.endsWith('.md')) this.type = _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FTYPE\"].MDFILE;else if (name2.endsWith('.png') || name2.endsWith('.jpg') || name2.endsWith('.gif')) this.type = _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FTYPE\"].IMAGE;else if (name2.endsWith('.xml') || name2.endsWith('.html')) this.type = _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FTYPE\"].DESCRIPTIONFILE;else if (name2.endsWith('.js') && name2.includes('_')) this.type = _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FTYPE\"].MODELFILE;else if (name2.endsWith('.js') && name2.endsWith('.bundle.js')) this.type = _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FTYPE\"].OTHERJS;else if (name2.endsWith('.js')) this.type = _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FTYPE\"].ADOBEANIMATE;else this.type = _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FTYPE\"].OTHERJS;\n    } //do not serialize api and strategymap\n    //instantiates the class in strategy field\n    //this.strategy = window[this.type.strategy](this);\n\n\n    this.api = api;\n\n    if (api) {\n      if (blob) {\n        //store blob\n        //api.bs.saveBlobContent(name, blob);\n        api.bs.saveBlobContent(name, blob).then(function (result) {\n          console.log('result saving blob', result); //this.bloburl = this.api.bs.loadDocUrl(name);\n\n          _this.api.bs.loadDocUrl(name).then(function (bloburl) {\n            return _this.bloburl = bloburl;\n          }); //this.uploaddialog = false;\n\n        }).catch(function (error) {\n          console.error('error saving blob', error); //this.uploaddialog = false;\n        });\n      } else {\n        //no blob - try to retrieve bloburl\n        //this.bloburl = this.api.bs.loadDocUrl(name);\n        this.api.bs.loadDocUrl(name).then(function (bloburl) {\n          return _this.bloburl = bloburl;\n        });\n      }\n    }\n  }\n\n  var _proto = BodylightFile.prototype;\n\n  _proto.changetype = function changetype(type) {\n    this.type = type;\n  };\n\n  _proto.activate = function activate(content) {\n    //this.active = true;\n    //console.log('bodylight-file activate', this);\n    //delegate to file type\n    _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FileType2StrategyMap\"].get(this.type.name).activate(this, content);\n  };\n\n  _proto.deactivate = function deactivate() {\n    //this.active = false;\n    //console.log('bodylight-file deactivate', this);\n    //delegate to file type\n    _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FileType2StrategyMap\"].get(this.type.name).deactivate(this);\n  };\n\n  _proto.saveChanges = function saveChanges() {\n    _bodylight_struct__WEBPACK_IMPORTED_MODULE_0__[\"FileType2StrategyMap\"].get(this.type.name).saveChanges(this);\n  };\n\n  return BodylightFile;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieGFuZi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Byb2plY3QtZmlsZXMvYm9keWxpZ2h0LWZpbGUuanM/YzVhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0ZUWVBFLCBGaWxlVHlwZTJTdHJhdGVneU1hcH0gZnJvbSAnLi9ib2R5bGlnaHQtc3RydWN0JztcblxuZXhwb3J0IGNsYXNzIEJvZHlsaWdodEZpbGUge1xuICBuYW1lPScnO1xuICB0eXBlPUZUWVBFLk1ERklMRTtcbiAgYWN0aXZlPWZhbHNlO1xuICBibG9idXJsPScnO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIHR5cGUsIGFwaSwgYmxvYikge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vZGV0ZXJtaW5lIHR5cGUgZnJvbSBuYW1lXG4gICAgICBsZXQgbmFtZTIgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAobmFtZTIuZW5kc1dpdGgoJy5tZCcpKSB0aGlzLnR5cGUgPSBGVFlQRS5NREZJTEU7XG4gICAgICBlbHNlIGlmIChuYW1lMi5lbmRzV2l0aCgnLnBuZycpIHx8IG5hbWUyLmVuZHNXaXRoKCcuanBnJykgfHwgbmFtZTIuZW5kc1dpdGgoJy5naWYnKSkgdGhpcy50eXBlID0gRlRZUEUuSU1BR0U7XG4gICAgICBlbHNlIGlmIChuYW1lMi5lbmRzV2l0aCgnLnhtbCcpIHx8IG5hbWUyLmVuZHNXaXRoKCcuaHRtbCcpKSB0aGlzLnR5cGUgPSBGVFlQRS5ERVNDUklQVElPTkZJTEU7XG4gICAgICBlbHNlIGlmIChuYW1lMi5lbmRzV2l0aCgnLmpzJykgJiYgbmFtZTIuaW5jbHVkZXMoJ18nKSkgdGhpcy50eXBlID0gRlRZUEUuTU9ERUxGSUxFO1xuICAgICAgZWxzZSBpZiAobmFtZTIuZW5kc1dpdGgoJy5qcycpICYmIG5hbWUyLmVuZHNXaXRoKCcuYnVuZGxlLmpzJykpIHRoaXMudHlwZSA9IEZUWVBFLk9USEVSSlM7XG4gICAgICBlbHNlIGlmIChuYW1lMi5lbmRzV2l0aCgnLmpzJykpIHRoaXMudHlwZSA9IEZUWVBFLkFET0JFQU5JTUFURTtcbiAgICAgIGVsc2UgdGhpcy50eXBlID0gRlRZUEUuT1RIRVJKUztcbiAgICB9XG4gICAgLy9kbyBub3Qgc2VyaWFsaXplIGFwaSBhbmQgc3RyYXRlZ3ltYXBcbiAgICAvL2luc3RhbnRpYXRlcyB0aGUgY2xhc3MgaW4gc3RyYXRlZ3kgZmllbGRcbiAgICAvL3RoaXMuc3RyYXRlZ3kgPSB3aW5kb3dbdGhpcy50eXBlLnN0cmF0ZWd5XSh0aGlzKTtcbiAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICBpZiAoYXBpKSB7XG4gICAgICBpZiAoYmxvYikge1xuICAgICAgLy9zdG9yZSBibG9iXG4gICAgICAvL2FwaS5icy5zYXZlQmxvYkNvbnRlbnQobmFtZSwgYmxvYik7XG4gICAgICAgIGFwaS5icy5zYXZlQmxvYkNvbnRlbnQobmFtZSwgYmxvYilcbiAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCBzYXZpbmcgYmxvYicsIHJlc3VsdCk7XG4gICAgICAgICAgICAvL3RoaXMuYmxvYnVybCA9IHRoaXMuYXBpLmJzLmxvYWREb2NVcmwobmFtZSk7XG4gICAgICAgICAgICB0aGlzLmFwaS5icy5sb2FkRG9jVXJsKG5hbWUpLnRoZW4oYmxvYnVybCA9PiB0aGlzLmJsb2J1cmwgPSBibG9idXJsKTtcbiAgICAgICAgICAvL3RoaXMudXBsb2FkZGlhbG9nID0gZmFsc2U7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignZXJyb3Igc2F2aW5nIGJsb2InLCBlcnJvcik7XG4gICAgICAgICAgLy90aGlzLnVwbG9hZGRpYWxvZyA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9ubyBibG9iIC0gdHJ5IHRvIHJldHJpZXZlIGJsb2J1cmxcbiAgICAgICAgLy90aGlzLmJsb2J1cmwgPSB0aGlzLmFwaS5icy5sb2FkRG9jVXJsKG5hbWUpO1xuICAgICAgICB0aGlzLmFwaS5icy5sb2FkRG9jVXJsKG5hbWUpLnRoZW4oYmxvYnVybCA9PiB0aGlzLmJsb2J1cmwgPSBibG9idXJsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjaGFuZ2V0eXBlKHR5cGUpIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgYWN0aXZhdGUoY29udGVudCkge1xuICAgIC8vdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIC8vY29uc29sZS5sb2coJ2JvZHlsaWdodC1maWxlIGFjdGl2YXRlJywgdGhpcyk7XG4gICAgLy9kZWxlZ2F0ZSB0byBmaWxlIHR5cGVcbiAgICBGaWxlVHlwZTJTdHJhdGVneU1hcC5nZXQodGhpcy50eXBlLm5hbWUpLmFjdGl2YXRlKHRoaXMsIGNvbnRlbnQpO1xuICB9XG5cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICAvL3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgLy9jb25zb2xlLmxvZygnYm9keWxpZ2h0LWZpbGUgZGVhY3RpdmF0ZScsIHRoaXMpO1xuICAgIC8vZGVsZWdhdGUgdG8gZmlsZSB0eXBlXG4gICAgRmlsZVR5cGUyU3RyYXRlZ3lNYXAuZ2V0KHRoaXMudHlwZS5uYW1lKS5kZWFjdGl2YXRlKHRoaXMpO1xuICB9XG5cbiAgc2F2ZUNoYW5nZXMoKSB7XG4gICAgRmlsZVR5cGUyU3RyYXRlZ3lNYXAuZ2V0KHRoaXMudHlwZS5uYW1lKS5zYXZlQ2hhbmdlcyh0aGlzKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBTUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvQ0E7QUFDQTtBQURBO0FBaURBO0FBQ0E7QUFDQTtBQW5EQTtBQXFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExREE7QUE0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakVBO0FBbUVBO0FBQ0E7QUFDQTtBQXJFQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///xanf\n");

/***/ })

}]);