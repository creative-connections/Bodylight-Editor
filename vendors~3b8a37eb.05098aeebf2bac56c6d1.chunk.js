(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"ONo/":function(e,t,i){"use strict";t.__esModule=!0,t.WatchHashCore=void 0;var n=i("dLt8");function a(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var s=function(){function e(){var e=this;this.params="",console.log("WatchhashCore"),this.handleHashChange=function(t){console.log("WatchHashCore HandleHashChange e:",t);for(var i,a=(0,n.parseHashParamString)(window.location.hash),r=[],s=0;s<e.paramname.length;s++)(i=e.paramindex[s]?a[e.paramname[s]]?a[e.paramname[s]]:a[e.paramindex[s]]:a[e.paramname[s]])&&r.push(i);r.length>0&&e.changesrc.apply(e,r)}}var t=e.prototype;return t.bind=function(){if(this.paramname=[],this.paramindex=[],this.params){console.log("watchhashcore.bind() params:",this.params);for(var e,t=a(this.params.split(";"));!(e=t()).done;){var i=e.value;if(i&&i.includes(",")){var n=i.split(",");this.paramname.push(n[0]),this.paramindex.push(n[1])}else this.paramname.push(i),this.paramindex.push(null)}this.handleHashChange(null),window.addEventListener("hashchange",this.handleHashChange)}},t.changesrc=function(){},e}();t.WatchHashCore=s},"aurelia-bodylight-plugin/attributes/watchhash":function(e,t,i){"use strict";t.__esModule=!0,t.WatchhashCustomAttribute=void 0;i("dLt8");var n=function(e){var t,i;function n(t){var i;return(i=e.call(this)||this).element=t,i.isReadMDCustomElement=!1,console.log("watchhash check au controller"),t&&t.au&&t.au.controller&&(console.log("watchhash check au controller type:",typeof t.au.controller),"object"==typeof t.au.controller&&console.log("watchhash check au controller viewmodel:",t.au.controller.viewModel),"object"==typeof t.au.controller&&t.au.controller.viewModel&&"object"==typeof t.au.controller.viewModel&&(i.elementVM=t.au.controller.viewModel,i.isReadMDCustomElement="function"==typeof i.elementVM.changesrc)),i}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.bind=function(){this.params=this.value,e.prototype.bind.call(this)},a.changesrc=function(){var e;console.log("watchhash.changesrc()"),this.isReadMDCustomElement&&(e=this.elementVM).changesrc.apply(e,arguments)},n}(i("ONo/").WatchHashCore);t.WatchhashCustomAttribute=n,n.inject=[Element]},"aurelia-bodylight-plugin/elements/animate-control":function(e,t,i){"use strict";t.__esModule=!0,t.AnimateControl=void 0;var n,a,r,s,l,o,u,h,c,d,f=i("aurelia-framework");function m(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var v=(a=g((n=function(){function e(){var e=this;b(this,"id",a,this),b(this,"fromid",r,this),b(this,"speedfactor",s,this),b(this,"segments",l,this),b(this,"simsegments",o,this),b(this,"segmentlabels",u,this),b(this,"controlfmi",h,this),b(this,"segmentcond",c,this),b(this,"allowcontinuous",d,this),this.continuousanimation=!1,this.animationstarted=!1,this.frame=0,this.aframe=0,this.currentsegment=0,this.animationframe=0,this.playsegments=!1,this.currentsegmentlabel="",this.handleValueChange=function(t){var i=t.detail.data[e.segmentconditions[e.currentsegment].refid];e.processValue(i)}}var t=e.prototype;return t.bind=function(){this.speedfactor&&("string"==typeof this.speedfactor&&(this.speedfactor=parseInt(this.speedfactor,10)),(this.speedfactor<=0||this.speedfactor>100)&&(this.speedfactor=100)),this.segments&&(this.playsegments=!0,this.segmentitems=this.segments.split(";").map((function(e){return parseInt(e,10)})),this.simsegments&&(this.simsegmentitems=this.simsegments.split(";").map((function(e){return parseInt(e,10)})))),this.segmentlabels&&(this.segmentlabelarray=this.segmentlabels.split(";"));var e=function(e,t){return e>t},t=function(e,t){return e===t},i=function(e,t){return e<t};if(this.eventprefix="animate",this.segmentcond){this.eventprefix="fmi",this.segmentconditions=[];for(var n,a=m(this.segmentcond.split(";"));!(n=a()).done;){var r=n.value.split(","),s=i;"gt"===r[1]?s=e:"eq"===r[1]&&(s=t);var l={refid:r[0],relation:s,value:parseFloat(r[2])};this.segmentconditions.push(l)}}"string"==typeof this.allowcontinuous&&(this.allowcontinuous="true"===this.allowcontinuous)},t.attached=function(){this.fromid&&document.getElementById(this.fromid).addEventListener("fmidata",this.handleValueChange)},t.detached=function(){this.fromid&&document.getElementById(this.fromid)&&document.getElementById(this.fromid).removeEventListener("fmidata",this.handleValueChange)},t.startstop=function(){if(this.animationstarted=!this.animationstarted,this.animationstarted){var e=this;this.request=requestAnimationFrame((function t(){e.step(),e.playsegments&&e.stopframe>0&&e.frame>e.stopframe?e.stopsegment(e,t):e.scheduleAnimation(e,t)}))}else{cancelAnimationFrame(this.request);var t=new CustomEvent(this.eventprefix+"stop",{detail:{time:this.frame}});document.getElementById(this.id).dispatchEvent(t)}},t.stopsegment=function(e,t){e.animationstarted=!1,e.currentsegment++,e.currentsegment>=e.segmentitems.length&&(e.currentsegment=0,e.frame=0),e.continuousanimation&&e.scheduleAnimation(e,t)},t.scheduleAnimation=function(e,t){e.animationstarted&&(e.speedfactor?setTimeout((function(){return e.request=requestAnimationFrame(t)}),1e3/(60*e.speedfactor/100)):e.request=requestAnimationFrame(t))},t.step=function(){this.countrelativeframe(this.frame);var e=0===this.frame?new CustomEvent(this.eventprefix+"start",{detail:{time:this.frame,relativetime:this.relativeframe,segment:this.currentsegment}}):new CustomEvent(this.eventprefix+"data",{detail:{time:this.frame,relativetime:this.relativeframe,segment:this.currentsegment}});document.getElementById(this.id).dispatchEvent(e),this.frame++},t.segment=function(){if(this.segmentcond){if(this.stopframe=this.segmentitems[this.currentsegment],this.startrelativeframe(this.aframe),this.countrelativeframe(this.aframe),this.currentsegmentlabel=this.segmentlabelarray[this.currentsegment],0===this.currentsegment)this.astep=this.segmentitems[this.currentsegment]/this.simsegmentitems[this.currentsegment];else{var e=this.segmentitems[this.currentsegment]-this.segmentitems[this.currentsegment-1],t=this.simsegmentitems[this.currentsegment]-this.simsegmentitems[this.currentsegment-1];this.astep=e/t}var i=new CustomEvent(this.eventprefix+"start",{detail:{time:this.frame}});document.getElementById(this.id).dispatchEvent(i)}else this.stopframe=this.segmentitems[this.currentsegment],this.startrelativeframe(this.frame),this.countrelativeframe(this.frame),this.currentsegmentlabel=this.segmentlabelarray[this.currentsegment],this.startstop()},t.segmentcontinuous=function(){this.continuousanimation=!this.continuousanimation,this.continuousanimation&&!this.animationstarted&&this.segment()},t.startrelativeframe=function(e){this.startframe=e,this.framesinsegment=this.stopframe-this.startframe},t.countrelativeframe=function(e){return this.relativeframe=(e-this.startframe)/this.framesinsegment,this.relativeframe},t.nonstopsegment=function(){},t.processValue=function(e){var t=this.segmentconditions[this.currentsegment].value;if(this.segmentconditions[this.currentsegment].relation(e,t)){this.aframe=this.segmentitems[this.currentsegment],this.floor_aframe=Math.floor(this.aframe);var i=new CustomEvent("fmistop",{detail:{time:this.frame}});document.getElementById(this.id).dispatchEvent(i),this.countrelativeframe(this.aframe),i=new CustomEvent("animatedata",{detail:{time:this.aframe,relativetime:this.relativeframe,segment:this.currentsegment}}),document.getElementById(this.id).dispatchEvent(i),this.currentsegment++,this.currentsegment>=this.segmentitems.length&&(this.currentsegment=0,this.frame=0,this.aframe=0),this.startrelativeframe(this.aframe);var n=new CustomEvent("addsection",{detail:{time:this.frame,label:this.segmentlabelarray[this.currentsegment]}});document.getElementById(this.id).dispatchEvent(n),this.continuousanimation&&this.segment()}else if(this.frame++,this.previous_aframe=this.floor_aframe,this.aframe+=this.astep,this.floor_aframe=Math.floor(this.aframe),this.floor_aframe>this.previous_aframe&&this.floor_aframe<=this.segmentitems[this.currentsegment]){this.countrelativeframe(this.floor_aframe);var a=new CustomEvent("animatedata",{detail:{time:this.floor_aframe,relativetime:this.relativeframe,segment:this.currentsegment}});document.getElementById(this.id).dispatchEvent(a)}},e}()).prototype,"id",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=g(n.prototype,"fromid",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=g(n.prototype,"speedfactor",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=g(n.prototype,"segments",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=g(n.prototype,"simsegments",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=g(n.prototype,"segmentlabels",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g(n.prototype,"controlfmi",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=g(n.prototype,"segmentcond",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(n.prototype,"allowcontinuous",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n);t.AnimateControl=v},"aurelia-bodylight-plugin/elements/animate-control.html":function(e,t){e.exports='<template>\n  <span show.bind="!playsegments">\n  <button class="w3-button w3-theme" click.delegate="startstop()" title="Start/Stop simulation"><i class.bind="animationstarted? \'fa fa-stop\':\'fa fa-play\'"></i> &nbsp;</button>\n  <button class="w3-button w3-theme" click.delegate="step()" title="Do simulation step"><i class="fa fa-step-forward"></i> &nbsp;</button>\n    </span>\n  <span show.bind="playsegments">\n    <button class="w3-button w3-theme" click.delegate="segment()" title="Play and stop segment"><i class="fa fa-step-forward"></i> &nbsp;</button>\n    <button show.bind="allowcontinuous" class="w3-button w3-theme" click.delegate="segmentcontinuous()" title="Play continuously"><i class.bind="animationstarted? \'fa fa-stop\':\'fa fa-play\'"></i> &nbsp;</button>\n    <label class="w3-medium">${currentsegmentlabel}</label>\n    \x3c!--button class="w3-button" click.delegate="nonstopsegment()" title="Play non-stop segment"><i class.bind="animationstarted? \'fa fa-stop\':\'fa fa-play\'"></i> &nbsp;</button--\x3e\n  </span>\n</template>\n'},"aurelia-bodylight-plugin/elements/animate-gif":function(e,t,i){"use strict";t.__esModule=!0,t.AnimateGif=void 0;var n,a,r,s,l,o,u=(n=i("8OGi"))&&n.__esModule?n:{default:n},h=i("SkM8");function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var f=(r=d((a=function(){function e(){var e=this;c(this,"fromid",r,this),c(this,"src",s,this),c(this,"width",l,this),c(this,"height",o,this),this.isstopped=!0,this.handleStart=function(t){e.gif.get_loading()||e.gif.move_to(0)},this.handleStep=function(t){e.gif.get_loading()||(t.detail.time<e.gif.get_length()?e.gif.move_to(t.detail.time):e.gif.move_relative(1))},this.handleStop=function(t){e.gif.get_loading()||e.gif.pause()}}return e.prototype.attached=function(){this.gif=new u.default({gif:this.imgel,auto_play:!1,rubbable:!0,max_width:this.width}),this.gif.load(),document.getElementById(this.fromid).addEventListener("animatestart",this.handleStart),document.getElementById(this.fromid).addEventListener("animatedata",this.handleStep),document.getElementById(this.fromid).addEventListener("animatestop",this.handleStop)},e}()).prototype,"fromid",[h.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(a.prototype,"src",[h.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"width",[h.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 400}}),o=d(a.prototype,"height",[h.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),a);t.AnimateGif=f},"aurelia-bodylight-plugin/elements/animate-gif.html":function(e,t){e.exports='<template bindable="src">\n    <img ref="imgel" src="${src}" width="360" height="360" rel:auto_play="0" rel:/>\n</template>\n'},"aurelia-bodylight-plugin/elements/animate-sync-gif":function(e,t,i){"use strict";t.__esModule=!0,t.AnimateSyncGif=void 0;var n,a,r,s,l,o,u=(n=i("8OGi"))&&n.__esModule?n:{default:n},h=i("SkM8");function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var m=(o=function(e){var t,i;function n(){var t;return c(t=e.call(this)||this,"fromid",r,d(t)),c(t,"src",s,d(t)),c(t,"simulationstepsize",l,d(t)),t.loaded=!1,t.isstopped=!0,t.handleStart=function(e){t.gifframespersimframe=t.gif.get_frames().length/(1/t.simulationstepsize),t.gif.get_loading()||t.gif.move_to(0)},t.handleStop=function(e){t.gif.get_loading()||t.gif.pause()},t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.attached=function(){e.prototype.attached.call(this),this.gif=new u.default({gif:this.imgel,auto_play:!1,rubbable:!0}),this.gif.load(),document.getElementById(this.fromid).addEventListener("fmistart",this.handleStart),document.getElementById(this.fromid).addEventListener("fmistop",this.handleStop),this.currentframereal=0," string"==typeof this.simulationstepsize&&(this.simulationstepsize=parseFloat(this.simulationstepsize))},a.normalAction=function(){this.currentframereal+=this.gifframespersimframe,this.currentframe=Math.round(this.currentframereal),this.gif.get_loading()||this.gif.move_to(this.currentframe)},a.trigger=function(){this.currentframereal=0,this.gif.get_loading()||this.gif.move_to(0)},n}(i("aurelia-bodylight-plugin/elements/trigger-on-increase").TriggerOnIncrease),r=f((a=o).prototype,"fromid",[h.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=f(a.prototype,"src",[h.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=f(a.prototype,"simulationstepsize",[h.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),a);t.AnimateSyncGif=m},"aurelia-bodylight-plugin/elements/animate-sync-gif.html":function(e,t){e.exports='<template bindable="src">\n  <img ref="imgel" src="${src}" width="360" height="360" rel:auto_play="0" rel:/>\n</template>\n'},"aurelia-bodylight-plugin/elements/audio-on-decrease":function(e,t,i){"use strict";t.__esModule=!0,t.AudioOnDecreaseCustomElement=void 0;var n,a,r,s,l,o=i("SkM8"),u=i("aurelia-bodylight-plugin/elements/audio-on-increase");function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var f=(0,o.useView)("./audio-on-increase.html")((l=function(e){var t,i;function n(){var t;return h(t=e.call(this)||this,"thresholdvalue",r,c(t)),h(t,"src",s,c(t)),t.handleValueChange=function(e){t.value=e.detail.data[t.refindex]*t.numerator/t.denominator,t.value<t.thresholdvalue?t.triggered||t.trigger():t.triggered&&(t.triggered=!1)},t}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n}(u.AudioOnIncrease),r=d((a=l).prototype,"thresholdvalue",[o.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(a.prototype,"src",[o.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=a))||n;t.AudioOnDecreaseCustomElement=f},"aurelia-bodylight-plugin/elements/audio-on-decrease.html":function(e,t){e.exports="<template>\x3c!--not rendered, inherited from bdl-audio-on-increase VIEW in JS code--\x3e</template>\n"},"aurelia-bodylight-plugin/elements/audio-on-increase":function(e,t,i){"use strict";t.__esModule=!0,t.AudioOnIncrease=void 0;var n,a,r,s,l,o=i("SkM8");function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var d=(l=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return u(t=e.call.apply(e,[this].concat(n))||this,"thresholdvalue",a,h(t)),u(t,"src",r,h(t)),u(t,"controls",s,h(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var l=n.prototype;return l.attached=function(){e.prototype.attached.call(this),console.log("audioonincrease attached"),this.played=!1},l.trigger=function(){this.played&&!this.audioctl.ended||(this.audioctl.play(),this.played=!0)},n}(i("aurelia-bodylight-plugin/elements/trigger-on-increase").TriggerOnIncrease),a=c((n=l).prototype,"thresholdvalue",[o.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=c(n.prototype,"src",[o.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(n.prototype,"controls",[o.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n);t.AudioOnIncrease=d},"aurelia-bodylight-plugin/elements/audio-on-increase.html":function(e,t){e.exports='<template bindable="src,controls">\n  <audio ref="audioctl" controls.bind="controls">\n      <source src.bind="src" type="audio/mpeg">\n      Your browser does not support the audio element.\n  </audio>\n</template>\n'},"aurelia-bodylight-plugin/elements/beaker.html":function(e,t){e.exports='<template bindable="bwidth,bheight,width,height,color">\n    <svg version="1.1" id="kadinka" xmlns="http://www.w3.org/2000/svg"\n         xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0"\n         viewBox="0 0 210.36 258" xml:space="preserve" width="${width}" height="${height}">\n        <g id="kadinka" style="transform:scaleX(${bwidth/100})">\n            <g id="kadinkaUvnitr" clip-path="url(#SVGID_2_)">\n                <defs>\n                    <path id="SVGID_1_" d="M192.18 251.11h-173c-8.94 0-16.18-7.24-16.18-16.18V21.29c0-8.94 7.24-16.18 16.18-16.18h173c8.94 0 16.18 7.24 16.18 16.18v213.64c0 8.94-7.24 16.18-16.18 16.18z"/></defs>\n                <clipPath id="SVGID_2_">\n                    <use xlink:href="#SVGID_1_" overflow="hidden"/>\n                </clipPath>\n                <path id="kadinkaPozadi" fill="#d4ecf8" d="M3 13.11h205.36v238H3z"/>\n                <path id="kadinkaTekutina" fill="${color}" d="M3 13.11h205.36v238H3z" style="transform:matrix(1,0,0,${bheight/100},0,${251-bheight*2.5})"/>\n            </g>\n            <path id="kadinkaTah" d="M208.36 4.29v230.64c0 8.94-7.24 16.18-16.18 16.18h-173c-8.94 0-16.18-7.24-16.18-16.18V4.29" fill="none" stroke="#000000" stroke-miterlimit="10"/>\n        </g>\n    </svg>\n\n</template>\n'},"aurelia-bodylight-plugin/elements/beakercontrols.html":function(e,t,i){e.exports='<template bindable="bwidth,bwidthmin,bwidthmax,bheight,bheightmin,bheightmax,id,color">\n    <require from="./range.html"></require>\n    <require from="./beaker.html"></require>\n\n    <range id="${id}-ranges" min="${bwidthmin}" max="${bwidthmax}" default="${bwidth}" title="Šířka" value.two-way="mybwidth"></range>\n    <range id="${id}-rangev" min="${bheightmin}" max="${bheightmax}" default="${bheight}" title="Výška" value.two-way="mybheight"></range>\n    <beaker id="${id}-beaker" bwidth.bind="mybwidth" bheight.bind="mybheight" width="400" height="400" color="${color}"></beaker>\n</template>\n'},"aurelia-bodylight-plugin/elements/bind2previous":function(e,t,i){"use strict";t.__esModule=!0,t.Bind2previous=void 0;var n,a,r,s,l=i("aurelia-framework");function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var h=(a=u((n=function(){function e(){var e=this;o(this,"fromid",a,this),o(this,"toid",r,this),o(this,"toattribute",s,this),this.handleValueChange=function(t){e.toattribute?document.getElementById(e.toid)[e.toattribute]=t.target.value:document.getElementById(e.toid).value=t.target.value}}var t=e.prototype;return t.attached=function(){document.getElementById(this.fromid).addEventListener("input",this.handleValueChange)},t.detached=function(){document.getElementById(this.fromid)&&document.getElementById(this.fromid).removeEventListener("input",this.handleValueChange)},e}()).prototype,"fromid",[l.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=u(n.prototype,"toid",[l.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(n.prototype,"toattribute",[l.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n);t.Bind2previous=h},"aurelia-bodylight-plugin/elements/bind2previous.html":function(e,t){e.exports="<template></template>\n"},"aurelia-bodylight-plugin/elements/capillary.html":function(e,t){e.exports='<template bindable="color,strokew,width,height">\n<svg version="1.1" id="Vrstva_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 316 331" style="enable-background:new 0 0 316 331;" xml:space="preserve" width="${width}" height="${height}">\n    <path class="st0" stroke-width="${strokew*6}" stroke="${color}" fill="none"  d="M316,322.5c-86.43,0-156.5-70.07-156.5-156.5S229.57,9.5,316,9.5"/>\n    <line class="st1" stroke-width="${strokew*12}" stroke="${color}" fill="none"  x1="159.5" y1="165.5" x2="0.5" y2="165.5"/>\n    <path class="st2" stroke-width="${strokew*3}" stroke="${color}" fill="none"  d="M229.26,75.82c4.51-2.07,9.2-4.09,14.06-6c22.17-8.72,47.77-15.28,74.68-15.28"/>\n    <path class="st0" stroke-width="${strokew*6}" stroke="${color}" fill="none"  d="M168.65,113.19c0,0,24.17-20.59,60.62-37.37"/>\n    <path class="st2" stroke-width="${strokew*3}" stroke="${color}" fill="none"  d="M317.5,98.24c-58,0-88.45-22.31-88.45-22.31"/>\n    <path class="st2" stroke-width="${strokew*3}" stroke="${color}" fill="none"  d="M159.61,165.38l88.89,0.12c0,0,5-29.49,69.5-29.49"/>\n    <path class="st2" stroke-width="${strokew*3}" stroke="${color}" fill="none"   d="M227.78,254.17c5.09,2.4,10.41,4.72,15.93,6.9c22.17,8.72,47.77,15.28,74.68,15.28"/>\n    <path class="st0" stroke-width="${strokew*6}" stroke="${color}" fill="none"  d="M168.03,216.69c0,0,24.13,20.67,59.75,37.48"/>\n    <path class="st2" stroke-width="${strokew*3}" stroke="${color}" fill="none"  d="M317.89,232.64c-58,0-88.45,22.31-88.45,22.31"/>\n    <path class="st2" stroke-width="${strokew*3}" stroke="${color}" fill="none"  d="M248.89,165.38c0,0,5,29.49,69.5,29.49"/>\n    <line class="st0" stroke-width="${strokew*6}" stroke="${color}" fill="none"  x1="160" y1="165.5" x2="248.89" y2="165.38"/>\n</svg>\n\n</template>\n'},"aurelia-bodylight-plugin/elements/chartjs":function(e,t,i){"use strict";t.__esModule=!0,t.Chartjs=void 0;var n,a,r,s,l,o,u,h,c,d,f,m,p,b,g,v,y,w,z=(n=i("MO+k"))&&n.__esModule?n:{default:n},x=i("aurelia-framework");function E(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function B(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function S(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var _=(r=S((a=function(){function e(){var e=this;B(this,"fromid",r,this),B(this,"labels",s,this),B(this,"refindex",l,this),B(this,"refvalues",o,this),B(this,"type",u,this),B(this,"maxdata",h,this),B(this,"initialdata",c,this),B(this,"width",d,this),B(this,"height",f,this),B(this,"animate",m,this),B(this,"id",p,this),B(this,"ylabel",b,this),B(this,"xlabel",g,this),B(this,"convertors",v,this),B(this,"verticalline",y,this),B(this,"sectionid",w,this),this.indexsection=0,this.datalabels=!1,this.handleValueChange=function(t){var i=t.detail.data.slice(e.refindex,e.refendindex);if(e.operation)for(var n=0;n<i.length;n++)e.operation[n]&&(i[n]=e.operation[n](i[n]));e.chart.data.datasets[0].data=i,e.chart.update()},this.handleReset=function(t){console.log("handlereset"),e.resetdata(),e.chart.update()},this.handleAddSection=function(t){e.addSection(t.detail.label)}}var t=e.prototype;return t.resetdata=function(){for(var e,t=E(this.chart.data.dataset);!(e=t()).done;){e.value.data=[]}this.sectionid&&(this.chart.config.options.section=[])},t.selectColor=function(e,t,i){return void 0===t&&(t=55),void 0===i&&(i=55),"hsl("+137.508*(e-1)+","+t+"%,"+i+"%)"},t.bind=function(){var e=this;if(this.refindex=parseInt(this.refindex,10),this.refvalues=parseInt(this.refvalues,10),this.refendindex=this.refindex+this.refvalues,this.convertors){var t=this.convertors.split(";"),i=function(e){return e};this.operation=[];for(var n=0;n<t.length;n++){var a=t[n].split(",");"1"===a[0]&&"1"===a[1]?this.operation.push(i):function(){var t=parseFloat(a[0]),i=parseFloat(a[1]);e.operation.push((function(e){return e*t/i}))}()}}this.chlabels=this.labels.split(","),this.colors=[];var r=this.initialdata.split(",");this.mydata=r.map((function(e){return parseFloat(e)}));for(var s=0;s<this.refvalues;s++)this.mydata[s]||console.log("chartjs no data"),this.colors.push(this.selectColor(s));var l=[{data:this.mydata,backgroundColor:this.colors}];this.data={labels:this.chlabels,datasets:l},"string"==typeof this.animate&&(this.animate="true"===this.animate);var o=this.animate?{animateScale:!0,animateRotate:!0,duration:500}:{duration:0},u={};this.ylabel&&(u.yAxes=[{scaleLabel:{display:!0,labelString:this.ylabel}}]),this.xlabel&&(u.xAxes=[{scaleLabel:{display:!0,labelString:this.xlabel}}]),this.options={responsive:!0,legend:{position:"top"},animation:o,tooltips:{position:"nearest",mode:"x-axis",intersect:!1},scales:u},"string"==typeof this.verticalline&&(this.verticalline="true"===this.verticalline),"string"==typeof this.maxdata&&(this.maxdata=parseInt(this.maxdata)),this.sectionid&&(this.options.section=[])},t.attached=function(){document.getElementById(this.fromid).addEventListener("fmidata",this.handleValueChange),document.getElementById(this.fromid).addEventListener("fmireset",this.handleReset),this.sectionid&&document.getElementById(this.sectionid).addEventListener("addsection",this.handleAddSection),this.verticalline&&(z.default.defaults.LineWithLine=z.default.defaults.line,z.default.controllers.LineWithLine=z.default.controllers.line.extend({draw:function(e){if(z.default.controllers.line.prototype.draw.call(this,e),this.chart.tooltip._active&&this.chart.tooltip._active.length){var t=this.chart.tooltip._active[0],i=this.chart.ctx,n=t.tooltipPosition().x,a=this.chart.legend.bottom,r=this.chart.chartArea.bottom;i.save(),i.beginPath(),i.moveTo(n,a),i.lineTo(n,r),i.lineWidth=1,i.strokeStyle="#555",i.stroke(),i.restore()}}})),this.sectionid&&z.default.pluginService.register({beforeDraw:function(e,t){if(e.config.options.section&&e.config.options.section.length>0){var i,n=e.chart.ctx,a=e.chartArea,r=e.getDatasetMeta(0);for(n.save(),i=1;i<e.config.options.section.length;i++){var s=r.data[e.config.options.section[i-1].index]._model.x,l=r.data[e.config.options.section[i].index]._model.x;n.fillStyle=e.config.options.section[i-1].color,n.fillRect(s,a.top,l-s,a.bottom-a.top),n.save(),n.translate(s,a.top),n.rotate(90*Math.PI/180),n.fillStyle="#aaa",n.font="12px Helvetica",n.fillText(e.config.options.section[i-1].label,5,-5),n.restore()}if(n.restore(),(i=e.config.options.section.length)>0&&e.config.options.section[i-1].index<r.data.length-1){var o=r.data[e.config.options.section[i-1].index]._model.x,u=r.data[r.data.length-1]._model.x;n.fillStyle=e.config.options.section[i-1].color,n.fillRect(o,a.top,u-o,a.bottom-a.top),n.save(),n.translate(o,a.top),n.rotate(90*Math.PI/180),n.fillStyle="#aaa",n.font="12px Helvetica",n.fillText(e.config.options.section[i-1].label,5,-5),n.restore()}}}}),this.datalabels&&(console.log("datalabels true ,setting plugin",this.datalabels),z.default.pluginService.register({afterDatasetsDraw:function(e,t){var i=e.chart.ctx;e.data.datasets.forEach((function(t,n){if(t&&t.datalabels){var a=e.getDatasetMeta(n);a.hidden||a.data.forEach((function(e,n){if(t.datalabels[n].length>0){i.fillStyle="#aaa",i.font="12px Helvetica";var a=t.datalabels[n];i.textAlign="center",i.textBaseline="middle";var r=e.tooltipPosition();i.fillText(a,r.x,r.y-6-5)}}))}}))}}));var e=this.chartcanvas.getContext("2d");this.chart=new z.default(e,{type:this.type,data:this.data,options:this.options,tooltipEvents:["mousemove","touchstart","touchmove","click"]})},t.detached=function(){document.getElementById(this.fromid)&&(document.getElementById(this.fromid).removeEventListener("fmidata",this.handleValueChange),document.getElementById(this.fromid).removeEventListener("fmireset",this.handleReset),this.sectionid&&document.getElementById(this.sectionid).removeEventListener("addsection",this.handleAddSection))},t.download=function(){var e=prompt("File name (*.csv):","data.csv");if(e){e.endsWith(".csv")||(e=e.concat(".csv"));for(var t="Time,"+this.labels+"\n",i=0;i<this.chart.data.labels.length;i++){for(var n=this.chart.data.labels[i],a=0;a<this.chart.data.datasets.length;a++)n+=","+this.chart.data.datasets[a].data[i];t+=n+"\n"}var r=new Blob([t],{type:"text/csv;charset=utf-8;"});saveAs(r,e)}},t.downloadflat=function(){var e=prompt("File name (*.csv):","data.csv");if(e){e.endsWith(".csv")||(e=e.concat(".csv"));var t="variable name,values ...\n",i=this.labels.split(",");t=t+"Time,"+this.chart.data.labels.join(",")+"\n";for(var n=0;n<this.chart.data.datasets.length;n++)t=t+i[n]+","+this.chart.data.datasets[n].data.join(",")+"\n";var a=new Blob([t],{type:"text/csv;charset=utf-8;"});saveAs(a,e)}},t.addSection=function(e){void 0===e&&(e=""),this.indexsection++,e||(e=""),console.log("chartjs.addsection()",this.chart.data.labels.length-1),this.chart.config.options.section.push({index:this.chart.data.labels.length-1,color:this.selectColor(this.indexsection,85,91),label:e})},e}()).prototype,"fromid",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=S(a.prototype,"labels",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=S(a.prototype,"refindex",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=S(a.prototype,"refvalues",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=S(a.prototype,"type",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"doughnut"}}),h=S(a.prototype,"maxdata",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 256}}),c=S(a.prototype,"initialdata",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=S(a.prototype,"width",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 600}}),f=S(a.prototype,"height",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),m=S(a.prototype,"animate",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=S(a.prototype,"id",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=S(a.prototype,"ylabel",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=S(a.prototype,"xlabel",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S(a.prototype,"convertors",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=S(a.prototype,"verticalline",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=S(a.prototype,"sectionid",[x.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a);t.Chartjs=_},"aurelia-bodylight-plugin/elements/chartjs-time":function(e,t,i){"use strict";t.__esModule=!0,t.ChartjsTime=void 0;var n,a,r,s,l,o,u,h,c=i("SkM8"),d=i("aurelia-bodylight-plugin/elements/chartjs");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var b=(0,c.useView)("./chartjs.html")((h=function(e){var t,i;function n(){var t;return f(t=e.call(this)||this,"fromid",r,m(t)),f(t,"labels",s,m(t)),f(t,"refindex",l,m(t)),f(t,"refvalues",o,m(t)),f(t,"type",u,m(t)),t.handleValueChange=function(e){for(var i=0,n=t.refindex;n<t.refindex+t.refvalues;n++)t.operation&&t.operation[i]?t.chart.data.datasets[i].data.push(t.operation[i](e.detail.data[n])):t.chart.data.datasets[i].data.push(e.detail.data[n]),t.chart.data.datasets[i].data.length>t.maxdata&&t.chart.data.datasets[i].data.shift(),i++;if(t.chart.data.labels.push(e.detail.time),t.chart.data.labels.length>t.maxdata&&(t.chart.data.labels.shift(),t.sectionid)){0===t.chart.config.options.section[0].index&&t.chart.config.options.section.shift();for(var a=0;a<t.chart.config.options.section.length;a++)t.chart.config.options.section[a].index-=1}t.chart.update()},t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.bind=function(){e.prototype.bind.call(this),this.chlabels=this.labels.split(",");for(var t=[],i=this.initialdata.split(";"),n=0;n<this.refvalues+1;n++){var a=i[n]?i[n].split(","):[];this.mydata[n]=a.map((function(e){return parseFloat(e)}))}for(var r=0;r<this.refvalues;r++)t.push({data:this.mydata[r+1],label:this.chlabels[r],backgroundColor:this.selectColor(r),borderColor:this.selectColor(r),borderWidth:1,pointRadius:1,fill:!1});this.data={labels:this.mydata[0],datasets:t},this.verticalline?this.type="LineWithLine":this.type="line"},a.resetdata=function(){e.prototype.resetdata.call(this),this.chart.data.labels=[]},n}(d.Chartjs),r=p((a=h).prototype,"fromid",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(a.prototype,"labels",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(a.prototype,"refindex",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=p(a.prototype,"refvalues",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"type",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=a))||n;t.ChartjsTime=b},"aurelia-bodylight-plugin/elements/chartjs-time.html":function(e,t){e.exports="<template>\x3c!-- not used, inherited from chartjs--\x3e</template>\n"},"aurelia-bodylight-plugin/elements/chartjs-xy":function(e,t,i){"use strict";t.__esModule=!0,t.ChartjsXy=void 0;var n,a,r,s,l,o,u,h,c=i("aurelia-bodylight-plugin/elements/chartjs-time"),d=i("SkM8");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var b=(0,d.useView)("./chartjs.html")((h=function(e){var t,i;function n(){var t;return f(t=e.call(this)||this,"fromid",r,m(t)),f(t,"labels",s,m(t)),f(t,"refindex",l,m(t)),f(t,"refvalues",o,m(t)),f(t,"type",u,m(t)),t.handleValueChange=function(e){for(var i=0,n=t.refindex+1;n<t.refindex+t.refvalues;n++)t.chart.data.datasets[i].data.push({x:e.detail.data[t.refindex],y:e.detail.data[n]}),t.chart.data.datasets[i].data.length>t.maxdata&&t.chart.data.datasets[i].data.shift(),i++;t.chart.update()},t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.bind=function(){var t=this;e.prototype.bind.call(this);var i=[],n=this.initialdata.split(";");this.mydata=[];for(var a=0;a<this.refvalues;a++){var r=n[a]?n[a].split(","):[];0===a?this.mydata[0]=r.map((function(e,t){return parseFloat(e)})):this.mydata[a]=r.map((function(e,i){return{x:t.mydata[0][i],y:parseFloat(e)}}))}for(var s=1;s<this.refvalues;s++)i.push({data:this.mydata[s],label:this.chlabels[s],backgroundColor:this.colors[s],borderColor:this.colors[s],fill:!1,showLine:!0,borderWidth:1,refvalues:this.refvalues});if(n.length>this.refvalues)for(var l=this.refvalues,o=function(e){var a=n[e].split(","),r=n[e+1].split(",");t.mydata[l]=r.map((function(e,t){return{x:parseFloat(a[t]),y:parseFloat(e)}})),i.push({data:t.mydata[l],backgroundColor:t.selectColor(e),borderColor:t.selectColor(e),fill:!1,showLine:!0}),l++},u=this.refvalues;u<n.length;u+=2)o(u);this.data={datasets:i},this.type="scatter",this.options.tooltips.mode="nearest",this.options.elements={point:{radius:this.customRadius,display:!0}}},a.customRadius=function(e){var t=e.dataIndex===e.dataset.data.length-1;return e.datasetIndex<e.dataset.refvalues&&t?3:1},a.resetdata=function(){for(var e=0,t=this.refindex+1;t<this.refindex+this.refvalues;t++)this.chart.data.datasets[e].data=[],e++},n}(c.ChartjsTime),r=p((a=h).prototype,"fromid",[d.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(a.prototype,"labels",[d.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(a.prototype,"refindex",[d.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=p(a.prototype,"refvalues",[d.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"type",[d.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=a))||n;t.ChartjsXy=b},"aurelia-bodylight-plugin/elements/chartjs-xy.html":function(e,t){e.exports="<template>\x3c!-- not used, inherited from chartjs--\x3e</template>\n"},"aurelia-bodylight-plugin/elements/chartjs.html":function(e,t){e.exports='<template>\n    <div id="canvas-holder">\n    <span class="w3-small">\n      <i class="fa fa-download" title="download csv data, row=data in time point" click.delegate="download()"></i>\n      <i class="fa fa-download fa-rotate-270" title="download flat csv data, row=all data for variable" click.delegate="downloadflat()"></i>\n    </span>\n      <div style="margin-top: -1.5em">\n    <canvas id="${id}-canvas" ref="chartcanvas" width="${width}" height="${height}"></canvas>\n      </div>\n    </div>\n</template>\n'},"aurelia-bodylight-plugin/elements/dygraphchart":function(e,t,i){"use strict";t.__esModule=!0,t.Dygraphchart=void 0;var n,a,r,s,l,o,u,h=(n=i("EflE"))&&n.__esModule?n:{default:n},c=i("aurelia-framework"),d=i("Iab2");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var p=(r=m((a=function(){function e(){var e=this;f(this,"inputs",r,this),f(this,"fromid",s,this),f(this,"maxdata",l,this),f(this,"refindex",o,this),f(this,"refvalues",u,this),this.handleValueChange=function(t){for(var i=[t.detail.time],n=t.detail.data.slice(),a=e.refindex;a<e.refindex+e.refvalues;a++)i.push(n[a]);e.data.push(i),e.data.length>e.maxdata&&e.data.shift(),e.dygraph.updateOptions({file:e.data})},this.handleReset=function(t){e.resetdata(),e.dygraph.updateOptions({file:e.data})}}var t=e.prototype;return t.resetdata=function(){this.data=[];var e=Array(parseInt(this.refvalues,10)+1).fill(0);this.data.push(e)},t.attached=function(){document.getElementById(this.fromid).addEventListener("fmidata",this.handleValueChange),document.getElementById(this.fromid).addEventListener("fmireset",this.handleReset);var e=this.inputs.split(",");this.resetdata(),this.dygraph=new h.default(this.dygraphcanvas,this.data,{drawPoints:!0,labels:e})},t.detached=function(){document.getElementById(this.fromid)&&document.getElementById(this.fromid).removeEventListener("fmidata",this.handleValueChange),document.getElementById(this.fromid)&&document.getElementById(this.fromid).removeEventListener("fmireset",this.handleReset)},t.download=function(){var e=prompt("File name (*.csv):","data.csv");if(e){e.endsWith(".csv")||(e=e.concat(".csv"));var t=this.inputs+"\n"+this.data.map((function(e){return e.join(",")})).join("\n"),i=new Blob([t],{type:"text/csv;charset=utf-8;"});(0,d.saveAs)(i,e)}},t.preview=function(){var e=this.inputs+"\n"+this.data.map((function(e){return e.join(",")})).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(t);this.popup=window.open(i,"BodylightPreview","width=800,height=600,menubar=no,status=no,titlebar=no,toolbar=no")},e}()).prototype,"inputs",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=m(a.prototype,"fromid",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=m(a.prototype,"maxdata",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),o=m(a.prototype,"refindex",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(a.prototype,"refvalues",[c.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),a);t.Dygraphchart=p},"aurelia-bodylight-plugin/elements/dygraphchart.html":function(e,t){e.exports='<template bindable="width,height">   \x3c!--other attributes @bindable inputs;  @bindable fromid;  @bindable maxdata=300;--\x3e\n  <div class="w3-container">\n    <span class="w3-small">\n      <i class="fa fa-download w3-border" title="download csv data" click.delegate="download()"></i>\n      \x3c!--i class="fa fa-eye w3-border" title="preview csv data" click.delegate="preview()"></i--\x3e\n    </span>\n  <div ref="dygraphcanvas" style="width:${width}px; height:${height}px;"></div>\n  </div>\n</template>\n'},"aurelia-bodylight-plugin/elements/ecg":function(e,t,i){"use strict";t.__esModule=!0,t.Ecg=void 0;var n,a,r,s,l,o,u,h,c,d=i("aurelia-bodylight-plugin/elements/chartjs-time"),f=i("SkM8");function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var g=(0,f.useView)("./chartjs.html")((c=function(e){var t,i;function n(){var t;return m(t=e.call(this)||this,"fromid",r,p(t)),m(t,"labels",s,p(t)),m(t,"maxdata",l,p(t)),t.refindex=0,t.refvalues=1,t.previousreltime=0,m(t,"type",o,p(t)),t.ecgvalues=[[.2,.12,0,0,0,0,-.1,1.4],[-.5,0,0,0,0,0,0,0],[0,0,0,0,.15,.28,.35,.38],[.38,.35,.28,.15,0,0,0,0],[0,0,0,0,0,0,.12,.2]],t.ecglabels=[["P","","","","","","Q","R"],["S","","","","","","",""],["","","","","","","","T"],["","","","","","","",""],["","","","","","","","P"]],t.ecgindex=0,t.ecgsegment=1,m(t,"width",u,p(t)),m(t,"height",h,p(t)),console.log("BdlEcg()"),t.handleValueChange=function(e){t.handleValueChangeImpl(e)},t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.bind=function(){e.prototype.bind.call(this),this.datalabels=!0,this.options.scales.xAxes=[{ticks:{display:!1}}]},a.attached=function(){e.prototype.attached.call(this),document.getElementById(this.fromid).addEventListener("animatedata",this.handleValueChange),this.chart.data.datasets[0].datalabels||(this.chart.data.datasets[0].datalabels=[])},a.detached=function(){e.prototype.detached.call(this),document.getElementById(this.fromid)&&document.getElementById(this.fromid).removeEventListener("animatedata",this.handleValueChange)},a.handleValueChangeImpl=function(e){console.log("bdl-ecg handlevaluechange e.detail",e.detail);var t=e.detail.segment,i=e.detail.relativetime;this.currentsegment!==t?(this.previousindex=0,this.index=0,this.currentsegment=t,this.previousreltime=0):this.previousindex=this.index;var n,a,r,s=i-this.previousreltime,l=Math.round(this.ecgvalues[t].length*s);if((this.index+=l,this.previousreltime=this.previousreltime+l/this.ecgvalues[t].length,console.log("bdl-ecg handlevaluechange npoints,previndex,index:",l,this.previousindex,this.index),l>0)&&((n=this.chart.data.datasets[0].data).push.apply(n,this.ecgvalues[t].slice(this.previousindex,this.index)),(a=this.chart.data.datasets[0].datalabels).push.apply(a,this.ecglabels[t].slice(this.previousindex,this.index)),(r=this.chart.data.labels).push.apply(r,Array(l).fill(e.detail.time)),this.chart.data.datasets[0].data.length>this.maxdata)){var o=this.chart.data.datasets[0].data.length-this.maxdata;this.chart.data.datasets[0].data.splice(0,o),this.chart.data.datasets[0].datalabels.splice(0,o),this.chart.data.labels.splice(0,o)}this.chart.update(0)},n}(d.ChartjsTime),r=b((a=c).prototype,"fromid",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=b(a.prototype,"labels",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"ECG I (mV)"}}),l=b(a.prototype,"maxdata",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),o=b(a.prototype,"type",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=b(a.prototype,"width",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"300"}}),h=b(a.prototype,"height",[f.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"50"}}),n=a))||n;t.Ecg=g},"aurelia-bodylight-plugin/elements/ecg.html":function(e,t){e.exports='<template>\n  \x3c!-- not used, inherited from chartjs--\x3e\n  ECG:\n  <div id="canvas-holder">\n    <span class="w3-small">\n      <i class="fa fa-download" title="download csv data, row=data in time point" click.delegate="download()"></i>\n      <i class="fa fa-download fa-rotate-270" title="download flat csv data, row=all data for variable" click.delegate="downloadflat()"></i>\n      \x3c!--i class="fa fa-eye w3-border" title="preview csv data" click.delegate="preview()"></i--\x3e\n    </span>\n    <canvas id="${id}-canvas" ref="chartcanvas" width="${width}" height="${height}"></canvas> \x3c!-- width="${width}" height="${height}" --\x3e\n  </div>\n</template>\n'},"aurelia-bodylight-plugin/elements/fmi":function(e,t,i){"use strict";t.__esModule=!0,t.Fmi=void 0;var n,a,r,s,l,o,u,h,c,d,f,m,p,b,g=i("aurelia-framework");function v(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function w(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function z(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var x=(a=z((n=function(){function e(){var e=this;w(this,"fminame",a,this),w(this,"tolerance",r,this),w(this,"starttime",s,this),w(this,"guid",l,this),w(this,"id",o,this),w(this,"inputs",u,this),w(this,"otherinputs",h,this),w(this,"valuereferences",c,this),w(this,"ticksToUpdate",d,this),w(this,"src",f,this),w(this,"fstepsize",m,this),w(this,"controlid",p,this),w(this,"showcontrols",b,this),this.cosimulation=1,this.stepSize=.01,this.doingstep=!1,this.animationstarted=!1,this.measurefps=!0,this.fpstick=0,this.stepi=0,this.changeinputs=[],this.handleValueChange=function(t){console.log("handlevaluechange",t,t.target);var i=t.target.parentElement.parentElement.id,n=t.target.value;e.changeinputs.push({id:i,value:n}),console.log("fmi handle value change",e.changeinputs)},this.handleDetailChange=function(t){e.changeinputs.push({valuereference:t.detail.valuereference,value:t.detail.value}),console.log("fmi handle detail change",e.changeinputs)},this.handleStart=function(t){e.startevent(t)},this.handleStop=function(t){e.stopevent(t)},this.inst={}}var t=e.prototype;return t.attached=function(){if(console.log("fmi attached"),this.mydata=[0,0],this.references=this.valuereferences.split(","),this.inputs){var e=this.inputs.split(";");this.inputreferences=[];for(var t,i=v(e);!(t=i()).done;){var n=t.value.split(","),a=n.length>2?n[2]:1,r=n.length>3?n[3]:1;this.inputreferences[n[0]]={ref:n[1],numerator:a,denominator:r},document.getElementById(n[0]).addEventListener("change",this.handleValueChange)}}if(this.otherinputs)for(var s,l=v(this.otherinputs.split(",;"));!(s=l()).done;){var o=s.value;document.getElementById(o).addEventListener("fmiinput",this.handleDetailChange)}this.src&&this.src.length>0?(console.log("loading script first, then init fmi"),window.thisfmi=this,this.getScript(this.src,this.initfmi)):(console.log("init fmi without loading script: fminame, this:",this.fminame,this),this.initfmi()),this.controlid&&(document.getElementById(this.controlid).addEventListener("fmistart",this.handleStart),document.getElementById(this.controlid).addEventListener("fmistop",this.handleStop)),"string"==typeof this.showcontrols&&(this.showcontrols="true"===this.showcontrols)},t.getScript=function(e,t){console.log("fmi getscript()");var i=document.createElement("script"),n=document.getElementsByTagName("script")[0];i.async=1,i.onload=i.onreadystatechange=function(e,n){(n||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i=void 0,!n&&t&&setTimeout(t,0))},i.src=window.bdlBaseHref?window.bdlBaseHref+e:e,n.parentNode.insertBefore(i,n)},t.initfmi=function(){var e={};window.thisfmi?(e.fminame=window.thisfmi.fminame,console.log("using global fmi initfmi() fminame",e.fminame)):(e.fminame=this.fminame,console.log("using local fmi initfmi() fminame",e.fminame)),e.inst=window[e.fminame](),console.log("fmi callback that, that.inst",e,e.inst),window.fmiinst||(window.fmiinst=[]),window.fmiinst[e.fminame]=e},t.bind=function(){},t.detached=function(){},t.consoleLogger=function(e,t,i,n,a,r){var s=this,l=function(e,t){var i=s.inst._malloc(1),n=s.inst._snprintf(i,0,e,t);return s.inst._free(i),n++,i=s.inst._malloc(n),s.inst._snprintf(i,n,e,t),i};console.log("FMU("+this.inst.UTF8ToString(t)+":"+i+":"+this.inst.UTF8ToString(n)+") msg: "+this.inst.UTF8ToString(l(a,r))),this.inst._free(l)},t.initialize=function(){this.fmiEnterInit(this.fmiinst),this.fmiExitInit(this.fmiinst)},t.instantiate=function(){this.stepTime=0,this.stepSize="string"==typeof this.fstepsize?parseFloat(this.fstepsize):this.fstepsize,this.mystep=this.stepSize,this.inst=window.fmiinst[this.fminame].inst,console.log("instantiate() this.inst",this.inst);var e="_",t=this.fminame;"function"==typeof window._fmi2GetVersion&&(t="",e=""),this.fmiCreateCallback=this.inst.cwrap("createFmi2CallbackFunctions","number",["number"]),this.fmiReset=this.inst.cwrap(t+e+"fmi2Reset","number",["number"]),this.fmiInstantiate=this.inst.cwrap(t+e+"fmi2Instantiate","number",["string","number","string","string","number","number","number"]),this.fmiSetup=this.inst.cwrap(t+e+"fmi2SetupExperiment","number",["number","number","number","number","number","number"]),this.fmiEnterInit=this.inst.cwrap(t+e+"fmi2EnterInitializationMode","number",["number"]),this.fmiExitInit=this.inst.cwrap(t+e+"fmi2ExitInitializationMode","number",["number"]),this.fmiSetReal=this.inst.cwrap(t+e+"fmi2SetReal","number",["number","number","number","number"]),this.fmiGetReal=this.inst.cwrap(t+e+"fmi2GetReal","number",["number","number","number","number"]),this.fmiSetBoolean=this.inst.cwrap(t+e+"fmi2SetBoolean","number",["number","number","number","number"]),this.fmiGetBoolean=this.inst.cwrap(t+e+"fmi2GetBoolean","number",["number","number","number","number"]),this.fmiDoStep=this.inst.cwrap(t+e+"fmi2DoStep","number",["number","number","number","number"]),this.fmiGetVersion=this.inst.cwrap(t+e+"fmi2GetVersion","string"),this.fmiGetTypesPlatform=this.inst.cwrap(t+e+"fmi2GetTypesPlatform","string"),this.fmi2FreeInstance=this.inst.cwrap(t+e+"fmi2FreeInstance","number",["number"]),this.instantiated=!1,this.pow=this.stepSize<1?-Math.ceil(-Math.log10(this.stepSize)):Math.ceil(Math.log10(this.stepSize)),console.log("instantiate() this.inst",this.inst),this.consoleLoggerPtr=this.inst.addFunction(this.consoleLogger.bind(this),"viiiiii"),this.callbackptr=this.fmiCreateCallback(this.consoleLoggerPtr),this.fmiinst=this.fmiInstantiate(this.fminame,this.cosimulation,this.guid,"",this.callbackptr,0,0),this.setupExperiment()},t.setupExperiment=function(){this.fmiSetup(this.fmiinst,1,this.tolerance,this.starttime,0),console.log("instantiated fmiinst",this.fmiinst),this.instantiated=!0},t.simulate=function(){},t.setReal=function(e,t,i){return console.log("setreal query,value,count",e,t,i),this.fmiSetReal(this.fmiinst,e.byteOffset,i,t.byteOffset)},t.setBoolean=function(e,t,i){return this.fmiSetBoolean(this.fmiinst,e.byteOffset,i,t.byteOffset)},t.getReal=function(e,t,i){return this.fmiGetReal(this.fmiinst,e.byteOffset,i,t.byteOffset)},t.getBoolean=function(e,t,i){return this.fmiGetBoolean(this.fmiinst,e.byteOffset,i,t.byteOffset)},t.startevent=function(e){this.animationstarted||this.startSimulation()},t.stopevent=function(e){this.animationstarted&&this.stopSimulation()},t.startstop=function(){this.animationstarted?(this.stopSimulation(),this.sendStopEvent()):(this.sendStartEvent(),this.startSimulation())},t.startSimulation=function(){var e=this;this.animationstarted=!0;requestAnimationFrame((function t(){e.request=requestAnimationFrame(t),e.step()}))},t.stopSimulation=function(){this.animationstarted=!1,cancelAnimationFrame(this.request)},t.sendStopEvent=function(){var e=new CustomEvent("fmistop",{detail:{time:this.round(this.stepTime,this.pow)}});document.getElementById(this.id).dispatchEvent(e)},t.sendStartEvent=function(){var e=new CustomEvent("fmistart",{detail:{time:this.round(this.stepTime,this.pow)}});document.getElementById(this.id).dispatchEvent(e)},t.round=function(e,t){if(t<0){var i=-t;return Number(Math.round(e+"e"+i)+"e-"+i)}return Number(Math.round(e+"e-"+t)+"e+"+t)},t.step=function(){if(!this.doingstep){if(this.doingstep=!0,this.instantiated||(this.instantiate(),this.initialize()),this.stepi++,this.changeinputs.length>0){for(;this.changeinputs.length>0;){console.log("changing inputs");var e=this.changeinputs.shift(),t=e.value*this.inputreferences[e.id].numerator/this.inputreferences[e.id].denominator;e.id?this.setSingleReal(this.inputreferences[e.id].ref,t):e.valuereference&&this.setSingleReal(e.valuereference,t)}this.flushRealQueue()}var i=this.fmiDoStep(this.fmiinst,this.stepTime,this.mystep,1);this.stepTime=this.stepTime+this.mystep,this.mystep=this.stepSize,1!==i&&2!==i||this.fmiReset(this.fmiinst),this.mydata=this.getReals(this.references);var n=new CustomEvent("fmidata",{detail:{time:this.round(this.stepTime,this.pow),data:this.mydata}});document.getElementById(this.id).dispatchEvent(n),this.measurefps&&(0===this.fpstick&&(this.startfpstime=Date.now()),this.fpstick++,this.fpstick>=this.ticksToUpdate&&(this.stepSize<1?this.pow=-Math.ceil(-Math.log10(this.stepSize)):this.pow=Math.ceil(Math.log10(this.stepSize)),this.mystep=this.round(this.stepTime+this.stepSize,this.pow)-this.stepTime,this.fps=1e3*this.ticksToUpdate/(Date.now()-this.startfpstime),this.fpstick=0)),this.doingstep=!1}},t.reset=function(){this.stepTime=0,this.stepSize="string"==typeof this.fstepsize?parseFloat(this.fstepsize):this.fstepsize,this.mystep=this.stepSize,this.setupExperiment(),this.fmiReset(this.fmiinst),this.initialize();var e=new CustomEvent("fmireset");document.getElementById(this.id).dispatchEvent(e)},t.createBuffer=function(e){var t=e.length*e.BYTES_PER_ELEMENT;return{ptr:this.inst._malloc(t),size:t}},t.createAndFillBuffer=function(e){var t=this.createBuffer(e);return this.fillBuffer(t,e),t},t.freeBuffer=function(e){null!==e.ptr&&this.inst._free(e.ptr),e.ptr=null,e.size=null},t.viewBuffer=function(e){return new Uint8Array(this.inst.HEAPU8.buffer,e.ptr,e.size)},t.fillBuffer=function(e,t){return this.viewBuffer(e).set(new Uint8Array(t.buffer)),e},t.getReals=function(e){var t=this.createAndFillBuffer(new Int32Array(e)),i=this.viewBuffer(t),n=this.createBuffer(new Float64Array(e.length)),a=this.viewBuffer(n);this.getReal(i,a,e.length);var r=new Float64Array(a.buffer,a.byteOffset,e.length);return this.freeBuffer(t),this.freeBuffer(n),r},t.getSingleReal=function(e){var t=this.createAndFillBuffer(new Int32Array([e])),i=this.viewBuffer(t),n=this.createBuffer(new Float64Array(1)),a=this.viewBuffer(n);this.getReal(i,a,1);var r=new Float64Array(a.buffer,a.byteOffset,1);return this.freeBuffer(t),this.freeBuffer(n),r[0]},t.setSingleReal=function(e,t){console.log("setSingleReal reference,value",e,t),this.setRealQueue||(this.setRealQueue={references:[],values:[]}),this.setRealQueue.references.push(e),this.setRealQueue.values.push(t)},t.flushRealQueue=function(){if(this.setRealQueue){var e=this.createAndFillBuffer(new Int32Array(this.setRealQueue.references)),t=this.viewBuffer(e),i=this.createAndFillBuffer(new Float64Array(this.setRealQueue.values)),n=this.viewBuffer(i);this.setReal(t,n,this.setRealQueue.references.length),this.freeBuffer(e),this.freeBuffer(i),this.setRealQueue=!1}},t.flushBooleanQueue=function(){if(this.setBooleanQueue){var e=this.createAndFillBuffer(new Int32Array(this.setBooleanQueue.references)),t=this.viewBuffer(e),i=this.createAndFillBuffer(new Int32Array(this.setBooleanQueue.values)),n=this.viewBuffer(i);this.setBoolean(t,n,this.setBooleanQueue.references.length),this.freeBuffer(e),this.freeBuffer(i),this.setBooleanQueue=!1}},t.setSingleBoolean=function(e,t){this.setBooleanQueue||(this.setBooleanQueue={references:[],values:[]}),this.setBooleanQueue.references.push(e),this.setBooleanQueue.values.push(t)},t.getSingleBoolean=function(e){var t=this.createAndFillBuffer(new Int32Array([e])),i=this.viewBuffer(t),n=this.createBuffer(new Int32Array(1)),a=this.viewBuffer(n);this.getBoolean(i,a,1);var r=new Int32Array(a.buffer,a.byteOffset,1);return this.freeBuffer(t),this.freeBuffer(n),r[0]},t.getBooleans=function(e){var t=this.createAndFillBuffer(new Int32Array(e)),i=this.viewBuffer(t),n=this.createBuffer(new Int32Array(e.length)),a=this.viewBuffer(n);this.getBoolean(i,a,e.length);var r=new Int32Array(a.buffer,a.byteOffset,e.length);return this.freeBuffer(t),this.freeBuffer(n),r},e}()).prototype,"fminame",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"N/A"}}),r=z(n.prototype,"tolerance",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e-6}}),s=z(n.prototype,"starttime",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=z(n.prototype,"guid",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"N/A"}}),o=z(n.prototype,"id",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=z(n.prototype,"inputs",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=z(n.prototype,"otherinputs",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=z(n.prototype,"valuereferences",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=z(n.prototype,"ticksToUpdate",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),f=z(n.prototype,"src",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=z(n.prototype,"fstepsize",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),p=z(n.prototype,"controlid",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=z(n.prototype,"showcontrols",[g.bindable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n);t.Fmi=x},"aurelia-bodylight-plugin/elements/fmi.html":function(e,t,i){e.exports='<template>\n  <require from="./w3.css"></require>\n  \x3c!--require from="font-awesome/css/font-awesome.min.css"></require>\n  <require from="font-awesome/fonts/fontawesome-webfont.woff"></require>\n  <require from="font-awesome/fonts/fontawesome-webfont.ttf"></require>\n  <require from="font-awesome/fonts/fontawesome-webfont.woff2"></require--\x3e\n  <div show.bind="showcontrols">\n  <button class="w3-button w3-theme" click.delegate="startstop()" title="Start/Stop simulation"><i class.bind="animationstarted? \'fa fa-stop\':\'fa fa-play\'"></i> &nbsp;</button>\n  <button class="w3-button w3-theme" click.delegate="step()" title="Do simulation step"><i class="fa fa-step-forward"> <sub><b>1</b></sub></i> &nbsp;</button>\n  <button class="w3-button w3-theme" click.delegate="reset()" title="Reset simulation"><i class="fa fa-refresh"></i> &nbsp;</button>\n  <span class="w3-tiny">\n    <input class="w3-check w3-tiny" type="checkbox" checked.bind="measurefps"/>\n    <i show.bind="measurefps" title="FMI: ${fminame}">FPS:${fps}</i>\n  </span>\n  </div>\n</template>\n'},dLt8:function(e,t,i){"use strict";t.__esModule=!0,t.parseHashParamString=function(e){for(var t=e.substr(1).split("&"),i={},n=0;n<t.length;n++){var a=t[n].split("=",2);1===a.length?i[n]=a[0]:i[a[0]]=a[1]}return i}}}]);
//# sourceMappingURL=vendors~3b8a37eb.05098aeebf2bac56c6d1.bundle.map