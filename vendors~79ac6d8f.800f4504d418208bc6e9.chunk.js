(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~79ac6d8f"],{

/***/ "a8is":
/*!*************************************************!*\
  !*** ./node_modules/@danzen/createjs/create.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*!\r\n* CreateJS\r\n* Visit http://createjs.com/ for documentation, updates and examples.\r\n*\r\n* Copyright (c) 2010 gskinner.com, inc.\r\n*\r\n* Permission is hereby granted, free of charge, to any person\r\n* obtaining a copy of this software and associated documentation\r\n* files (the \"Software\"), to deal in the Software without\r\n* restriction, including without limitation the rights to use,\r\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n* copies of the Software, and to permit persons to whom the\r\n* Software is furnished to do so, subject to the following\r\n* conditions:\r\n*\r\n* The above copyright notice and this permission notice shall be\r\n* included in all copies or substantial portions of the Software.\r\n*\r\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n* OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\n\r\nvar createjs=createjs||{};createjs.stageTransformable=!0,createjs.extend=function(t,e){\"use strict\";function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},createjs.promote=function(t,e){\"use strict\";var i=t.prototype,s=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(s)for(var r in i[(e+=\"_\")+\"constructor\"]=s.constructor,s)i.hasOwnProperty(r)&&\"function\"==typeof s[r]&&(i[e+r]=s[r]);return t},createjs.indexOf=function(t,e){\"use strict\";for(var i=0,s=t.length;i<s;i++)if(e===t[i])return i;return-1},function(){\"use strict\";function t(){throw\"UID cannot be instantiated\"}t._nextID=0,t.get=function(){return t._nextID++},createjs.UID=t}(),createjs.deprecate=function(e,i){\"use strict\";return function(){var t=\"Deprecated property or method '\"+i+\"'. See docs for info.\";return console&&(console.warn?console.warn(t):console.log(t)),e&&e.apply(this,arguments)}},function(){\"use strict\";function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return\"[Event (type=\"+this.type+\")]\"},createjs.Event=t}(),function(){\"use strict\";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var s=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{},r=s[t];return r&&this.removeEventListener(t,e,i),(r=s[t])?r.push(e):s[t]=[e],e},e.on=function(t,e,i,s,r,n){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,r),s&&t.remove()},n)},e.removeEventListener=function(t,e,i){var s=i?this._captureListeners:this._listeners;if(s){var r=s[t];if(r)for(var n=0,a=r.length;n<a;n++)if(r[n]==e){1==a?delete s[t]:r.splice(n,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,i){if(\"string\"==typeof t){var s=this._listeners;if(!(e||s&&s[t]))return!0;t=new createjs.Event(t,e,i)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var r=this,n=[r];r.parent;)n.push(r=r.parent);for(var a=n.length,o=a-1;0<=o&&!t.propagationStopped;o--)n[o]._dispatchEvent(t,1+(0==o));for(o=1;o<a&&!t.propagationStopped;o++)n[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return\"[EventDispatcher]\"},e._dispatchEvent=function(t,e){var i,s,r=e<=2?this._captureListeners:this._listeners;if(t&&r&&(s=r[t.type])&&(i=s.length)){try{t.currentTarget=this}catch(t){}try{t.eventPhase=0|e}catch(t){}t.removed=!1,s=s.slice();for(var n=0;n<i&&!t.immediatePropagationStopped;n++){var a=s[n];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},createjs.EventDispatcher=t}(),function(){\"use strict\";function n(){throw\"Ticker cannot be instantiated.\"}n.RAF_SYNCHED=\"synched\",n.RAF=\"raf\",n.TIMEOUT=\"timeout\",n.timingMode=null,n.maxDelta=0,n.paused=!1,n.removeEventListener=null,n.removeAllEventListeners=null,n.dispatchEvent=null,n.hasEventListener=null,n._listeners=null,createjs.EventDispatcher.initialize(n),n._addEventListener=n.addEventListener,n.addEventListener=function(){return n._inited||n.init(),n._addEventListener.apply(n,arguments)},n._inited=!1,n._startTime=0,n._pausedTime=0,n._ticks=0,n._pausedTicks=0,n._interval=50,n._lastTime=0,n._times=null,n._tickTimes=null,n._timerId=null,n._raf=!0,n._setInterval=function(t){n._interval=t,n._inited&&n._setupTick()},n.setInterval=createjs.deprecate(n._setInterval,\"Ticker.setInterval\"),n._getInterval=function(){return n._interval},n.getInterval=createjs.deprecate(n._getInterval,\"Ticker.getInterval\"),n._setFPS=function(t){n._setInterval(1e3/t)},n.setFPS=createjs.deprecate(n._setFPS,\"Ticker.setFPS\"),n._getFPS=function(){return 1e3/n._interval},n.getFPS=createjs.deprecate(n._getFPS,\"Ticker.getFPS\");try{Object.defineProperties(n,{interval:{get:n._getInterval,set:n._setInterval},framerate:{get:n._getFPS,set:n._setFPS}})}catch(t){console.log(t)}n.init=function(){n._inited||(n._inited=!0,n._times=[],n._tickTimes=[],n._startTime=n._getTime(),n._times.push(n._lastTime=0),n.interval=n._interval)},n.reset=function(){var t;n._raf?(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame)&&t(n._timerId):clearTimeout(n._timerId),n.removeAllEventListeners(\"tick\"),n._timerId=n._times=n._tickTimes=null,n._startTime=n._lastTime=n._ticks=n._pausedTime=0,n._inited=!1},n.getMeasuredTickTime=function(t){var e=0,i=n._tickTimes;if(!i||i.length<1)return-1;t=Math.min(i.length,t||0|n._getFPS());for(var s=0;s<t;s++)e+=i[s];return e/t},n.getMeasuredFPS=function(t){var e=n._times;return!e||e.length<2?-1:(t=Math.min(e.length-1,t||0|n._getFPS()),1e3/((e[0]-e[t])/t))},n.getTime=function(t){return n._startTime?n._getTime()-(t?n._pausedTime:0):-1},n.getEventTime=function(t){return n._startTime?(n._lastTime||n._startTime)-(t?n._pausedTime:0):-1},n.getTicks=function(t){return n._ticks-(t?n._pausedTicks:0)},n._handleSynch=function(){n._timerId=null,n._setupTick(),n._getTime()-n._lastTime>=.97*(n._interval-1)&&n._tick()},n._handleRAF=function(){n._timerId=null,n._setupTick(),n._tick()},n._handleTimeout=function(){n._timerId=null,n._setupTick(),n._tick()},n._setupTick=function(){if(null==n._timerId){var t=n.timingMode;if(t==n.RAF_SYNCHED||t==n.RAF){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(e)return n._timerId=e(t==n.RAF?n._handleRAF:n._handleSynch),void(n._raf=!0)}n._raf=!1,n._timerId=setTimeout(n._handleTimeout,n._interval)}},n._tick=function(){var t,e,i=n.paused,s=n._getTime(),r=s-n._lastTime;for(n._lastTime=s,n._ticks++,i&&(n._pausedTicks++,n._pausedTime+=r),n.hasEventListener(\"tick\")&&(t=new createjs.Event(\"tick\"),e=n.maxDelta,t.delta=e&&e<r?e:r,t.paused=i,t.time=s,t.runTime=s-n._pausedTime,n.dispatchEvent(t)),n._tickTimes.unshift(n._getTime()-s);100<n._tickTimes.length;)n._tickTimes.pop();for(n._times.unshift(s);100<n._times.length;)n._times.pop()};var t=window,e=t.performance.now||t.performance.mozNow||t.performance.msNow||t.performance.oNow||t.performance.webkitNow;n._getTime=function(){return(e&&e.call(t.performance)||(new Date).getTime())-n._startTime},createjs.Ticker=n}(),function(){\"use strict\";function t(t){this.readyState=t.readyState,this._video=t,this._canvas=null,this._lastTime=-1,this.readyState<2&&t.addEventListener(\"canplaythrough\",this._videoReady.bind(this))}var e=t.prototype;e.getImage=function(){if(!(this.readyState<2)){var t,e=this._canvas,i=this._video;return e||((e=this._canvas=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\")).width=i.videoWidth,e.height=i.videoHeight),2<=i.readyState&&i.currentTime!==this._lastTime&&((t=e.getContext(\"2d\")).clearRect(0,0,e.width,e.height),t.drawImage(i,0,0,e.width,e.height),this._lastTime=i.currentTime),e}},e._videoReady=function(){this.readyState=2},createjs.VideoBuffer=t}(),function(){\"use strict\";function t(t,e,i,s,r,n,a,o,h,c,u){this.Event_constructor(t,e,i),this.stageX=s,this.stageY=r,this.rawX=null==h?s:h,this.rawY=null==c?r:c,this.nativeEvent=n,this.pointerID=a,this.primary=!!o,this.relatedTarget=u}var e=createjs.extend(t,createjs.Event);e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},e._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY},isTouch:{get:e._get_isTouch}})}catch(t){}e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return\"[MouseEvent (type=\"+this.type+\" stageX=\"+this.stageX+\" stageY=\"+this.stageY+\")]\"},createjs.MouseEvent=createjs.promote(t,\"Event\")}(),function(){\"use strict\";function d(t,e,i,s,r,n){this.setValues(t,e,i,s,r,n)}var t=d.prototype;d.DEG_TO_RAD=Math.PI/180,d.identity=null,t.setValues=function(t,e,i,s,r,n){return this.a=null==t?1:t,this.b=e||0,this.c=i||0,this.d=null==s?1:s,this.tx=r||0,this.ty=n||0,this},t.append=function(t,e,i,s,r,n){var a=this.a,o=this.b,h=this.c,c=this.d;return 1==t&&0==e&&0==i&&1==s||(this.a=a*t+h*e,this.b=o*t+c*e,this.c=a*i+h*s,this.d=o*i+c*s),this.tx=a*r+h*n+this.tx,this.ty=o*r+c*n+this.ty,this},t.prepend=function(t,e,i,s,r,n){var a=this.a,o=this.c,h=this.tx;return this.a=t*a+i*this.b,this.b=e*a+s*this.b,this.c=t*o+i*this.d,this.d=e*o+s*this.d,this.tx=t*h+i*this.ty+r,this.ty=e*h+s*this.ty+n,this},t.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.appendTransform=function(t,e,i,s,r,n,a,o,h){var c,u,l=r%360?(c=r*d.DEG_TO_RAD,u=Math.cos(c),Math.sin(c)):(u=1,0);return n||a?(n*=d.DEG_TO_RAD,a*=d.DEG_TO_RAD,this.append(Math.cos(a),Math.sin(a),-Math.sin(n),Math.cos(n),t,e),this.append(u*i,l*i,-l*s,u*s,0,0)):this.append(u*i,l*i,-l*s,u*s,t,e),(o||h)&&(this.tx-=o*this.a+h*this.c,this.ty-=o*this.b+h*this.d),this},t.prependTransform=function(t,e,i,s,r,n,a,o,h){var c,u,l=r%360?(c=r*d.DEG_TO_RAD,u=Math.cos(c),Math.sin(c)):(u=1,0);return(o||h)&&(this.tx-=o,this.ty-=h),n||a?(n*=d.DEG_TO_RAD,a*=d.DEG_TO_RAD,this.prepend(u*i,l*i,-l*s,u*s,0,0),this.prepend(Math.cos(a),Math.sin(a),-Math.sin(n),Math.cos(n),t,e)):this.prepend(u*i,l*i,-l*s,u*s,t,e),this},t.rotate=function(t){t*=d.DEG_TO_RAD;var e=Math.cos(t),i=Math.sin(t),s=this.a,r=this.b;return this.a=s*e+this.c*i,this.b=r*e+this.d*i,this.c=-s*i+this.c*e,this.d=-r*i+this.d*e,this},t.skew=function(t,e){return t*=d.DEG_TO_RAD,e*=d.DEG_TO_RAD,this.append(Math.cos(e),Math.sin(e),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},t.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},t.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.invert=function(){var t=this.a,e=this.b,i=this.c,s=this.d,r=this.tx,n=t*s-e*i;return this.a=s/n,this.b=-e/n,this.c=-i/n,this.d=t/n,this.tx=(i*this.ty-s*r)/n,this.ty=-(t*this.ty-e*r)/n,this},t.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},t.transformPoint=function(t,e,i){return(i=i||{}).x=t*this.a+e*this.c+this.tx,i.y=t*this.b+e*this.d+this.ty,i},t.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var e=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a);return Math.abs(1-e/i)<1e-5?(t.rotation=i/d.DEG_TO_RAD,this.a<0&&0<=this.d&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=e/d.DEG_TO_RAD,t.skewY=i/d.DEG_TO_RAD),t},t.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.clone=function(){return new d(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.toString=function(){return\"[Matrix2D (a=\"+this.a+\" b=\"+this.b+\" c=\"+this.c+\" d=\"+this.d+\" tx=\"+this.tx+\" ty=\"+this.ty+\")]\"},d.identity=new d,createjs.Matrix2D=d}(),function(){\"use strict\";function t(t,e,i,s,r){this.setValues(t,e,i,s,r)}var e=t.prototype;e.setValues=function(t,e,i,s,r){return this.visible=null==t||!!t,this.alpha=null==e?1:e,this.shadow=i,this.compositeOperation=s,this.matrix=r||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},e.append=function(t,e,i,s,r){return this.alpha*=e,this.shadow=i||this.shadow,this.compositeOperation=s||this.compositeOperation,this.visible=this.visible&&t,r&&this.matrix.appendMatrix(r),this},e.prepend=function(t,e,i,s,r){return this.alpha*=e,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||s,this.visible=this.visible&&t,r&&this.matrix.prependMatrix(r),this},e.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},e.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=t}(),function(){\"use strict\";function t(t,e){this.setValues(t,e)}var e=t.prototype;e.setValues=function(t,e){return this.x=t||0,this.y=e||0,this},e.copy=function(t){return this.x=t.x,this.y=t.y,this},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return\"[Point (x=\"+this.x+\" y=\"+this.y+\")]\"},createjs.Point=t}(),function(){\"use strict\";function n(t,e,i,s){this.setValues(t,e,i,s)}var t=n.prototype;t.setValues=function(t,e,i,s){return this.x=t||0,this.y=e||0,this.width=i||0,this.height=s||0,this},t.extend=function(t,e,i,s){return s=s||0,t+(i=i||0)>this.x+this.width&&(this.width=t+i-this.x),e+s>this.y+this.height&&(this.height=e+s-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this},t.pad=function(t,e,i,s){return this.x-=e,this.y-=t,this.width+=e+s,this.height+=t+i,this},t.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)},t.contains=function(t,e,i,s){return i=i||0,s=s||0,t>=this.x&&t+i<=this.x+this.width&&e>=this.y&&e+s<=this.y+this.height},t.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)},t.intersection=function(t){var e=t.x,i=t.y,s=e+t.width,r=i+t.height;return this.x>e&&(e=this.x),this.y>i&&(i=this.y),this.x+this.width<s&&(s=this.x+this.width),this.y+this.height<r&&(r=this.y+this.height),s<=e||r<=i?null:new n(e,i,s-e,r-i)},t.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height},t.isEmpty=function(){return this.width<=0||this.height<=0},t.clone=function(){return new n(this.x,this.y,this.width,this.height)},t.toString=function(){return\"[Rectangle (x=\"+this.x+\" y=\"+this.y+\" width=\"+this.width+\" height=\"+this.height+\")]\"},createjs.Rectangle=n}(),function(){\"use strict\";function t(t,e,i,s,r,n,a){t.addEventListener&&(this.target=t,this.overLabel=null==i?\"over\":i,this.outLabel=null==e?\"out\":e,this.downLabel=null==s?\"down\":s,this.play=r,this._isPressed=!1,this._isOver=!1,this._enabled=!1,t.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),n&&(a&&(n.actionsEnabled=!1,n.gotoAndStop&&n.gotoAndStop(a)),t.hitArea=n))}var e=t.prototype;e._setEnabled=function(t){var e;t!=this._enabled&&(e=this.target,(this._enabled=t)?(e.cursor=\"pointer\",e.addEventListener(\"rollover\",this),e.addEventListener(\"rollout\",this),e.addEventListener(\"mousedown\",this),e.addEventListener(\"pressup\",this),e._reset&&(e.__reset=e._reset,e._reset=this._reset)):(e.cursor=null,e.removeEventListener(\"rollover\",this),e.removeEventListener(\"rollout\",this),e.removeEventListener(\"mousedown\",this),e.removeEventListener(\"pressup\",this),e.__reset&&(e._reset=e.__reset,delete e.__reset)))},e.setEnabled=createjs.deprecate(e._setEnabled,\"ButtonHelper.setEnabled\"),e._getEnabled=function(){return this._enabled},e.getEnabled=createjs.deprecate(e._getEnabled,\"ButtonHelper.getEnabled\");try{Object.defineProperties(e,{enabled:{get:e._getEnabled,set:e._setEnabled}})}catch(t){}e.toString=function(){return\"[ButtonHelper]\"},e.handleEvent=function(t){var e=this.target,i=t.type,s=\"mousedown\"==i?(this._isPressed=!0,this.downLabel):\"pressup\"==i?(this._isPressed=!1,this._isOver?this.overLabel:this.outLabel):\"rollover\"==i?(this._isOver=!0,this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,this._isPressed?this.overLabel:this.outLabel);this.play?e.gotoAndPlay&&e.gotoAndPlay(s):e.gotoAndStop&&e.gotoAndStop(s)},e._reset=function(){var t=this.paused;this.__reset(),this.paused=t},createjs.ButtonHelper=t}(),function(){\"use strict\";function t(t,e,i,s){this.color=t||\"black\",this.offsetX=e||0,this.offsetY=i||0,this.blur=s||0}var e=t.prototype;t.identity=new t(\"transparent\",0,0,0),e.toString=function(){return\"[Shadow]\"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=t}(),function(){\"use strict\";function t(t){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(t)}var e=createjs.extend(t,createjs.EventDispatcher);e._getAnimations=function(){return this._animations.slice()},e.getAnimations=createjs.deprecate(e._getAnimations,\"SpriteSheet.getAnimations\");try{Object.defineProperties(e,{animations:{get:e._getAnimations}})}catch(t){}e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t,e){var i=this.getFrame(t);return i?(e||new createjs.Rectangle).setValues(-i.regX,-i.regY,i.rect.width,i.rect.height):null},e.toString=function(){return\"[SpriteSheet]\"},e.clone=function(){throw\"SpriteSheet cannot be cloned.\"},e._parseData=function(t){var e,i,s,r;if(null!=t){if(this.framerate=t.framerate||0,t.images&&0<(i=t.images.length))for(l=this._images=[],e=0;e<i;e++){var n,a=t.images[e];\"string\"==typeof a&&(n=a,(a=document.createElement(\"img\")).src=n),l.push(a),a.getContext||a.naturalWidth||(this._loadCount++,this.complete=!1,function(t,e){a.onload=function(){t._handleImageLoad(e)}}(this,n),function(t,e){a.onerror=function(){t._handleImageError(e)}}(this,n))}if(null!=t.frames)if(Array.isArray(t.frames))for(this._frames=[],e=0,i=(l=t.frames).length;e<i;e++){var o=l[e];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new createjs.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else s=t.frames,this._frameWidth=s.width,this._frameHeight=s.height,this._regX=s.regX||0,this._regY=s.regY||0,this._spacing=s.spacing||0,this._margin=s.margin||0,this._numFrames=s.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(s=t.animations))for(r in this._data={},s){var h={name:r},c=s[r];if(\"number\"==typeof c)l=h.frames=[c];else if(Array.isArray(c))if(1==c.length)h.frames=[c[0]];else for(h.speed=c[3],h.next=c[2],l=h.frames=[],e=c[0];e<=c[1];e++)l.push(e);else{h.speed=c.speed,h.next=c.next;var u=c.frames,l=h.frames=\"number\"==typeof u?[u]:u.slice(0)}!0!==h.next&&void 0!==h.next||(h.next=r),(!1===h.next||l.length<2&&h.next==r)&&(h.next=null),h.speed||(h.speed=1),this._animations.push(r),this._data[r]=h}}},e._handleImageLoad=function(t){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent(\"complete\"))},e._handleImageError=function(t){var e=new createjs.Event(\"error\");e.src=t,this.dispatchEvent(e),0==--this._loadCount&&this.dispatchEvent(\"complete\")},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,i=this._frameWidth,s=this._frameHeight,r=this._spacing,n=this._margin;t:for(var a=0,o=this._images;a<o.length;a++)for(var h=o[a],c=h.width||h.naturalWidth,u=h.height||h.naturalHeight,l=n;l<=u-n-s;){for(var d=n;d<=c-n-i;){if(t<=e)break t;e++,this._frames.push({image:h,rect:new createjs.Rectangle(d,l,i,s),regX:this._regX,regY:this._regY}),d+=i+r}l+=s+r}this._numFrames=e}},createjs.SpriteSheet=createjs.promote(t,\"EventDispatcher\")}(),function(){\"use strict\";function v(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var t=v.prototype,h=v;v.getRGB=function(t,e,i,s){return null!=t&&null==i&&(s=e,i=255&t,e=t>>8&255,t=t>>16&255),null==s?\"rgb(\"+t+\",\"+e+\",\"+i+\")\":\"rgba(\"+t+\",\"+e+\",\"+i+\",\"+s+\")\"},v.getHSL=function(t,e,i,s){return null==s?\"hsl(\"+t%360+\",\"+e+\"%,\"+i+\"%)\":\"hsla(\"+t%360+\",\"+e+\"%,\"+i+\"%,\"+s+\")\"},v.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,\"+\":62,\"/\":63},v.STROKE_CAPS_MAP=[\"butt\",\"round\",\"square\"],v.STROKE_JOINTS_MAP=[\"miter\",\"round\",\"bevel\"];var e=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");e.getContext&&(v._ctx=e.getContext(\"2d\"),e.width=e.height=1),t._getInstructions=function(){return this._updateInstructions(),this._instructions},t.getInstructions=createjs.deprecate(t._getInstructions,\"Graphics.getInstructions\");try{Object.defineProperties(t,{instructions:{get:t._getInstructions}})}catch(t){}t.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},t.draw=function(t,e){this._updateInstructions();for(var i=this._instructions,s=this._storeIndex,r=i.length;s<r;s++)i[s].exec(t,e)},t.drawAsPath=function(t){this._updateInstructions();for(var e,i=this._instructions,s=this._storeIndex,r=i.length;s<r;s++)!1!==(e=i[s]).path&&e.exec(t)},t.moveTo=function(t,e){return this.append(new h.MoveTo(t,e),!0)},t.lineTo=function(t,e){return this.append(new h.LineTo(t,e))},t.arcTo=function(t,e,i,s,r){return this.append(new h.ArcTo(t,e,i,s,r))},t.arc=function(t,e,i,s,r,n){return this.append(new h.Arc(t,e,i,s,r,n))},t.quadraticCurveTo=function(t,e,i,s){return this.append(new h.QuadraticCurveTo(t,e,i,s))},t.bezierCurveTo=function(t,e,i,s,r,n){return this.append(new h.BezierCurveTo(t,e,i,s,r,n))},t.rect=function(t,e,i,s){return this.append(new h.Rect(t,e,i,s))},t.closePath=function(){return this._activeInstructions.length?this.append(new h.ClosePath):this},t.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},t.beginFill=function(t){return this._setFill(t?new h.Fill(t):null)},t.beginLinearGradientFill=function(t,e,i,s,r,n){return this._setFill((new h.Fill).linearGradient(t,e,i,s,r,n))},t.beginRadialGradientFill=function(t,e,i,s,r,n,a,o){return this._setFill((new h.Fill).radialGradient(t,e,i,s,r,n,a,o))},t.beginBitmapFill=function(t,e,i){return this._setFill(new h.Fill(null,i).bitmap(t,e))},t.endFill=function(){return this.beginFill()},t.setStrokeStyle=function(t,e,i,s,r){return this._updateInstructions(!0),this._strokeStyle=this.command=new h.StrokeStyle(t,e,i,s,r),this._stroke&&(this._stroke.ignoreScale=r),this._strokeIgnoreScale=r,this},t.setStrokeDash=function(t,e){return this._updateInstructions(!0),this._strokeDash=this.command=new h.StrokeDash(t,e),this},t.beginStroke=function(t){return this._setStroke(t?new h.Stroke(t):null)},t.beginLinearGradientStroke=function(t,e,i,s,r,n){return this._setStroke((new h.Stroke).linearGradient(t,e,i,s,r,n))},t.beginRadialGradientStroke=function(t,e,i,s,r,n,a,o){return this._setStroke((new h.Stroke).radialGradient(t,e,i,s,r,n,a,o))},t.beginBitmapStroke=function(t,e){return this._setStroke((new h.Stroke).bitmap(t,e))},t.endStroke=function(){return this.beginStroke()},t.curveTo=t.quadraticCurveTo,t.drawRect=t.rect,t.drawRoundRect=function(t,e,i,s,r){return this.drawRoundRectComplex(t,e,i,s,r,r,r,r)},t.drawRoundRectComplex=function(t,e,i,s,r,n,a,o){return this.append(new h.RoundRect(t,e,i,s,r,n,a,o))},t.drawCircle=function(t,e,i){return this.append(new h.Circle(t,e,i))},t.drawEllipse=function(t,e,i,s){return this.append(new h.Ellipse(t,e,i,s))},t.drawPolyStar=function(t,e,i,s,r,n){return this.append(new h.PolyStar(t,e,i,s,r,n))},t.append=function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this},t.decodePath=function(t){for(var e=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],i=[2,2,4,6,0],s=0,r=t.length,n=[],a=0,o=0,h=v.BASE_64;s<r;){var c=t.charAt(s),u=h[c],l=u>>3,d=e[l];if(!d||3&u)throw\"bad path data (@\"+s+\"): \"+c;var _=i[l];l||(a=o=0),s++;for(var p=2+(u>>2&1),f=n.length=0;f<_;f++){var g=(m=h[t.charAt(s)])>>5?-1:1,m=(31&m)<<6|h[t.charAt(s+1)];3==p&&(m=m<<6|h[t.charAt(s+2)]),m=g*m/10,f%2?a=m+=a:o=m+=o,n[f]=m,s+=p}d.apply(this,n)}return this},t.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.unstore=function(){return this._storeIndex=0,this},t.clone=function(){var t=new v;return t.command=this.command,t._stroke=this._stroke,t._strokeStyle=this._strokeStyle,t._strokeDash=this._strokeDash,t._strokeIgnoreScale=this._strokeIgnoreScale,t._fill=this._fill,t._instructions=this._instructions.slice(),t._commitIndex=this._commitIndex,t._activeInstructions=this._activeInstructions.slice(),t._dirty=this._dirty,t._storeIndex=this._storeIndex,t},t.toString=function(){return\"[Graphics]\"},t.mt=t.moveTo,t.lt=t.lineTo,t.at=t.arcTo,t.bt=t.bezierCurveTo,t.qt=t.quadraticCurveTo,t.a=t.arc,t.r=t.rect,t.cp=t.closePath,t.c=t.clear,t.f=t.beginFill,t.lf=t.beginLinearGradientFill,t.rf=t.beginRadialGradientFill,t.bf=t.beginBitmapFill,t.ef=t.endFill,t.ss=t.setStrokeStyle,t.sd=t.setStrokeDash,t.s=t.beginStroke,t.ls=t.beginLinearGradientStroke,t.rs=t.beginRadialGradientStroke,t.bs=t.beginBitmapStroke,t.es=t.endStroke,t.dr=t.drawRect,t.rr=t.drawRoundRect,t.rc=t.drawRoundRectComplex,t.dc=t.drawCircle,t.de=t.drawEllipse,t.dp=t.drawPolyStar,t.p=t.decodePath,t._updateInstructions=function(t){var e=this._instructions,i=this._activeInstructions,s=this._commitIndex;if(this._dirty&&i.length){e.length=s,e.push(v.beginCmd);var r=i.length,n=e.length;e.length=n+r;for(var a=0;a<r;a++)e[a+n]=i[a];this._fill&&e.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&e.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&e.push(this._strokeStyle),t&&(this._oldStrokeStyle=this._strokeStyle,this._oldStrokeDash=this._strokeDash),e.push(this._stroke)),this._dirty=!1}t&&(i.length=0,this._commitIndex=e.length)},t._setFill=function(t){return this._updateInstructions(!0),this.command=this._fill=t,this},t._setStroke=function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this},(h.LineTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.lineTo(this.x,this.y)},(h.MoveTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.moveTo(this.x,this.y)},(h.ArcTo=function(t,e,i,s,r){this.x1=t,this.y1=e,this.x2=i,this.y2=s,this.radius=r}).prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(h.Arc=function(t,e,i,s,r,n){this.x=t,this.y=e,this.radius=i,this.startAngle=s,this.endAngle=r,this.anticlockwise=!!n}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(h.QuadraticCurveTo=function(t,e,i,s){this.cpx=t,this.cpy=e,this.x=i,this.y=s}).prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(h.BezierCurveTo=function(t,e,i,s,r,n){this.cp1x=t,this.cp1y=e,this.cp2x=i,this.cp2y=s,this.x=r,this.y=n}).prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(h.Rect=function(t,e,i,s){this.x=t,this.y=e,this.w=i,this.h=s}).prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)},(h.ClosePath=function(){}).prototype.exec=function(t){t.closePath()},(h.BeginPath=function(){}).prototype.exec=function(t){t.beginPath()},(t=(h.Fill=function(t,e){this.style=t,this.matrix=e}).prototype).exec=function(t){var e;this.style&&(t.fillStyle=this.style,(e=this.matrix)&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore())},t.linearGradient=function(t,e,i,s,r,n){for(var a=this.style=v._ctx.createLinearGradient(i,s,r,n),o=0,h=t.length;o<h;o++)a.addColorStop(e[o],t[o]);return a.props={colors:t,ratios:e,x0:i,y0:s,x1:r,y1:n,type:\"linear\"},this},t.radialGradient=function(t,e,i,s,r,n,a,o){for(var h=this.style=v._ctx.createRadialGradient(i,s,r,n,a,o),c=0,u=t.length;c<u;c++)h.addColorStop(e[c],t[c]);return h.props={colors:t,ratios:e,x0:i,y0:s,r0:r,x1:n,y1:a,r1:o,type:\"radial\"},this},t.bitmap=function(t,e){return(t.naturalWidth||t.getContext||2<=t.readyState)&&((this.style=v._ctx.createPattern(t,e||\"\")).props={image:t,repetition:e,type:\"bitmap\"}),this},t.path=!1,(t=(h.Stroke=function(t,e){this.style=t,this.ignoreScale=e}).prototype).exec=function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())},t.linearGradient=h.Fill.prototype.linearGradient,t.radialGradient=h.Fill.prototype.radialGradient,t.bitmap=h.Fill.prototype.bitmap,t.path=!1,(t=(h.StrokeStyle=function(t,e,i,s,r){this.width=t,this.caps=e,this.joints=i,this.miterLimit=s,this.ignoreScale=r}).prototype).exec=function(t){t.lineWidth=null==this.width?\"1\":this.width,t.lineCap=null==this.caps?\"butt\":isNaN(this.caps)?this.caps:v.STROKE_CAPS_MAP[this.caps],t.lineJoin=null==this.joints?\"miter\":isNaN(this.joints)?this.joints:v.STROKE_JOINTS_MAP[this.joints],t.miterLimit=null==this.miterLimit?\"10\":this.miterLimit,t.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},t.path=!1,(h.StrokeDash=function(t,e){this.segments=t,this.offset=e||0}).prototype.exec=function(t){t.setLineDash&&(t.setLineDash(this.segments||h.StrokeDash.EMPTY_SEGMENTS),t.lineDashOffset=this.offset||0)},h.StrokeDash.EMPTY_SEGMENTS=[],(h.RoundRect=function(t,e,i,s,r,n,a,o){this.x=t,this.y=e,this.w=i,this.h=s,this.radiusTL=r,this.radiusTR=n,this.radiusBR=a,this.radiusBL=o}).prototype.exec=function(t){var e=(h<c?h:c)/2,i=0,s=0,r=0,n=0,a=this.x,o=this.y,h=this.w,c=this.h,u=this.radiusTL,l=this.radiusTR,d=this.radiusBR,_=this.radiusBL;u<0&&(u*=i=-1),e<u&&(u=e),l<0&&(l*=s=-1),e<l&&(l=e),d<0&&(d*=r=-1),e<d&&(d=e),_<0&&(_*=n=-1),e<_&&(_=e),t.moveTo(a+h-l,o),t.arcTo(a+h+l*s,o-l*s,a+h,o+l,l),t.lineTo(a+h,o+c-d),t.arcTo(a+h+d*r,o+c+d*r,a+h-d,o+c,d),t.lineTo(a+_,o+c),t.arcTo(a-_*n,o+c+_*n,a,o+c-_,_),t.lineTo(a,o+u),t.arcTo(a-u*i,o-u*i,a+u,o,u),t.closePath()},(h.Circle=function(t,e,i){this.x=t,this.y=e,this.radius=i}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)},(h.Ellipse=function(t,e,i,s){this.x=t,this.y=e,this.w=i,this.h=s}).prototype.exec=function(t){var e=this.x,i=this.y,s=this.w,r=this.h,n=s/2*.5522848,a=r/2*.5522848,o=e+s,h=i+r,c=e+s/2,u=i+r/2;t.moveTo(e,u),t.bezierCurveTo(e,u-a,c-n,i,c,i),t.bezierCurveTo(c+n,i,o,u-a,o,u),t.bezierCurveTo(o,u+a,c+n,h,c,h),t.bezierCurveTo(c-n,h,e,u+a,e,u)},(h.PolyStar=function(t,e,i,s,r,n){this.x=t,this.y=e,this.radius=i,this.sides=s,this.pointSize=r,this.angle=n}).prototype.exec=function(t){var e=this.x,i=this.y,s=this.radius,r=(this.angle||0)/180*Math.PI,n=this.sides,a=1-(this.pointSize||0),o=Math.PI/n;t.moveTo(e+Math.cos(r)*s,i+Math.sin(r)*s);for(var h=0;h<n;h++)r+=o,1!=a&&t.lineTo(e+Math.cos(r)*s*a,i+Math.sin(r)*s*a),r+=o,t.lineTo(e+Math.cos(r)*s,i+Math.sin(r)*s);t.closePath()},v.beginCmd=new h.BeginPath,createjs.Graphics=v}(),function(){\"use strict\";function a(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.bitmapCache=null,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null,this._webGLRenderStyle=a._StageGL_NONE}var t=createjs.extend(a,createjs.EventDispatcher);a._MOUSE_EVENTS=[\"click\",\"dblclick\",\"mousedown\",\"mouseout\",\"mouseover\",\"pressmove\",\"pressup\",\"rollout\",\"rollover\"],a.suppressCrossDomainErrors=!1,a._snapToPixelEnabled=!1,a._StageGL_NONE=0,a._StageGL_SPRITE=1,a._StageGL_BITMAP=2;var e=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");e.getContext&&(a._hitTestCanvas=e,a._hitTestContext=e.getContext(\"2d\"),e.width=e.height=1),t._getStage=function(){for(var t=this,e=createjs.Stage;t.parent;)t=t.parent;return t instanceof e?t:null},t.getStage=createjs.deprecate(t._getStage,\"DisplayObject.getStage\");try{Object.defineProperties(t,{stage:{get:t._getStage},cacheID:{get:function(){return this.bitmapCache&&this.bitmapCache.cacheID},set:function(t){this.bitmapCache&&(this.bitmapCache.cacheID=t)}},scale:{get:function(){return this.scaleX},set:function(t){this.scaleX=this.scaleY=t}}})}catch(t){}t.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(t,e){var i=this.bitmapCache;return!(!i||e)&&i.draw(t)},t.updateContext=function(t){var e=this,i=e.mask,s=e._props.matrix;i&&i.graphics&&!i.graphics.isEmpty()&&(i.getMatrix(s),t.transform(s.a,s.b,s.c,s.d,s.tx,s.ty),i.graphics.drawAsPath(t),t.clip(),s.invert(),t.transform(s.a,s.b,s.c,s.d,s.tx,s.ty)),this.getMatrix(s);var r=s.tx,n=s.ty;a._snapToPixelEnabled&&e.snapToPixel&&(r=r+(r<0?-.5:.5)|0,n=n+(n<0?-.5:.5)|0),t.transform(s.a,s.b,s.c,s.d,r,n),t.globalAlpha*=e.alpha,e.compositeOperation&&(t.globalCompositeOperation=e.compositeOperation),e.shadow&&this._applyShadow(t,e.shadow)},t.cache=function(t,e,i,s,r,n){this.bitmapCache||(this.bitmapCache=new createjs.BitmapCache),this.bitmapCache.define(this,t,e,i,s,r,n)},t.updateCache=function(t){if(!this.bitmapCache)throw\"cache() must be called before updateCache()\";this.bitmapCache.update(t)},t.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)},t.getCacheDataURL=function(){return this.bitmapCache?this.bitmapCache.getDataURL():null},t.localToGlobal=function(t,e,i){var s=this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,i||new createjs.Point);return this.stage&&createjs.stageTransformable&&(s=this.stage.getConcatenatedMatrix(this._mtx).invert().transformPoint(s.x,s.y)),s},t.globalToLocal=function(t,e,i){var s;return this.stage&&createjs.stageTransformable&&(t=(s=this.stage.getConcatenatedMatrix(this._mtx).transformPoint(t,e)).x,e=s.y),this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,i||new createjs.Point)},t.localToLocal=function(t,e,i,s){return s=this.localToGlobal(t,e,s),i.globalToLocal(s.x,s.y,s)},t.setTransform=function(t,e,i,s,r,n,a,o,h){return this.x=t||0,this.y=e||0,this.scaleX=null==i?1:i,this.scaleY=null==s?1:s,this.rotation=r||0,this.skewX=n||0,this.skewY=a||0,this.regX=o||0,this.regY=h||0,this},t.getMatrix=function(t){var e=this,i=t&&t.identity()||new createjs.Matrix2D;return e.transformMatrix?i.copy(e.transformMatrix):i.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)},t.getConcatenatedMatrix=function(t){for(var e=this,i=this.getMatrix(t);e=e.parent;)i.prependMatrix(e.getMatrix(e._props.matrix));return i},t.getConcatenatedDisplayProps=function(t){t=t?t.identity():new createjs.DisplayProps;for(var e=this,i=e.getMatrix(t.matrix);t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&i.prependMatrix(e.getMatrix(e._props.matrix)),e=e.parent;);return t},t.hitTest=function(t,e){var i=a._hitTestContext;i.setTransform(1,0,0,1,-t,-e),this.draw(i);var s=this._testHit(i);return i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,2,2),s},t.set=function(t){for(var e in t)this[e]=t[e];return this},t.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null},t.getTransformedBounds=function(){return this._getBounds()},t.setBounds=function(t,e,i,s){this._bounds=null!=t?(this._bounds||new createjs.Rectangle).setValues(t,e,i,s):t},t.clone=function(){return this._cloneProps(new a)},t.toString=function(){return\"[DisplayObject (name=\"+this.name+\")]\"},t._updateState=null,t._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t},t._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},t._tick=function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},t._testHit=function(t){try{var e=1<t.getImageData(0,0,1,1).data[3]}catch(t){if(!a.suppressCrossDomainErrors)throw\"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.\"}return e},t._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},t._transformBounds=function(t,e,i){if(!t)return t;var s=t.x,r=t.y,n=t.width,a=t.height,o=this._props.matrix,o=i?o.identity():this.getMatrix(o);(s||r)&&o.appendTransform(0,0,1,1,0,0,0,-s,-r),e&&o.prependMatrix(e);var h=n*o.a,c=n*o.b,u=a*o.c,l=a*o.d,d=o.tx,_=o.ty,p=d,f=d,g=_,m=_;return(s=h+d)<p?p=s:f<s&&(f=s),(s=h+u+d)<p?p=s:f<s&&(f=s),(s=u+d)<p?p=s:f<s&&(f=s),(r=c+_)<g?g=r:m<r&&(m=r),(r=c+l+_)<g?g=r:m<r&&(m=r),(r=l+_)<g?g=r:m<r&&(m=r),t.setValues(p,g,f-p,m-g)},t._hasMouseEventListener=function(){for(var t=a._MOUSE_EVENTS,e=0,i=t.length;e<i;e++)if(this.hasEventListener(t[e]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(a,\"EventDispatcher\")}(),function(){\"use strict\";function m(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var t=createjs.extend(m,createjs.DisplayObject);t._getNumChildren=function(){return this.children.length},t.getNumChildren=createjs.deprecate(t._getNumChildren,\"Container.getNumChildren\");try{Object.defineProperties(t,{numChildren:{get:t._getNumChildren}})}catch(t){}t.initialize=m,t.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var i=this.children.slice(),s=0,r=i.length;s<r;s++){var n=i[s];n.isVisible()&&(t.save(),n.updateContext(t),n.draw(t),t.restore())}return!0},t.addChild=function(t){if(null==t)return t;var e=arguments.length;if(1<e){for(var i=0;i<e;i++)this.addChild(arguments[i]);return arguments[e-1]}var s=t.parent,r=s===this;return s&&s._removeChildAt(createjs.indexOf(s.children,t),r),(t.parent=this).children.push(t),r||t.dispatchEvent(\"added\"),t},t.addChildAt=function(t,e){var i=arguments.length,s=arguments[i-1];if(s<0||s>this.children.length)return arguments[i-2];if(2<i){for(var r=0;r<i-1;r++)this.addChildAt(arguments[r],s+r);return arguments[i-2]}var n=t.parent,a=n===this;return n&&n._removeChildAt(createjs.indexOf(n.children,t),a),(t.parent=this).children.splice(e,0,t),a||t.dispatchEvent(\"added\"),t},t.removeChild=function(t){var e=arguments.length;if(1<e){for(var i=!0,s=0;s<e;s++)i=i&&this.removeChild(arguments[s]);return i}return this._removeChildAt(createjs.indexOf(this.children,t))},t.removeChildAt=function(t){var e=arguments.length;if(1<e){for(var i=[],s=0;s<e;s++)i[s]=arguments[s];i.sort(function(t,e){return e-t});for(var r=!0,s=0;s<e;s++)r=r&&this._removeChildAt(i[s]);return r}return this._removeChildAt(t)},t.removeAllChildren=function(){for(var t=this.children;t.length;)this._removeChildAt(0)},t.getChildAt=function(t){return this.children[t]},t.getChildByName=function(t){for(var e=this.children,i=0,s=e.length;i<s;i++)if(e[i].name==t)return e[i];return null},t.sortChildren=function(t){this.children.sort(t)},t.getChildIndex=function(t){return createjs.indexOf(this.children,t)},t.swapChildrenAt=function(t,e){var i=this.children,s=i[t],r=i[e];s&&r&&(i[t]=r,i[e]=s)},t.swapChildren=function(t,e){for(var i,s,r=this.children,n=0,a=r.length;n<a&&(r[n]==t&&(i=n),r[n]==e&&(s=n),null==i||null==s);n++);n!=a&&(r[i]=e,r[s]=t)},t.setChildIndex=function(t,e){var i=this.children,s=i.length;if(!(t.parent!=this||e<0||s<=e)){for(var r=0;r<s&&i[r]!=t;r++);r!=s&&r!=e&&(i.splice(r,1),i.splice(e,0,t))}},t.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},t.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},t.getObjectsUnderPoint=function(t,e,i){var s=[],r=this.localToGlobal(t,e);return this._getObjectsUnderPoint(r.x,r.y,s,0<i,1==i),s},t.getObjectUnderPoint=function(t,e,i){var s=this.localToGlobal(t,e);return this._getObjectsUnderPoint(s.x,s.y,null,0<i,1==i)},t.getBounds=function(){return this._getBounds(null,!0)},t.getTransformedBounds=function(){return this._getBounds()},t.clone=function(t){var e=this._cloneProps(new m);return t&&this._cloneChildren(e),e},t.toString=function(){return\"[Container (name=\"+this.name+\")]\"},t._tick=function(t){if(this.tickChildren)for(var e=this.children.length-1;0<=e;e--){var i=this.children[e];i.tickEnabled&&i._tick&&i._tick(t)}this.DisplayObject__tick(t)},t._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,i=0,s=this.children.length;i<s;i++){var r=this.children[i].clone(!0);r.parent=t,e.push(r)}},t._removeChildAt=function(t,e){if(t<0||t>this.children.length-1)return!1;var i=this.children[t];return i&&(i.parent=null),this.children.splice(t,1),e||i.dispatchEvent(\"removed\"),!0},t._getObjectsUnderPoint=function(t,e,i,s,r,n){var a,o,h;if(this.stage&&createjs.stageTransformable&&(a=t,o=e,t=(h=this.stage.getConcatenatedMatrix(this._mtx).transformPoint(t,e)).x,e=h.y),!(n=n||0)&&!this._testMask(this,t,e))return null;var c=createjs.DisplayObject._hitTestContext;r=r||s&&this._hasMouseEventListener();for(var u=this.children,l=u.length-1;0<=l;l--){var d=u[l],_=d.hitArea;if(d.visible&&(_||d.isVisible())&&(!s||d.mouseEnabled)&&(_||this._testMask(d,t,e)))if(!_&&d instanceof m){var p=d._getObjectsUnderPoint(null!=a?a:t,null!=o?o:e,i,s,r,n+1);if(!i&&p)return s&&!this.mouseChildren?this:p}else{if(s&&!r&&!d._hasMouseEventListener())continue;var f=d.getConcatenatedDisplayProps(d._props),g=f.matrix;if(_&&(g.appendMatrix(_.getMatrix(_._props.matrix)),f.alpha=_.alpha),c.globalAlpha=f.alpha,c.setTransform(g.a,g.b,g.c,g.d,g.tx-t,g.ty-e),(_||d).draw(c),!this._testHit(c))continue;if(c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,2,2),!i)return s&&!this.mouseChildren?this:d;i.push(d)}}return null},t._testMask=function(t,e,i){var s=t.mask;if(!s||!s.graphics||s.graphics.isEmpty())return!0;var r=this._props.matrix,n=t.parent,r=n?n.getConcatenatedMatrix(r):r.identity();r=s.getMatrix(s._props.matrix).prependMatrix(r);var a=createjs.DisplayObject._hitTestContext;return a.setTransform(r.a,r.b,r.c,r.d,r.tx-e,r.ty-i),s.graphics.drawAsPath(a),a.fillStyle=\"#000\",a.fill(),!!this._testHit(a)&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0)},t._getBounds=function(t,e){var i=this.DisplayObject_getBounds();if(i)return this._transformBounds(i,t,e);var s=this._props.matrix,s=e?s.identity():this.getMatrix(s);t&&s.prependMatrix(t);for(var r=this.children.length,n=null,a=0;a<r;a++){var o=this.children[a];o.visible&&(i=o._getBounds(s))&&(n?n.extend(i.x,i.y,i.width,i.height):n=i.clone())}return n},createjs.Container=createjs.promote(m,\"DisplayObject\")}(),function(){\"use strict\";function t(t){this.Container_constructor(),this.autoClear=!0,this.canvas=\"string\"==typeof t?document.getElementById(t):t,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var e=createjs.extend(t,createjs.Container);e._get_nextStage=function(){return this._nextStage},e._set_nextStage=function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t};try{Object.defineProperties(e,{nextStage:{get:e._get_nextStage,set:e._set_nextStage}})}catch(t){}e.update=function(t){var e,i;this.canvas&&(this.tickOnUpdate&&this.tick(t),!1!==this.dispatchEvent(\"drawstart\",!1,!0)&&(createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled,e=this.drawRect,(i=this.canvas.getContext(\"2d\")).setTransform(1,0,0,1,0,0),this.autoClear&&(e?i.clearRect(e.x,e.y,e.width,e.height):i.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),i.save(),this.drawRect&&(i.beginPath(),i.rect(e.x,e.y,e.width,e.height),i.clip()),this.updateContext(i),this.draw(i,!1),i.restore(),this.dispatchEvent(\"drawend\")))},e.tick=function(t){if(this.tickEnabled&&!1!==this.dispatchEvent(\"tickstart\",!1,!0)){var e=new createjs.Event(\"tick\");if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);this._tick(e),this.dispatchEvent(\"tickend\")}},e.handleEvent=function(t){\"tick\"==t.type&&this.update(t)},e.clear=function(){var t;this.canvas&&((t=this.canvas.getContext(\"2d\")).setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1))},e.toDataURL=function(t,e){var i,s,r=this.canvas.getContext(\"2d\"),n=this.canvas.width,a=this.canvas.height;t&&(i=r.getImageData(0,0,n,a),s=r.globalCompositeOperation,r.globalCompositeOperation=\"destination-over\",r.fillStyle=t,r.fillRect(0,0,n,a));var o=this.canvas.toDataURL(e||\"image/png\");return t&&(r.putImageData(i,0,0),r.globalCompositeOperation=s),o},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==t&&this._testMouseOver(!0)),null==t)t=20;else if(t<=0)return;var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,i,s=this._eventListeners;if(!t&&s){for(e in s)(i=s[e]).t.removeEventListener(e,i.f,!1);this._eventListeners=null}else if(t&&!s&&this.canvas){var r=window.addEventListener?window:document,n=this,s=this._eventListeners={};for(e in s.mouseup={t:r,f:function(t){n._handleMouseUp(t)}},s.mousemove={t:r,f:function(t){n._handleMouseMove(t)}},s.dblclick={t:this.canvas,f:function(t){n._handleDoubleClick(t)}},s.mousedown={t:this.canvas,f:function(t){n._handleMouseDown(t)}},s)(i=s[e]).t.addEventListener(e,i.f,!1)}},e.clone=function(){throw\"Stage cannot be cloned.\"},e.toString=function(){return\"[Stage (name=\"+this.name+\")]\"},e._getElementRect=function(e){var i;try{i=e.getBoundingClientRect()}catch(t){i={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var t=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),s=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),r=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,n=parseInt(r.paddingLeft)+parseInt(r.borderLeftWidth),a=parseInt(r.paddingTop)+parseInt(r.borderTopWidth),o=parseInt(r.paddingRight)+parseInt(r.borderRightWidth),h=parseInt(r.paddingBottom)+parseInt(r.borderBottomWidth);return{left:i.left+t+n,right:i.right+t-o,top:i.top+s+a,bottom:i.bottom+s-h}},e._getPointerData=function(t){return this._pointerData[t]||(this._pointerData[t]={x:0,y:0})},e._handleMouseMove=function(t){t=t||window.event,this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,i,s,r){var n,a,o;this._prevStage&&void 0===r||this.canvas&&(n=this._nextStage,o=(a=this._getPointerData(t)).inBounds,this._updatePointerPosition(t,e,i,s),(o||a.inBounds||this.mouseMoveOutside)&&(-1===t&&a.inBounds==!o&&this._dispatchMouseEvent(this,o?\"mouseleave\":\"mouseenter\",!1,t,a,e),this._dispatchMouseEvent(this,\"stagemousemove\",!1,t,a,e),this._dispatchMouseEvent(a.target,\"pressmove\",!0,t,a,e)),n&&n._handlePointerMove(t,e,i,s,null))},e._updatePointerPosition=function(t,e,i,s){var r=this._getElementRect(this.canvas);i-=r.left,s-=r.top;var n=this.canvas.width,a=this.canvas.height;i/=(r.right-r.left)/n,s/=(r.bottom-r.top)/a;var o,h,c=this._getPointerData(t);createjs.stageTransformable?(this._mtx=this.getConcatenatedMatrix(this._mtx).invert(),(c.inBounds=0<=i&&0<=s&&i<=n-1&&s<=a-1)?(c.x=i,c.y=s,o=this._mtx.transformPoint(c.x,c.y),c.x=o.x,c.y=o.y):this.mouseMoveOutside&&(c.x=i<0?0:n-1<i?n-1:i,c.y=s<0?0:a-1<s?a-1:s,o=this._mtx.transformPoint(c.x,c.y),c.x=o.x,c.y=o.y),c.rawX=i,c.rawY=s,h=this._mtx.transformPoint(c.rawX,c.rawY),c.rawX=h.x,c.rawY=h.y):((c.inBounds=0<=i&&0<=s&&i<=n-1&&s<=a-1)?(c.x=i,c.y=s):this.mouseMoveOutside&&(c.x=i<0?0:n-1<i?n-1:i,c.y=s<0?0:a-1<s?a-1:s),c.rawX=i,c.rawY=s),c.posEvtObj=e,t!==this._primaryPointerID&&-1!==t||(this.mouseX=c.x,this.mouseY=c.y,this.mouseInBounds=c.inBounds)},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,i,s){var r,n,a=this._nextStage,o=this._getPointerData(t);this._prevStage&&void 0===s||(r=null,n=o.target,s||!n&&!a||(r=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.down&&(this._dispatchMouseEvent(this,\"stagemouseup\",!1,t,o,e,r),o.down=!1),r==n&&this._dispatchMouseEvent(n,\"click\",!0,t,o,e),this._dispatchMouseEvent(n,\"pressup\",!0,t,o,e),i?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):o.target=null,a&&a._handlePointerUp(t,e,i,s||r&&this))},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e._handlePointerDown=function(t,e,i,s,r){this.preventSelection&&e.preventDefault(),null!=this._primaryPointerID&&-1!==t||(this._primaryPointerID=t),null!=s&&this._updatePointerPosition(t,e,i,s);var n=null,a=this._nextStage,o=this._getPointerData(t);r||(n=o.target=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.inBounds&&(this._dispatchMouseEvent(this,\"stagemousedown\",!1,t,o,e,n),o.down=!0),this._dispatchMouseEvent(n,\"mousedown\",!0,t,o,e),a&&a._handlePointerDown(t,e,i,s,r||n&&this)},e._testMouseOver=function(t,e,i){if(!this._prevStage||void 0!==e){var s=this._nextStage;if(this._mouseOverIntervalID){var r=this._getPointerData(-1);if(r&&(t||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var n,a,o=r.posEvtObj,h=i||o&&o.target==this.canvas,c=null,u=-1,l=\"\";!e&&(t||this.mouseInBounds&&h)&&(c=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);for(var d=this._mouseOverTarget||[],_=d[d.length-1],p=this._mouseOverTarget=[],f=c;f;)p.unshift(f),l=l||f.cursor,f=f.parent;for(this.canvas.style.cursor=l,!e&&i&&(i.canvas.style.cursor=l),n=0,a=p.length;n<a&&p[n]==d[n];n++)u=n;for(_!=c&&this._dispatchMouseEvent(_,\"mouseout\",!0,-1,r,o,c),n=d.length-1;u<n;n--)this._dispatchMouseEvent(d[n],\"rollout\",!1,-1,r,o,c);for(n=p.length-1;u<n;n--)this._dispatchMouseEvent(p[n],\"rollover\",!1,-1,r,o,_);_!=c&&this._dispatchMouseEvent(c,\"mouseover\",!0,-1,r,o,_),s&&s._testMouseOver(t,e||c&&this,i||h&&this)}}else s&&s._testMouseOver(t,e,i)}},e._handleDoubleClick=function(t,e){var i=null,s=this._nextStage,r=this._getPointerData(-1);e||(i=this._getObjectsUnderPoint(r.x,r.y,null,!0),this._dispatchMouseEvent(i,\"dblclick\",!0,-1,r,t)),s&&s._handleDoubleClick(t,e||i&&this)},e._dispatchMouseEvent=function(t,e,i,s,r,n,a){var o;t&&(i||t.hasEventListener(e))&&(o=new createjs.MouseEvent(e,i,!1,r.x,r.y,n,s,s===this._primaryPointerID||-1===s,r.rawX,r.rawY,a),t.dispatchEvent(o))},createjs.Stage=createjs.promote(t,\"Container\")}(),function(){\"use strict\";function P(t,e){if(this.Stage_constructor(t),void 0!==e){if(\"object\"!=typeof e)throw\"Invalid options object\";var i=e.premultiply,s=e.transparent,r=e.antialias,n=e.preserveBuffer,a=e.autoPurge}this.vocalDebug=!1,this._preserveBuffer=n||!1,this._antialias=r||!1,this._transparent=s||!1,this._premultiply=i||!1,this._autoPurge=void 0,this.autoPurge=a,this._viewportWidth=0,this._viewportHeight=0,this._projectionMatrix=null,this._webGLContext=null,this._clearColor={r:.5,g:.5,b:.5,a:0},this._maxCardsPerBatch=P.DEFAULT_MAX_BATCH_SIZE,this._activeShader=null,this._vertices=null,this._vertexPositionBuffer=null,this._uvs=null,this._uvPositionBuffer=null,this._indices=null,this._textureIndexBuffer=null,this._alphas=null,this._alphaBuffer=null,this._textureDictionary=[],this._textureIDs={},this._batchTextures=[],this._baseTextures=[],this._batchTextureCount=8,this._lastTextureInsert=-1,this._batchID=0,this._drawID=0,this._slotBlacklist=[],this._isDrawing=0,this._lastTrackedCanvas=0,this.isCacheControlled=!1,this._cacheContainer=new createjs.Container,this._initializeWebGL()}var t=createjs.extend(P,createjs.Stage);P.buildUVRects=function(t,e,i){if(!t||!t._frames)return null;void 0===e&&(e=-1),void 0===i&&(i=!1);for(var s=-1!=e&&i?e:0,r=-1!=e&&i?e+1:t._frames.length,n=s;n<r;n++){var a,o=t._frames[n];o.uvRect||o.image.width<=0||o.image.height<=0||(a=o.rect,o.uvRect={t:a.y/o.image.height,l:a.x/o.image.width,b:(a.y+a.height)/o.image.height,r:(a.x+a.width)/o.image.width})}return t._frames[-1!=e?e:0].uvRect||{t:0,l:0,b:1,r:1}},P.isWebGLActive=function(t){return t&&t instanceof WebGLRenderingContext&&\"undefined\"!=typeof WebGLRenderingContext},P.VERTEX_PROPERTY_COUNT=6,P.INDICIES_PER_CARD=6,P.DEFAULT_MAX_BATCH_SIZE=1e4,P.WEBGL_MAX_INDEX_NUM=Math.pow(2,16),P.UV_RECT={t:0,l:0,b:1,r:1};try{P.COVER_VERT=new Float32Array([-1,1,1,1,-1,-1,1,1,1,-1,-1,-1]),P.COVER_UV=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),P.COVER_UV_FLIP=new Float32Array([0,1,1,1,0,0,1,1,1,0,0,0])}catch(t){}P.REGULAR_VERTEX_HEADER=(P.REGULAR_VARYING_HEADER=\"precision mediump float;varying vec2 vTextureCoord;varying lowp float indexPicker;varying lowp float alphaValue;\")+\"attribute vec2 vertexPosition;attribute vec2 uvPosition;attribute lowp float textureIndex;attribute lowp float objectAlpha;uniform mat4 pMatrix;\",P.REGULAR_FRAGMENT_HEADER=P.REGULAR_VARYING_HEADER+\"uniform sampler2D uSampler[{{count}}];\",P.REGULAR_VERTEX_BODY=\"void main(void) {gl_Position = vec4((vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],pMatrix[3][2],1.0);alphaValue = objectAlpha;indexPicker = textureIndex;vTextureCoord = uvPosition;}\",P.REGULAR_FRAGMENT_BODY=\"void main(void) {vec4 color = vec4(1.0, 0.0, 0.0, 1.0);if (indexPicker <= 0.5) {color = texture2D(uSampler[0], vTextureCoord);{{alternates}}}{{fragColor}}}\",P.REGULAR_FRAG_COLOR_NORMAL=\"gl_FragColor = vec4(color.rgb, color.a * alphaValue);\",P.REGULAR_FRAG_COLOR_PREMULTIPLY=\"if(color.a > 0.0035) {gl_FragColor = vec4(color.rgb/color.a, color.a * alphaValue);} else {gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}\",P.PARTICLE_VERTEX_BODY=P.REGULAR_VERTEX_BODY,P.PARTICLE_FRAGMENT_BODY=P.REGULAR_FRAGMENT_BODY,P.COVER_VERTEX_HEADER=(P.COVER_VARYING_HEADER=\"precision mediump float;varying highp vec2 vRenderCoord;varying highp vec2 vTextureCoord;\")+\"attribute vec2 vertexPosition;attribute vec2 uvPosition;uniform float uUpright;\",P.COVER_FRAGMENT_HEADER=P.COVER_VARYING_HEADER+\"uniform sampler2D uSampler;\",P.COVER_VERTEX_BODY=\"void main(void) {gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);vRenderCoord = uvPosition;vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));}\",P.COVER_FRAGMENT_BODY=\"void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = color;}\",t._get_isWebGL=function(){return!!this._webGLContext},t._set_autoPurge=function(t){-1!=(t=isNaN(t)?1200:t)&&(t=t<10?10:t),this._autoPurge=t},t._get_autoPurge=function(){return Number(this._autoPurge)};try{Object.defineProperties(t,{isWebGL:{get:t._get_isWebGL},autoPurge:{get:t._get_autoPurge,set:t._set_autoPurge}})}catch(t){}t._initializeWebGL=function(){if(this.canvas){if(!this._webGLContext||this._webGLContext.canvas!==this.canvas){var t={depth:!1,alpha:this._transparent,stencil:!0,antialias:this._antialias,premultipliedAlpha:this._premultiply,preserveDrawingBuffer:this._preserveBuffer},e=this._webGLContext=this._fetchWebGLContext(this.canvas,t);if(!e)return null;this.updateSimultaneousTextureCount(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),this._maxTextureSlots=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this._createBuffers(e),this._initTextures(e),e.disable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiply),this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),this.updateViewport(this._viewportWidth||this.canvas.width,this._viewportHeight||this.canvas.height)}}else this._webGLContext=null;return this._webGLContext},t.update=function(t){var e;this.canvas&&(this.tickOnUpdate&&this.tick(t),this.dispatchEvent(\"drawstart\"),this.autoClear&&this.clear(),this._webGLContext?(this._batchDraw(this,this._webGLContext),-1==this._autoPurge||this._drawID%(this._autoPurge/2|0)||this.purgeTextures(this._autoPurge)):((e=this.canvas.getContext(\"2d\")).save(),this.updateContext(e),this.draw(e,!1),e.restore()),this.dispatchEvent(\"drawend\"))},t.clear=function(){var t,e,i;this.canvas&&(P.isWebGLActive(this._webGLContext)?(t=this._webGLContext,e=this._clearColor,i=this._transparent?e.a:1,this._webGLContext.clearColor(e.r*i,e.g*i,e.b*i,i),t.clear(t.COLOR_BUFFER_BIT),this._webGLContext.clearColor(e.r,e.g,e.b,e.a)):this.Stage_clear())},t.draw=function(t,e){if(t===this._webGLContext&&P.isWebGLActive(this._webGLContext)){var i=this._webGLContext;return this._batchDraw(this,i,e),!0}return this.Stage_draw(t,e)},t.cacheDraw=function(t,e,i){if(P.isWebGLActive(this._webGLContext)){var s=this._webGLContext;return this._cacheDraw(s,t,e,i),!0}return!1},t.protectTextureSlot=function(t,e){if(t>this._maxTextureSlots||t<0)throw\"Slot outside of acceptable range\";this._slotBlacklist[t]=!!e},t.getTargetRenderTexture=function(t,e,i){var s,r=!1,n=this._webGLContext;if(void 0!==t.__lastRT&&t.__lastRT===t.__rtA&&(r=!0),!(s=r?(void 0===t.__rtB?t.__rtB=this.getRenderBufferTexture(e,i):(e==t.__rtB._width&&i==t.__rtB._height||this.resizeTexture(t.__rtB,e,i),this.setTextureParams(n)),t.__rtB):(void 0===t.__rtA?t.__rtA=this.getRenderBufferTexture(e,i):(e==t.__rtA._width&&i==t.__rtA._height||this.resizeTexture(t.__rtA,e,i),this.setTextureParams(n)),t.__rtA)))throw\"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances\";return t.__lastRT=s},t.releaseTexture=function(t){var e,i;if(t){if(t.children)for(e=0,i=t.children.length;e<i;e++)this.releaseTexture(t.children[e]);t.cacheCanvas&&t.uncache();var s=void 0;if(void 0!==t._storeID){if(t===this._textureDictionary[t._storeID])return this._killTextureObject(t),void(t._storeID=void 0);s=t}else if(2===t._webGLRenderStyle)s=t.image;else if(1===t._webGLRenderStyle){for(e=0,i=t.spriteSheet._images.length;e<i;e++)this.releaseTexture(t.spriteSheet._images[e]);return}void 0!==s?(this._killTextureObject(this._textureDictionary[s._storeID]),s._storeID=void 0):this.vocalDebug&&console.log(\"No associated texture found on release\")}},t.purgeTextures=function(t){null==t&&(t=100);for(var e=this._textureDictionary,i=e.length,s=0;s<i;s++){var r=e[s];r&&r._drawID+t<=this._drawID&&this._killTextureObject(r)}},t.updateSimultaneousTextureCount=function(t){var e=this._webGLContext,i=!1;for((t<1||isNaN(t))&&(t=1),this._batchTextureCount=t;!i;)try{this._activeShader=this._fetchShaderProgram(e),i=!0}catch(t){if(1==this._batchTextureCount)throw\"Cannot compile shader \"+t;this._batchTextureCount-=4,this._batchTextureCount<1&&(this._batchTextureCount=1),this.vocalDebug&&console.log(\"Reducing desired texture count due to errors: \"+this._batchTextureCount)}},t.updateViewport=function(t,e){this._viewportWidth=0|t,this._viewportHeight=0|e;var i=this._webGLContext;i&&(i.viewport(0,0,this._viewportWidth,this._viewportHeight),this._projectionMatrix=new Float32Array([2/this._viewportWidth,0,0,0,0,-2/this._viewportHeight,1,0,0,0,1,0,-1,1,.1,0]),this._projectionMatrixFlip=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this._projectionMatrixFlip.set(this._projectionMatrix),this._projectionMatrixFlip[5]*=-1,this._projectionMatrixFlip[13]*=-1)},t.getFilterShader=function(t){t=t||this;var e=this._webGLContext,i=this._activeShader;if(t._builtShader)i=t._builtShader,t.shaderParamSetup&&(e.useProgram(i),t.shaderParamSetup(e,this,i));else try{i=this._fetchShaderProgram(e,\"filter\",t.VTX_SHADER_BODY,t.FRAG_SHADER_BODY,t.shaderParamSetup&&t.shaderParamSetup.bind(t)),(t._builtShader=i)._name=t.toString()}catch(t){console&&console.log(\"SHADER SWITCH FAILURE\",t)}return i},t.getBaseTexture=function(t,e){var i=Math.ceil(0<t?t:1)||1,s=Math.ceil(0<e?e:1)||1,r=this._webGLContext,n=r.createTexture();return this.resizeTexture(n,i,s),this.setTextureParams(r,!1),n},t.resizeTexture=function(t,e,i){var s=this._webGLContext;s.bindTexture(s.TEXTURE_2D,t),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,i,0,s.RGBA,s.UNSIGNED_BYTE,null),t.width=e,t.height=i},t.getRenderBufferTexture=function(t,e){var i=this._webGLContext,s=this.getBaseTexture(t,e);if(!s)return null;var r=i.createFramebuffer();return r?(s.width=t,s.height=e,i.bindFramebuffer(i.FRAMEBUFFER,r),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,s,0),(r._renderTexture=s)._frameBuffer=r,s._storeID=this._textureDictionary.length,this._textureDictionary[s._storeID]=s,i.bindFramebuffer(i.FRAMEBUFFER,null),s):null},t.setTextureParams=function(t,e){e&&this._antialias?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},t.setClearColor=function(t){var e,i,s,r,n;\"string\"==typeof t?0==t.indexOf(\"#\")?(4==t.length&&(t=\"#\"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),e=Number(\"0x\"+t.slice(1,3))/255,i=Number(\"0x\"+t.slice(3,5))/255,s=Number(\"0x\"+t.slice(5,7))/255,r=Number(\"0x\"+t.slice(7,9))/255):0==t.indexOf(\"rgba(\")&&(n=t.slice(5,-1).split(\",\"),e=Number(n[0])/255,i=Number(n[1])/255,s=Number(n[2])/255,r=Number(n[3])):(e=((4278190080&t)>>>24)/255,i=((16711680&t)>>>16)/255,s=((65280&t)>>>8)/255,r=(255&t)/255),this._clearColor.r=e||0,this._clearColor.g=i||0,this._clearColor.b=s||0,this._clearColor.a=r||0,this._webGLContext&&this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a)},t.toString=function(){return\"[StageGL (name=\"+this.name+\")]\"},t._fetchWebGLContext=function(t,e){var i,s;try{i=t.getContext(\"webgl\",e)||t.getContext(\"experimental-webgl\",e)}catch(t){}return i?(i.viewportWidth=t.width,i.viewportHeight=t.height):(s=\"Could not initialize WebGL\",console.error?console.error(s):console.log(s)),i},t._fetchShaderProgram=function(t,e,i,s,r){var n,a;switch(t.useProgram(null),e){case\"filter\":a=P.COVER_VERTEX_HEADER+(i||P.COVER_VERTEX_BODY),n=P.COVER_FRAGMENT_HEADER+(s||P.COVER_FRAGMENT_BODY);break;case\"particle\":a=P.REGULAR_VERTEX_HEADER+P.PARTICLE_VERTEX_BODY,n=P.REGULAR_FRAGMENT_HEADER+P.PARTICLE_FRAGMENT_BODY;break;case\"override\":a=P.REGULAR_VERTEX_HEADER+(i||P.REGULAR_VERTEX_BODY),n=P.REGULAR_FRAGMENT_HEADER+(s||P.REGULAR_FRAGMENT_BODY);break;case\"regular\":default:a=P.REGULAR_VERTEX_HEADER+P.REGULAR_VERTEX_BODY,n=P.REGULAR_FRAGMENT_HEADER+P.REGULAR_FRAGMENT_BODY}var o=this._createShader(t,t.VERTEX_SHADER,a),h=this._createShader(t,t.FRAGMENT_SHADER,n),c=t.createProgram();if(t.attachShader(c,o),t.attachShader(c,h),t.linkProgram(c),c._type=e,!t.getProgramParameter(c,t.LINK_STATUS))throw t.useProgram(this._activeShader),t.getProgramInfoLog(c);switch(t.useProgram(c),e){case\"filter\":c.vertexPositionAttribute=t.getAttribLocation(c,\"vertexPosition\"),t.enableVertexAttribArray(c.vertexPositionAttribute),c.uvPositionAttribute=t.getAttribLocation(c,\"uvPosition\"),t.enableVertexAttribArray(c.uvPositionAttribute),c.samplerUniform=t.getUniformLocation(c,\"uSampler\"),t.uniform1i(c.samplerUniform,0),c.uprightUniform=t.getUniformLocation(c,\"uUpright\"),t.uniform1f(c.uprightUniform,0),r&&r(t,this,c);break;case\"override\":case\"particle\":case\"regular\":default:c.vertexPositionAttribute=t.getAttribLocation(c,\"vertexPosition\"),t.enableVertexAttribArray(c.vertexPositionAttribute),c.uvPositionAttribute=t.getAttribLocation(c,\"uvPosition\"),t.enableVertexAttribArray(c.uvPositionAttribute),c.textureIndexAttribute=t.getAttribLocation(c,\"textureIndex\"),t.enableVertexAttribArray(c.textureIndexAttribute),c.alphaAttribute=t.getAttribLocation(c,\"objectAlpha\"),t.enableVertexAttribArray(c.alphaAttribute);for(var u=[],l=0;l<this._batchTextureCount;l++)u[l]=l;c.samplerData=u,c.samplerUniform=t.getUniformLocation(c,\"uSampler\"),t.uniform1iv(c.samplerUniform,u),c.pMatrixUniform=t.getUniformLocation(c,\"pMatrix\")}return t.useProgram(this._activeShader),c},t._createShader=function(t,e,i){i=i.replace(/{{count}}/g,this._batchTextureCount);for(var s=\"\",r=1;r<this._batchTextureCount;r++)s+=\"} else if (indexPicker <= \"+r+\".5) { color = texture2D(uSampler[\"+r+\"], vTextureCoord);\";i=(i=i.replace(/{{alternates}}/g,s)).replace(/{{fragColor}}/g,this._premultiply?P.REGULAR_FRAG_COLOR_PREMULTIPLY:P.REGULAR_FRAG_COLOR_NORMAL);var n=t.createShader(e);if(t.shaderSource(n,i),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw t.getShaderInfoLog(n);return n},t._createBuffers=function(t){var e,i=this._maxCardsPerBatch*P.INDICIES_PER_CARD,s=this._vertexPositionBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),e=2;for(var r=this._vertices=new Float32Array(i*e),n=0,a=r.length;n<a;n+=e)r[n]=r[n+1]=0;t.bufferData(t.ARRAY_BUFFER,r,t.DYNAMIC_DRAW),s.itemSize=e,s.numItems=i;var o=this._uvPositionBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),e=2;var h=this._uvs=new Float32Array(i*e);for(n=0,a=h.length;n<a;n+=e)h[n]=h[n+1]=0;t.bufferData(t.ARRAY_BUFFER,h,t.DYNAMIC_DRAW),o.itemSize=e,o.numItems=i;var c=this._textureIndexBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c),e=1;var u=this._indices=new Float32Array(i*e);for(n=0,a=u.length;n<a;n++)u[n]=0;t.bufferData(t.ARRAY_BUFFER,u,t.DYNAMIC_DRAW),c.itemSize=e,c.numItems=i;var l=this._alphaBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),e=1;var d=this._alphas=new Float32Array(i*e);for(n=0,a=d.length;n<a;n++)d[n]=1;t.bufferData(t.ARRAY_BUFFER,d,t.DYNAMIC_DRAW),l.itemSize=e,l.numItems=i},t._initTextures=function(){this._lastTextureInsert=-1,this._textureDictionary=[],this._textureIDs={},this._baseTextures=[],this._batchTextures=[];for(var t=0;t<this._batchTextureCount;t++){var e=this.getBaseTexture();if(this._baseTextures[t]=this._batchTextures[t]=e,!e)throw\"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances\"}},t._loadTextureImage=function(t,e){var i=e.src;i||(e._isCanvas=!0,i=e.src=\"canvas_\"+this._lastTrackedCanvas++);var s=this._textureIDs[i];void 0===s&&(s=this._textureIDs[i]=this._textureDictionary.length),void 0===this._textureDictionary[s]&&(this._textureDictionary[s]=this.getBaseTexture());var r,n=this._textureDictionary[s];return n?(n._batchID=this._batchID,n._storeID=s,n._imageData=e,this._insertTextureInBatch(t,n),e._storeID=s,e.complete||e.naturalWidth||e._isCanvas?this._updateTextureImageData(t,e):e.addEventListener(\"load\",this._updateTextureImageData.bind(this,t,e))):(r=\"Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances\",console.error&&console.error(r)||console.log(r),(n=this._baseTextures[0])._batchID=this._batchID,n._storeID=-1,n._imageData=n,this._insertTextureInBatch(t,n)),n},t._updateTextureImageData=function(t,e){var i=e.width&e.width-1||e.height&e.height-1,s=this._textureDictionary[e._storeID];t.activeTexture(t.TEXTURE0+s._activeIndex),t.bindTexture(t.TEXTURE_2D,s),s.isPOT=!i,this.setTextureParams(t,s.isPOT);try{t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}catch(t){var r=\"\\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins\";console.error?(console.error(r),console.error(t)):console&&(console.log(r),console.log(t))}e._invalid=!1,s._w=e.width,s._h=e.height,this.vocalDebug&&(i&&console.warn(\"NPOT(Non Power of Two) Texture: \"+e.src),(e.width>t.MAX_TEXTURE_SIZE||e.height>t.MAX_TEXTURE_SIZE)&&console&&console.error(\"Oversized Texture: \"+e.width+\"x\"+e.height+\" vs \"+t.MAX_TEXTURE_SIZE+\"max\"))},t._insertTextureInBatch=function(t,e){if(this._batchTextures[e._activeIndex]!==e){var i=-1,s=(this._lastTextureInsert+1)%this._batchTextureCount,r=s;do{if(this._batchTextures[r]._batchID!=this._batchID&&!this._slotBlacklist[r]){i=r;break}r=(r+1)%this._batchTextureCount}while(r!==s);-1===i&&(this.batchReason=\"textureOverflow\",this._drawBuffers(t),this.batchCardCount=0,i=s),(this._batchTextures[i]=e)._activeIndex=i,(n=e._imageData)&&n._invalid&&void 0!==e._drawID?this._updateTextureImageData(t,n):(t.activeTexture(t.TEXTURE0+i),t.bindTexture(t.TEXTURE_2D,e),this.setTextureParams(t)),this._lastTextureInsert=i}else{var n=e._imageData;null!=e._storeID&&n&&n._invalid&&this._updateTextureImageData(t,n)}e._drawID=this._drawID,e._batchID=this._batchID},t._killTextureObject=function(t){if(t){var e=this._webGLContext;if(void 0!==t._storeID&&0<=t._storeID){for(var i in this._textureDictionary[t._storeID]=void 0,this._textureIDs)this._textureIDs[i]==t._storeID&&delete this._textureIDs[i];t._imageData&&(t._imageData._storeID=void 0),t._imageData=t._storeID=void 0}void 0!==t._activeIndex&&this._batchTextures[t._activeIndex]===t&&(this._batchTextures[t._activeIndex]=this._baseTextures[t._activeIndex]);try{t._frameBuffer&&e.deleteFramebuffer(t._frameBuffer),t._frameBuffer=void 0}catch(t){this.vocalDebug&&console.log(t)}try{e.deleteTexture(t)}catch(t){this.vocalDebug&&console.log(t)}}},t._backupBatchTextures=function(t,e){var i=this._webGLContext;this._backupTextures||(this._backupTextures=[]),void 0===e&&(e=this._backupTextures);for(var s=0;s<this._batchTextureCount;s++)i.activeTexture(i.TEXTURE0+s),t?this._batchTextures[s]=e[s]:(e[s]=this._batchTextures[s],this._batchTextures[s]=this._baseTextures[s]),i.bindTexture(i.TEXTURE_2D,this._batchTextures[s]),this.setTextureParams(i,this._batchTextures[s].isPOT);t&&e===this._backupTextures&&(this._backupTextures=[])},t._batchDraw=function(t,e,i){0<this._isDrawing&&this._drawBuffers(e),this._isDrawing++,this._drawID++,this.batchCardCount=0,this.depth=0,this._appendToBatchGroup(t,e,new createjs.Matrix2D,this.alpha,i),this.batchReason=\"drawFinish\",this._drawBuffers(e),this._isDrawing--},t._cacheDraw=function(t,e,i,s){var r,n=this._activeShader,a=this._slotBlacklist,o=this._maxTextureSlots-1,h=this._viewportWidth,c=this._viewportHeight;this.protectTextureSlot(o,!0);var u=e.getMatrix();(u=u.clone()).scale(1/s.scale,1/s.scale),(u=u.invert()).translate(-s.offX/s.scale*e.scaleX,-s.offY/s.scale*e.scaleY);var l=this._cacheContainer;l.children=[e],l.transformMatrix=u,this._backupBatchTextures(!1),i&&i.length?this._drawFilters(e,i,s):this.isCacheControlled?(t.clear(t.COLOR_BUFFER_BIT),this._batchDraw(l,t,!0)):(t.activeTexture(t.TEXTURE0+o),e.cacheCanvas=this.getTargetRenderTexture(e,s._drawWidth,s._drawHeight),r=e.cacheCanvas,t.bindFramebuffer(t.FRAMEBUFFER,r._frameBuffer),this.updateViewport(s._drawWidth,s._drawHeight),this._projectionMatrix=this._projectionMatrixFlip,t.clear(t.COLOR_BUFFER_BIT),this._batchDraw(l,t,!0),t.bindFramebuffer(t.FRAMEBUFFER,null),this.updateViewport(h,c)),this._backupBatchTextures(!0),this.protectTextureSlot(o,!1),this._activeShader=n,this._slotBlacklist=a},t._drawFilters=function(t,e,i){var s,r=this._webGLContext,n=this._maxTextureSlots-1,a=this._viewportWidth,o=this._viewportHeight,h=this._cacheContainer,c=e.length;r.activeTexture(r.TEXTURE0+n),s=this.getTargetRenderTexture(t,i._drawWidth,i._drawHeight),r.bindFramebuffer(r.FRAMEBUFFER,s._frameBuffer),this.updateViewport(i._drawWidth,i._drawHeight),r.clear(r.COLOR_BUFFER_BIT),this._batchDraw(h,r,!0),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,s),this.setTextureParams(r);for(var u=!1,l=0,d=e[l];this._activeShader=this.getFilterShader(d),this._activeShader&&(r.activeTexture(r.TEXTURE0+n),s=this.getTargetRenderTexture(t,i._drawWidth,i._drawHeight),r.bindFramebuffer(r.FRAMEBUFFER,s._frameBuffer),r.viewport(0,0,i._drawWidth,i._drawHeight),r.clear(r.COLOR_BUFFER_BIT),this._drawCover(r,u),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,s),this.setTextureParams(r),(1<c||e[0]._multiPass)&&(u=!u),d=null!==d._multiPass?d._multiPass:e[++l]),d;);this.isCacheControlled?(r.bindFramebuffer(r.FRAMEBUFFER,null),this.updateViewport(a,o),this._activeShader=this.getFilterShader(this),r.clear(r.COLOR_BUFFER_BIT),this._drawCover(r,u)):(u&&(r.activeTexture(r.TEXTURE0+n),s=this.getTargetRenderTexture(t,i._drawWidth,i._drawHeight),r.bindFramebuffer(r.FRAMEBUFFER,s._frameBuffer),this._activeShader=this.getFilterShader(this),r.viewport(0,0,i._drawWidth,i._drawHeight),r.clear(r.COLOR_BUFFER_BIT),this._drawCover(r,!u)),r.bindFramebuffer(r.FRAMEBUFFER,null),this.updateViewport(a,o),t.cacheCanvas=s)},t._appendToBatchGroup=function(t,e,i,s,r){t._glMtx||(t._glMtx=new createjs.Matrix2D);var n,a,o,h,c=t._glMtx;c.copy(i),t.transformMatrix?c.appendMatrix(t.transformMatrix):c.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY);for(var u=t.children.length,l=0;l<u;l++){var d=t.children[l];if(d.visible&&s)if(d.cacheCanvas&&!r||(d._updateState&&d._updateState(),!d.children)){this.batchCardCount+1>this._maxCardsPerBatch&&(this.batchReason=\"vertexOverflow\",this._drawBuffers(e),this.batchCardCount=0),d._glMtx||(d._glMtx=new createjs.Matrix2D);var _,p,f,g,m=d._glMtx;m.copy(c),d.transformMatrix?m.appendMatrix(d.transformMatrix):m.appendTransform(d.x,d.y,d.scaleX,d.scaleY,d.rotation,d.skewX,d.skewY,d.regX,d.regY);var v=d.cacheCanvas&&!r;if(2===d._webGLRenderStyle||v)_=!r&&d.cacheCanvas||d.image;else{if(1!==d._webGLRenderStyle)continue;if(null===(p=d.spriteSheet.getFrame(d.currentFrame)))continue;_=p.image}var T=this._uvs,b=this._vertices,E=this._indices,y=this._alphas;if(_){if(void 0===_._storeID)f=this._loadTextureImage(e,_),this._insertTextureInBatch(e,f);else{if(!(f=this._textureDictionary[_._storeID])){this.vocalDebug&&console.log(\"Texture should not be looked up while not being stored.\");continue}f._batchID!==this._batchID&&this._insertTextureInBatch(e,f)}var S,x,w=f._activeIndex;2===d._webGLRenderStyle||v?h=!v&&d.sourceRect?(d._uvRect||(d._uvRect={}),g=d.sourceRect,(x=d._uvRect).t=g.y/_.height,x.l=g.x/_.width,x.b=(g.y+g.height)/_.height,x.r=(g.x+g.width)/_.width,a=n=0,o=g.width+n,g.height+a):(x=P.UV_RECT,v?(n=(g=d.bitmapCache).x+g._filterOffX/g.scale,a=g.y+g._filterOffY/g.scale,o=g._drawWidth/g.scale+n,g._drawHeight/g.scale+a):(a=n=0,o=_.width+n,_.height+a)):1===d._webGLRenderStyle&&(S=p.rect,x=(x=p.uvRect)||P.buildUVRects(d.spriteSheet,d.currentFrame,!1),n=-p.regX,a=-p.regY,o=S.width-p.regX,h=S.height-p.regY);var R=this.batchCardCount*P.INDICIES_PER_CARD,A=2*R;b[A]=n*m.a+a*m.c+m.tx,b[1+A]=n*m.b+a*m.d+m.ty,b[2+A]=n*m.a+h*m.c+m.tx,b[3+A]=n*m.b+h*m.d+m.ty,b[4+A]=o*m.a+a*m.c+m.tx,b[5+A]=o*m.b+a*m.d+m.ty,b[6+A]=b[2+A],b[7+A]=b[3+A],b[8+A]=b[4+A],b[9+A]=b[5+A],b[10+A]=o*m.a+h*m.c+m.tx,b[11+A]=o*m.b+h*m.d+m.ty,T[A]=x.l,T[1+A]=x.t,T[2+A]=x.l,T[3+A]=x.b,T[4+A]=x.r,T[5+A]=x.t,T[6+A]=x.l,T[7+A]=x.b,T[8+A]=x.r,T[9+A]=x.t,T[10+A]=x.r,T[11+A]=x.b,E[R]=E[1+R]=E[2+R]=E[3+R]=E[4+R]=E[5+R]=w,y[R]=y[1+R]=y[2+R]=y[3+R]=y[4+R]=y[5+R]=d.alpha*s,this.batchCardCount++}}else this._appendToBatchGroup(d,e,c,d.alpha*s)}},t._drawBuffers=function(t){if(!(this.batchCardCount<=0)){this.vocalDebug&&console.log(\"Draw[\"+this._drawID+\":\"+this._batchID+\"] : \"+this.batchReason);var e=this._activeShader,i=this._vertexPositionBuffer,s=this._textureIndexBuffer,r=this._uvPositionBuffer,n=this._alphaBuffer;t.useProgram(e),t.bindBuffer(t.ARRAY_BUFFER,i),t.vertexAttribPointer(e.vertexPositionAttribute,i.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,this._vertices),t.bindBuffer(t.ARRAY_BUFFER,s),t.vertexAttribPointer(e.textureIndexAttribute,s.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,this._indices),t.bindBuffer(t.ARRAY_BUFFER,r),t.vertexAttribPointer(e.uvPositionAttribute,r.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,this._uvs),t.bindBuffer(t.ARRAY_BUFFER,n),t.vertexAttribPointer(e.alphaAttribute,n.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,this._alphas),t.uniformMatrix4fv(e.pMatrixUniform,t.FALSE,this._projectionMatrix);for(var a=0;a<this._batchTextureCount;a++){var o=this._batchTextures[a];t.activeTexture(t.TEXTURE0+a),t.bindTexture(t.TEXTURE_2D,o),this.setTextureParams(t,o.isPOT)}t.drawArrays(t.TRIANGLES,0,this.batchCardCount*P.INDICIES_PER_CARD),this._batchID++}},t._drawCover=function(t,e){0<this._isDrawing&&this._drawBuffers(t),this.vocalDebug&&console.log(\"Draw[\"+this._drawID+\":\"+this._batchID+\"] : Cover\");var i=this._activeShader,s=this._vertexPositionBuffer,r=this._uvPositionBuffer;t.clear(t.COLOR_BUFFER_BIT),t.useProgram(i),t.bindBuffer(t.ARRAY_BUFFER,s),t.vertexAttribPointer(i.vertexPositionAttribute,s.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,P.COVER_VERT),t.bindBuffer(t.ARRAY_BUFFER,r),t.vertexAttribPointer(i.uvPositionAttribute,r.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,e?P.COVER_UV_FLIP:P.COVER_UV),t.uniform1i(i.samplerUniform,0),t.uniform1f(i.uprightUniform,e?0:1),t.drawArrays(t.TRIANGLES,0,P.INDICIES_PER_CARD)},createjs.StageGL=createjs.promote(P,\"Stage\")}(),function(){function s(t){this.DisplayObject_constructor(),\"string\"==typeof t?(this.image=document.createElement(\"img\"),this.image.src=t):this.image=t,this.sourceRect=null,this._webGLRenderStyle=createjs.DisplayObject._StageGL_BITMAP}var t=createjs.extend(s,createjs.DisplayObject);t.initialize=s,t.isVisible=function(){var t=this.image,e=this.cacheCanvas||t&&(t.naturalWidth||t.getContext||2<=t.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i,s,r,n,a,o,h,c,u=this.image,l=this.sourceRect;return u.getImage&&(u=u.getImage()),u&&(l?(i=l.x,s=l.y,r=i+l.width,n=s+l.height,i<(o=a=0)&&(a-=i,i=0),(h=u.width)<r&&(r=h),s<0&&(o-=s,s=0),(c=u.height)<n&&(n=c),t.drawImage(u,i,s,r-i,n-s,a,o,r-i,n-s)):t.drawImage(u,0,0)),!0},t.cache=function(t,e,i,s,r,n){this.bitmapCache||(this.bitmapCache=new createjs.BitmapCache),this.bitmapCache.define(this,t,e,i,s,r,n)},t.updateCache=function(t){if(!this.bitmapCache)throw\"cache() must be called before updateCache()\";this.bitmapCache.update(t)},t.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)},t.getCacheDataURL=function(){return this.bitmapCache?this.bitmapCache.getDataURL():null},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var e=this.image,i=this.sourceRect||e;return e&&(e.naturalWidth||e.getContext||2<=e.readyState)?this._rectangle.setValues(0,0,i.width,i.height):null},t.clone=function(t){var e=this.image;e&&t&&(e=e.cloneNode());var i=new s(e);return this.sourceRect&&(i.sourceRect=this.sourceRect.clone()),this._cloneProps(i),i},t.toString=function(){return\"[Bitmap (name=\"+this.name+\")]\"},createjs.Bitmap=createjs.promote(s,\"DisplayObject\")}(),function(){\"use strict\";function t(t,e){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=t,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,this._webGLRenderStyle=createjs.DisplayObject._StageGL_SPRITE,null!=e&&this.gotoAndPlay(e)}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(0|this._currentFrame);if(!i)return!1;var s=i.rect;return s.width&&s.height&&t.drawImage(i.image,s.x,s.y,s.width,s.height,-i.regX,-i.regY,s.width,s.height),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(t){var e=this.framerate||this.spriteSheet.framerate,i=e&&null!=t?t/(1e3/e):1;this._normalizeFrame(i)},e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.clone=function(){return this._cloneProps(new t(this.spriteSheet))},e.toString=function(){return\"[Sprite (name=\"+this.name+\")]\"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate,t._animation=this._animation,t._currentFrame=this._currentFrame,t._skipAdvance=this._skipAdvance,t},e._tick=function(t){this.paused||(this._skipAdvance||this.advance(t&&t.delta),this._skipAdvance=!1),this.DisplayObject__tick(t)},e._normalizeFrame=function(t){t=t||0;var e=this._animation,i=this.paused,s=this._currentFrame;if(e){var r,n=e.speed||1,a=this.currentAnimationFrame;if((r=e.frames.length)<=a+t*n){var o=e.next;if(this._dispatchAnimationEnd(e,s,i,o,r-1))return;if(o)return this._goto(o,t-(r-a)/n);this.paused=!0,a=e.frames.length-1}else a+=t*n;this.currentAnimationFrame=a,this._currentFrame=e.frames[0|a]}else if(s=this._currentFrame+=t,(r=this.spriteSheet.getNumFrames())<=s&&0<r&&!this._dispatchAnimationEnd(e,s,i,r-1)&&(this._currentFrame-=r)>=r)return this._normalizeFrame();s=0|this._currentFrame,this.currentFrame!=s&&(this.currentFrame=s,this.dispatchEvent(\"change\"))},e._dispatchAnimationEnd=function(t,e,i,s,r){var n,a=t?t.name:null;this.hasEventListener(\"animationend\")&&((n=new createjs.Event(\"animationend\")).name=a,n.next=s,this.dispatchEvent(n));var o=this._animation!=t||this._currentFrame!=e;return o||i||!this.paused||(this.currentAnimationFrame=r,o=!0),o},e._goto=function(t,e){var i;this.currentAnimationFrame=0,isNaN(t)?(i=this.spriteSheet.getAnimation(t))&&(this._animation=i,this.currentAnimation=t,this._normalizeFrame(e)):(this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame())},createjs.Sprite=createjs.promote(t,\"DisplayObject\")}(),function(){\"use strict\";function i(t){this.DisplayObject_constructor(),this.graphics=t||new createjs.Graphics}var t=createjs.extend(i,createjs.DisplayObject);t.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(t,e){return this.DisplayObject_draw(t,e)||this.graphics.draw(t,this),!0},t.clone=function(t){var e=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new i(e))},t.toString=function(){return\"[Shape (name=\"+this.name+\")]\"},createjs.Shape=createjs.promote(i,\"DisplayObject\")}(),function(){\"use strict\";function g(t,e,i){this.DisplayObject_constructor(),this.text=t,this.font=e,this.color=i,this.textAlign=\"left\",this.textBaseline=\"top\",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var t=createjs.extend(g,createjs.DisplayObject),e=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");e.getContext&&(g._workingContext=e.getContext(\"2d\"),e.width=e.height=1),g.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},g.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},t.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&\"\"!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.color||\"#000\";return this.outline?(t.strokeStyle=i,t.lineWidth=+this.outline):t.fillStyle=i,this._drawText(this._prepContext(t)),!0},t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},t.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth(\"M\")},t.getMeasuredHeight=function(){return this._drawText(null,{}).height},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(null==this.text||\"\"===this.text)return null;var e=this._drawText(null,{}),i=this.maxWidth&&this.maxWidth<e.width?this.maxWidth:e.width,s=i*g.H_OFFSETS[this.textAlign||\"left\"],r=(this.lineHeight||this.getMeasuredLineHeight())*g.V_OFFSETS[this.textBaseline||\"top\"];return this._rectangle.setValues(s,r,i,e.height)},t.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*g.V_OFFSETS[this.textBaseline||\"top\"],this._drawText(null,t,t.lines)},t.clone=function(){return this._cloneProps(new g(this.text,this.font,this.color))},t.toString=function(){return\"[Text (text=\"+(20<this.text.length?this.text.substr(0,17)+\"...\":this.text)+\")]\"},t._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t},t._prepContext=function(t){return t.font=this.font||\"10px sans-serif\",t.textAlign=this.textAlign||\"left\",t.textBaseline=this.textBaseline||\"top\",t.lineJoin=\"miter\",t.miterLimit=2.5,t},t._drawText=function(t,e,i){var s=!!t;s||((t=g._workingContext).save(),this._prepContext(t));for(var r=this.lineHeight||this.getMeasuredLineHeight(),n=0,a=0,o=String(this.text).split(/(?:\\r\\n|\\r|\\n)/),h=0,c=o.length;h<c;h++){var u=o[h],l=null;if(null!=this.lineWidth&&(l=t.measureText(u).width)>this.lineWidth)for(var d=u.split(/(\\s)/),u=d[0],l=t.measureText(u).width,_=1,p=d.length;_<p;_+=2){var f=t.measureText(d[_]+d[_+1]).width;l+f>this.lineWidth?(s&&this._drawTextLine(t,u,a*r),i&&i.push(u),n<l&&(n=l),u=d[_+1],l=t.measureText(u).width,a++):(u+=d[_]+d[_+1],l+=f)}s&&this._drawTextLine(t,u,a*r),i&&i.push(u),e&&null==l&&(l=t.measureText(u).width),n<l&&(n=l),a++}return e&&(e.width=n,e.height=a*r),s||t.restore(),e},t._drawTextLine=function(t,e,i){this.outline?t.strokeText(e,0,i,this.maxWidth||65535):t.fillText(e,0,i,this.maxWidth||65535)},t._getMeasuredWidth=function(t){var e=g._workingContext;e.save();var i=this._prepContext(e).measureText(t).width;return e.restore(),i},createjs.Text=createjs.promote(g,\"DisplayObject\")}(),function(){\"use strict\";function v(t,e){this.Container_constructor(),this.text=t||\"\",this.spriteSheet=e,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0},this._oldStage=null,this._drawAction=null}var t=createjs.extend(v,createjs.Container);v.maxPoolSize=100,v._spritePool=[],t.draw=function(t,e){this.DisplayObject_draw(t,e)||(this._updateState(),this.Container_draw(t,e))},t.getBounds=function(){return this._updateText(),this.Container_getBounds()},t.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&0<this.alpha&&0!==this.scaleX&&0!==this.scaleY&&t)},t.clone=function(){return this._cloneProps(new v(this.text,this.spriteSheet))},t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){},t._updateState=function(){this._updateText()},t._cloneProps=function(t){return this.Container__cloneProps(t),t.lineHeight=this.lineHeight,t.letterSpacing=this.letterSpacing,t.spaceWidth=this.spaceWidth,t},t._getFrameIndex=function(t,e){var i,s=e.getAnimation(t);return s||(t!=(i=t.toUpperCase())||t!=(i=t.toLowerCase())||(i=null),i&&(s=e.getAnimation(i))),s&&s.frames[0]},t._getFrame=function(t,e){var i=this._getFrameIndex(t,e);return null==i?i:e.getFrame(i)},t._getLineHeight=function(t){var e=this._getFrame(\"1\",t)||this._getFrame(\"T\",t)||this._getFrame(\"L\",t)||t.getFrame(0);return e?e.rect.height:1},t._getSpaceWidth=function(t){var e=this._getFrame(\"1\",t)||this._getFrame(\"l\",t)||this._getFrame(\"e\",t)||this._getFrame(\"a\",t)||t.getFrame(0);return e?e.rect.width:1},t._updateText=function(){var t,e=0,i=0,s=this._oldProps,r=!1,n=this.spaceWidth,a=this.lineHeight,o=this.spriteSheet,h=v._spritePool,c=this.children,u=0,l=c.length;for(var d in s)s[d]!=this[d]&&(s[d]=this[d],r=!0);if(r){var _=!!this._getFrame(\" \",o);_||n||(n=this._getSpaceWidth(o)),a=a||this._getLineHeight(o);for(var p=0,f=this.text.length;p<f;p++){var g,m=this.text.charAt(p);\" \"!=m||_?\"\\n\"!=m&&\"\\r\"!=m?null!=(g=this._getFrameIndex(m,o))&&(u<l?t=c[u]:(c.push(t=h.length?h.pop():new createjs.Sprite),t.parent=this,l++),t.spriteSheet=o,t.gotoAndStop(g),t.x=e,t.y=i,u++,e+=t.getBounds().width+this.letterSpacing):(\"\\r\"==m&&\"\\n\"==this.text.charAt(p+1)&&p++,e=0,i+=a):e+=n}for(;u<l;)h.push(t=c.pop()),t.parent=null,l--;h.length>v.maxPoolSize&&(h.length=v.maxPoolSize)}},createjs.BitmapText=createjs.promote(v,\"Container\")}(),function(){\"use strict\";function a(t){var e,i,s,r;this.Container_constructor(),a.inited||a.init(),t instanceof String||1<arguments.length?(e=t,i=arguments[1],r=arguments[3],null==(s=arguments[2])&&(s=-1),t=null):t&&(e=t.mode,i=t.startPosition,s=t.loop,r=t.labels),t=t||{labels:r},this.mode=e||a.INDEPENDENT,this.startPosition=i||0,this.loop=!0===s?-1:s||0,this.currentFrame=0,this.paused=t.paused||!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||t.frameBounds,this.framerate=null,t.useTicks=t.paused=!0,this.timeline=new createjs.Timeline(t),this._synchOffset=0,this._rawPosition=-1,this._bound_resolveState=this._resolveState.bind(this),this._t=0,this._managed={}}var t=createjs.extend(a,createjs.Container);a.INDEPENDENT=\"independent\",a.SINGLE_FRAME=\"single\",a.SYNCHED=\"synched\",a.inited=!1,a.init=function(){a.inited||(s.install(),a.inited=!0)},t._getLabels=function(){return this.timeline.getLabels()},t.getLabels=createjs.deprecate(t._getLabels,\"MovieClip.getLabels\"),t._getCurrentLabel=function(){return this.timeline.currentLabel},t.getCurrentLabel=createjs.deprecate(t._getCurrentLabel,\"MovieClip.getCurrentLabel\"),t._getDuration=function(){return this.timeline.duration},t.getDuration=createjs.deprecate(t._getDuration,\"MovieClip.getDuration\");try{Object.defineProperties(t,{labels:{get:t._getLabels},currentLabel:{get:t._getCurrentLabel},totalFrames:{get:t._getDuration},duration:{get:t._getDuration}})}catch(t){}function s(){throw\"MovieClipPlugin cannot be instantiated.\"}t.initialize=a,t.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(t,e){return this.DisplayObject_draw(t,e)||(this._updateState(),this.Container_draw(t,e)),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},t.gotoAndStop=function(t){this.paused=!0,this._goto(t)},t.advance=function(t){var e=a.INDEPENDENT;if(this.mode===e){for(var i=this,s=i.framerate;(i=i.parent)&&null===s;)i.mode===e&&(s=i._framerate);if(this._framerate=s,!this.paused){var r=null!==s&&-1!==s&&null!==t?t/(1e3/s)+this._t:1,n=0|r;for(this._t=r-n;n--;)this._updateTimeline(this._rawPosition+1,!1)}}},t.clone=function(){throw\"MovieClip cannot be cloned.\"},t.toString=function(){return\"[MovieClip (name=\"+this.name+\")]\"},t._updateState=function(){-1!==this._rawPosition&&this.mode===a.INDEPENDENT||this._updateTimeline(-1)},t._tick=function(t){this.advance(t&&t.delta),this.Container__tick(t)},t._goto=function(t){var e=this.timeline.resolve(t);null!=e&&(this._t=0,this._updateTimeline(e,!0))},t._reset=function(){this._rawPosition=-1,this._t=this.currentFrame=0,this.paused=!1},t._updateTimeline=function(t,e){var i=this.mode!==a.INDEPENDENT,s=this.timeline;i&&(t=this.startPosition+(this.mode===a.SINGLE_FRAME?0:this._synchOffset)),t<0&&(t=0),this._rawPosition===t&&!i||(this._rawPosition=t,s.loop=this.loop,s.setPosition(t,i||!this.actionsEnabled,e,this._bound_resolveState))},t._renderFirstFrame=function(){var t=this.timeline,e=t.rawPosition;t.setPosition(0,!0,!0,this._bound_resolveState),t.rawPosition=e},t._resolveState=function(){var t=this.timeline;for(var e in this.currentFrame=t.position,this._managed)this._managed[e]=1;for(var i=t.tweens,s=0,r=i.length;s<r;s++){var n,a=i[s],o=a.target;o===this||a.passive||(n=a._stepPosition,o instanceof createjs.DisplayObject?this._addManagedChild(o,n):this._setState(o.state,n))}for(var h=this.children,s=h.length-1;0<=s;s--){var c=h[s].id;1===this._managed[c]&&(this.removeChildAt(s),delete this._managed[c])}},t._setState=function(t,e){if(t)for(var i=t.length-1;0<=i;i--){var s=t[i],r=s.t,n=s.p;for(var a in n)r[a]=n[a];this._addManagedChild(r,e)}},t._addManagedChild=function(t,e){t._off||(this.addChildAt(t,0),t instanceof a&&(t._synchOffset=e,t.mode===a.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},t._getBounds=function(t,e){var i=this.DisplayObject_getBounds();return i||this.frameBounds&&(i=this._rectangle.copy(this.frameBounds[this.currentFrame])),i?this._transformBounds(i,t,e):this.Container__getBounds(t,e)},createjs.MovieClip=createjs.promote(a,\"Container\"),s.priority=100,s.ID=\"MovieClip\",s.install=function(){createjs.Tween._installPlugin(s)},s.init=function(t,e,i){\"startPosition\"===e&&t.target instanceof a&&t._addPlugin(s)},s.step=function(t,e,i){},s.change=function(t,e,i,s,r,n){if(\"startPosition\"===i)return 1===r?e.props[i]:e.prev.props[i]}}(),function(){\"use strict\";function S(){throw\"SpriteSheetUtils cannot be instantiated\"}var t=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");t.getContext&&(S._workingCanvas=t,S._workingContext=t.getContext(\"2d\"),t.width=t.height=1),S.extractFrame=function(t,e){isNaN(e)&&(e=t.getAnimation(e).frames[0]);var i=t.getFrame(e);if(!i)return null;var s=i.rect,r=S._workingCanvas;r.width=s.width,r.height=s.height,S._workingContext.drawImage(i.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var n=document.createElement(\"img\");return n.src=r.toDataURL(\"image/png\"),n},S.addFlippedFrames=createjs.deprecate(null,\"SpriteSheetUtils.addFlippedFrames\"),S.mergeAlpha=createjs.deprecate(null,\"SpriteSheetUtils.mergeAlpha\"),S._flip=function(t,e,i,s){for(var r=t._images,n=S._workingCanvas,a=S._workingContext,o=r.length/e,h=0;h<o;h++){var c=r[h];c.__tmp=h,a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,n.width+1,n.height+1),n.width=c.width,n.height=c.height,a.setTransform(i?-1:1,0,0,s?-1:1,i?c.width:0,s?c.height:0),a.drawImage(c,0,0);var u=document.createElement(\"img\");u.src=n.toDataURL(\"image/png\"),u.width=c.width||c.naturalWidth,u.height=c.height||c.naturalHeight,r.push(u)}for(var l=t._frames,d=l.length/e,h=0;h<d;h++){var _=(c=l[h]).rect.clone(),p={image:u=r[c.image.__tmp+o*e],rect:_,regX:c.regX,regY:c.regY};i&&(_.x=(u.width||u.naturalWidth)-_.x-_.width,p.regX=_.width-c.regX),s&&(_.y=(u.height||u.naturalHeight)-_.y-_.height,p.regY=_.height-c.regY),l.push(p)}var f=\"_\"+(i?\"h\":\"\")+(s?\"v\":\"\"),g=t._animations,m=t._data,v=g.length/e;for(h=0;h<v;h++){var T=g[h],b={name:T+f,speed:(c=m[T]).speed,next:c.next,frames:[]};c.next&&(b.next+=f);for(var E=0,y=(l=c.frames).length;E<y;E++)b.frames.push(l[E]+d*e);m[b.name]=b,g.push(b.name)}},createjs.SpriteSheetUtils=S}(),function(){\"use strict\";function E(t){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=t||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var t=createjs.extend(E,createjs.EventDispatcher);E.ERR_DIMENSIONS=\"frame dimensions exceed max spritesheet dimensions\",E.ERR_RUNNING=\"a build is already running\",t.addFrame=function(t,e,i,s,r){if(this._data)throw E.ERR_RUNNING;var n=e||t.bounds||t.nominalBounds;return!n&&t.getBounds&&(n=t.getBounds()),n?(i=i||1,this._frames.push({source:t,sourceRect:n,scale:i,funct:s,data:r,index:this._frames.length,height:n.height*i})-1):null},t.addAnimation=function(t,e,i,s){if(this._data)throw E.ERR_RUNNING;this._animations[t]={frames:e,next:i,speed:s}},t.addMovieClip=function(t,e,i,s,r,n){if(this._data)throw E.ERR_RUNNING;var a=t.frameBounds,o=e||t.bounds||t.nominalBounds;if(!o&&t.getBounds&&(o=t.getBounds()),o||a){for(var h,c=this._frames.length,u=t.timeline.duration,l=0;l<u;l++){var d=a&&a[l]?a[l]:o;this.addFrame(t,d,i,this._setupMovieClipFrame,{i:l,f:s,d:r})}var _=t.timeline._labels,p=[];for(var f in _)p.push({index:_[f],label:f});if(p.length)for(p.sort(function(t,e){return t.index-e.index}),l=0,h=p.length;l<h;l++){for(var g=p[l].label,m=c+p[l].index,v=c+(l==h-1?u:p[l+1].index),T=[],b=m;b<v;b++)T.push(b);n&&!(g=n(g,t,m,v))||this.addAnimation(g,T,!0)}}},t.build=function(){if(this._data)throw E.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw E.ERR_RUNNING;this.timeSlice=t,this._startBuild();var e=this;this._timerID=setTimeout(function(){e._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw\"SpriteSheetBuilder cannot be cloned.\"},t.toString=function(){return\"[SpriteSheetBuilder]\"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var e=[];this._data={images:[],frames:e,framerate:this.framerate,animations:this._animations};var i=this._frames.slice();if(i.sort(function(t,e){return t.height<=e.height?-1:1}),i[i.length-1].height+2*t>this.maxHeight)throw E.ERR_DIMENSIONS;for(var s=0,r=0,n=0;i.length;){var a,o=this._fillRow(i,s,n,e,t);o.w>r&&(r=o.w),s+=o.h,o.h&&i.length||((a=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\")).width=this._getSize(r,this.maxWidth),a.height=this._getSize(s,this.maxHeight),this._data.images[n]=a,o.h||(r=s=0,n++))}},t._setupMovieClipFrame=function(t,e){var i=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=i,e.f&&e.f(t,e.d,e.i)},t._getSize=function(t,e){for(var i=4;Math.pow(2,++i)<t;);return Math.min(e,Math.pow(2,i))},t._fillRow=function(t,e,i,s,r){for(var n=this.maxWidth,a=this.maxHeight-(e+=r),o=r,h=0,c=t.length-1;0<=c;c--){var u=t[c],l=this._scale*u.scale,d=u.sourceRect,_=u.source,p=Math.floor(l*d.x-r),f=Math.floor(l*d.y-r),g=Math.ceil(l*d.height+2*r),m=Math.ceil(l*d.width+2*r);if(n<m)throw E.ERR_DIMENSIONS;a<g||n<o+m||(u.img=i,u.rect=new createjs.Rectangle(o,e,m,g),h=h||g,t.splice(c,1),s[u.index]=[o,e,m,g,i,Math.round(-p+l*_.regX-r),Math.round(-f+l*_.regY-r)],o+=m)}return{w:o,h:h}},t._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent(\"complete\")},t._run=function(){for(var t,e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),i=(new Date).getTime()+e,s=!1;i>(new Date).getTime();)if(!this._drawNext()){s=!0;break}s?this._endBuild():(t=this)._timerID=setTimeout(function(){t._run()},50-e);var r,n=this.progress=this._index/this._frames.length;this.hasEventListener(\"progress\")&&((r=new createjs.Event(\"progress\")).progress=n,this.dispatchEvent(r))},t._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,i=t.rect,s=t.sourceRect,r=this._data.images[t.img].getContext(\"2d\");return t.funct&&t.funct(t.source,t.data),r.save(),r.beginPath(),r.rect(i.x,i.y,i.width,i.height),r.clip(),r.translate(Math.ceil(i.x-s.x*e),Math.ceil(i.y-s.y*e)),r.scale(e,e),t.source.draw(r),r.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(E,\"EventDispatcher\")}(),function(){\"use strict\";function t(t){this.DisplayObject_constructor(),\"string\"==typeof t&&(t=document.getElementById(t)),this.mouseEnabled=!1;var e=t.style;e.position=\"absolute\",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin=\"0% 0%\",this.htmlElement=t,this._oldProps=null,this._oldStage=null,this._drawAction=null}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){return null!=this.htmlElement},e.draw=function(t,e){return!0},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){throw\"DOMElement cannot be cloned.\"},e.toString=function(){return\"[DOMElement (name=\"+this.name+\")]\"},e._tick=function(t){var e=this.stage;e&&e!==this._oldStage&&(this._drawAction&&e.off(\"drawend\",this._drawAction),this._drawAction=e.on(\"drawend\",this._handleDrawEnd,this),this._oldStage=e),this.DisplayObject__tick(t)},e._handleDrawEnd=function(t){var e,i,s,r,n,a,o,h,c=this.htmlElement;c&&(e=c.style,s=(i=this.getConcatenatedDisplayProps(this._props)).matrix,(r=i.visible?\"visible\":\"hidden\")!=e.visibility&&(e.visibility=r),i.visible&&(o=1e4,(a=(n=this._oldProps)&&n.matrix)&&a.equals(s)||(h=\"matrix(\"+(s.a*o|0)/o+\",\"+(s.b*o|0)/o+\",\"+(s.c*o|0)/o+\",\"+(s.d*o|0)/o+\",\"+(s.tx+.5|0),e.transform=e.WebkitTransform=e.OTransform=e.msTransform=h+\",\"+(s.ty+.5|0)+\")\",e.MozTransform=h+\"px,\"+(s.ty+.5|0)+\"px)\",(n=n||(this._oldProps=new createjs.DisplayProps(!0,null))).matrix.copy(s)),n.alpha!=i.alpha&&(e.opacity=\"\"+(i.alpha*o|0)/o,n.alpha=i.alpha)))},createjs.DOMElement=createjs.promote(t,\"DisplayObject\")}(),function(){\"use strict\";function t(){this.usesContext=!1,this._multiPass=null,this.VTX_SHADER_BODY=null,this.FRAG_SHADER_BODY=null}var e=t.prototype;e.getBounds=function(t){return t},e.shaderParamSetup=function(t,e,i){},e.applyFilter=function(t,e,i,s,r,n,a,o){n=n||t,null==a&&(a=e),null==o&&(o=i);try{var h=t.getImageData(e,i,s,r)}catch(t){return!1}return!!this._applyFilter(h)&&(n.putImageData(h,a,o),!0)},e.toString=function(){return\"[Filter]\"},e.clone=function(){return new t},e._applyFilter=function(t){return!0},createjs.Filter=t}(),function(){\"use strict\";function s(){this.width=void 0,this.height=void 0,this.x=void 0,this.y=void 0,this.scale=1,this.offX=0,this.offY=0,this.cacheID=0,this._filterOffX=0,this._filterOffY=0,this._cacheDataURLID=0,this._cacheDataURL=null,this._drawWidth=0,this._drawHeight=0}var t=s.prototype;s.getFilterBounds=function(t,e){e=e||new createjs.Rectangle;var i=t.filters,s=i&&i.length;if(!!s<=0)return e;for(var r=0;r<s;r++){var n,a=i[r];a&&a.getBounds&&((n=a.getBounds())&&(0==r?e.setValues(n.x,n.y,n.width,n.height):e.extend(n.x,n.y,n.width,n.height)))}return e},t.toString=function(){return\"[BitmapCache]\"},t.define=function(t,e,i,s,r,n,a){if(!t)throw\"No symbol to cache\";this._options=a,this.target=t,this.width=1<=s?s:1,this.height=1<=r?r:1,this.x=e||0,this.y=i||0,this.scale=n||1,this.update()},t.update=function(t){if(!this.target)throw\"define() must be called before update()\";var e=s.getFilterBounds(this.target),i=this.target.cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+e.width,this._drawHeight=Math.ceil(this.height*this.scale)+e.height,i&&this._drawWidth==i.width&&this._drawHeight==i.height||this._updateSurface(),this._filterOffX=e.x,this._filterOffY=e.y,this.offX=this.x*this.scale+this._filterOffX,this.offY=this.y*this.scale+this._filterOffY,this._drawToCache(t),this.cacheID=this.cacheID?this.cacheID+1:1},t.release=function(){var t;this._webGLCache?(this._webGLCache.isCacheControlled||(this.__lastRT&&(this.__lastRT=void 0),this.__rtA&&this._webGLCache._killTextureObject(this.__rtA),this.__rtB&&this._webGLCache._killTextureObject(this.__rtB),this.target&&this.target.cacheCanvas&&this._webGLCache._killTextureObject(this.target.cacheCanvas)),this._webGLCache=!1):(t=this.target.stage)instanceof createjs.StageGL&&t.releaseTexture(this.target.cacheCanvas),this.target=this.target.cacheCanvas=null,this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0,this.width=this.height=this.x=this.y=this.offX=this.offY=0,this.scale=1},t.getCacheDataURL=function(){var t=this.target&&this.target.cacheCanvas;return t?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURLID=this.cacheID,this._cacheDataURL=t.toDataURL?t.toDataURL():null),this._cacheDataURL):null},t.draw=function(t){return!!this.target&&(t.drawImage(this.target.cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale),!0)},t._updateSurface=function(){if(!this._options||!this._options.useGL)return(e=(e=this.target.cacheCanvas)||(this.target.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"))).width=this._drawWidth,void(e.height=this._drawHeight);if(!this._webGLCache)if(\"stage\"===this._options.useGL){if(!this.target.stage||!this.target.stage.isWebGL){var t=\"Cannot use 'stage' for cache because the object's parent stage is \";throw t+=this.target.stage?\"non WebGL.\":\"not set, please addChild to the correct stage.\"}this.target.cacheCanvas=!0,this._webGLCache=this.target.stage}else if(\"new\"===this._options.useGL)this.target.cacheCanvas=document.createElement(\"canvas\"),this._webGLCache=new createjs.StageGL(this.target.cacheCanvas,{antialias:!0,transparent:!0,autoPurge:-1}),this._webGLCache.isCacheControlled=!0;else{if(!(this._options.useGL instanceof createjs.StageGL))throw\"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got \"+this._options.useGL;this.target.cacheCanvas=!0,this._webGLCache=this._options.useGL,this._webGLCache.isCacheControlled=!0}var e=this.target.cacheCanvas,i=this._webGLCache;i.isCacheControlled&&(e.width=this._drawWidth,e.height=this._drawHeight,i.updateViewport(this._drawWidth,this._drawHeight)),this.target.filters?(i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight),i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)):i.isCacheControlled||i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)},t._drawToCache=function(t){var e,i=this.target.cacheCanvas,s=this.target,r=this._webGLCache;r?(r.cacheDraw(s,s.filters,this),(i=this.target.cacheCanvas).width=this._drawWidth,i.height=this._drawHeight):(e=i.getContext(\"2d\"),t||e.clearRect(0,0,this._drawWidth+1,this._drawHeight+1),e.save(),e.globalCompositeOperation=t,e.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),e.translate(-this.x,-this.y),s.draw(e,!0),e.restore(),s.filters&&s.filters.length&&this._applyFilters(e)),i._invalid=!0},t._applyFilters=function(t){for(var e,i=this.target.filters,s=this._drawWidth,r=this._drawHeight,n=0,a=i[n];a.usesContext?(e&&(t.putImageData(e,0,0),e=null),a.applyFilter(t,0,0,s,r)):(e=e||t.getImageData(0,0,s,r),a._applyFilter(e)),a=null!==a._multiPass?a._multiPass:i[++n];);e&&t.putImageData(e,0,0)},createjs.BitmapCache=s}(),function(){\"use strict\";function B(t,e,i){this.Filter_constructor(),this._blurX=t,this._blurXTable=[],this._lastBlurX=null,this._blurY=e,this._blurYTable=[],this._lastBlurY=null,this._quality,this._lastQuality=null,this.FRAG_SHADER_TEMPLATE=\"uniform float xWeight[{{blurX}}];uniform float yWeight[{{blurY}}];uniform vec2 textureOffset;void main(void) {vec4 color = vec4(0.0);float xAdj = ({{blurX}}.0-1.0)/2.0;float yAdj = ({{blurY}}.0-1.0)/2.0;vec2 sampleOffset;for(int i=0; i<{{blurX}}; i++) {for(int j=0; j<{{blurY}}; j++) {sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);}}gl_FragColor = color.rgba;}\",(isNaN(i)||i<1)&&(i=1),this.setQuality(0|i)}var t=createjs.extend(B,createjs.Filter);t.getBlurX=function(){return this._blurX},t.getBlurY=function(){return this._blurY},t.setBlurX=function(t){(isNaN(t)||t<0)&&(t=0),this._blurX=t},t.setBlurY=function(t){(isNaN(t)||t<0)&&(t=0),this._blurY=t},t.getQuality=function(){return this._quality},t.setQuality=function(t){(isNaN(t)||t<0)&&(t=0),this._quality=0|t},t._getShader=function(){var t=this._lastBlurX!==this._blurX,e=this._lastBlurY!==this._blurY,i=this._lastQuality!==this._quality;return t||e||i?((t||i)&&(this._blurXTable=this._getTable(this._blurX*this._quality)),(e||i)&&(this._blurYTable=this._getTable(this._blurY*this._quality)),this._updateShader(),this._lastBlurX=this._blurX,this._lastBlurY=this._blurY,void(this._lastQuality=this._quality)):this._compiledShader},t._setShader=function(){this._compiledShader};try{Object.defineProperties(t,{blurX:{get:t.getBlurX,set:t.setBlurX},blurY:{get:t.getBlurY,set:t.setBlurY},quality:{get:t.getQuality,set:t.setQuality},_builtShader:{get:t._getShader,set:t._setShader}})}catch(t){console.log(t)}t._getTable=function(t){if(t<=1)return[1];for(var e=[],i=Math.ceil(2*t),s=(i+=i%2?0:1)/2|0,r=-s;r<=s;r++){var n=r/s*4.2;e.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-Math.pow(n,2)/4))}var a=e.reduce(function(t,e){return t+e});return e.map(function(t,e,i){return t/a})},t._updateShader=function(){var t;void 0!==this._blurX&&void 0!==this._blurY&&(t=(t=(t=this.FRAG_SHADER_TEMPLATE).replace(/\\{\\{blurX\\}\\}/g,this._blurXTable.length.toFixed(0))).replace(/\\{\\{blurY\\}\\}/g,this._blurYTable.length.toFixed(0)),this.FRAG_SHADER_BODY=t)},t.shaderParamSetup=function(t,e,i){t.uniform1fv(t.getUniformLocation(i,\"xWeight\"),this._blurXTable),t.uniform1fv(t.getUniformLocation(i,\"yWeight\"),this._blurYTable),t.uniform2f(t.getUniformLocation(i,\"textureOffset\"),2/(e._viewportWidth*this._quality),2/(e._viewportHeight*this._quality))},B.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],B.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.getBounds=function(t){var e=0|this.blurX,i=0|this.blurY;if(e<=0&&i<=0)return t;var s=Math.pow(this.quality,.2);return(t||new createjs.Rectangle).pad(i*s+1,e*s+1,i*s+1,e*s+1)},t.clone=function(){return new B(this.blurX,this.blurY,this.quality)},t.toString=function(){return\"[BlurFilter]\"},t._applyFilter=function(t){var e=this._blurX>>1;if(isNaN(e)||e<0)return!1;var i=this._blurY>>1;if(isNaN(i)||i<0)return!1;if(0==e&&0==i)return!1;var s=this.quality;(isNaN(s)||s<1)&&(s=1),3<(s|=0)&&(s=3),s<1&&(s=1);for(var r=t.data,n=0,a=0,o=0,h=0,c=0,u=0,l=0,d=0,_=0,p=0,f=0,g=0,m=0,v=0,T=0,b=e+e+1|0,E=i+i+1|0,y=0|t.width,S=0|t.height,x=y-1|0,w=S-1|0,R=1+e|0,A=1+i|0,P={r:0,b:0,g:0,a:0},L=P,o=1;o<b;o++)L=L.n={r:0,b:0,g:0,a:0};L.n=P;var j={r:0,b:0,g:0,a:0},C=j;for(o=1;o<E;o++)C=C.n={r:0,b:0,g:0,a:0};C.n=j;for(var I=null,D=0|B.MUL_TABLE[e],M=0|B.SHG_TABLE[e],O=0|B.MUL_TABLE[i],F=0|B.SHG_TABLE[i];0<s--;){l=u=0;for(var N=D,k=M,a=S;-1<--a;){for(d=R*(g=r[0|u]),_=R*(m=r[u+1|0]),p=R*(v=r[u+2|0]),f=R*(T=r[u+3|0]),L=P,o=R;-1<--o;)L.r=g,L.g=m,L.b=v,L.a=T,L=L.n;for(o=1;o<R;o++)h=u+((x<o?x:o)<<2)|0,d+=L.r=r[h],_+=L.g=r[h+1],p+=L.b=r[h+2],f+=L.a=r[h+3],L=L.n;for(I=P,n=0;n<y;n++)r[u++]=d*N>>>k,r[u++]=_*N>>>k,r[u++]=p*N>>>k,r[u++]=f*N>>>k,h=l+((h=n+e+1)<x?h:x)<<2,d-=I.r-(I.r=r[h]),_-=I.g-(I.g=r[h+1]),p-=I.b-(I.b=r[h+2]),f-=I.a-(I.a=r[h+3]),I=I.n;l+=y}for(N=O,k=F,n=0;n<y;n++){for(d=A*(g=r[u=n<<2|0])|0,_=A*(m=r[u+1|0])|0,p=A*(v=r[u+2|0])|0,f=A*(T=r[u+3|0])|0,C=j,o=0;o<A;o++)C.r=g,C.g=m,C.b=v,C.a=T,C=C.n;for(c=y,o=1;o<=i;o++)u=c+n<<2,d+=C.r=r[u],_+=C.g=r[u+1],p+=C.b=r[u+2],f+=C.a=r[u+3],C=C.n,o<w&&(c+=y);if(u=n,I=j,0<s)for(a=0;a<S;a++)r[(h=u<<2)+3]=T=f*N>>>k,0<T?(r[h]=d*N>>>k,r[h+1]=_*N>>>k,r[h+2]=p*N>>>k):r[h]=r[h+1]=r[h+2]=0,h=n+((h=a+A)<w?h:w)*y<<2,d-=I.r-(I.r=r[h]),_-=I.g-(I.g=r[h+1]),p-=I.b-(I.b=r[h+2]),f-=I.a-(I.a=r[h+3]),I=I.n,u+=y;else for(a=0;a<S;a++)r[(h=u<<2)+3]=T=f*N>>>k,0<T?(T=255/T,r[h]=(d*N>>>k)*T,r[h+1]=(_*N>>>k)*T,r[h+2]=(p*N>>>k)*T):r[h]=r[h+1]=r[h+2]=0,h=n+((h=a+A)<w?h:w)*y<<2,d-=I.r-(I.r=r[h]),_-=I.g-(I.g=r[h+1]),p-=I.b-(I.b=r[h+2]),f-=I.a-(I.a=r[h+3]),I=I.n,u+=y}}return!0},createjs.BlurFilter=createjs.promote(B,\"Filter\")}(),function(){\"use strict\";function e(t){this.Filter_constructor(),this.alphaMap=t,this._alphaMap=null,this._mapData=null,this._mapTexture=null,this.FRAG_SHADER_BODY=\"uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));}\"}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(t,e,i){this._mapTexture||(this._mapTexture=t.createTexture()),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._mapTexture),e.setTextureParams(t),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.alphaMap),t.uniform1i(t.getUniformLocation(i,\"uAlphaSampler\"),1)},t.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},t.toString=function(){return\"[AlphaMapFilter]\"},t._applyFilter=function(t){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var e=t.data,i=this._mapData,s=0,r=e.length;s<r;s+=4)e[s+3]=i[s]||0;return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var t,e=this._alphaMap=this.alphaMap,i=e;e instanceof HTMLCanvasElement?t=i.getContext(\"2d\"):((i=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\")).width=e.width,i.height=e.height,(t=i.getContext(\"2d\")).drawImage(e,0,0));try{var s=t.getImageData(0,0,e.width,e.height)}catch(t){return!1}return this._mapData=s.data,!0},createjs.AlphaMapFilter=createjs.promote(e,\"Filter\")}(),function(){\"use strict\";function t(t){this.Filter_constructor(),this.mask=t,this.usesContext=!0,this.FRAG_SHADER_BODY=\"uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);}\"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){this._mapTexture||(this._mapTexture=t.createTexture()),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._mapTexture),e.setTextureParams(t),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.mask),t.uniform1i(t.getUniformLocation(i,\"uAlphaSampler\"),1)},e.applyFilter=function(t,e,i,s,r,n,a,o){return!this.mask||(null==a&&(a=e),null==o&&(o=i),(n=n||t).save(),t==n&&(n.globalCompositeOperation=\"destination-in\",n.drawImage(this.mask,a,o),n.restore(),!0))},e.clone=function(){return new t(this.mask)},e.toString=function(){return\"[AlphaMaskFilter]\"},createjs.AlphaMaskFilter=createjs.promote(t,\"Filter\")}(),function(){\"use strict\";function t(t,e,i,s,r,n,a,o){this.Filter_constructor(),this.redMultiplier=null!=t?t:1,this.greenMultiplier=null!=e?e:1,this.blueMultiplier=null!=i?i:1,this.alphaMultiplier=null!=s?s:1,this.redOffset=r||0,this.greenOffset=n||0,this.blueOffset=a||0,this.alphaOffset=o||0,this.FRAG_SHADER_BODY=\"uniform vec4 uColorMultiplier;uniform vec4 uColorOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = (color * uColorMultiplier) + uColorOffset;}\"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){t.uniform4f(t.getUniformLocation(i,\"uColorMultiplier\"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier),t.uniform4f(t.getUniformLocation(i,\"uColorOffset\"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)},e.toString=function(){return\"[ColorFilter]\"},e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},e._applyFilter=function(t){for(var e=t.data,i=e.length,s=0;s<i;s+=4)e[s]=e[s]*this.redMultiplier+this.redOffset,e[s+1]=e[s+1]*this.greenMultiplier+this.greenOffset,e[s+2]=e[s+2]*this.blueMultiplier+this.blueOffset,e[s+3]=e[s+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(t,\"Filter\")}(),function(){\"use strict\";function s(t,e,i,s){this.setColor(t,e,i,s)}var t=s.prototype;s.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],s.LENGTH=(s.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]).length,t.setColor=function(t,e,i,s){return this.reset().adjustColor(t,e,i,s)},t.reset=function(){return this.copy(s.IDENTITY_MATRIX)},t.adjustColor=function(t,e,i,s){return this.adjustHue(s),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(i)},t.adjustBrightness=function(t){return 0==t||isNaN(t)||(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])),this},t.adjustContrast=function(t){return 0==t||isNaN(t)||(e=(t=this._cleanValue(t,100))<0?127+t/100*127:127*(e=0==(e=t%1)?s.DELTA_INDEX[t]:s.DELTA_INDEX[t<<0]*(1-e)+s.DELTA_INDEX[1+(t<<0)]*e)+127,this._multiplyMatrix([e/127,0,0,0,.5*(127-e),0,e/127,0,0,.5*(127-e),0,0,e/127,0,.5*(127-e),0,0,0,1,0,0,0,0,0,1])),this;var e},t.adjustSaturation=function(t){if(0==t||isNaN(t))return this;var e=1+(0<(t=this._cleanValue(t,100))?3*t/100:t/100);return this._multiplyMatrix([.3086*(1-e)+e,.6094*(1-e),.082*(1-e),0,0,.3086*(1-e),.6094*(1-e)+e,.082*(1-e),0,0,.3086*(1-e),.6094*(1-e),.082*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),i=Math.sin(t),s=.213,r=.715,n=.072;return this._multiplyMatrix([s+.787*e+i*-s,r+e*-r+i*-r,n+e*-n+.928*i,0,0,s+e*-s+.143*i,r+e*(1-r)+.14*i,n+e*-n+-.283*i,0,0,s+e*-s+-.787*i,r+e*-r+i*r,n+.928*e+i*n,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return(t=this._fixMatrix(t)).length!=s.LENGTH||this._multiplyMatrix(t),this},t.clone=function(){return(new s).copy(this)},t.toArray=function(){for(var t=[],e=0,i=s.LENGTH;e<i;e++)t[e]=this[e];return t},t.copy=function(t){for(var e=s.LENGTH,i=0;i<e;i++)this[i]=t[i];return this},t.toString=function(){return\"[ColorMatrix]\"},t._multiplyMatrix=function(t){for(var e,i=[],s=0;s<5;s++){for(e=0;e<5;e++)i[e]=this[e+5*s];for(e=0;e<5;e++){for(var r=0,n=0;n<5;n++)r+=t[e+5*n]*i[n];this[e+5*s]=r}}},t._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},t._fixMatrix=function(t){return t instanceof s&&(t=t.toArray()),t.length<s.LENGTH?t=t.slice(0,t.length).concat(s.IDENTITY_MATRIX.slice(t.length,s.LENGTH)):t.length>s.LENGTH&&(t=t.slice(0,s.LENGTH)),t},createjs.ColorMatrix=s}(),function(){\"use strict\";function t(t){this.Filter_constructor(),this.matrix=t,this.FRAG_SHADER_BODY=\"uniform mat4 uColorMatrix;uniform vec4 uColorMatrixOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);mat4 m = uColorMatrix;vec4 newColor = vec4(0,0,0,0);newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];gl_FragColor = newColor + uColorMatrixOffset;}\"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){var s=this.matrix,r=new Float32Array([s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]]);t.uniformMatrix4fv(t.getUniformLocation(i,\"uColorMatrix\"),!1,r),t.uniform4f(t.getUniformLocation(i,\"uColorMatrixOffset\"),s[4]/255,s[9]/255,s[14]/255,s[19]/255)},e.toString=function(){return\"[ColorMatrixFilter]\"},e.clone=function(){return new t(this.matrix)},e._applyFilter=function(t){for(var e,i,s,r,n=t.data,a=n.length,o=this.matrix,h=o[0],c=o[1],u=o[2],l=o[3],d=o[4],_=o[5],p=o[6],f=o[7],g=o[8],m=o[9],v=o[10],T=o[11],b=o[12],E=o[13],y=o[14],S=o[15],x=o[16],w=o[17],R=o[18],A=o[19],P=0;P<a;P+=4)e=n[P],i=n[P+1],s=n[P+2],r=n[P+3],n[P]=e*h+i*c+s*u+r*l+d,n[P+1]=e*_+i*p+s*f+r*g+m,n[P+2]=e*v+i*T+s*b+r*E+y,n[P+3]=e*S+i*x+s*w+r*R+A;return!0},createjs.ColorMatrixFilter=createjs.promote(t,\"Filter\")}(),function(){\"use strict\";function s(){throw\"Touch cannot be instantiated\"}s.isSupported=function(){return!!(\"ontouchstart\"in window||window.MSPointerEvent&&0<window.navigator.msMaxTouchPoints||window.PointerEvent&&0<window.navigator.maxTouchPoints)},s.enable=function(t,e,i){return!!(t&&t.canvas&&s.isSupported())&&(t.__touch||(t.__touch={pointers:{},multitouch:!e,preventDefault:!i,count:0},\"ontouchstart\"in window?s._IOS_enable(t):(window.PointerEvent||window.MSPointerEvent)&&s._IE_enable(t)),!0)},s.disable=function(t){t&&(\"ontouchstart\"in window?s._IOS_disable(t):(window.PointerEvent||window.MSPointerEvent)&&s._IE_disable(t),delete t.__touch)},s._IOS_enable=function(e){var t=e.canvas,i=e.__touch.f=function(t){s._IOS_handleEvent(e,t)};t.addEventListener(\"touchstart\",i,!1),t.addEventListener(\"touchmove\",i,!1),t.addEventListener(\"touchend\",i,!1),t.addEventListener(\"touchcancel\",i,!1)},s._IOS_disable=function(t){var e,i=t.canvas;i&&(e=t.__touch.f,i.removeEventListener(\"touchstart\",e,!1),i.removeEventListener(\"touchmove\",e,!1),i.removeEventListener(\"touchend\",e,!1),i.removeEventListener(\"touchcancel\",e,!1))},s._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var i=e.changedTouches,s=e.type,r=0,n=i.length;r<n;r++){var a=i[r],o=a.identifier;a.target==t.canvas&&(\"touchstart\"===s?this._handleStart(t,o,e,a.pageX,a.pageY):\"touchmove\"===s?this._handleMove(t,o,e,a.pageX,a.pageY):\"touchend\"!==s&&\"touchcancel\"!==s||this._handleEnd(t,o,e))}}},s._IE_enable=function(e){var t=e.canvas,i=e.__touch.f=function(t){s._IE_handleEvent(e,t)};t.style[\"-webkit-tap-highlight-color\"]=\"transparent\",void 0===window.PointerEvent?(t.addEventListener(\"MSPointerDown\",i,!1),window.addEventListener(\"MSPointerMove\",i,!1),window.addEventListener(\"MSPointerUp\",i,!1),window.addEventListener(\"MSPointerCancel\",i,!1),e.__touch.preventDefault&&(t.style.msTouchAction=\"none\")):(t.addEventListener(\"pointerdown\",i,!1),window.addEventListener(\"pointermove\",i,!1),window.addEventListener(\"pointerup\",i,!1),window.addEventListener(\"pointercancel\",i,!1),e.__touch.preventDefault&&(t.style.touchAction=\"none\")),e.__touch.activeIDs={}},s._IE_disable=function(t){var e=t.__touch.f;void 0===window.PointerEvent?(window.removeEventListener(\"MSPointerMove\",e,!1),window.removeEventListener(\"MSPointerUp\",e,!1),window.removeEventListener(\"MSPointerCancel\",e,!1),t.canvas&&t.canvas.removeEventListener(\"MSPointerDown\",e,!1)):(window.removeEventListener(\"pointermove\",e,!1),window.removeEventListener(\"pointerup\",e,!1),window.removeEventListener(\"pointercancel\",e,!1),t.canvas&&t.canvas.removeEventListener(\"pointerdown\",e,!1))},s._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var i=e.type,s=e.pointerId,r=t.__touch.activeIDs;if(\"MSPointerDown\"===i||\"pointerdown\"===i){if(e.srcElement!=t.canvas)return;switch(r[s]=!0,this._handleStart(t,s,e,e.pageX,e.pageY),e.pointerType){case\"mouse\":t.enableDOMEvents(!0);break;case\"touch\":t.enableDOMEvents(!1)}}else r[s]&&(\"MSPointerMove\"===i||\"pointermove\"===i?this._handleMove(t,s,e,e.pageX,e.pageY):\"MSPointerUp\"!==i&&\"MSPointerCancel\"!==i&&\"pointerup\"!==i&&\"pointercancel\"!==i||(delete r[s],this._handleEnd(t,s,e)))}},s._handleStart=function(t,e,i,s,r){var n,a=t.__touch;!a.multitouch&&a.count||((n=a.pointers)[e]||(n[e]=!0,a.count++,t._handlePointerDown(e,i,s,r)))},s._handleMove=function(t,e,i,s,r){t.__touch.pointers[e]&&t._handlePointerMove(e,i,s,r)},s._handleEnd=function(t,e,i){var s=t.__touch,r=s.pointers;r[e]&&(s.count--,t._handlePointerUp(e,i,!0),delete r[e])},createjs.Touch=s}(),function(){\"use strict\";var t=createjs.EaselJS=createjs.EaselJS||{};t.version=\"1.0.0\",t.buildDate=\"Thu, 12 Oct 2017 16:34:05 GMT\"}(),function(){\"use strict\";var t=createjs.PreloadJS=createjs.PreloadJS||{};t.version=\"NEXT\",t.buildDate=\"Thu, 14 Sep 2017 22:19:45 GMT\"}(),function(){\"use strict\";createjs.proxy=function(t,e){var i=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(i))}}}(),function(){\"use strict\";function t(t,e,i){this.Event_constructor(\"error\"),this.title=t,this.message=e,this.data=i}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,\"Event\")}(),function(){\"use strict\";function t(t,e){this.Event_constructor(\"progress\"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,\"Event\")}(window),function(){var t,e,i,s,r= true&&__webpack_require__(/*! !webpack amd options */ \"PDX0\"),k={function:!0,object:!0},n=k[typeof exports]&&exports&&!exports.nodeType&&exports,B=k[typeof window]&&window||this,a=n&&k[typeof module]&&module&&!module.nodeType&&\"object\"==typeof global&&global;function U(t,h){t=t||B.Object(),h=h||B.Object();var c=t.Number||B.Number,u=t.String||B.String,e=t.Object||B.Object,l=t.Date||B.Date,i=t.SyntaxError||B.SyntaxError,S=t.TypeError||B.TypeError,s=t.Math||B.Math,r=t.JSON||B.JSON;\"object\"==typeof r&&r&&(h.stringify=r.stringify,h.parse=r.parse);var x,w,R,d,A,P,L,o,j,n,C,_,I,D,M,p,f,g,m,v,a,T,b,E,y=e.prototype,O=y.toString,F=new l(-0xc782b5b800cec);try{F=-109252==F.getUTCFullYear()&&0===F.getUTCMonth()&&1===F.getUTCDate()&&10==F.getUTCHours()&&37==F.getUTCMinutes()&&6==F.getUTCSeconds()&&708==F.getUTCMilliseconds()}catch(t){}function N(t){if(N[t]!==R)return N[t];var e;if(\"bug-string-char-index\"==t)e=\"a\"!=\"a\"[0];else if(\"json\"==t)e=N(\"json-stringify\")&&N(\"json-parse\");else{var i,s='{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';if(\"json-stringify\"==t){var r=h.stringify,n=\"function\"==typeof r&&F;if(n){(i=function(){return 1}).toJSON=i;try{n=\"0\"===r(0)&&\"0\"===r(new c)&&'\"\"'==r(new u)&&r(O)===R&&r(R)===R&&r()===R&&\"1\"===r(i)&&\"[1]\"==r([i])&&\"[null]\"==r([R])&&\"null\"==r(null)&&\"[null,null,null]\"==r([R,O,null])&&r({a:[i,!0,!1,null,\"\\0\\b\\n\\f\\r\\t\"]})==s&&\"1\"===r(null,i)&&\"[\\n 1,\\n 2\\n]\"==r([1,2],null,1)&&'\"-271821-04-20T00:00:00.000Z\"'==r(new l(-864e13))&&'\"+275760-09-13T00:00:00.000Z\"'==r(new l(864e13))&&'\"-000001-01-01T00:00:00.000Z\"'==r(new l(-621987552e5))&&'\"1969-12-31T23:59:59.999Z\"'==r(new l(-1))}catch(t){n=!1}}e=n}if(\"json-parse\"==t){var a=h.parse;if(\"function\"==typeof a)try{if(0===a(\"0\")&&!a(!1)){var o=5==(i=a(s)).a.length&&1===i.a[0];if(o){try{o=!a('\"\\t\"')}catch(t){}if(o)try{o=1!==a(\"01\")}catch(t){}if(o)try{o=1!==a(\"1.\")}catch(t){}}}}catch(t){o=!1}e=o}}return N[t]=!!e}return N(\"json\")||(d=\"[object Function]\",A=\"[object Number]\",P=\"[object String]\",L=\"[object Array]\",o=N(\"bug-string-char-index\"),F||(j=s.floor,n=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(t,e){return n[e]+365*(t-1970)+j((t-1969+(e=+(1<e)))/4)-j((t-1901+e)/100)+j((t-1601+e)/400)}),(x=y.hasOwnProperty)||(x=function(t){var i,e={__proto__:{toString:1}};return x=e.toString!=O?function(t){var e=this.__proto__,i=t in(this.__proto__=null,this);return this.__proto__=e,i}:(i=e.constructor,function(t){var e=(this.constructor||i).prototype;return t in this&&!(t in e&&this[t]===e[t])}),e=null,x.call(this,t)}),w=function(t,e){var i,a,s,r=0;for(s in(i=function(){this.valueOf=0}).prototype.valueOf=0,a=new i)x.call(a,s)&&r++;return i=a=null,(w=r?2==r?function(t,e){var i,s={},r=O.call(t)==d;for(i in t)r&&\"prototype\"==i||x.call(s,i)||!(s[i]=1)||!x.call(t,i)||e(i)}:function(t,e){var i,s,r=O.call(t)==d;for(i in t)r&&\"prototype\"==i||!x.call(t,i)||(s=\"constructor\"===i)||e(i);(s||x.call(t,i=\"constructor\"))&&e(i)}:(a=[\"valueOf\",\"toString\",\"toLocaleString\",\"propertyIsEnumerable\",\"isPrototypeOf\",\"hasOwnProperty\",\"constructor\"],function(t,e){var i,s,r=O.call(t)==d,n=!r&&\"function\"!=typeof t.constructor&&k[typeof t.hasOwnProperty]&&t.hasOwnProperty||x;for(i in t)r&&\"prototype\"==i||!n.call(t,i)||e(i);for(s=a.length;i=a[--s];n.call(t,i)&&e(i));}))(t,e)},N(\"json-stringify\")||(_={92:\"\\\\\\\\\",34:'\\\\\"',8:\"\\\\b\",12:\"\\\\f\",10:\"\\\\n\",13:\"\\\\r\",9:\"\\\\t\"},I=function(t,e){return(\"000000\"+(e||0)).slice(-t)},D=function(t){for(var e='\"',i=0,s=t.length,r=!o||10<s,n=r&&(o?t.split(\"\"):t);i<s;i++){var a=t.charCodeAt(i);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=_[a];break;default:if(a<32){e+=\"\\\\u00\"+I(2,a.toString(16));break}e+=r?n[i]:t.charAt(i)}}return e+'\"'},M=function(t,e,i,s,r,n,a){var o,h,c,u,l,d,_,p,f,g,m,v,T,b,E,y;try{o=e[t]}catch(t){}if(\"object\"==typeof o&&o)if(\"[object Date]\"!=(h=O.call(o))||x.call(o,\"toJSON\"))\"function\"==typeof o.toJSON&&(h!=A&&h!=P&&h!=L||x.call(o,\"toJSON\"))&&(o=o.toJSON(t));else if(-1/0<o&&o<1/0){if(C){for(l=j(o/864e5),c=j(l/365.2425)+1970-1;C(c+1,0)<=l;c++);for(u=j((l-C(c,0))/30.42);C(c,u+1)<=l;u++);l=1+l-C(c,u),_=j((d=(o%864e5+864e5)%864e5)/36e5)%24,p=j(d/6e4)%60,f=j(d/1e3)%60,g=d%1e3}else c=o.getUTCFullYear(),u=o.getUTCMonth(),l=o.getUTCDate(),_=o.getUTCHours(),p=o.getUTCMinutes(),f=o.getUTCSeconds(),g=o.getUTCMilliseconds();o=(c<=0||1e4<=c?(c<0?\"-\":\"+\")+I(6,c<0?-c:c):I(4,c))+\"-\"+I(2,u+1)+\"-\"+I(2,l)+\"T\"+I(2,_)+\":\"+I(2,p)+\":\"+I(2,f)+\".\"+I(3,g)+\"Z\"}else o=null;if(i&&(o=i.call(e,t,o)),null===o)return\"null\";if(\"[object Boolean]\"==(h=O.call(o)))return\"\"+o;if(h==A)return-1/0<o&&o<1/0?\"\"+o:\"null\";if(h==P)return D(\"\"+o);if(\"object\"==typeof o){for(b=a.length;b--;)if(a[b]===o)throw S();if(a.push(o),m=[],E=n,n+=r,h==L){for(T=0,b=o.length;T<b;T++)v=M(T,o,i,s,r,n,a),m.push(v===R?\"null\":v);y=m.length?r?\"[\\n\"+n+m.join(\",\\n\"+n)+\"\\n\"+E+\"]\":\"[\"+m.join(\",\")+\"]\":\"[]\"}else w(s||o,function(t){var e=M(t,o,i,s,r,n,a);e!==R&&m.push(D(t)+\":\"+(r?\" \":\"\")+e)}),y=m.length?r?\"{\\n\"+n+m.join(\",\\n\"+n)+\"\\n\"+E+\"}\":\"{\"+m.join(\",\")+\"}\":\"{}\";return a.pop(),y}},h.stringify=function(t,e,i){var s,r,n,a;if(k[typeof e]&&e)if((a=O.call(e))==d)r=e;else if(a==L){n={};for(var o,h=0,c=e.length;h<c;o=e[h++],(a=O.call(o))!=P&&a!=A||(n[o]=1));}if(i)if((a=O.call(i))==A){if(0<(i-=i%1))for(s=\"\",10<i&&(i=10);s.length<i;s+=\" \");}else a==P&&(s=i.length<=10?i:i.slice(0,10));return M(\"\",((o={})[\"\"]=t,o),r,n,s,\"\",[])}),N(\"json-parse\")||(p=u.fromCharCode,f={92:\"\\\\\",34:'\"',47:\"/\",98:\"\\b\",116:\"\\t\",110:\"\\n\",102:\"\\f\",114:\"\\r\"},v=function(){throw g=m=null,i()},a=function(){for(var t,e,i,s,r,n=m,a=n.length;g<a;)switch(r=n.charCodeAt(g)){case 9:case 10:case 13:case 32:g++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=o?n.charAt(g):n[g],g++,t;case 34:for(t=\"@\",g++;g<a;)if((r=n.charCodeAt(g))<32)v();else if(92==r)switch(r=n.charCodeAt(++g)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=f[r],g++;break;case 117:for(e=++g,i=g+4;g<i;g++)48<=(r=n.charCodeAt(g))&&r<=57||97<=r&&r<=102||65<=r&&r<=70||v();t+=p(\"0x\"+n.slice(e,g));break;default:v()}else{if(34==r)break;for(r=n.charCodeAt(g),e=g;32<=r&&92!=r&&34!=r;)r=n.charCodeAt(++g);t+=n.slice(e,g)}if(34==n.charCodeAt(g))return g++,t;v();default:if(e=g,45==r&&(s=!0,r=n.charCodeAt(++g)),48<=r&&r<=57){for(48==r&&(48<=(r=n.charCodeAt(g+1))&&r<=57)&&v(),s=!1;g<a&&(48<=(r=n.charCodeAt(g))&&r<=57);g++);if(46==n.charCodeAt(g)){for(i=++g;i<a&&(48<=(r=n.charCodeAt(i))&&r<=57);i++);i==g&&v(),g=i}if(101==(r=n.charCodeAt(g))||69==r){for(43!=(r=n.charCodeAt(++g))&&45!=r||g++,i=g;i<a&&(48<=(r=n.charCodeAt(i))&&r<=57);i++);i==g&&v(),g=i}return+n.slice(e,g)}if(s&&v(),\"true\"==n.slice(g,g+4))return g+=4,!0;if(\"false\"==n.slice(g,g+5))return g+=5,!1;if(\"null\"==n.slice(g,g+4))return g+=4,null;v()}return\"$\"},T=function(t){var e,i;if(\"$\"==t&&v(),\"string\"==typeof t){if(\"@\"==(o?t.charAt(0):t[0]))return t.slice(1);if(\"[\"==t){for(e=[];\"]\"!=(t=a());i=i||!0)!i||\",\"==t&&\"]\"!=(t=a())||v(),\",\"==t&&v(),e.push(T(t));return e}if(\"{\"==t){for(e={};\"}\"!=(t=a());i=i||!0)!i||\",\"==t&&\"}\"!=(t=a())||v(),\",\"!=t&&\"string\"==typeof t&&\"@\"==(o?t.charAt(0):t[0])&&\":\"==a()||v(),e[t.slice(1)]=T(a());return e}v()}return t},b=function(t,e,i){var s=E(t,e,i);s===R?delete t[e]:t[e]=s},E=function(t,e,i){var s,r=t[e];if(\"object\"==typeof r&&r)if(O.call(r)==L)for(s=r.length;s--;)b(r,s,i);else w(r,function(t){b(r,t,i)});return i.call(t,e,r)},h.parse=function(t,e){var i,s;return g=0,m=\"\"+t,i=T(a()),\"$\"!=a()&&v(),g=m=null,e&&O.call(e)==d?E(((s={})[\"\"]=i,s),\"\",e):i})),h.runInContext=U,h}!a||a.global!==a&&a.window!==a&&a.self!==a||(B=a),n&&!r?U(B,n):(t=B.JSON,e=B.JSON3,i=!1,s=U(B,B.JSON3={noConflict:function(){return i||(i=!0,B.JSON=t,B.JSON3=e,t=e=null),s}}),B.JSON={parse:s.parse,stringify:s.stringify}),r&&!(__WEBPACK_AMD_DEFINE_RESULT__ = (function(){return s}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))}.call(this),function(){var t={a:function(){return t.el(\"a\")},svg:function(){return t.el(\"svg\")},object:function(){return t.el(\"object\")},image:function(){return t.el(\"image\")},img:function(){return t.el(\"img\")},style:function(){return t.el(\"style\")},link:function(){return t.el(\"link\")},script:function(){return t.el(\"script\")},audio:function(){return t.el(\"audio\")},video:function(){return t.el(\"video\")},text:function(t){return document.createTextNode(t)},el:function(t){return document.createElement(t)}};createjs.Elements=t}(),function(){var a={ABSOLUTE_PATT:/^(?:\\w+:)?\\/{2}/i,RELATIVE_PATT:/^[./]*?\\//i,EXTENSION_PATT:/\\/?[^/]+\\.(\\w{1,5})$/i,parseURI:function(t){var e={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==t)return e;var i=createjs.Elements.a();for(var s in i.href=t,e)s in i&&(e[s]=i[s]);var r,n=t.indexOf(\"?\");return-1<n&&(t=t.substr(0,n)),a.ABSOLUTE_PATT.test(t)?e.absolute=!0:a.RELATIVE_PATT.test(t)&&(e.relative=!0),(r=t.match(a.EXTENSION_PATT))&&(e.extension=r[1].toLowerCase()),e},formatQueryString:function(t,e){if(null==t)throw new Error(\"You must specify data.\");var i=[];for(var s in t)i.push(s+\"=\"+escape(t[s]));return e&&(i=i.concat(e)),i.join(\"&\")},buildURI:function(t,e){if(null==e)return t;var i,s=[],r=t.indexOf(\"?\");return-1!=r&&(i=t.slice(r+1),s=s.concat(i.split(\"&\"))),-1!=r?t.slice(0,r)+\"?\"+this.formatQueryString(e,s):t+\"?\"+this.formatQueryString(e,s)},isCrossDomain:function(t){var e=createjs.Elements.a();e.href=t.src;var i=createjs.Elements.a();return i.href=location.href,\"\"!=e.hostname&&(e.port!=i.port||e.protocol!=i.protocol||e.hostname!=i.hostname)},isLocal:function(t){var e=createjs.Elements.a();return e.href=t.src,\"\"==e.hostname&&\"file:\"==e.protocol}};createjs.URLUtils=a}(),function(){var i={container:null,appendToHead:function(t){i.getHead().appendChild(t)},appendToBody:function(t){var e;null==i.container&&(i.container=document.createElement(\"div\"),i.container.id=\"preloadjs-container\",(e=i.container.style).visibility=\"hidden\",e.position=\"absolute\",e.width=i.container.style.height=\"10px\",e.overflow=\"hidden\",e.transform=e.msTransform=e.webkitTransform=e.oTransform=\"translate(-10px, -10px)\",i.getBody().appendChild(i.container)),i.container.appendChild(t)},getHead:function(){return document.head||document.getElementsByTagName(\"head\")[0]},getBody:function(){return document.body||document.getElementsByTagName(\"body\")[0]},removeChild:function(t){t.parent&&t.parent.removeChild(t)},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement}};createjs.DomUtils=i}(),function(){var t={parseXML:function(t){var e=null;try{window.DOMParser&&(e=(new DOMParser).parseFromString(t,\"text/xml\"))}catch(t){}if(!e)try{(e=new ActiveXObject(\"Microsoft.XMLDOM\")).async=!1,e.loadXML(t)}catch(t){e=null}return e},parseJSON:function(t){if(null==t)return null;try{return JSON.parse(t)}catch(t){throw t}}};createjs.DataUtils=t}(),function(){var t={BINARY:\"binary\",CSS:\"css\",FONT:\"font\",FONTCSS:\"fontcss\",IMAGE:\"image\",JAVASCRIPT:\"javascript\",JSON:\"json\",JSONP:\"jsonp\",MANIFEST:\"manifest\",SOUND:\"sound\",VIDEO:\"video\",SPRITESHEET:\"spritesheet\",SVG:\"svg\",TEXT:\"text\",XML:\"xml\"};createjs.Types=t}(),function(){var t={POST:\"POST\",GET:\"GET\"};createjs.Methods=t}(),function(){\"use strict\";function i(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=s.LOAD_TIMEOUT_DEFAULT}var t=i.prototype={},s=i;s.LOAD_TIMEOUT_DEFAULT=8e3,s.create=function(t){if(\"string\"==typeof t){var e=new i;return e.src=t,e}if(t instanceof s)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=s.LOAD_TIMEOUT_DEFAULT),t;throw new Error(\"Type not recognized.\")},t.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=s}(),function(){var t={isBinary:function(t){switch(t){case createjs.Types.IMAGE:case createjs.Types.BINARY:return!0;default:return!1}},isText:function(t){switch(t){case createjs.Types.TEXT:case createjs.Types.JSON:case createjs.Types.MANIFEST:case createjs.Types.XML:case createjs.Types.CSS:case createjs.Types.SVG:case createjs.Types.JAVASCRIPT:case createjs.Types.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return createjs.Types.TEXT;switch(t.toLowerCase()){case\"jpeg\":case\"jpg\":case\"gif\":case\"png\":case\"webp\":case\"bmp\":return createjs.Types.IMAGE;case\"ogg\":case\"mp3\":case\"webm\":return createjs.Types.SOUND;case\"mp4\":case\"webm\":case\"ts\":return createjs.Types.VIDEO;case\"json\":return createjs.Types.JSON;case\"xml\":return createjs.Types.XML;case\"css\":return createjs.Types.CSS;case\"js\":return createjs.Types.JAVASCRIPT;case\"svg\":return createjs.Types.SVG;default:return createjs.Types.TEXT}}};createjs.RequestUtils=t}(),function(){\"use strict\";function t(t,e,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),i=t;try{Object.defineProperties(i,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},\"AbstractLoader.POST\")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},\"AbstractLoader.GET\")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},\"AbstractLoader.BINARY\")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},\"AbstractLoader.CSS\")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},\"AbstractLoader.FONT\")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},\"AbstractLoader.FONTCSS\")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},\"AbstractLoader.IMAGE\")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},\"AbstractLoader.JAVASCRIPT\")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},\"AbstractLoader.JSON\")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},\"AbstractLoader.JSONP\")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},\"AbstractLoader.MANIFEST\")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},\"AbstractLoader.SOUND\")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},\"AbstractLoader.VIDEO\")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},\"AbstractLoader.SPRITESHEET\")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},\"AbstractLoader.SVG\")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},\"AbstractLoader.TEXT\")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},\"AbstractLoader.XML\")}})}catch(t){}e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on(\"complete\",this,this),this._request.on(\"progress\",this,this),this._request.on(\"loadStart\",this,this),this._request.on(\"abort\",this,this),this._request.on(\"timeout\",this,this),this._request.on(\"error\",this,this);var t=new createjs.Event(\"initialize\");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent(\"loadstart\")},e._sendProgress=function(t){var e;this._isCanceled()||(e=null,\"number\"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,!isNaN(this.progress)&&this.progress!=1/0||(this.progress=0)),this.hasEventListener(\"progress\")&&this.dispatchEvent(e))},e._sendComplete=function(){var t;this._isCanceled()||(this.loaded=!0,(t=new createjs.Event(\"complete\")).rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t))},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener(\"error\")&&(null==t&&(t=new createjs.ErrorEvent(\"PRELOAD_ERROR_EMPTY\")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case\"complete\":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case\"progress\":this._sendProgress(t);break;case\"error\":this._sendError(t);break;case\"loadstart\":this._sendLoadStart();break;case\"abort\":case\"timeout\":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent(\"PRELOAD_\"+t.type.toUpperCase()+\"_ERROR\"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.toString=function(){return\"[PreloadJS AbstractLoader]\"},createjs.AbstractLoader=createjs.promote(t,\"EventDispatcher\")}(),function(){\"use strict\";function t(t,e,i){this.AbstractLoader_constructor(t,e,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"src\",this.on(\"initialize\",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload=\"auto\",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType(\"blob\")},e._formatResult=function(t){var e,i;return this._tag.removeEventListener&&this._tag.removeEventListener(\"canplaythrough\",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(e=window.URL||window.webkitURL,i=t.getResult(!0),t.getTag().src=e.createObjectURL(i)),t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t){this._item=t}var e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,\"EventDispatcher\")}(),function(){\"use strict\";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event(\"initialize\");t.loader=this._tag,this.dispatchEvent(t),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;\"loaded\"!=t.readyState&&\"complete\"!=t.readyState||this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent(\"error\")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent(\"complete\")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event(\"timeout\"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,\"AbstractRequest\")}(),function(){\"use strict\";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener(\"stalled\",t),this._tag.addEventListener(\"progress\",e),this._tag.addEventListener&&this._tag.addEventListener(\"canplaythrough\",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;\"loaded\"!=t.readyState&&\"complete\"!=t.readyState||this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){var e;!t||0<t.loaded&&0==t.total||(e=new createjs.ProgressEvent(t.loaded,t.total),this.dispatchEvent(e))},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener(\"canplaythrough\",this._loadedHandler),this._tag.removeEventListener(\"stalled\",this._stalledCallback),this._tag.removeEventListener(\"progress\",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,\"TagRequest\")}(),function(){\"use strict\";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=[\"Msxml2.XMLHTTP.6.0\",\"Msxml2.XMLHTTP.5.0\",\"Msxml2.XMLHTTP.4.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener(\"loadstart\",this._handleLoadStartProxy,!1),this._request.addEventListener(\"progress\",this._handleProgressProxy,!1),this._request.addEventListener(\"abort\",this._handleAbortProxy,!1),this._request.addEventListener(\"error\",this._handleErrorProxy,!1),this._request.addEventListener(\"timeout\",this._handleTimeoutProxy,!1),this._request.addEventListener(\"load\",this._handleLoadProxy,!1),this._request.addEventListener(\"readystatechange\",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent(\"XHR_SEND\",null,t))}}else this._handleError()},e.setResponseType=function(t){\"blob\"===t&&(t=window.URL?\"blob\":\"arraybuffer\",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){var e;!t||0<t.loaded&&0==t.total||(e=new createjs.ProgressEvent(t.loaded,t.total),this.dispatchEvent(e))},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent(\"loadstart\")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(\"XHR_ABORTED\",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e,i=this._checkError();if(i)this._handleError(i);else{if(this._response=this._getResponse(),\"arraybuffer\"===this._responseType)try{this._response=new Blob([this._response])}catch(t){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,\"TypeError\"===t.name&&window.BlobBuilder&&((e=new BlobBuilder).append(this._response),this._response=e.getBlob())}this._clean(),this.dispatchEvent(new createjs.Event(\"complete\"))}}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(\"PRELOAD_TIMEOUT\",null,t))},e._checkError=function(){var t=parseInt(this._request.status);return 400<=t&&t<=599?new Error(t):0==t&&/^https?:/.test(location.protocol)?new Error(0):null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.URLUtils.isCrossDomain(t),i={},r=null;if(window.XMLHttpRequest)r=new XMLHttpRequest,e&&void 0===r.withCredentials&&window.XDomainRequest&&(r=new XDomainRequest);else{for(var n=0,a=s.ACTIVEX_VERSIONS.length;n<a;n++){var o=s.ACTIVEX_VERSIONS[n];try{r=new ActiveXObject(o);break}catch(t){}}if(null==r)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType=\"text/plain; charset=utf-8\"),t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),this._xhrLevel=\"string\"==typeof r.responseType?2:1;var h=null,h=t.method==createjs.Methods.GET?createjs.URLUtils.buildURI(t.src,t.values):t.src;if(r.open(t.method||createjs.Methods.GET,h,!0),e&&r instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),t.values&&t.method==createjs.Methods.POST&&(i[\"Content-Type\"]=\"application/x-www-form-urlencoded\"),e||i[\"X-Requested-With\"]||(i[\"X-Requested-With\"]=\"XMLHttpRequest\"),t.headers)for(var c in t.headers)i[c]=t.headers[c];for(c in i)r.setRequestHeader(c,i[c]);return r instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(r.withCredentials=t.withCredentials),this._request=r,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener(\"loadstart\",this._handleLoadStartProxy),this._request.removeEventListener(\"progress\",this._handleProgressProxy),this._request.removeEventListener(\"abort\",this._handleAbortProxy),this._request.removeEventListener(\"error\",this._handleErrorProxy),this._request.removeEventListener(\"timeout\",this._handleTimeoutProxy),this._request.removeEventListener(\"load\",this._handleLoadProxy),this._request.removeEventListener(\"readystatechange\",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return\"[PreloadJS XHRRequest]\"},createjs.XHRRequest=createjs.promote(t,\"AbstractRequest\")}(),function(){\"use strict\";function t(t,e,i){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.FontLoader,createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(t,e,i)}var e=createjs.extend(t,createjs.AbstractLoader),h=t;try{Object.defineProperties(h,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},\"AbstractLoader.POST\")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},\"AbstractLoader.GET\")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},\"AbstractLoader.BINARY\")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},\"AbstractLoader.CSS\")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},\"AbstractLoader.FONT\")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},\"AbstractLoader.FONTCSS\")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},\"AbstractLoader.IMAGE\")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},\"AbstractLoader.JAVASCRIPT\")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},\"AbstractLoader.JSON\")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},\"AbstractLoader.JSONP\")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},\"AbstractLoader.MANIFEST\")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},\"AbstractLoader.SOUND\")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},\"AbstractLoader.VIDEO\")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},\"AbstractLoader.SPRITESHEET\")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},\"AbstractLoader.SVG\")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},\"AbstractLoader.TEXT\")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},\"AbstractLoader.XML\")}})}catch(t){}e.init=function(t,e,i){this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(t),this._paused=!1,this._basePath=e,this._crossOrigin=i,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},e.registerLoader=function(t){if(!t||!t.canLoadItem)throw new Error(\"loader is of an incorrect type.\");if(-1!=this._availableLoaders.indexOf(t))throw new Error(\"loader already exists.\");this._availableLoaders.unshift(t)},e.unregisterLoader=function(t){var e=this._availableLoaders.indexOf(t);-1!=e&&e<this._defaultLoaderLength-1&&this._availableLoaders.splice(e,1)},e.setPreferXHR=function(t){return this.preferXHR=0!=t&&null!=window.XMLHttpRequest,this.preferXHR},e.removeAll=function(){this.remove()},e.remove=function(t){var e=null;if(t&&!Array.isArray(t))e=[t];else if(t)e=t;else if(0<arguments.length)return;var i=!1;if(e){for(;e.length;){for(var s=e.pop(),r=this.getResult(s),n=this._loadQueue.length-1;0<=n;n--)if((a=this._loadQueue[n].getItem()).id==s||a.src==s){this._loadQueue.splice(n,1)[0].cancel();break}for(n=this._loadQueueBackup.length-1;0<=n;n--)if((a=this._loadQueueBackup[n].getItem()).id==s||a.src==s){this._loadQueueBackup.splice(n,1)[0].cancel();break}if(r)this._disposeItem(this.getItem(s));else for(var n=this._currentLoads.length-1;0<=n;n--){var a=this._currentLoads[n].getItem();if(a.id==s||a.src==s){this._currentLoads.splice(n,1)[0].cancel(),i=!0;break}}}i&&this._loadNext()}else{for(var o in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}},e.reset=function(){for(var t in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(var e=[],i=0,s=this._loadQueueBackup.length;i<s;i++)e.push(this._loadQueueBackup[i].getItem());this.loadManifest(e,!1)},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){this._plugins.push(t);var e=t.getPreloadHandlers();if(e.scope=t,null!=e.types)for(var i=0,s=e.types.length;i<s;i++)this._typeCallbacks[e.types[i]]=e;if(null!=e.extensions)for(i=0,s=e.extensions.length;i<s;i++)this._extensionCallbacks[e.extensions[i]]=e}},e.setMaxConnections=function(t){this._maxConnections=t,!this._paused&&0<this._loadQueue.length&&this._loadNext()},e.loadFile=function(t,e,i){var s;null!=t?(this._addItem(t,null,i),!1!==e?this.setPaused(!1):this.setPaused(!0)):(s=new createjs.ErrorEvent(\"PRELOAD_NO_FILE\"),this._sendError(s))},e.loadManifest=function(t,e,i){var s=null,r=null;if(Array.isArray(t)){if(0==t.length){var n=new createjs.ErrorEvent(\"PRELOAD_MANIFEST_EMPTY\");return void this._sendError(n)}s=t}else if(\"string\"==typeof t)s=[{src:t,type:h.MANIFEST}];else{if(\"object\"!=typeof t){n=new createjs.ErrorEvent(\"PRELOAD_MANIFEST_NULL\");return void this._sendError(n)}void 0!==t.src?(null==t.type?t.type=h.MANIFEST:t.type!=h.MANIFEST&&(n=new createjs.ErrorEvent(\"PRELOAD_MANIFEST_TYPE\"),this._sendError(n)),s=[t]):void 0!==t.manifest&&(s=t.manifest,r=t.path)}for(var a=0,o=s.length;a<o;a++)this._addItem(s[a],r,i);!1!==e?this.setPaused(!1):this.setPaused(!0)},e.load=function(){this.setPaused(!1)},e.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},e.getResult=function(t,e){var i=this._loadItemsById[t]||this._loadItemsBySrc[t];if(null==i)return null;var s=i.id;return e&&this._loadedRawResults[s]?this._loadedRawResults[s]:this._loadedResults[s]},e.getItems=function(t){var e=[];for(var i in this._loadItemsById){var s=this._loadItemsById[i],r=this.getResult(i);!0===t&&null==r||e.push({item:s,result:r,rawResult:this.getResult(i,!0)})}return e},e.setPaused=function(t){this._paused=t,this._paused||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},e._addItem=function(t,e,i){var s,r=this._createLoadItem(t,e,i);null==r||null!=(s=this._createLoader(r))&&(\"plugins\"in s&&(s.plugins=this._plugins),r._loader=s,this._loadQueue.push(s),this._loadQueueBackup.push(s),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&r.type==createjs.Types.JAVASCRIPT||!0===r.maintainOrder)&&(this._scriptOrder.push(r),this._loadedScripts.push(null)))},e._createLoadItem=function(t,e,i){var s=createjs.LoadItem.create(t);if(null==s)return null;var r=\"\",n=i||this._basePath;if(s.src instanceof Object){if(!s.type)return null;e?(r=e,o=createjs.URLUtils.parseURI(e),null==n||o.absolute||o.relative||(r=n+r)):null!=n&&(r=n)}else{var a=createjs.URLUtils.parseURI(s.src);a.extension&&(s.ext=a.extension),null==s.type&&(s.type=createjs.RequestUtils.getTypeByExtension(s.ext));var o,h=s.src;a.absolute||a.relative||(e?(r=e,o=createjs.URLUtils.parseURI(e),h=e+h,null==n||o.absolute||o.relative||(r=n+r)):null!=n&&(r=n)),s.src=r+s.src}s.path=r,void 0!==s.id&&null!==s.id&&\"\"!==s.id||(s.id=h);var c=this._typeCallbacks[s.type]||this._extensionCallbacks[s.ext];if(c){var u=c.callback.call(c.scope,s,this);if(!1===u)return null;!0===u||null!=u&&(s._loader=u),null!=(a=createjs.URLUtils.parseURI(s.src)).extension&&(s.ext=a.extension)}return this._loadItemsById[s.id]=s,null==(this._loadItemsBySrc[s.src]=s).crossOrigin&&(s.crossOrigin=this._crossOrigin),s},e._createLoader=function(t){if(null!=t._loader)return t._loader;for(var e=this.preferXHR,i=0;i<this._availableLoaders.length;i++){var s=this._availableLoaders[i];if(s&&s.canLoadItem(t))return new s(t,e)}return null},e._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var t=0;t<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);t++){var e=this._loadQueue[t];this._canStartLoad(e)&&(this._loadQueue.splice(t,1),t--,this._loadItem(e))}}},e._loadItem=function(t){t.on(\"fileload\",this._handleFileLoad,this),t.on(\"progress\",this._handleProgress,this),t.on(\"complete\",this._handleFileComplete,this),t.on(\"error\",this._handleError,this),t.on(\"fileerror\",this._handleFileError,this),this._currentLoads.push(t),this._sendFileStart(t.getItem()),t.load()},e._handleFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleFileError=function(t){var e=new createjs.ErrorEvent(\"FILE_LOAD_ERROR\",null,t.item);this._sendError(e)},e._handleError=function(t){var e=t.target;this._numItemsLoaded++,this._finishOrderedItem(e,!0),this._updateProgress();var i=new createjs.ErrorEvent(\"FILE_LOAD_ERROR\",null,e.getItem());this._sendError(i),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(e),this._cleanLoadItem(e),this._loadNext())},e._handleFileComplete=function(t){var e=t.target,i=e.getItem(),s=e.getResult();this._loadedResults[i.id]=s;var r=e.getResult(!0);null!=r&&r!==s&&(this._loadedRawResults[i.id]=r),this._saveLoadedItems(e),this._removeLoadItem(e),this._finishOrderedItem(e)||this._processFinishedLoad(i,e),this._cleanLoadItem(e)},e._saveLoadedItems=function(t){var e=t.getLoadedItems();if(null!==e)for(var i=0;i<e.length;i++){var s=e[i].item;this._loadItemsBySrc[s.src]=s,this._loadItemsById[s.id]=s,this._loadedResults[s.id]=e[i].result,this._loadedRawResults[s.id]=e[i].rawResult}},e._finishOrderedItem=function(t,e){var i=t.getItem();if(this.maintainScriptOrder&&i.type==createjs.Types.JAVASCRIPT||i.maintainOrder){t instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var s=createjs.indexOf(this._scriptOrder,i);return-1==s?!1:(this._loadedScripts[s]=!0===e||i,this._checkScriptLoadOrder(),!0)}return!1},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;e<t;e++){var i,s,r=this._loadedScripts[e];if(null===r)break;!0!==r&&(i=this._loadedResults[r.id],r.type==createjs.Types.JAVASCRIPT&&createjs.DomUtils.appendToHead(i),s=r._loader,this._processFinishedLoad(r,s),this._loadedScripts[e]=!0)}},e._processFinishedLoad=function(t,e){var i;this._numItemsLoaded++,this.maintainScriptOrder||t.type!=createjs.Types.JAVASCRIPT||(i=e.getTag(),createjs.DomUtils.appendToHead(i)),this._updateProgress(),this._sendFileComplete(t,e),this._loadNext()},e._canStartLoad=function(t){if(!this.maintainScriptOrder||t.preferXHR)return!0;var e=t.getItem();if(e.type!=createjs.Types.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var i=this._scriptOrder.indexOf(e),s=0;s<i;){if(null==this._loadedScripts[s])return!1;s++}return this._currentlyLoadingScript=!0},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,i=0;i<e;i++)if(this._currentLoads[i]==t){this._currentLoads.splice(i,1);break}},e._cleanLoadItem=function(t){var e=t.getItem();e&&delete e._loader},e._handleProgress=function(t){var e=t.target;this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(0<e){for(var i=0,s=0,r=this._currentLoads.length;s<r;s++)i+=this._currentLoads[s].progress;t+=i/e*(e/this._numItems)}this._lastProgress!=t&&(this._sendProgress(t),this._lastProgress=t)},e._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},e._sendFileProgress=function(t,e){var i;this._isCanceled()||this._paused||this.hasEventListener(\"fileprogress\")&&((i=new createjs.Event(\"fileprogress\")).progress=e,i.loaded=e,i.total=1,i.item=t,this.dispatchEvent(i))},e._sendFileComplete=function(t,e){var i;this._isCanceled()||this._paused||((i=new createjs.Event(\"fileload\")).loader=e,i.item=t,i.result=this._loadedResults[t.id],i.rawResult=this._loadedRawResults[t.id],t.completeHandler&&t.completeHandler(i),this.hasEventListener(\"fileload\")&&this.dispatchEvent(i))},e._sendFileStart=function(t){var e=new createjs.Event(\"filestart\");e.item=t,this.hasEventListener(\"filestart\")&&this.dispatchEvent(e)},e.toString=function(){return\"[PreloadJS LoadQueue]\"},createjs.LoadQueue=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.TEXT)}createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.TEXT},createjs.TextLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.BINARY),this.on(\"initialize\",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.BINARY},e._updateXHR=function(t){t.loader.setResponseType(\"arraybuffer\")},createjs.BinaryLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"href\",this._tag=e?createjs.Elements.style():createjs.Elements.link(),this._tag.rel=\"stylesheet\",this._tag.type=\"text/css\"}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.CSS},e._formatResult=function(t){var e,i;return this._preferXHR?(e=t.getTag()).styleSheet?e.styleSheet.cssText=t.getResult(!0):(i=createjs.Elements.text(t.getResult(!0)),e.appendChild(i)):e=this._tag,createjs.DomUtils.appendToHead(e),e},createjs.CSSLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function u(t,e){this.AbstractLoader_constructor(t,e,t.type),this._faces={},this._watched=[],this._count=0,this._watchInterval=null,this._loadTimeout=null,this._injectCSS=void 0===t.injectCSS||t.injectCSS,this.dispatchEvent(\"initialize\")}var t=createjs.extend(u,createjs.AbstractLoader);u.canLoadItem=function(t){return t.type==createjs.Types.FONT||t.type==createjs.Types.FONTCSS},u.sampleText=\"abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ\",u._ctx=document.createElement(\"canvas\").getContext(\"2d\"),u._referenceFonts=[\"serif\",\"monospace\"],u.WEIGHT_REGEX=/[- ._]*(thin|normal|book|regular|medium|black|heavy|[1-9]00|(?:extra|ultra|semi|demi)?[- ._]*(?:light|bold))[- ._]*/gi,u.STYLE_REGEX=/[- ._]*(italic|oblique)[- ._]*/gi,u.FONT_FORMAT={woff2:\"woff2\",woff:\"woff\",ttf:\"truetype\",otf:\"truetype\"},u.FONT_WEIGHT={thin:100,extralight:200,ultralight:200,light:300,semilight:300,demilight:300,book:\"normal\",regular:\"normal\",semibold:600,demibold:600,extrabold:800,ultrabold:800,black:900,heavy:900},u.WATCH_DURATION=10,t.load=function(){var t;if(this.type==createjs.Types.FONTCSS){if(!this._watchCSS())return void this.AbstractLoader_load()}else this._item.src instanceof Array?this._watchFontArray():(t=this._defFromSrc(this._item.src),this._watchFont(t),this._injectStyleTag(this._cssFromDef(t)));this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this.dispatchEvent(\"loadstart\")},t._handleTimeout=function(){this._stopWatching(),this.dispatchEvent(new createjs.ErrorEvent(\"PRELOAD_TIMEOUT\"))},t._createRequest=function(){return this._request},t.handleEvent=function(t){switch(t.type){case\"complete\":this._rawResult=t.target._response,this._result=!0,this._parseCSS(this._rawResult);break;case\"error\":this._stopWatching(),this.AbstractLoader_handleEvent(t)}},t._watchCSS=function(){var t=this._item.src;return t instanceof HTMLStyleElement&&(this._injectCSS&&!t.parentNode&&(document.head||document.getElementsByTagName(\"head\")[0]).appendChild(t),this._injectCSS=!1,t=\"\\n\"+t.textContent),-1!==t.search(/\\n|\\r|@font-face/i)?(this._parseCSS(t),!0):(this._request=new createjs.XHRRequest(this._item),!1)},t._parseCSS=function(t){for(var e=/@font-face\\s*\\{([^}]+)}/g;;){var i=e.exec(t);if(!i)break;this._watchFont(this._parseFontFace(i[1]))}this._injectStyleTag(t)},t._watchFontArray=function(){for(var t=this._item.src,e=\"\",i=t.length-1;0<=i;i--){var s=t[i],r=\"string\"==typeof s?this._defFromSrc(s):this._defFromObj(s);this._watchFont(r),e+=this._cssFromDef(r)+\"\\n\"}this._injectStyleTag(e)},t._injectStyleTag=function(t){var e,i;this._injectCSS&&(e=document.head||document.getElementsByTagName(\"head\")[0],(i=document.createElement(\"style\")).type=\"text/css\",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i))},t._parseFontFace=function(t){var e=this._getCSSValue(t,\"font-family\"),i=this._getCSSValue(t,\"src\");return e&&i?this._defFromObj({family:e,src:i,style:this._getCSSValue(t,\"font-style\"),weight:this._getCSSValue(t,\"font-weight\")}):null},t._watchFont=function(t){t&&!this._faces[t.id]&&(this._faces[t.id]=t,this._watched.push(t),this._count++,this._calculateReferenceSizes(t),this._startWatching())},t._startWatching=function(){null==this._watchInterval&&(this._watchInterval=setInterval(createjs.proxy(this._watch,this),u.WATCH_DURATION))},t._stopWatching=function(){clearInterval(this._watchInterval),clearTimeout(this._loadTimeout),this._watchInterval=null},t._watch=function(){for(var t=this._watched,e=u._referenceFonts,i=t.length,s=i-1;0<=s;s--)for(var r=t[s],n=r.refs,a=n.length-1;0<=a;a--){if(this._getTextWidth(r.family+\",\"+e[a],r.weight,r.style)!=n[a]){var o=new createjs.Event(\"fileload\");r.type=\"font-family\",o.item=r,this.dispatchEvent(o),t.splice(s,1);break}}i!==t.length&&(o=new createjs.ProgressEvent(this._count-t.length,this._count),this.dispatchEvent(o)),0===i&&(this._stopWatching(),this._sendComplete())},t._calculateReferenceSizes=function(t){for(var e=u._referenceFonts,i=t.refs=[],s=0;s<e.length;s++)i[s]=this._getTextWidth(e[s],t.weight,t.style)},t._defFromSrc=function(t){var e=/[- ._]+/g,i=t,s=null,r=i.search(/[?#]/);-1!==r&&(i=i.substr(0,r)),-1!==(r=i.lastIndexOf(\".\"))&&(s=i.substr(r+1),i=i.substr(0,r)),-1!==(r=i.lastIndexOf(\"/\"))&&(i=i.substr(r+1));var n=i,a=n.match(u.WEIGHT_REGEX);a&&(a=a[0],n=n.replace(a,\"\"),a=a.replace(e,\"\").toLowerCase());var o=i.match(u.STYLE_REGEX);o&&(n=n.replace(o[0],\"\"),o=\"italic\"),n=n.replace(e,\"\");var h=\"local('\"+i.replace(e,\" \")+\"'), url('\"+t+\"')\",c=u.FONT_FORMAT[s];return c&&(h+=\" format('\"+c+\"')\"),this._defFromObj({family:n,weight:u.FONT_WEIGHT[a]||a,style:o,src:h})},t._defFromObj=function(t){var e={family:t.family,src:t.src,style:t.style||\"normal\",weight:t.weight||\"normal\"};return e.id=e.family+\";\"+e.style+\";\"+e.weight,e},t._cssFromDef=function(t){return\"@font-face {\\n\\tfont-family: '\"+t.family+\"';\\n\\tfont-style: \"+t.style+\";\\n\\tfont-weight: \"+t.weight+\";\\n\\tsrc: \"+t.src+\";\\n}\"},t._getTextWidth=function(t,e,i){var s=u._ctx;return s.font=i+\" \"+e+\" 72px \"+t,s.measureText(u.sampleText).width},t._getCSSValue=function(t,e){var i=new RegExp(e+\":s*([^;}]+?)s*[;}]\").exec(t);return i&&i[1]?i[1]:null},createjs.FontLoader=createjs.promote(u,\"AbstractLoader\")}(),function(){\"use strict\";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"src\",createjs.DomUtils.isImageTag(t)?this._tag=t:createjs.DomUtils.isImageTag(t.src)?this._tag=t.src:createjs.DomUtils.isImageTag(t.tag)&&(this._tag=t.tag),null!=this._tag?this._preferXHR=!1:this._tag=createjs.Elements.img(),this.on(\"initialize\",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.IMAGE},e.load=function(){var t;\"\"!=this._tag.src&&this._tag.complete?this._sendComplete():(1==(t=this._item.crossOrigin)&&(t=\"Anonymous\"),null==t||createjs.URLUtils.isLocal(this._item)||(this._tag.crossOrigin=t),this.AbstractLoader_load())},e._updateXHR=function(t){t.loader.mimeType=\"text/plain; charset=x-user-defined-binary\",t.loader.setResponseType&&t.loader.setResponseType(\"blob\")},e._formatResult=function(t){return this._formatImage},e._formatImage=function(t,e){var i,s=this._tag,r=window.URL||window.webkitURL;this._preferXHR&&(r?(this.getResult(!0)&&(i=r.createObjectURL(this.getResult(!0)),s.src=i),s.addEventListener(\"load\",this._cleanUpURL,!1),s.addEventListener(\"error\",this._cleanUpURL,!1)):s.src=this._item.src),s.complete?t(s):(s.onload=createjs.proxy(function(){t(this._tag),s.onload=s.onerror=null},this),s.onerror=createjs.proxy(function(t){e(new createjs.ErrorEvent(\"IMAGE_FORMAT\",null,t)),s.onload=s.onerror=null},this))},e._cleanUpURL=function(t){(window.URL||window.webkitURL).revokeObjectURL(t.target.src)},createjs.ImageLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"src\",this.setTag(createjs.Elements.script())}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.JAVASCRIPT},e._formatResult=function(t){var e=t.getTag();return this._preferXHR&&(e.text=t.getResult(!0)),e},createjs.JavaScriptLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.JSON),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.JSON},e._formatResult=function(t){var e=null;try{e=createjs.DataUtils.parseJSON(t.getResult(!0))}catch(t){var i=new createjs.ErrorEvent(\"JSON_FORMAT\",null,t);return this._sendError(i),t}return e},createjs.JSONLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t){this.AbstractLoader_constructor(t,!1,createjs.Types.JSONP),this.setTag(createjs.Elements.script()),this.getTag().type=\"text/javascript\"}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.JSONP},e.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},e.load=function(){if(null==this._item.callback)throw new Error(\"callback is required for loading JSONP requests.\");if(null!=window[this._item.callback])throw new Error(\"JSONP callback '\"+this._item.callback+\"' already exists on window. You need to specify a different callback or re-name the current one.\");window[this._item.callback]=createjs.proxy(this._handleLoad,this),createjs.DomUtils.appendToBody(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},e._handleLoad=function(t){this._result=this._rawResult=t,this._sendComplete(),this._dispose()},e._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent(\"timeout\"))},e._dispose=function(){createjs.DomUtils.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.MANIFEST),this.plugins=null,this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),i=t;i.MANIFEST_PROGRESS=.25,i.canLoadItem=function(t){return t.type==createjs.Types.MANIFEST},e.load=function(){this.AbstractLoader_load()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case\"complete\":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(i.MANIFEST_PROGRESS),void this._loadManifest(this._result);case\"progress\":return t.loaded*=i.MANIFEST_PROGRESS,this.progress=t.loaded/t.total,!isNaN(this.progress)&&this.progress!=1/0||(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},e._loadManifest=function(t){if(t&&t.manifest){var e=this._manifestQueue=new createjs.LoadQueue(this._preferXHR);e.on(\"fileload\",this._handleManifestFileLoad,this),e.on(\"progress\",this._handleManifestProgress,this),e.on(\"complete\",this._handleManifestComplete,this,!0),e.on(\"error\",this._handleManifestError,this,!0);for(var i=0,s=this.plugins.length;i<s;i++)e.installPlugin(this.plugins[i]);e.loadManifest(t)}else this._sendComplete()},e._handleManifestFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleManifestComplete=function(t){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-i.MANIFEST_PROGRESS)+i.MANIFEST_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event(\"fileerror\");e.item=t.data,this.dispatchEvent(e)},createjs.ManifestLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.Types.SOUND),createjs.DomUtils.isAudioTag(t)||createjs.DomUtils.isAudioTag(t.src)?this._tag=t:createjs.DomUtils.isAudioTag(t.tag)&&(this._tag=createjs.DomUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader);t.canLoadItem=function(t){return t.type==createjs.Types.SOUND},e._createTag=function(t){var e=createjs.Elements.audio();return e.autoplay=!1,e.preload=\"none\",e.src=t,e},createjs.SoundLoader=createjs.promote(t,\"AbstractMediaLoader\")}(),function(){\"use strict\";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.Types.VIDEO),createjs.DomUtils.isVideoTag(t)||createjs.DomUtils.isVideoTag(t.src)?(this.setTag(createjs.DomUtils.isVideoTag(t)?t:t.src),this._preferXHR=!1):this.setTag(this._createTag())}var e=t;createjs.extend(t,createjs.AbstractMediaLoader)._createTag=function(){return createjs.Elements.video()},e.canLoadItem=function(t){return t.type==createjs.Types.VIDEO},createjs.VideoLoader=createjs.promote(t,\"AbstractMediaLoader\")}(),function(){\"use strict\";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.SPRITESHEET),this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),i=t;i.SPRITESHEET_PROGRESS=.25,i.canLoadItem=function(t){return t.type==createjs.Types.SPRITESHEET},e.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case\"complete\":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(i.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case\"progress\":return t.loaded*=i.SPRITESHEET_PROGRESS,this.progress=t.loaded/t.total,!isNaN(this.progress)&&this.progress!=1/0||(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e._loadManifest=function(t){var e;t&&t.images&&((e=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin)).on(\"complete\",this._handleManifestComplete,this,!0),e.on(\"fileload\",this._handleManifestFileLoad,this),e.on(\"progress\",this._handleManifestProgress,this),e.on(\"error\",this._handleManifestError,this,!0),e.loadManifest(t.images))},e._handleManifestFileLoad=function(t){var e,i,s=t.result;null!=s&&(i=(e=this.getResult().images).indexOf(t.item.src),e[i]=s)},e._handleManifestComplete=function(t){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-i.SPRITESHEET_PROGRESS)+i.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event(\"fileerror\");e.item=t.data,this.dispatchEvent(e)},createjs.SpriteSheetLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"data\",e?this.setTag(createjs.Elements.svg()):(this.setTag(createjs.Elements.object()),this.getTag().type=\"image/svg+xml\")}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.SVG},e._formatResult=function(t){var e=createjs.DataUtils.parseXML(t.getResult(!0)),i=t.getTag();if(!this._preferXHR&&document.body.contains(i)&&document.body.removeChild(i),null==e.documentElement)return e;var s=e.documentElement;return document.importNode&&(s=document.importNode(s,!0)),i.appendChild(s),i},createjs.SVGLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){\"use strict\";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.XML),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.XML},e._formatResult=function(t){return createjs.DataUtils.parseXML(t.getResult(!0))},createjs.XMLLoader=createjs.promote(t,\"AbstractLoader\")}(),function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version=\"NEXT\",t.buildDate=\"Thu, 14 Sep 2017 22:19:45 GMT\"}(),function(){\"use strict\";function t(){throw\"BrowserDetect cannot be instantiated\"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=-1<e.indexOf(\"IEMobile\")||-1<e.indexOf(\"Windows Phone\"),t.isFirefox=-1<e.indexOf(\"Firefox\"),t.isOpera=null!=window.opera,t.isChrome=-1<e.indexOf(\"Chrome\"),t.isIOS=(-1<e.indexOf(\"iPod\")||-1<e.indexOf(\"iPhone\")||-1<e.indexOf(\"iPad\"))&&!t.isWindowPhone,t.isAndroid=-1<e.indexOf(\"Android\")&&!t.isWindowPhone,t.isBlackberry=-1<e.indexOf(\"Blackberry\"),createjs.BrowserDetect=t}(),function(){\"use strict\";function t(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null}var e=t.prototype={},i=t;i.create=function(t){if(\"string\"==typeof t)return console&&(console.warn||console.log)(\"Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info.\"),(new createjs.PlayPropsConfig).set({interrupt:t});if(null==t||t instanceof i||t instanceof Object)return(new createjs.PlayPropsConfig).set(t);if(null==t)throw new Error(\"PlayProps configuration not recognized.\")},e.set=function(t){if(null!=t)for(var e in t)this[e]=t[e];return this},e.toString=function(){return\"[PlayPropsConfig]\"},createjs.PlayPropsConfig=i}(),function(){\"use strict\";function a(){throw\"Sound cannot be instantiated\"}var o=a;function h(t,e){this.init(t,e)}o.INTERRUPT_ANY=\"any\",o.INTERRUPT_EARLY=\"early\",o.INTERRUPT_LATE=\"late\",o.INTERRUPT_NONE=\"none\",o.PLAY_INITED=\"playInited\",o.PLAY_SUCCEEDED=\"playSucceeded\",o.PLAY_INTERRUPTED=\"playInterrupted\",o.PLAY_FINISHED=\"playFinished\",o.PLAY_FAILED=\"playFailed\",o.SUPPORTED_EXTENSIONS=[\"mp3\",\"ogg\",\"opus\",\"mpeg\",\"wav\",\"m4a\",\"mp4\",\"aiff\",\"wma\",\"mid\"],o.EXTENSION_MAP={m4a:\"mp4\"},o.FILE_PATTERN=/^(?:(\\w+:)\\/{2}(\\w+(?:\\.\\w+)*\\/?))?([/.]*?(?:[^?]+)?\\/)?((?:[^/?]+)\\.(\\w+))(?:\\?(\\S+)?)?$/,o.defaultInterruptBehavior=o.INTERRUPT_NONE,o.alternateExtensions=[],o.activePlugin=null,o._masterVolume=1,o._getMasterVolume=function(){return this._masterVolume},o.getVolume=createjs.deprecate(o._getMasterVolume,\"Sound.getVolume\"),o._setMasterVolume=function(t){if(null!=Number(t)&&(t=Math.max(0,Math.min(1,t)),o._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t)))for(var e=this._instances,i=0,s=e.length;i<s;i++)e[i].setMasterVolume(t)},o.setVolume=createjs.deprecate(o._setMasterVolume,\"Sound.setVolume\"),o._masterMute=!1,o._getMute=function(){return this._masterMute},o.getMute=createjs.deprecate(o._getMute,\"Sound.getMute\"),o._setMute=function(t){if(null!=t&&(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t)))for(var e=this._instances,i=0,s=e.length;i<s;i++)e[i].setMasterMute(t)},o.setMute=createjs.deprecate(o._setMute,\"Sound.setMute\"),o._getCapabilities=function(){return null==o.activePlugin?null:o.activePlugin._capabilities},o.getCapabilities=createjs.deprecate(o._getCapabilities,\"Sound.getCapabilities\"),Object.defineProperties(o,{volume:{get:o._getMasterVolume,set:o._setMasterVolume},muted:{get:o._getMute,set:o._setMute},capabilities:{get:o._getCapabilities}}),o._pluginsRegistered=!1,o._lastID=0,o._instances=[],o._idHash={},o._preloadHash={},o._defaultPlayPropsHash={},o.addEventListener=null,o.removeEventListener=null,o.removeAllEventListeners=null,o.dispatchEvent=null,o.hasEventListener=null,o._listeners=null,createjs.EventDispatcher.initialize(o),o.getPreloadHandlers=function(){return{callback:createjs.proxy(o.initLoad,o),types:[\"sound\"],extensions:o.SUPPORTED_EXTENSIONS}},o._handleLoadComplete=function(t){var e=t.target.getItem().src;if(o._preloadHash[e])for(var i=0,s=o._preloadHash[e].length;i<s;i++){var r=o._preloadHash[e][i];o._preloadHash[e][i]=!0,o.hasEventListener(\"fileload\")&&((t=new createjs.Event(\"fileload\")).src=r.src,t.id=r.id,t.data=r.data,t.sprite=r.sprite,o.dispatchEvent(t))}},o._handleLoadError=function(t){var e=t.target.getItem().src;if(o._preloadHash[e])for(var i=0,s=o._preloadHash[e].length;i<s;i++){var r=o._preloadHash[e][i];o._preloadHash[e][i]=!1,o.hasEventListener(\"fileerror\")&&((t=new createjs.Event(\"fileerror\")).src=r.src,t.id=r.id,t.data=r.data,t.sprite=r.sprite,o.dispatchEvent(t))}},o._registerPlugin=function(t){return!!t.isSupported()&&(o.activePlugin=new t,!0)},o.registerPlugins=function(t){o._pluginsRegistered=!0;for(var e=0,i=t.length;e<i;e++)if(o._registerPlugin(t[e]))return!0;return!1},o.initializeDefaultPlugins=function(){return null!=o.activePlugin||!o._pluginsRegistered&&!!o.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},o.isReady=function(){return null!=o.activePlugin},o.initLoad=function(t){return\"video\"==t.type||o._registerSound(t)},o._registerSound=function(t){if(!o.initializeDefaultPlugins())return!1;var e;if(t.src instanceof Object?(e=o._parseSrc(t.src)).src=t.path+e.src:e=o._parsePath(t.src),null==e)return!1;t.src=e.src,t.type=\"sound\";var i=t.data,s=null;if(null!=i&&(isNaN(i.channels)?isNaN(i)||(s=parseInt(i)):s=parseInt(i.channels),i.audioSprite))for(var r,n=i.audioSprite.length;n--;)r=i.audioSprite[n],o._idHash[r.id]={src:t.src,startTime:parseInt(r.startTime),duration:parseInt(r.duration)},r.defaultPlayProps&&(o._defaultPlayPropsHash[r.id]=createjs.PlayPropsConfig.create(r.defaultPlayProps));null!=t.id&&(o._idHash[t.id]={src:t.src});var a=o.activePlugin.register(t);return h.create(t.src,s),null!=i&&isNaN(i)?t.data.channels=s||h.maxPerChannel():t.data=s||h.maxPerChannel(),a.type&&(t.type=a.type),t.defaultPlayProps&&(o._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),a},o.registerSound=function(t,e,i,s,r){var n={src:t,id:e,data:i,defaultPlayProps:r};t instanceof Object&&t.src&&(s=e,n=t),null==((n=createjs.LoadItem.create(n)).path=s)||n.src instanceof Object||(n.src=s+n.src);var a=o._registerSound(n);if(!a)return!1;if(o._preloadHash[n.src]||(o._preloadHash[n.src]=[]),o._preloadHash[n.src].push(n),1==o._preloadHash[n.src].length)a.on(\"complete\",this._handleLoadComplete,this),a.on(\"error\",this._handleLoadError,this),o.activePlugin.preload(a);else if(1==o._preloadHash[n.src][0])return!0;return n},o.registerSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var s=0,r=t.length;s<r;s++)i[s]=createjs.Sound.registerSound(t[s].src,t[s].id,t[s].data,e,t[s].defaultPlayProps);return i},o.removeSound=function(t,e){if(null==o.activePlugin)return!1;var i;if(t instanceof Object&&t.src&&(t=t.src),null==(i=t instanceof Object?o._parseSrc(t):(t=o._getSrcById(t).src,o._parsePath(t))))return!1;for(var s in t=i.src,null!=e&&(t=e+t),o._idHash)o._idHash[s].src==t&&delete o._idHash[s];return h.removeSrc(t),delete o._preloadHash[t],o.activePlugin.removeSound(t),!0},o.removeSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var s=0,r=t.length;s<r;s++)i[s]=createjs.Sound.removeSound(t[s].src,e);return i},o.removeAllSounds=function(){o._idHash={},o._preloadHash={},h.removeAll(),o.activePlugin&&o.activePlugin.removeAllSounds()},o.loadComplete=function(t){if(!o.isReady())return!1;var e=o._parsePath(t);return t=e?o._getSrcById(e.src).src:o._getSrcById(t).src,null!=o._preloadHash[t]&&1==o._preloadHash[t][0]},o._parsePath=function(t){\"string\"!=typeof t&&(t=t.toString());var e=t.match(o.FILE_PATTERN);if(null==e)return!1;for(var i=e[4],s=e[5],r=o.capabilities,n=0;!r[s];)if(s=o.alternateExtensions[n++],n>o.alternateExtensions.length)return null;return{name:i,src:t=t.replace(\".\"+e[5],\".\"+s),extension:s}},o._parseSrc=function(t){var e={name:void 0,src:void 0,extension:void 0},i=o.capabilities;for(var s in t)if(t.hasOwnProperty(s)&&i[s]){e.src=t[s],e.extension=s;break}if(!e.src)return!1;var r=e.src.lastIndexOf(\"/\");return e.name=-1!=r?e.src.slice(r+1):e.src,e},o.play=function(t,e){var i=createjs.PlayPropsConfig.create(e),s=o.createInstance(t,i.startTime,i.duration);return o._playInstance(s,i)||s._playFailed(),s},o.createInstance=function(t,e,i){if(!o.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,e,i);var s=o._defaultPlayPropsHash[t];t=o._getSrcById(t);var r=o._parsePath(t.src),n=null;return null!=r&&null!=r.src?(h.create(r.src),null==e&&(e=t.startTime),n=o.activePlugin.create(r.src,e,i||t.duration),(s=s||o._defaultPlayPropsHash[r.src])&&n.applyPlayProps(s)):n=new createjs.DefaultSoundInstance(t,e,i),n.uniqueId=o._lastID++,n},o.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},o.setDefaultPlayProps=function(t,e){t=o._getSrcById(t),o._defaultPlayPropsHash[o._parsePath(t.src).src]=createjs.PlayPropsConfig.create(e)},o.getDefaultPlayProps=function(t){return t=o._getSrcById(t),o._defaultPlayPropsHash[o._parsePath(t.src).src]},o._playInstance=function(t,e){var i=o._defaultPlayPropsHash[t.src]||{};if(null==e.interrupt&&(e.interrupt=i.interrupt||o.defaultInterruptBehavior),null==e.delay&&(e.delay=i.delay||0),null==e.offset&&(e.offset=t.position),null==e.loop&&(e.loop=t.loop),null==e.volume&&(e.volume=t.volume),null==e.pan&&(e.pan=t.pan),0==e.delay){if(!o._beginPlaying(t,e))return!1}else{var s=setTimeout(function(){o._beginPlaying(t,e)},e.delay);t.delayTimeoutId=s}return this._instances.push(t),!0},o._beginPlaying=function(t,e){if(!h.add(t,e.interrupt))return!1;if(t._beginPlaying(e))return!0;var i=createjs.indexOf(this._instances,t);return-1<i&&this._instances.splice(i,1),!1},o._getSrcById=function(t){return o._idHash[t]||{src:t}},o._playFinished=function(t){h.remove(t);var e=createjs.indexOf(this._instances,t);-1<e&&this._instances.splice(e,1)},createjs.Sound=a,h.channels={},h.create=function(t,e){return null==h.get(t)&&(h.channels[t]=new h(t,e),!0)},h.removeSrc=function(t){var e=h.get(t);return null!=e&&(e._removeAll(),delete h.channels[t],!0)},h.removeAll=function(){for(var t in h.channels)h.channels[t]._removeAll();h.channels={}},h.add=function(t,e){var i=h.get(t.src);return null!=i&&i._add(t,e)},h.remove=function(t){var e=h.get(t.src);return null!=e&&(e._remove(t),!0)},h.maxPerChannel=function(){return t.maxDefault},h.get=function(t){return h.channels[t]};var t=h.prototype;t.constructor=h,t.src=null,t.max=null,t.maxDefault=100,t.length=0,t.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},t._get=function(t){return this._instances[t]},t._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},t._remove=function(t){var e=createjs.indexOf(this._instances,t);return-1!=e&&(this._instances.splice(e,1),this.length--,!0)},t._removeAll=function(){for(var t=this.length-1;0<=t;t--)this._instances[t].stop()},t._getSlot=function(t,e){var i,s;if(t!=a.INTERRUPT_NONE&&null==(s=this._get(0)))return!0;for(var r=0,n=this.max;r<n;r++){if(null==(i=this._get(r)))return!0;if(i.playState==a.PLAY_FINISHED||i.playState==a.PLAY_INTERRUPTED||i.playState==a.PLAY_FAILED){s=i;break}t!=a.INTERRUPT_NONE&&(t==a.INTERRUPT_EARLY&&i.position<s.position||t==a.INTERRUPT_LATE&&i.position>s.position)&&(s=i)}return null!=s&&(s._interrupt(),this._remove(s),!0)},t.toString=function(){return\"[Sound SoundChannel]\"}}(),function(){\"use strict\";function t(t,e,i,s){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,\"volume\",{get:this._getVolume,set:this._setVolume}),this._pan=0,Object.defineProperty(this,\"pan\",{get:this._getPan,set:this._setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,\"startTime\",{get:this._getStartTime,set:this._setStartTime}),this._duration=Math.max(0,i||0),Object.defineProperty(this,\"duration\",{get:this._getDuration,set:this._setDuration}),this._playbackResource=null,Object.defineProperty(this,\"playbackResource\",{get:this._getPlaybackResource,set:this._setPlaybackResource}),!1!==s&&!0!==s&&this._setPlaybackResource(s),this._position=0,Object.defineProperty(this,\"position\",{get:this._getPosition,set:this._setPosition}),this._loop=0,Object.defineProperty(this,\"loop\",{get:this._getLoop,set:this._setLoop}),this._muted=!1,Object.defineProperty(this,\"muted\",{get:this._getMuted,set:this._setMuted}),this._paused=!1,Object.defineProperty(this,\"paused\",{get:this._getPaused,set:this._setPaused})}var e=createjs.extend(t,createjs.EventDispatcher);e.play=function(t){var e=createjs.PlayPropsConfig.create(t);return this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(e),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,e),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this._setPosition(t.offset),null!=t.loop&&this._setLoop(t.loop),null!=t.volume&&this._setVolume(t.volume),null!=t.pan&&this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),this},e.toString=function(){return\"[AbstractSoundInstance]\"},e._getPaused=function(){return this._paused},e._setPaused=function(t){if(!(!0!==t&&!1!==t||this._paused==t||1==t&&this.playState!=createjs.Sound.PLAY_SUCCEEDED))return(this._paused=t)?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},e._setVolume=function(t){return t==this._volume||(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume()),this},e._getVolume=function(){return this._volume},e._setMuted=function(t){if(!0===t||!1===t)return this._muted=t,this._updateVolume(),this},e._getMuted=function(){return this._muted},e._setPan=function(t){return t==this._pan||(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan()),this},e._getPan=function(){return this._pan},e._getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e._setPosition=function(t){return this._position=Math.max(0,t),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e._getStartTime=function(){return this._startTime},e._setStartTime=function(t){return t==this._startTime||(this._startTime=Math.max(0,t||0),this._updateStartTime()),this},e._getDuration=function(){return this._duration},e._setDuration=function(t){return t==this._duration||(this._duration=Math.max(0,t||0),this._updateDuration()),this},e._setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},e._getPlaybackResource=function(){return this._playbackResource},e._getLoop=function(){return this._loop},e._setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent(\"interrupted\")},e._beginPlaying=function(t){return this._setPosition(t.offset),this._setLoop(t.loop),this._setVolume(t.volume),this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent(\"succeeded\"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent(\"failed\")},e._handleSoundComplete=function(t){if((this._position=0)!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent(\"loop\");this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent(\"complete\")},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(t,\"EventDispatcher\"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),function(){\"use strict\";function t(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass}var e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],(e=new this._loaderClass(t)).on(\"complete\",this._handlePreloadComplete,this),this._loaders[t.src]=e)},e.preload=function(t){t.on(\"error\",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){this._soundInstances[t][e].destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,i){this.isPreloadStarted(t)||this.preload(this.register(t));var s=new this._soundInstanceClass(t,e,i,this._audioSources[t]);return this._soundInstances[t]&&this._soundInstances[t].push(s),s.setMasterVolume&&s.setMasterVolume(createjs.Sound.volume),s.setMasterMute&&s.setMasterMute(createjs.Sound.muted),s},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return\"[AbstractPlugin]\"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var i=0,s=this._soundInstances[e].length;i<s;i++){this._soundInstances[e][i].setPlaybackResource(this._audioSources[e]),this._soundInstances[e]=null}},e._handlePreloadError=function(t){},e._updateVolume=function(){},createjs.AbstractPlugin=t}(),function(){\"use strict\";function e(t){this.AbstractLoader_constructor(t,!0,createjs.Types.SOUND)}var t=createjs.extend(e,createjs.AbstractLoader);e.context=null,t.toString=function(){return\"[WebAudioLoader]\"},t._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType(\"arraybuffer\")},t._sendComplete=function(t){e.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},t._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(e,\"AbstractLoader\")}(),function(){\"use strict\";function t(t,e,i,s){this.AbstractSoundInstance_constructor(t,e,i,s),this.gainNode=r.context.createGain(),this.panNode=r.context.createPanner(),this.panNode.panningModel=r._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),r=t;r.context=null,r._scratchBuffer=null,r.destinationNode=null,r._panningModel=\"equalpower\",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return\"[WebAudioSoundInstance]\"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){if(t.stop(0),t.disconnect(0),createjs.BrowserDetect.isIOS)try{t.buffer=r._scratchBuffer}catch(t){}t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(r.destinationNode);var e=.001*this._duration,i=Math.min(.001*Math.max(0,this._position),e);this.sourceNode=this._createAndPlayAudioNode(r.context.currentTime-e,i),this._playbackStartTime=this.sourceNode.startTime-i,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-i)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var i=r.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var s=.001*this._duration;return i.startTime=t+s,i.start(i.startTime,e+.001*this._startTime,s-e),i},e._pause=function(){this._position=1e3*(r.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(r.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(t,\"AbstractSoundInstance\")}(),function(){\"use strict\";function t(){this.AbstractPlugin_constructor(),this._panningModel=o._panningModel,this.context=o.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=o._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var e=createjs.extend(t,createjs.AbstractPlugin),o=t;o._capabilities=null,o._panningModel=\"equalpower\",o.context=null,o._scratchBuffer=null,o._unlocked=!1,o.DEFAULT_SAMPLE_RATE=44100,o.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!(\"file:\"==location.protocol&&!t&&!this._isFileXHRSupported())&&(o._generateCapabilities(),null!=o.context)},o.playEmptySound=function(){var t;null!=o.context&&((t=o.context.createBufferSource()).buffer=o._scratchBuffer,t.connect(o.context.destination),t.start(0,0,0))},o._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open(\"GET\",\"WebAudioPluginTest.fail\",!1)}catch(t){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&\"\"!=this.response};try{t.send()}catch(t){e=!1}return e},o._generateCapabilities=function(){if(null==o._capabilities){var t=document.createElement(\"audio\");if(null==t.canPlayType)return null;if(null==o.context&&(o.context=o._createAudioContext(),null==o.context))return null;null==o._scratchBuffer&&(o._scratchBuffer=o.context.createBuffer(1,1,22050)),o._compatibilitySetUp(),\"ontouchstart\"in window&&\"running\"!=o.context.state&&(o._unlock(),document.addEventListener(\"mousedown\",o._unlock,!0),document.addEventListener(\"touchstart\",o._unlock,!0),document.addEventListener(\"touchend\",o._unlock,!0)),o._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,s=0,r=e.length;s<r;s++){var n=e[s],a=i[n]||n;o._capabilities[n]=\"no\"!=t.canPlayType(\"audio/\"+n)&&\"\"!=t.canPlayType(\"audio/\"+n)||\"no\"!=t.canPlayType(\"audio/\"+a)&&\"\"!=t.canPlayType(\"audio/\"+a)}o.context.destination.numberOfChannels<2&&(o._capabilities.panning=!1)}},o._createAudioContext=function(){var t=window.AudioContext||window.webkitAudioContext;if(null==t)return null;var e,i,s=new t;return/(iPhone|iPad)/i.test(navigator.userAgent)&&s.sampleRate!==o.DEFAULT_SAMPLE_RATE&&(e=s.createBuffer(1,1,o.DEFAULT_SAMPLE_RATE),(i=s.createBufferSource()).buffer=e,i.connect(s.destination),i.start(0),i.disconnect(),s.close(),s=new t),s},o._compatibilitySetUp=function(){var t;o._panningModel=\"equalpower\",o.context.createGain||(o.context.createGain=o.context.createGainNode,(t=o.context.createBufferSource()).__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,o._panningModel=0)},o._unlock=function(){o._unlocked||(o.playEmptySound(),\"running\"==o.context.state&&(document.removeEventListener(\"mousedown\",o._unlock,!0),document.removeEventListener(\"touchend\",o._unlock,!0),document.removeEventListener(\"touchstart\",o._unlock,!0),o._unlocked=!0))},e.toString=function(){return\"[WebAudioPlugin]\"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=o._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(t,\"AbstractPlugin\")}(),function(){\"use strict\";function t(){throw\"HTMLAudioTagPool cannot be instantiated\"}var i=t;function e(t){this._tags=[]}i._tags={},i._tagPool=new e,i._tagUsed={},i.get=function(t){var e=i._tags[t];return null==e?(e=i._tags[t]=i._tagPool.get()).src=t:i._tagUsed[t]?(e=i._tagPool.get()).src=t:i._tagUsed[t]=!0,e},i.set=function(t,e){e==i._tags[t]?i._tagUsed[t]=!1:i._tagPool.set(e)},i.remove=function(t){var e=i._tags[t];return null!=e&&(i._tagPool.set(e),delete i._tags[t],delete i._tagUsed[t],!0)},i.getDuration=function(t){var e=i._tags[t];return null!=e&&e.duration?1e3*e.duration:0},createjs.HTMLAudioTagPool=t;var s=e.prototype;s.constructor=e,s.get=function(){var t=0==this._tags.length?this._createTag():this._tags.pop();return null==t.parentNode&&document.body.appendChild(t),t},s.set=function(t){-1==createjs.indexOf(this._tags,t)&&(this._tags.src=null,this._tags.push(t))},s.toString=function(){return\"[TagPool]\"},s._createTag=function(){var t=document.createElement(\"audio\");return t.autoplay=!1,t.preload=\"none\",t}}(),function(){\"use strict\";function t(t,e,i,s){this.AbstractSoundInstance_constructor(t,e,i,s),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),i?this._audioSpriteStopTime=.001*(e+i):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return\"[HTMLAudioSoundInstance]\"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload=\"auto\",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){var t;null==this._playbackResource||(t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume)!=this._playbackResource.volume&&(this._playbackResource.volume=t)},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent(\"loop\")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(t,\"AbstractSoundInstance\")}(),function(){\"use strict\";function t(){this.AbstractPlugin_constructor(),this._capabilities=o._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var e=createjs.extend(t,createjs.AbstractPlugin),o=t;o.MAX_INSTANCES=30,o._AUDIO_READY=\"canplaythrough\",o._AUDIO_ENDED=\"ended\",o._AUDIO_SEEKED=\"seeked\",o._AUDIO_STALLED=\"stalled\",o._TIME_UPDATE=\"timeupdate\",o._capabilities=null,o.isSupported=function(){return o._generateCapabilities(),null!=o._capabilities},o._generateCapabilities=function(){if(null==o._capabilities){var t=document.createElement(\"audio\");if(null==t.canPlayType)return null;o._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,s=0,r=e.length;s<r;s++){var n=e[s],a=i[n]||n;o._capabilities[n]=\"no\"!=t.canPlayType(\"audio/\"+n)&&\"\"!=t.canPlayType(\"audio/\"+n)||\"no\"!=t.canPlayType(\"audio/\"+a)&&\"\"!=t.canPlayType(\"audio/\"+a)}}},e.register=function(t){var e=createjs.HTMLAudioTagPool.get(t.src),i=this.AbstractPlugin_register(t);return i.setTag(e),i},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},e.create=function(t,e,i){var s=this.AbstractPlugin_create(t,e,i);return s.playbackResource=null,s},e.toString=function(){return\"[HTMLAudioPlugin]\"},e.setVolume=e.getVolume=e.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(t,\"AbstractPlugin\")}(),function(){\"use strict\";function t(t){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,this._status=-1,this._lastTick=0,t&&(this.useTicks=!!t.useTicks,this.ignoreGlobalPause=!!t.ignoreGlobalPause,this.loop=!0===t.loop?-1:t.loop||0,this.reversed=!!t.reversed,this.bounce=!!t.bounce,this.timeScale=t.timeScale||1,t.onChange&&this.addEventListener(\"change\",t.onChange),t.onComplete&&this.addEventListener(\"complete\",t.onComplete))}var e=createjs.extend(t,createjs.EventDispatcher);e._setPaused=function(t){return createjs.Tween._register(this,t),this},e.setPaused=createjs.deprecate(e._setPaused,\"AbstractTween.setPaused\"),e._getPaused=function(){return this._paused},e.getPaused=createjs.deprecate(e._getPaused,\"AbstactTween.getPaused\"),e._getCurrentLabel=function(t){var e=this.getLabels();null==t&&(t=this.position);for(var i=0,s=e.length;i<s&&!(t<e[i].position);i++);return 0===i?null:e[i-1].label},e.getCurrentLabel=createjs.deprecate(e._getCurrentLabel,\"AbstractTween.getCurrentLabel\");try{Object.defineProperties(e,{paused:{set:e._setPaused,get:e._getPaused},currentLabel:{get:e._getCurrentLabel}})}catch(t){}e.advance=function(t,e){this.setPosition(this.rawPosition+t*this.timeScale,e)},e.setPosition=function(t,e,i,s){var r=this.duration,n=this.loop,a=this.rawPosition,o=0,h=0,c=!1;if(t<0&&(t=0),0===r){if(c=!0,-1!==a)return c}else{if(h=t-(o=t/r|0)*r,(c=-1!==n&&n*r+r<=t)&&(t=(h=r)*(o=n)+r),t===a)return c;!this.reversed!=!(this.bounce&&o%2)&&(h=r-h)}this.position=h,this.rawPosition=t,this._updatePosition(i,c),c&&(this.paused=!0),s&&s(this),e||this._runActions(a,t,i,!i&&-1===a),this.dispatchEvent(\"change\"),c&&this.dispatchEvent(\"complete\")},e.calculatePosition=function(t){var e=this.duration,i=this.loop,s=0,r=0;return 0===e?0:(-1!==i&&i*e+e<=t?(r=e,s=i):r=t<0?0:t-(s=t/e|0)*e,!this.reversed!=!(this.bounce&&s%2)?e-r:r)},e.getLabels=function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var i in e)t.push({label:i,position:e[i]});t.sort(function(t,e){return t.position-e.position})}return t},e.setLabels=function(t){this._labels=t,this._labelList=null},e.addLabel=function(t,e){this._labels||(this._labels={}),this._labels[t]=e;var i=this._labelList;if(i){for(var s=0,r=i.length;s<r&&!(e<i[s].position);s++);i.splice(s,0,{label:t,position:e})}},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.resolve=function(t){var e=Number(t);return isNaN(e)&&(e=this._labels&&this._labels[t]),e},e.toString=function(){return\"[AbstractTween]\"},e.clone=function(){throw\"AbstractTween can not be cloned.\"},e._init=function(t){t&&t.paused||(this.paused=!1),t&&null!=t.position&&this.setPosition(t.position)},e._updatePosition=function(t,e){},e._goto=function(t){var e=this.resolve(t);null!=e&&this.setPosition(e,!1,!0)},e._runActions=function(t,e,i,s){if(this._actionHead||this.tweens){var r,n,a,o,h=this.duration,c=this.reversed,u=this.bounce,l=this.loop;if(0===h?(r=n=a=o=0,c=u=!1):(a=t-(r=t/h|0)*h,o=e-(n=e/h|0)*h),-1!==l&&(l<n&&(o=h,n=l),l<r&&(a=h,r=l)),i)return this._runActionsRange(o,o,i,s);if(r!==n||a!==o||i||s){-1===r&&(r=a=0);var d=t<=e,_=r;do{var p=_===r?a:d?0:h,f=_===n?o:d?h:0;if(!c!=!(u&&_%2)&&(p=h-p,f=h-f),(!u||_===r||p!==f)&&this._runActionsRange(p,f,i,s||_!==r&&!u))return!0;s=!1}while(d&&++_<=n||!d&&--_>=n)}}},e._runActionsRange=function(t,e,i,s){},createjs.AbstractTween=createjs.promote(t,\"EventDispatcher\")}(),function(){\"use strict\";function m(t,e){this.AbstractTween_constructor(e),this.pluginData=null,this.target=t,this.passive=!1,this._stepHead=new n(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,e&&(this.pluginData=e.pluginData,e.override&&m.removeTweens(t)),this.pluginData||(this.pluginData={}),this._init(e)}var t=createjs.extend(m,createjs.AbstractTween);function n(t,e,i,s,r,n){this.next=null,this.prev=t,this.t=e,this.d=i,this.props=s,this.ease=r,this.passive=n,this.index=t?t.index+1:0}function r(t,e,i,s,r){this.next=null,this.prev=t,this.t=e,this.d=0,this.scope=i,this.funct=s,this.params=r}m.IGNORE={},m._tweens=[],m._plugins=null,m._tweenHead=null,m._tweenTail=null,m._inTick=0,m.get=function(t,e){return new m(t,e)},m.tick=function(t,e){for(var i=m._tweenHead,s=m._inTick=Date.now();i;){var r=i._next,n=i._status;i._lastTick=s,1===n?i._status=0:-1===n?m._delist(i):e&&!i.ignoreGlobalPause||i._paused||i.advance(i.useTicks?1:t),i=r}m._inTick=0},m.handleEvent=function(t){\"tick\"===t.type&&this.tick(t.delta,t.paused)},m.removeTweens=function(t){if(t.tweenjs_count){for(var e=m._tweenHead;e;){var i=e._next;e.target===t&&m._register(e,!0),e=i}t.tweenjs_count=0}},m.removeAllTweens=function(){for(var t=m._tweenHead;t;){var e=t._next;t._paused=!0,t.target&&(t.target.tweenjs_count=0),t._next=t._prev=null,t=e}m._tweenHead=m._tweenTail=null},m.hasActiveTweens=function(t){return t?!!t.tweenjs_count:!!m._tweenHead},m._installPlugin=function(t){for(var e=t.priority=t.priority||0,i=m._plugins=m._plugins||[],s=0,r=i.length;s<r&&!(e<i[s].priority);s++);i.splice(s,0,t)},m._register=function(t,e){var i,s=t.target;!e&&t._paused?(s&&(s.tweenjs_count=s.tweenjs_count?s.tweenjs_count+1:1),(i=m._tweenTail)?(m._tweenTail=i._next=t,t._prev=i):m._tweenHead=m._tweenTail=t,t._status=m._inTick?1:0,!m._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener(\"tick\",m),m._inited=!0)):e&&!t._paused&&(s&&s.tweenjs_count--,m._inTick&&t._lastTick!==m._inTick||m._delist(t),t._status=-1),t._paused=e},m._delist=function(t){var e=t._next,i=t._prev;e?e._prev=i:m._tweenTail=i,i?i._next=e:m._tweenHead=e,t._next=t._prev=null},t.wait=function(t,e){return 0<t&&this._addStep(+t,this._stepTail.props,null,e),this},t.to=function(t,e,i){(null==e||e<0)&&(e=0);var s=this._addStep(+e,null,i);return this._appendProps(t,s),this},t.label=function(t){return this.addLabel(t,this.duration),this},t.call=function(t,e,i){return this._addAction(i||this.target,t,e||[this])},t.set=function(t,e){return this._addAction(e||this.target,this._set,[t])},t.play=function(t){return this._addAction(t||this,this._set,[{paused:!1}])},t.pause=function(t){return this._addAction(t||this,this._set,[{paused:!0}])},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return\"[Tween]\"},t.clone=function(){throw\"Tween can not be cloned.\"},t._addPlugin=function(t){var e=this._pluginIds||(this._pluginIds={}),i=t.ID;if(i&&!e[i]){e[i]=!0;for(var s=this._plugins||(this._plugins=[]),r=t.priority||0,n=0,a=s.length;n<a;n++)if(r<s[n].priority)return void s.splice(n,0,t);s.push(t)}},t._updatePosition=function(t,e){var i=this._stepHead.next,s=this.position,r=this.duration;if(this.target&&i){for(var n=i.next;n&&n.t<=s;)n=(i=i.next).next;var a=e?0===r?1:s/r:(s-i.t)/i.d;this._updateTargetProps(i,a,e)}this._stepPosition=i?s-i.t:0},t._updateTargetProps=function(t,e,i){if(!(this.passive=!!t.passive)){var s,r,n,a,o=t.prev.props,h=t.props;(a=t.ease)&&(e=a(e,0,1,1));var c=this._plugins;t:for(var u in o){if(s=(r=o[u])!==(n=h[u])&&\"number\"==typeof r?r+(n-r)*e:1<=e?n:r,c)for(var l=0,d=c.length;l<d;l++){var _=c[l].change(this,t,u,s,e,i);if(_===m.IGNORE)continue t;void 0!==_&&(s=_)}this.target[u]=s}}},t._runActionsRange=function(t,e,i,s){var r=e<t,n=r?this._actionTail:this._actionHead,a=e,o=t;r&&(a=t,o=e);for(var h=this.position;n;){var c=n.t;if((c===e||o<c&&c<a||s&&c===t)&&(n.funct.apply(n.scope,n.params),h!==this.position))return!0;n=r?n.prev:n.next}},t._appendProps=function(t,e,i){var s,r,n,a,o,h=this._stepHead.props,c=this.target,u=m._plugins,l=e.prev,d=l.props,_=e.props||(e.props=this._cloneProps(d)),p={};for(s in t)if(t.hasOwnProperty(s)&&(p[s]=_[s]=t[s],void 0===h[s])){if(a=void 0,u)for(r=u.length-1;0<=r;r--)if(void 0!==(n=u[r].init(this,s,a))&&(a=n),a===m.IGNORE){delete _[s],delete p[s];break}a!==m.IGNORE&&(void 0===a&&(a=c[s]),d[s]=void 0===a?null:a)}for(s in p){n=t[s];for(var f,g=l;(f=g)&&(g=f.prev);)if(g.props!==f.props){if(void 0!==g.props[s])break;g.props[s]=d[s]}}if(!1!==i&&(u=this._plugins))for(r=u.length-1;0<=r;r--)u[r].step(this,e,p);(o=this._injected)&&(this._injected=null,this._appendProps(o,e,!1)),this.step=e},t._injectProp=function(t,e){(this._injected||(this._injected={}))[t]=e},t._addStep=function(t,e,i,s){var r=new n(this._stepTail,this.duration,t,e,i,s||!1);return this.duration+=t,this._stepTail=this._stepTail.next=r},t._addAction=function(t,e,i){var s=new r(this._actionTail,this.duration,t,e,i);return this._actionTail?this._actionTail.next=s:this._actionHead=s,this._actionTail=s,this},t._set=function(t){for(var e in t)this[e]=t[e]},t._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},createjs.Tween=createjs.promote(m,\"AbstractTween\")}(),function(){\"use strict\";function t(t){var e,i;t instanceof Array||null==t&&1<arguments.length?(e=t,i=arguments[1],t=arguments[2]):t&&(e=t.tweens,i=t.labels),this.AbstractTween_constructor(t),this.tweens=[],e&&this.addTween.apply(this,e),this.setLabels(i),this._init(t)}var e=createjs.extend(t,createjs.AbstractTween);e.addTween=function(t){t._parent&&t._parent.removeTween(t);var e=arguments.length;if(1<e){for(var i=0;i<e;i++)this.addTween(arguments[i]);return arguments[e-1]}if(0===e)return null;this.tweens.push(t),t._parent=this,t.paused=!0;var s=t.duration;return 0<t.loop&&(s*=t.loop+1),s>this.duration&&(this.duration=s),0<=this.rawPosition&&t.setPosition(this.rawPosition),t},e.removeTween=function(t){var e=arguments.length;if(1<e){for(var i=!0,s=0;s<e;s++)i=i&&this.removeTween(arguments[s]);return i}if(0===e)return!0;for(var r=this.tweens,s=r.length;s--;)if(r[s]===t)return r.splice(s,1),t._parent=null,t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.updateDuration=function(){for(var t=this.duration=0,e=this.tweens.length;t<e;t++){var i=this.tweens[t],s=i.duration;0<i.loop&&(s*=i.loop+1),s>this.duration&&(this.duration=s)}},e.toString=function(){return\"[Timeline]\"},e.clone=function(){throw\"Timeline can not be cloned.\"},e._updatePosition=function(t,e){for(var i=this.position,s=0,r=this.tweens.length;s<r;s++)this.tweens[s].setPosition(i,!0,t)},e._runActionsRange=function(t,e,i,s){for(var r=this.position,n=0,a=this.tweens.length;n<a;n++)if(this.tweens[n]._runActions(t,e,i,s),r!==this.position)return!0},createjs.Timeline=createjs.promote(t,\"AbstractTween\")}(),function(){\"use strict\";function e(){throw\"Ease cannot be instantiated.\"}e.none=e.linear=function(t){return t},e.get=function(e){return e<-1?e=-1:1<e&&(e=1),function(t){return 0==e?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},e.sineOut=function(t){return Math.sin(t*Math.PI/2)},e.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},e.backIn=(e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}})(1.7),e.backOut=(e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}})(1.7),e.backInOut=(e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}})(1.7),e.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},e.circOut=function(t){return Math.sqrt(1- --t*t)},e.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.bounceInOut=function(t){return t<.5?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.elasticIn=(e.getElasticIn=function(i,s){var r=2*Math.PI;return function(t){if(0==t||1==t)return t;var e=s/r*Math.asin(1/i);return-(i*Math.pow(2,10*--t)*Math.sin((t-e)*r/s))}})(1,.3),e.elasticOut=(e.getElasticOut=function(i,s){var r=2*Math.PI;return function(t){if(0==t||1==t)return t;var e=s/r*Math.asin(1/i);return i*Math.pow(2,-10*t)*Math.sin((t-e)*r/s)+1}})(1,.3),e.elasticInOut=(e.getElasticInOut=function(i,s){var r=2*Math.PI;return function(t){var e=s/r*Math.asin(1/i);return(t*=2)<1?i*Math.pow(2,10*--t)*Math.sin((t-e)*r/s)*-.5:i*Math.pow(2,-10*--t)*Math.sin((t-e)*r/s)*.5+1}})(1,.3*1.5),createjs.Ease=e}(),function(){\"use strict\";function t(){throw\"MotionGuidePlugin cannot be instantiated.\"}var S=t;S.priority=0,S.ID=\"MotionGuide\",S.install=function(){return createjs.Tween._installPlugin(t),createjs.Tween.IGNORE},S.init=function(t,e,i){\"guide\"==e&&t._addPlugin(S)},S.step=function(t,e,i){for(var s in i)if(\"guide\"===s){var r=e.props.guide,n=S._solveGuideData(i.guide,r);r.valid=!n;var a=r.endData;if(t._injectProp(\"x\",a.x),t._injectProp(\"y\",a.y),n||!r.orient)break;var o=void 0===e.prev.props.rotation?t.target.rotation||0:e.prev.props.rotation;if(r.startOffsetRot=o-r.startData.rotation,\"fixed\"==r.orient)r.endAbsRot=a.rotation+r.startOffsetRot,r.deltaRotation=0;else{var h=void 0===i.rotation?t.target.rotation||0:i.rotation,c=h-r.endData.rotation-r.startOffsetRot,u=c%360;switch(r.endAbsRot=h,r.orient){case\"auto\":r.deltaRotation=c;break;case\"cw\":r.deltaRotation=(360+u)%360+360*Math.abs(c/360|0);break;case\"ccw\":r.deltaRotation=(u-360)%360+-360*Math.abs(c/360|0)}}t._injectProp(\"rotation\",r.endAbsRot)}},S.change=function(t,e,i,s,r,n){var a=e.props.guide;if(a&&e.props!==e.prev.props&&a!==e.prev.props.guide)return\"guide\"===i&&!a.valid||\"x\"==i||\"y\"==i||\"rotation\"===i&&a.orient?createjs.Tween.IGNORE:void S._ratioToPositionData(r,a,t.target)},S.debug=function(t,e,i){t=t.guide||t;var s=S._findPathProblems(t);if(s&&console.error(\"MotionGuidePlugin Error found: \\n\"+s),!e)return s;var r=t.path,n=r.length;for(e.save(),e.lineCap=\"round\",e.lineJoin=\"miter\",e.beginPath(),e.moveTo(r[0],r[1]),c=2;c<n;c+=4)e.quadraticCurveTo(r[c],r[c+1],r[c+2],r[c+3]);e.strokeStyle=\"black\",e.lineWidth=4.5,e.stroke(),e.strokeStyle=\"white\",e.lineWidth=3,e.stroke(),e.closePath();var a=i.length;if(i&&a){var o={},h={};S._solveGuideData(t,o);for(var c=0;c<a;c++)o.orient=\"fixed\",S._ratioToPositionData(i[c],o,h),e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(h.x+9*Math.cos(.0174533*h.rotation),h.y+9*Math.sin(.0174533*h.rotation)),e.strokeStyle=\"black\",e.lineWidth=4.5,e.stroke(),e.strokeStyle=\"red\",e.lineWidth=3,e.stroke(),e.closePath()}return e.restore(),s},S._solveGuideData=function(t,e){var i;if(i=S.debug(t))return i;var s=e.path=t.path;e.orient=t.orient;e.subLines=[],e.totalLength=0,e.startOffsetRot=0,e.deltaRotation=0,e.startData={ratio:0},e.endData={ratio:1},e.animSpan=1;for(var r,n,a,o,h=s.length,c={},u=s[0],l=s[1],d=2;d<h;d+=4){r=s[d],n=s[d+1],a=s[d+2],o=s[d+3];for(var _={weightings:[],estLength:0,portion:0},p=u,f=l,g=1;g<=10;g++){S._getParamsForCurve(u,l,r,n,a,o,g/10,!1,c);var m=c.x-p,v=c.y-f,T=Math.sqrt(m*m+v*v);_.weightings.push(T),_.estLength+=T,p=c.x,f=c.y}for(e.totalLength+=_.estLength,g=0;g<10;g++)T=_.estLength,_.weightings[g]=_.weightings[g]/T;e.subLines.push(_),u=a,l=o}T=e.totalLength;var b=e.subLines.length;for(d=0;d<b;d++)e.subLines[d].portion=e.subLines[d].estLength/T;var E=isNaN(t.start)?0:t.start,y=isNaN(t.end)?1:t.end;S._ratioToPositionData(E,e,e.startData),S._ratioToPositionData(y,e,e.endData),e.startData.ratio=E,e.endData.ratio=y,e.animSpan=e.endData.ratio-e.startData.ratio},S._ratioToPositionData=function(t,e,i){for(var s,r,n,a=e.subLines,o=0,h=t*e.animSpan+e.startData.ratio,c=a.length,u=0;u<c;u++){if(h<=o+(r=a[u].portion)){n=u;break}o+=r}void 0===n&&(n=c-1,o-=r);var l=a[n].weightings,d=r;for(c=l.length,u=0;u<c&&!(h<=o+(r=l[u]*d));u++)o+=r;n=4*n+2,s=u/10+(h-o)/r*.1;var _=e.path;return S._getParamsForCurve(_[n-2],_[n-1],_[n],_[n+1],_[n+2],_[n+3],s,e.orient,i),e.orient&&(.99999<=t&&t<=1.00001&&void 0!==e.endAbsRot?i.rotation=e.endAbsRot:i.rotation+=e.startOffsetRot+t*e.deltaRotation),i},S._getParamsForCurve=function(t,e,i,s,r,n,a,o,h){var c=1-a;h.x=c*c*t+2*c*a*i+a*a*r,h.y=c*c*e+2*c*a*s+a*a*n,o&&(h.rotation=57.2957795*Math.atan2((s-e)*c+(n-s)*a,(i-t)*c+(r-i)*a))},S._findPathProblems=function(t){var e=t.path,i=e&&e.length||0;if(i<6||(i-2)%4){var s=\"\\tCannot parse 'path' array due to invalid number of entries in path. \";return s+=\"There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). \",s+=\"See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\\n\\n\",s+=\"Only [ \"+i+\" ] values found. Expected: \"+Math.max(4*Math.ceil((i-2)/4)+2,6)}for(var r=0;r<i;r++)if(isNaN(e[r]))return\"All data in path array must be numeric\";var n=t.start;if(isNaN(n)&&void 0!==n)return\"'start' out of bounds. Expected 0 to 1, got: \"+n;var a=t.end;if(isNaN(a)&&void 0!==a)return\"'end' out of bounds. Expected 0 to 1, got: \"+a;var o=t.orient;return o&&\"fixed\"!=o&&\"auto\"!=o&&\"cw\"!=o&&\"ccw\"!=o?'Invalid orientation value. Expected [\"fixed\", \"auto\", \"cw\", \"ccw\", undefined], got: '+o:void 0},createjs.MotionGuidePlugin=t}(),function(){\"use strict\";var t=createjs.TweenJS=createjs.TweenJS||{};t.version=\"NEXT\",t.buildDate=\"Thu, 14 Sep 2017 22:19:45 GMT\"}(),this.createjs=this.createjs||{},function(){\"use strict\";function u(){throw\"CSSPlugin cannot be instantiated.\"}var l=u;function d(t,e){for(var i,s,r,n=[!1,t];i=l.TRANSFORM_RE.exec(t);){\"*\"!==i[3]?(s=[i[1]],r=e&&e[n.length],!e||r&&s[0]===r[0]||(console.log(\"transforms don't match: \",s[0],r&&r[0]),e=null),a(i[2],r,s),n.push(s)):n.push(e[n.length])}return n[0]=!!e,n}function a(t,e,i){for(;;){var s=l.TRANSFORM_VALUE_RE.exec(t);if(!s)return i;(i=i||[]).push(+s[1],s[2]),e&&e[i.length-1]!==s[2]&&(console.log(\"transform units don't match: \",i[0],e[i.length-1],s[2]),e=null)}}l.priority=100,l.ID=\"CSS\",l.VALUE_RE=/^(-?[\\d.]+)([a-z%]*)$/,l.TRANSFORM_VALUE_RE=/(?:^| |,)(-?[\\d.]+)([a-z%]*)/g,l.TRANSFORM_RE=/(\\w+?)\\(([^)]+)\\)|(?:^| )(\\*)(?:$| )/g,l.compute=!1,l.install=function(){createjs.Tween._installPlugin(u)},l.init=function(t,e,i){var s=t.pluginData;if(!s.CSS_disabled&&t.target instanceof HTMLElement){var r,n,a,o=i||(r=t.target,n=e,(a=s.CSS_compute)||null==a&&l.compute?window.getComputedStyle(r)[n]:r.style[n]);if(void 0!==o){t._addPlugin(u);var h=s.CSS||(s.CSS={});if(\"transform\"===e)return h[e]=\"_t\",d(o);var c=l.VALUE_RE.exec(o);return null===c?(h[e]=\"\",o):(h[e]=c[2],parseFloat(c[1]))}}},l.step=function(t,e,i){i.transform&&(e.props.transform=d(e.props.transform,e.prev.props.transform))},l.change=function(t,e,i,s,r,n){var a=t.pluginData.CSS[i];if(void 0!==a)return\"transform\"===i?s=function(t,e,i){if(1===i)return e[1];if(0===i||!e[0])return t[1];for(var s,r,n=\"\",a=t.length,o=2;o<a;o++){var h=t[o],c=e[o];for(n+=h[0]+\"(\",s=1,r=h.length;s<r;s+=2)n+=h[s]+(c[s]-h[s])*i,n+=c[s+1]||h[s+1],s<r-2&&(n+=\", \");n+=\")\",o<a-1&&(n+=\" \")}return n}(e.prev.props[i],e.props[i],r):s+=a,t.target.style[i]=s,createjs.Tween.IGNORE},createjs.CSSPlugin=l}(),createjs.CSSPlugin.install(),this.createjs=this.createjs||{},function(){\"use strict\";function l(){throw\"DotPlugin cannot be instantiated.\"}var t=l;t.priority=100,t.ID=\"Dot\",t.install=function(){createjs.Tween._installPlugin(l)},t.init=function(t,e,i){var s=t.pluginData;if(!s.Dot_disabled&&\".\"===e[0]){t._addPlugin(l);for(var r=t.target,n=e.split(\".\"),a=1,o=n.length;a<o-1;a++)if(!(r=r[n[a]]))return createjs.Tween.IGNORE;var h=n[a],c=r[h],u=void 0===i?c:i;return s.Dot=s.Dot||{},s.Dot[e]={t:r,n:h},u}},t.step=function(t,e,i){},t.change=function(t,e,i,s,r,n){var a,o=t.pluginData.Dot;if(o&&(a=o[i]))return a.t[a.n]=s,createjs.Tween.IGNORE},createjs.DotPlugin=t}(),this.createjs=this.createjs||{},function(){\"use strict\";function t(){throw\"RelativePlugin plugin cannot be instantiated.\"}var s=t;s.ID=\"Relative\",s.install=function(){createjs.Tween._installPlugin(t)},s.init=function(t,e,i){t.pluginData.Relative_disabled||t._addPlugin(s)},s.step=function(t,e,i){for(var s in i){var r,n,a=i[s];\"string\"==typeof a&&(r=e.prev.props[s],\"+\"!==(n=a[0])&&\"-\"!==n||isNaN(a=+a+r)||(e.props[s]=a))}},s.change=function(t,e,i,s,r,n){},createjs.RelativePlugin=s}(),createjs.DotPlugin.install(),createjs.RelativePlugin.install(),window.addEventListener(\"DOMContentLoaded\",function(){var t=document.createElement(\"style\");t.innerHTML=\"canvas {-webkit-tap-highlight-color: transparent;}\",document.body.appendChild(t)});\r\n\r\nwindow.createjs = createjs;\r\nmodule.exports = function makeCreateJS() {\r\n  return createjs; // although for ZIM, need namespace on the window\r\n}\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/module.js */ \"YuTi\")(module), __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"yLpj\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYThpcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZGFuemVuL2NyZWF0ZWpzL2NyZWF0ZS5qcz82YmM4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4qIENyZWF0ZUpTXHJcbiogVmlzaXQgaHR0cDovL2NyZWF0ZWpzLmNvbS8gZm9yIGRvY3VtZW50YXRpb24sIHVwZGF0ZXMgYW5kIGV4YW1wbGVzLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDEwIGdza2lubmVyLmNvbSwgaW5jLlxyXG4qXHJcbiogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cclxuKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxyXG4qIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dFxyXG4qIHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLFxyXG4qIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbiogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXHJcbiogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmdcclxuKiBjb25kaXRpb25zOlxyXG4qXHJcbiogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcclxuKiBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuKlxyXG4qIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXHJcbiogRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTXHJcbiogT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcclxuKiBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVFxyXG4qIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLFxyXG4qIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xyXG4qIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1JcclxuKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXHJcbiovXHJcblxyXG52YXIgY3JlYXRlanM9Y3JlYXRlanN8fHt9O2NyZWF0ZWpzLnN0YWdlVHJhbnNmb3JtYWJsZT0hMCxjcmVhdGVqcy5leHRlbmQ9ZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fXJldHVybiBpLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgaX0sY3JlYXRlanMucHJvbW90ZT1mdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPXQucHJvdG90eXBlLHM9T2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoaSl8fGkuX19wcm90b19fO2lmKHMpZm9yKHZhciByIGluIGlbKGUrPVwiX1wiKStcImNvbnN0cnVjdG9yXCJdPXMuY29uc3RydWN0b3IscylpLmhhc093blByb3BlcnR5KHIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzW3JdJiYoaVtlK3JdPXNbcl0pO3JldHVybiB0fSxjcmVhdGVqcy5pbmRleE9mPWZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7Zm9yKHZhciBpPTAscz10Lmxlbmd0aDtpPHM7aSsrKWlmKGU9PT10W2ldKXJldHVybiBpO3JldHVybi0xfSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXt0aHJvd1wiVUlEIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWRcIn10Ll9uZXh0SUQ9MCx0LmdldD1mdW5jdGlvbigpe3JldHVybiB0Ll9uZXh0SUQrK30sY3JlYXRlanMuVUlEPXR9KCksY3JlYXRlanMuZGVwcmVjYXRlPWZ1bmN0aW9uKGUsaSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9XCJEZXByZWNhdGVkIHByb3BlcnR5IG9yIG1ldGhvZCAnXCIraStcIicuIFNlZSBkb2NzIGZvciBpbmZvLlwiO3JldHVybiBjb25zb2xlJiYoY29uc29sZS53YXJuP2NvbnNvbGUud2Fybih0KTpjb25zb2xlLmxvZyh0KSksZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMudHlwZT10LHRoaXMudGFyZ2V0PW51bGwsdGhpcy5jdXJyZW50VGFyZ2V0PW51bGwsdGhpcy5ldmVudFBoYXNlPTAsdGhpcy5idWJibGVzPSEhZSx0aGlzLmNhbmNlbGFibGU9ISFpLHRoaXMudGltZVN0YW1wPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuZGVmYXVsdFByZXZlbnRlZD0hMSx0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZD0hMSx0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMSx0aGlzLnJlbW92ZWQ9ITF9dmFyIGU9dC5wcm90b3R5cGU7ZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD10aGlzLmNhbmNlbGFibGUmJiEwfSxlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMucHJvcGFnYXRpb25TdG9wcGVkPSEwfSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPXRoaXMucHJvcGFnYXRpb25TdG9wcGVkPSEwfSxlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlZD0hMH0sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnR5cGUsdGhpcy5idWJibGVzLHRoaXMuY2FuY2VsYWJsZSl9LGUuc2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0KXRoaXNbZV09dFtlXTtyZXR1cm4gdGhpc30sZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW0V2ZW50ICh0eXBlPVwiK3RoaXMudHlwZStcIildXCJ9LGNyZWF0ZWpzLkV2ZW50PXR9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7dGhpcy5fbGlzdGVuZXJzPW51bGwsdGhpcy5fY2FwdHVyZUxpc3RlbmVycz1udWxsfXZhciBlPXQucHJvdG90eXBlO3QuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt0LmFkZEV2ZW50TGlzdGVuZXI9ZS5hZGRFdmVudExpc3RlbmVyLHQub249ZS5vbix0LnJlbW92ZUV2ZW50TGlzdGVuZXI9dC5vZmY9ZS5yZW1vdmVFdmVudExpc3RlbmVyLHQucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9ZS5yZW1vdmVBbGxFdmVudExpc3RlbmVycyx0Lmhhc0V2ZW50TGlzdGVuZXI9ZS5oYXNFdmVudExpc3RlbmVyLHQuZGlzcGF0Y2hFdmVudD1lLmRpc3BhdGNoRXZlbnQsdC5fZGlzcGF0Y2hFdmVudD1lLl9kaXNwYXRjaEV2ZW50LHQud2lsbFRyaWdnZXI9ZS53aWxsVHJpZ2dlcn0sZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1pP3RoaXMuX2NhcHR1cmVMaXN0ZW5lcnM9dGhpcy5fY2FwdHVyZUxpc3RlbmVyc3x8e306dGhpcy5fbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVyc3x8e30scj1zW3RdO3JldHVybiByJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlLGkpLChyPXNbdF0pP3IucHVzaChlKTpzW3RdPVtlXSxlfSxlLm9uPWZ1bmN0aW9uKHQsZSxpLHMscixuKXtyZXR1cm4gZS5oYW5kbGVFdmVudCYmKGk9aXx8ZSxlPWUuaGFuZGxlRXZlbnQpLGk9aXx8dGhpcyx0aGlzLmFkZEV2ZW50TGlzdGVuZXIodCxmdW5jdGlvbih0KXtlLmNhbGwoaSx0LHIpLHMmJnQucmVtb3ZlKCl9LG4pfSxlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPWk/dGhpcy5fY2FwdHVyZUxpc3RlbmVyczp0aGlzLl9saXN0ZW5lcnM7aWYocyl7dmFyIHI9c1t0XTtpZihyKWZvcih2YXIgbj0wLGE9ci5sZW5ndGg7bjxhO24rKylpZihyW25dPT1lKXsxPT1hP2RlbGV0ZSBzW3RdOnIuc3BsaWNlKG4sMSk7YnJlYWt9fX0sZS5vZmY9ZS5yZW1vdmVFdmVudExpc3RlbmVyLGUucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7dD8odGhpcy5fbGlzdGVuZXJzJiZkZWxldGUgdGhpcy5fbGlzdGVuZXJzW3RdLHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnMmJmRlbGV0ZSB0aGlzLl9jYXB0dXJlTGlzdGVuZXJzW3RdKTp0aGlzLl9saXN0ZW5lcnM9dGhpcy5fY2FwdHVyZUxpc3RlbmVycz1udWxsfSxlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCxlLGkpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgcz10aGlzLl9saXN0ZW5lcnM7aWYoIShlfHxzJiZzW3RdKSlyZXR1cm4hMDt0PW5ldyBjcmVhdGVqcy5FdmVudCh0LGUsaSl9ZWxzZSB0LnRhcmdldCYmdC5jbG9uZSYmKHQ9dC5jbG9uZSgpKTt0cnl7dC50YXJnZXQ9dGhpc31jYXRjaCh0KXt9aWYodC5idWJibGVzJiZ0aGlzLnBhcmVudCl7Zm9yKHZhciByPXRoaXMsbj1bcl07ci5wYXJlbnQ7KW4ucHVzaChyPXIucGFyZW50KTtmb3IodmFyIGE9bi5sZW5ndGgsbz1hLTE7MDw9byYmIXQucHJvcGFnYXRpb25TdG9wcGVkO28tLSluW29dLl9kaXNwYXRjaEV2ZW50KHQsMSsoMD09bykpO2ZvcihvPTE7bzxhJiYhdC5wcm9wYWdhdGlvblN0b3BwZWQ7bysrKW5bb10uX2Rpc3BhdGNoRXZlbnQodCwzKX1lbHNlIHRoaXMuX2Rpc3BhdGNoRXZlbnQodCwyKTtyZXR1cm4hdC5kZWZhdWx0UHJldmVudGVkfSxlLmhhc0V2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGlzdGVuZXJzLGk9dGhpcy5fY2FwdHVyZUxpc3RlbmVycztyZXR1cm4hIShlJiZlW3RdfHxpJiZpW3RdKX0sZS53aWxsVHJpZ2dlcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcztlOyl7aWYoZS5oYXNFdmVudExpc3RlbmVyKHQpKXJldHVybiEwO2U9ZS5wYXJlbnR9cmV0dXJuITF9LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltFdmVudERpc3BhdGNoZXJdXCJ9LGUuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxzLHI9ZTw9Mj90aGlzLl9jYXB0dXJlTGlzdGVuZXJzOnRoaXMuX2xpc3RlbmVycztpZih0JiZyJiYocz1yW3QudHlwZV0pJiYoaT1zLmxlbmd0aCkpe3RyeXt0LmN1cnJlbnRUYXJnZXQ9dGhpc31jYXRjaCh0KXt9dHJ5e3QuZXZlbnRQaGFzZT0wfGV9Y2F0Y2godCl7fXQucmVtb3ZlZD0hMSxzPXMuc2xpY2UoKTtmb3IodmFyIG49MDtuPGkmJiF0LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDtuKyspe3ZhciBhPXNbbl07YS5oYW5kbGVFdmVudD9hLmhhbmRsZUV2ZW50KHQpOmEodCksdC5yZW1vdmVkJiYodGhpcy5vZmYodC50eXBlLGEsMT09ZSksdC5yZW1vdmVkPSExKX19Mj09PWUmJnRoaXMuX2Rpc3BhdGNoRXZlbnQodCwyLjEpfSxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXI9dH0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt0aHJvd1wiVGlja2VyIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuXCJ9bi5SQUZfU1lOQ0hFRD1cInN5bmNoZWRcIixuLlJBRj1cInJhZlwiLG4uVElNRU9VVD1cInRpbWVvdXRcIixuLnRpbWluZ01vZGU9bnVsbCxuLm1heERlbHRhPTAsbi5wYXVzZWQ9ITEsbi5yZW1vdmVFdmVudExpc3RlbmVyPW51bGwsbi5yZW1vdmVBbGxFdmVudExpc3RlbmVycz1udWxsLG4uZGlzcGF0Y2hFdmVudD1udWxsLG4uaGFzRXZlbnRMaXN0ZW5lcj1udWxsLG4uX2xpc3RlbmVycz1udWxsLGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlci5pbml0aWFsaXplKG4pLG4uX2FkZEV2ZW50TGlzdGVuZXI9bi5hZGRFdmVudExpc3RlbmVyLG4uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbigpe3JldHVybiBuLl9pbml0ZWR8fG4uaW5pdCgpLG4uX2FkZEV2ZW50TGlzdGVuZXIuYXBwbHkobixhcmd1bWVudHMpfSxuLl9pbml0ZWQ9ITEsbi5fc3RhcnRUaW1lPTAsbi5fcGF1c2VkVGltZT0wLG4uX3RpY2tzPTAsbi5fcGF1c2VkVGlja3M9MCxuLl9pbnRlcnZhbD01MCxuLl9sYXN0VGltZT0wLG4uX3RpbWVzPW51bGwsbi5fdGlja1RpbWVzPW51bGwsbi5fdGltZXJJZD1udWxsLG4uX3JhZj0hMCxuLl9zZXRJbnRlcnZhbD1mdW5jdGlvbih0KXtuLl9pbnRlcnZhbD10LG4uX2luaXRlZCYmbi5fc2V0dXBUaWNrKCl9LG4uc2V0SW50ZXJ2YWw9Y3JlYXRlanMuZGVwcmVjYXRlKG4uX3NldEludGVydmFsLFwiVGlja2VyLnNldEludGVydmFsXCIpLG4uX2dldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG4uX2ludGVydmFsfSxuLmdldEludGVydmFsPWNyZWF0ZWpzLmRlcHJlY2F0ZShuLl9nZXRJbnRlcnZhbCxcIlRpY2tlci5nZXRJbnRlcnZhbFwiKSxuLl9zZXRGUFM9ZnVuY3Rpb24odCl7bi5fc2V0SW50ZXJ2YWwoMWUzL3QpfSxuLnNldEZQUz1jcmVhdGVqcy5kZXByZWNhdGUobi5fc2V0RlBTLFwiVGlja2VyLnNldEZQU1wiKSxuLl9nZXRGUFM9ZnVuY3Rpb24oKXtyZXR1cm4gMWUzL24uX2ludGVydmFsfSxuLmdldEZQUz1jcmVhdGVqcy5kZXByZWNhdGUobi5fZ2V0RlBTLFwiVGlja2VyLmdldEZQU1wiKTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7aW50ZXJ2YWw6e2dldDpuLl9nZXRJbnRlcnZhbCxzZXQ6bi5fc2V0SW50ZXJ2YWx9LGZyYW1lcmF0ZTp7Z2V0Om4uX2dldEZQUyxzZXQ6bi5fc2V0RlBTfX0pfWNhdGNoKHQpe2NvbnNvbGUubG9nKHQpfW4uaW5pdD1mdW5jdGlvbigpe24uX2luaXRlZHx8KG4uX2luaXRlZD0hMCxuLl90aW1lcz1bXSxuLl90aWNrVGltZXM9W10sbi5fc3RhcnRUaW1lPW4uX2dldFRpbWUoKSxuLl90aW1lcy5wdXNoKG4uX2xhc3RUaW1lPTApLG4uaW50ZXJ2YWw9bi5faW50ZXJ2YWwpfSxuLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIHQ7bi5fcmFmPyh0PXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vQ2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lKSYmdChuLl90aW1lcklkKTpjbGVhclRpbWVvdXQobi5fdGltZXJJZCksbi5yZW1vdmVBbGxFdmVudExpc3RlbmVycyhcInRpY2tcIiksbi5fdGltZXJJZD1uLl90aW1lcz1uLl90aWNrVGltZXM9bnVsbCxuLl9zdGFydFRpbWU9bi5fbGFzdFRpbWU9bi5fdGlja3M9bi5fcGF1c2VkVGltZT0wLG4uX2luaXRlZD0hMX0sbi5nZXRNZWFzdXJlZFRpY2tUaW1lPWZ1bmN0aW9uKHQpe3ZhciBlPTAsaT1uLl90aWNrVGltZXM7aWYoIWl8fGkubGVuZ3RoPDEpcmV0dXJuLTE7dD1NYXRoLm1pbihpLmxlbmd0aCx0fHwwfG4uX2dldEZQUygpKTtmb3IodmFyIHM9MDtzPHQ7cysrKWUrPWlbc107cmV0dXJuIGUvdH0sbi5nZXRNZWFzdXJlZEZQUz1mdW5jdGlvbih0KXt2YXIgZT1uLl90aW1lcztyZXR1cm4hZXx8ZS5sZW5ndGg8Mj8tMToodD1NYXRoLm1pbihlLmxlbmd0aC0xLHR8fDB8bi5fZ2V0RlBTKCkpLDFlMy8oKGVbMF0tZVt0XSkvdCkpfSxuLmdldFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIG4uX3N0YXJ0VGltZT9uLl9nZXRUaW1lKCktKHQ/bi5fcGF1c2VkVGltZTowKTotMX0sbi5nZXRFdmVudFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIG4uX3N0YXJ0VGltZT8obi5fbGFzdFRpbWV8fG4uX3N0YXJ0VGltZSktKHQ/bi5fcGF1c2VkVGltZTowKTotMX0sbi5nZXRUaWNrcz1mdW5jdGlvbih0KXtyZXR1cm4gbi5fdGlja3MtKHQ/bi5fcGF1c2VkVGlja3M6MCl9LG4uX2hhbmRsZVN5bmNoPWZ1bmN0aW9uKCl7bi5fdGltZXJJZD1udWxsLG4uX3NldHVwVGljaygpLG4uX2dldFRpbWUoKS1uLl9sYXN0VGltZT49Ljk3KihuLl9pbnRlcnZhbC0xKSYmbi5fdGljaygpfSxuLl9oYW5kbGVSQUY9ZnVuY3Rpb24oKXtuLl90aW1lcklkPW51bGwsbi5fc2V0dXBUaWNrKCksbi5fdGljaygpfSxuLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKCl7bi5fdGltZXJJZD1udWxsLG4uX3NldHVwVGljaygpLG4uX3RpY2soKX0sbi5fc2V0dXBUaWNrPWZ1bmN0aW9uKCl7aWYobnVsbD09bi5fdGltZXJJZCl7dmFyIHQ9bi50aW1pbmdNb2RlO2lmKHQ9PW4uUkFGX1NZTkNIRUR8fHQ9PW4uUkFGKXt2YXIgZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lO2lmKGUpcmV0dXJuIG4uX3RpbWVySWQ9ZSh0PT1uLlJBRj9uLl9oYW5kbGVSQUY6bi5faGFuZGxlU3luY2gpLHZvaWQobi5fcmFmPSEwKX1uLl9yYWY9ITEsbi5fdGltZXJJZD1zZXRUaW1lb3V0KG4uX2hhbmRsZVRpbWVvdXQsbi5faW50ZXJ2YWwpfX0sbi5fdGljaz1mdW5jdGlvbigpe3ZhciB0LGUsaT1uLnBhdXNlZCxzPW4uX2dldFRpbWUoKSxyPXMtbi5fbGFzdFRpbWU7Zm9yKG4uX2xhc3RUaW1lPXMsbi5fdGlja3MrKyxpJiYobi5fcGF1c2VkVGlja3MrKyxuLl9wYXVzZWRUaW1lKz1yKSxuLmhhc0V2ZW50TGlzdGVuZXIoXCJ0aWNrXCIpJiYodD1uZXcgY3JlYXRlanMuRXZlbnQoXCJ0aWNrXCIpLGU9bi5tYXhEZWx0YSx0LmRlbHRhPWUmJmU8cj9lOnIsdC5wYXVzZWQ9aSx0LnRpbWU9cyx0LnJ1blRpbWU9cy1uLl9wYXVzZWRUaW1lLG4uZGlzcGF0Y2hFdmVudCh0KSksbi5fdGlja1RpbWVzLnVuc2hpZnQobi5fZ2V0VGltZSgpLXMpOzEwMDxuLl90aWNrVGltZXMubGVuZ3RoOyluLl90aWNrVGltZXMucG9wKCk7Zm9yKG4uX3RpbWVzLnVuc2hpZnQocyk7MTAwPG4uX3RpbWVzLmxlbmd0aDspbi5fdGltZXMucG9wKCl9O3ZhciB0PXdpbmRvdyxlPXQucGVyZm9ybWFuY2Uubm93fHx0LnBlcmZvcm1hbmNlLm1vek5vd3x8dC5wZXJmb3JtYW5jZS5tc05vd3x8dC5wZXJmb3JtYW5jZS5vTm93fHx0LnBlcmZvcm1hbmNlLndlYmtpdE5vdztuLl9nZXRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuKGUmJmUuY2FsbCh0LnBlcmZvcm1hbmNlKXx8KG5ldyBEYXRlKS5nZXRUaW1lKCkpLW4uX3N0YXJ0VGltZX0sY3JlYXRlanMuVGlja2VyPW59KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3RoaXMucmVhZHlTdGF0ZT10LnJlYWR5U3RhdGUsdGhpcy5fdmlkZW89dCx0aGlzLl9jYW52YXM9bnVsbCx0aGlzLl9sYXN0VGltZT0tMSx0aGlzLnJlYWR5U3RhdGU8MiYmdC5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheXRocm91Z2hcIix0aGlzLl92aWRlb1JlYWR5LmJpbmQodGhpcykpfXZhciBlPXQucHJvdG90eXBlO2UuZ2V0SW1hZ2U9ZnVuY3Rpb24oKXtpZighKHRoaXMucmVhZHlTdGF0ZTwyKSl7dmFyIHQsZT10aGlzLl9jYW52YXMsaT10aGlzLl92aWRlbztyZXR1cm4gZXx8KChlPXRoaXMuX2NhbnZhcz1jcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSkud2lkdGg9aS52aWRlb1dpZHRoLGUuaGVpZ2h0PWkudmlkZW9IZWlnaHQpLDI8PWkucmVhZHlTdGF0ZSYmaS5jdXJyZW50VGltZSE9PXRoaXMuX2xhc3RUaW1lJiYoKHQ9ZS5nZXRDb250ZXh0KFwiMmRcIikpLmNsZWFyUmVjdCgwLDAsZS53aWR0aCxlLmhlaWdodCksdC5kcmF3SW1hZ2UoaSwwLDAsZS53aWR0aCxlLmhlaWdodCksdGhpcy5fbGFzdFRpbWU9aS5jdXJyZW50VGltZSksZX19LGUuX3ZpZGVvUmVhZHk9ZnVuY3Rpb24oKXt0aGlzLnJlYWR5U3RhdGU9Mn0sY3JlYXRlanMuVmlkZW9CdWZmZXI9dH0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLGkscyxyLG4sYSxvLGgsYyx1KXt0aGlzLkV2ZW50X2NvbnN0cnVjdG9yKHQsZSxpKSx0aGlzLnN0YWdlWD1zLHRoaXMuc3RhZ2VZPXIsdGhpcy5yYXdYPW51bGw9PWg/czpoLHRoaXMucmF3WT1udWxsPT1jP3I6Yyx0aGlzLm5hdGl2ZUV2ZW50PW4sdGhpcy5wb2ludGVySUQ9YSx0aGlzLnByaW1hcnk9ISFvLHRoaXMucmVsYXRlZFRhcmdldD11fXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkV2ZW50KTtlLl9nZXRfbG9jYWxYPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudFRhcmdldC5nbG9iYWxUb0xvY2FsKHRoaXMucmF3WCx0aGlzLnJhd1kpLnh9LGUuX2dldF9sb2NhbFk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50VGFyZ2V0Lmdsb2JhbFRvTG9jYWwodGhpcy5yYXdYLHRoaXMucmF3WSkueX0sZS5fZ2V0X2lzVG91Y2g9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXRoaXMucG9pbnRlcklEfTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx7bG9jYWxYOntnZXQ6ZS5fZ2V0X2xvY2FsWH0sbG9jYWxZOntnZXQ6ZS5fZ2V0X2xvY2FsWX0saXNUb3VjaDp7Z2V0OmUuX2dldF9pc1RvdWNofX0pfWNhdGNoKHQpe31lLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMudHlwZSx0aGlzLmJ1YmJsZXMsdGhpcy5jYW5jZWxhYmxlLHRoaXMuc3RhZ2VYLHRoaXMuc3RhZ2VZLHRoaXMubmF0aXZlRXZlbnQsdGhpcy5wb2ludGVySUQsdGhpcy5wcmltYXJ5LHRoaXMucmF3WCx0aGlzLnJhd1kpfSxlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbTW91c2VFdmVudCAodHlwZT1cIit0aGlzLnR5cGUrXCIgc3RhZ2VYPVwiK3RoaXMuc3RhZ2VYK1wiIHN0YWdlWT1cIit0aGlzLnN0YWdlWStcIildXCJ9LGNyZWF0ZWpzLk1vdXNlRXZlbnQ9Y3JlYXRlanMucHJvbW90ZSh0LFwiRXZlbnRcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkKHQsZSxpLHMscixuKXt0aGlzLnNldFZhbHVlcyh0LGUsaSxzLHIsbil9dmFyIHQ9ZC5wcm90b3R5cGU7ZC5ERUdfVE9fUkFEPU1hdGguUEkvMTgwLGQuaWRlbnRpdHk9bnVsbCx0LnNldFZhbHVlcz1mdW5jdGlvbih0LGUsaSxzLHIsbil7cmV0dXJuIHRoaXMuYT1udWxsPT10PzE6dCx0aGlzLmI9ZXx8MCx0aGlzLmM9aXx8MCx0aGlzLmQ9bnVsbD09cz8xOnMsdGhpcy50eD1yfHwwLHRoaXMudHk9bnx8MCx0aGlzfSx0LmFwcGVuZD1mdW5jdGlvbih0LGUsaSxzLHIsbil7dmFyIGE9dGhpcy5hLG89dGhpcy5iLGg9dGhpcy5jLGM9dGhpcy5kO3JldHVybiAxPT10JiYwPT1lJiYwPT1pJiYxPT1zfHwodGhpcy5hPWEqdCtoKmUsdGhpcy5iPW8qdCtjKmUsdGhpcy5jPWEqaStoKnMsdGhpcy5kPW8qaStjKnMpLHRoaXMudHg9YSpyK2gqbit0aGlzLnR4LHRoaXMudHk9bypyK2Mqbit0aGlzLnR5LHRoaXN9LHQucHJlcGVuZD1mdW5jdGlvbih0LGUsaSxzLHIsbil7dmFyIGE9dGhpcy5hLG89dGhpcy5jLGg9dGhpcy50eDtyZXR1cm4gdGhpcy5hPXQqYStpKnRoaXMuYix0aGlzLmI9ZSphK3MqdGhpcy5iLHRoaXMuYz10Km8raSp0aGlzLmQsdGhpcy5kPWUqbytzKnRoaXMuZCx0aGlzLnR4PXQqaCtpKnRoaXMudHkrcix0aGlzLnR5PWUqaCtzKnRoaXMudHkrbix0aGlzfSx0LmFwcGVuZE1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcHBlbmQodC5hLHQuYix0LmMsdC5kLHQudHgsdC50eSl9LHQucHJlcGVuZE1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmVwZW5kKHQuYSx0LmIsdC5jLHQuZCx0LnR4LHQudHkpfSx0LmFwcGVuZFRyYW5zZm9ybT1mdW5jdGlvbih0LGUsaSxzLHIsbixhLG8saCl7dmFyIGMsdSxsPXIlMzYwPyhjPXIqZC5ERUdfVE9fUkFELHU9TWF0aC5jb3MoYyksTWF0aC5zaW4oYykpOih1PTEsMCk7cmV0dXJuIG58fGE/KG4qPWQuREVHX1RPX1JBRCxhKj1kLkRFR19UT19SQUQsdGhpcy5hcHBlbmQoTWF0aC5jb3MoYSksTWF0aC5zaW4oYSksLU1hdGguc2luKG4pLE1hdGguY29zKG4pLHQsZSksdGhpcy5hcHBlbmQodSppLGwqaSwtbCpzLHUqcywwLDApKTp0aGlzLmFwcGVuZCh1KmksbCppLC1sKnMsdSpzLHQsZSksKG98fGgpJiYodGhpcy50eC09byp0aGlzLmEraCp0aGlzLmMsdGhpcy50eS09byp0aGlzLmIraCp0aGlzLmQpLHRoaXN9LHQucHJlcGVuZFRyYW5zZm9ybT1mdW5jdGlvbih0LGUsaSxzLHIsbixhLG8saCl7dmFyIGMsdSxsPXIlMzYwPyhjPXIqZC5ERUdfVE9fUkFELHU9TWF0aC5jb3MoYyksTWF0aC5zaW4oYykpOih1PTEsMCk7cmV0dXJuKG98fGgpJiYodGhpcy50eC09byx0aGlzLnR5LT1oKSxufHxhPyhuKj1kLkRFR19UT19SQUQsYSo9ZC5ERUdfVE9fUkFELHRoaXMucHJlcGVuZCh1KmksbCppLC1sKnMsdSpzLDAsMCksdGhpcy5wcmVwZW5kKE1hdGguY29zKGEpLE1hdGguc2luKGEpLC1NYXRoLnNpbihuKSxNYXRoLmNvcyhuKSx0LGUpKTp0aGlzLnByZXBlbmQodSppLGwqaSwtbCpzLHUqcyx0LGUpLHRoaXN9LHQucm90YXRlPWZ1bmN0aW9uKHQpe3QqPWQuREVHX1RPX1JBRDt2YXIgZT1NYXRoLmNvcyh0KSxpPU1hdGguc2luKHQpLHM9dGhpcy5hLHI9dGhpcy5iO3JldHVybiB0aGlzLmE9cyplK3RoaXMuYyppLHRoaXMuYj1yKmUrdGhpcy5kKmksdGhpcy5jPS1zKmkrdGhpcy5jKmUsdGhpcy5kPS1yKmkrdGhpcy5kKmUsdGhpc30sdC5za2V3PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqPWQuREVHX1RPX1JBRCxlKj1kLkRFR19UT19SQUQsdGhpcy5hcHBlbmQoTWF0aC5jb3MoZSksTWF0aC5zaW4oZSksLU1hdGguc2luKHQpLE1hdGguY29zKHQpLDAsMCksdGhpc30sdC5zY2FsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmEqPXQsdGhpcy5iKj10LHRoaXMuYyo9ZSx0aGlzLmQqPWUsdGhpc30sdC50cmFuc2xhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50eCs9dGhpcy5hKnQrdGhpcy5jKmUsdGhpcy50eSs9dGhpcy5iKnQrdGhpcy5kKmUsdGhpc30sdC5pZGVudGl0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE9dGhpcy5kPTEsdGhpcy5iPXRoaXMuYz10aGlzLnR4PXRoaXMudHk9MCx0aGlzfSx0LmludmVydD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYSxlPXRoaXMuYixpPXRoaXMuYyxzPXRoaXMuZCxyPXRoaXMudHgsbj10KnMtZSppO3JldHVybiB0aGlzLmE9cy9uLHRoaXMuYj0tZS9uLHRoaXMuYz0taS9uLHRoaXMuZD10L24sdGhpcy50eD0oaSp0aGlzLnR5LXMqcikvbix0aGlzLnR5PS0odCp0aGlzLnR5LWUqcikvbix0aGlzfSx0LmlzSWRlbnRpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMudHgmJjA9PT10aGlzLnR5JiYxPT09dGhpcy5hJiYwPT09dGhpcy5iJiYwPT09dGhpcy5jJiYxPT09dGhpcy5kfSx0LmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50eD09PXQudHgmJnRoaXMudHk9PT10LnR5JiZ0aGlzLmE9PT10LmEmJnRoaXMuYj09PXQuYiYmdGhpcy5jPT09dC5jJiZ0aGlzLmQ9PT10LmR9LHQudHJhbnNmb3JtUG9pbnQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybihpPWl8fHt9KS54PXQqdGhpcy5hK2UqdGhpcy5jK3RoaXMudHgsaS55PXQqdGhpcy5iK2UqdGhpcy5kK3RoaXMudHksaX0sdC5kZWNvbXBvc2U9ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9e30pLHQueD10aGlzLnR4LHQueT10aGlzLnR5LHQuc2NhbGVYPU1hdGguc3FydCh0aGlzLmEqdGhpcy5hK3RoaXMuYip0aGlzLmIpLHQuc2NhbGVZPU1hdGguc3FydCh0aGlzLmMqdGhpcy5jK3RoaXMuZCp0aGlzLmQpO3ZhciBlPU1hdGguYXRhbjIoLXRoaXMuYyx0aGlzLmQpLGk9TWF0aC5hdGFuMih0aGlzLmIsdGhpcy5hKTtyZXR1cm4gTWF0aC5hYnMoMS1lL2kpPDFlLTU/KHQucm90YXRpb249aS9kLkRFR19UT19SQUQsdGhpcy5hPDAmJjA8PXRoaXMuZCYmKHQucm90YXRpb24rPXQucm90YXRpb248PTA/MTgwOi0xODApLHQuc2tld1g9dC5za2V3WT0wKToodC5za2V3WD1lL2QuREVHX1RPX1JBRCx0LnNrZXdZPWkvZC5ERUdfVE9fUkFEKSx0fSx0LmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0VmFsdWVzKHQuYSx0LmIsdC5jLHQuZCx0LnR4LHQudHkpfSx0LmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBkKHRoaXMuYSx0aGlzLmIsdGhpcy5jLHRoaXMuZCx0aGlzLnR4LHRoaXMudHkpfSx0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbTWF0cml4MkQgKGE9XCIrdGhpcy5hK1wiIGI9XCIrdGhpcy5iK1wiIGM9XCIrdGhpcy5jK1wiIGQ9XCIrdGhpcy5kK1wiIHR4PVwiK3RoaXMudHgrXCIgdHk9XCIrdGhpcy50eStcIildXCJ9LGQuaWRlbnRpdHk9bmV3IGQsY3JlYXRlanMuTWF0cml4MkQ9ZH0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLGkscyxyKXt0aGlzLnNldFZhbHVlcyh0LGUsaSxzLHIpfXZhciBlPXQucHJvdG90eXBlO2Uuc2V0VmFsdWVzPWZ1bmN0aW9uKHQsZSxpLHMscil7cmV0dXJuIHRoaXMudmlzaWJsZT1udWxsPT10fHwhIXQsdGhpcy5hbHBoYT1udWxsPT1lPzE6ZSx0aGlzLnNoYWRvdz1pLHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uPXMsdGhpcy5tYXRyaXg9cnx8dGhpcy5tYXRyaXgmJnRoaXMubWF0cml4LmlkZW50aXR5KCl8fG5ldyBjcmVhdGVqcy5NYXRyaXgyRCx0aGlzfSxlLmFwcGVuZD1mdW5jdGlvbih0LGUsaSxzLHIpe3JldHVybiB0aGlzLmFscGhhKj1lLHRoaXMuc2hhZG93PWl8fHRoaXMuc2hhZG93LHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uPXN8fHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uLHRoaXMudmlzaWJsZT10aGlzLnZpc2libGUmJnQsciYmdGhpcy5tYXRyaXguYXBwZW5kTWF0cml4KHIpLHRoaXN9LGUucHJlcGVuZD1mdW5jdGlvbih0LGUsaSxzLHIpe3JldHVybiB0aGlzLmFscGhhKj1lLHRoaXMuc2hhZG93PXRoaXMuc2hhZG93fHxpLHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uPXRoaXMuY29tcG9zaXRlT3BlcmF0aW9ufHxzLHRoaXMudmlzaWJsZT10aGlzLnZpc2libGUmJnQsciYmdGhpcy5tYXRyaXgucHJlcGVuZE1hdHJpeChyKSx0aGlzfSxlLmlkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlzaWJsZT0hMCx0aGlzLmFscGhhPTEsdGhpcy5zaGFkb3c9dGhpcy5jb21wb3NpdGVPcGVyYXRpb249bnVsbCx0aGlzLm1hdHJpeC5pZGVudGl0eSgpLHRoaXN9LGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5hbHBoYSx0aGlzLnNoYWRvdyx0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbix0aGlzLnZpc2libGUsdGhpcy5tYXRyaXguY2xvbmUoKSl9LGNyZWF0ZWpzLkRpc3BsYXlQcm9wcz10fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuc2V0VmFsdWVzKHQsZSl9dmFyIGU9dC5wcm90b3R5cGU7ZS5zZXRWYWx1ZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PXR8fDAsdGhpcy55PWV8fDAsdGhpc30sZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpc30sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55KX0sZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1BvaW50ICh4PVwiK3RoaXMueCtcIiB5PVwiK3RoaXMueStcIildXCJ9LGNyZWF0ZWpzLlBvaW50PXR9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSxpLHMpe3RoaXMuc2V0VmFsdWVzKHQsZSxpLHMpfXZhciB0PW4ucHJvdG90eXBlO3Quc2V0VmFsdWVzPWZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLng9dHx8MCx0aGlzLnk9ZXx8MCx0aGlzLndpZHRoPWl8fDAsdGhpcy5oZWlnaHQ9c3x8MCx0aGlzfSx0LmV4dGVuZD1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gcz1zfHwwLHQrKGk9aXx8MCk+dGhpcy54K3RoaXMud2lkdGgmJih0aGlzLndpZHRoPXQraS10aGlzLngpLGUrcz50aGlzLnkrdGhpcy5oZWlnaHQmJih0aGlzLmhlaWdodD1lK3MtdGhpcy55KSx0PHRoaXMueCYmKHRoaXMud2lkdGgrPXRoaXMueC10LHRoaXMueD10KSxlPHRoaXMueSYmKHRoaXMuaGVpZ2h0Kz10aGlzLnktZSx0aGlzLnk9ZSksdGhpc30sdC5wYWQ9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMueC09ZSx0aGlzLnktPXQsdGhpcy53aWR0aCs9ZStzLHRoaXMuaGVpZ2h0Kz10K2ksdGhpc30sdC5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFZhbHVlcyh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpfSx0LmNvbnRhaW5zPWZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiBpPWl8fDAscz1zfHwwLHQ+PXRoaXMueCYmdCtpPD10aGlzLngrdGhpcy53aWR0aCYmZT49dGhpcy55JiZlK3M8PXRoaXMueSt0aGlzLmhlaWdodH0sdC51bmlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLmV4dGVuZCh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpfSx0LmludGVyc2VjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10LngsaT10Lnkscz1lK3Qud2lkdGgscj1pK3QuaGVpZ2h0O3JldHVybiB0aGlzLng+ZSYmKGU9dGhpcy54KSx0aGlzLnk+aSYmKGk9dGhpcy55KSx0aGlzLngrdGhpcy53aWR0aDxzJiYocz10aGlzLngrdGhpcy53aWR0aCksdGhpcy55K3RoaXMuaGVpZ2h0PHImJihyPXRoaXMueSt0aGlzLmhlaWdodCksczw9ZXx8cjw9aT9udWxsOm5ldyBuKGUsaSxzLWUsci1pKX0sdC5pbnRlcnNlY3RzPWZ1bmN0aW9uKHQpe3JldHVybiB0Lng8PXRoaXMueCt0aGlzLndpZHRoJiZ0aGlzLng8PXQueCt0LndpZHRoJiZ0Lnk8PXRoaXMueSt0aGlzLmhlaWdodCYmdGhpcy55PD10LnkrdC5oZWlnaHR9LHQuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoPD0wfHx0aGlzLmhlaWdodDw9MH0sdC5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbUmVjdGFuZ2xlICh4PVwiK3RoaXMueCtcIiB5PVwiK3RoaXMueStcIiB3aWR0aD1cIit0aGlzLndpZHRoK1wiIGhlaWdodD1cIit0aGlzLmhlaWdodCtcIildXCJ9LGNyZWF0ZWpzLlJlY3RhbmdsZT1ufSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUsaSxzLHIsbixhKXt0LmFkZEV2ZW50TGlzdGVuZXImJih0aGlzLnRhcmdldD10LHRoaXMub3ZlckxhYmVsPW51bGw9PWk/XCJvdmVyXCI6aSx0aGlzLm91dExhYmVsPW51bGw9PWU/XCJvdXRcIjplLHRoaXMuZG93bkxhYmVsPW51bGw9PXM/XCJkb3duXCI6cyx0aGlzLnBsYXk9cix0aGlzLl9pc1ByZXNzZWQ9ITEsdGhpcy5faXNPdmVyPSExLHRoaXMuX2VuYWJsZWQ9ITEsdC5tb3VzZUNoaWxkcmVuPSExLHRoaXMuZW5hYmxlZD0hMCx0aGlzLmhhbmRsZUV2ZW50KHt9KSxuJiYoYSYmKG4uYWN0aW9uc0VuYWJsZWQ9ITEsbi5nb3RvQW5kU3RvcCYmbi5nb3RvQW5kU3RvcChhKSksdC5oaXRBcmVhPW4pKX12YXIgZT10LnByb3RvdHlwZTtlLl9zZXRFbmFibGVkPWZ1bmN0aW9uKHQpe3ZhciBlO3QhPXRoaXMuX2VuYWJsZWQmJihlPXRoaXMudGFyZ2V0LCh0aGlzLl9lbmFibGVkPXQpPyhlLmN1cnNvcj1cInBvaW50ZXJcIixlLmFkZEV2ZW50TGlzdGVuZXIoXCJyb2xsb3ZlclwiLHRoaXMpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInJvbGxvdXRcIix0aGlzKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJwcmVzc3VwXCIsdGhpcyksZS5fcmVzZXQmJihlLl9fcmVzZXQ9ZS5fcmVzZXQsZS5fcmVzZXQ9dGhpcy5fcmVzZXQpKTooZS5jdXJzb3I9bnVsbCxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyb2xsb3ZlclwiLHRoaXMpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJvbGxvdXRcIix0aGlzKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwcmVzc3VwXCIsdGhpcyksZS5fX3Jlc2V0JiYoZS5fcmVzZXQ9ZS5fX3Jlc2V0LGRlbGV0ZSBlLl9fcmVzZXQpKSl9LGUuc2V0RW5hYmxlZD1jcmVhdGVqcy5kZXByZWNhdGUoZS5fc2V0RW5hYmxlZCxcIkJ1dHRvbkhlbHBlci5zZXRFbmFibGVkXCIpLGUuX2dldEVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sZS5nZXRFbmFibGVkPWNyZWF0ZWpzLmRlcHJlY2F0ZShlLl9nZXRFbmFibGVkLFwiQnV0dG9uSGVscGVyLmdldEVuYWJsZWRcIik7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse2VuYWJsZWQ6e2dldDplLl9nZXRFbmFibGVkLHNldDplLl9zZXRFbmFibGVkfX0pfWNhdGNoKHQpe31lLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbQnV0dG9uSGVscGVyXVwifSxlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudGFyZ2V0LGk9dC50eXBlLHM9XCJtb3VzZWRvd25cIj09aT8odGhpcy5faXNQcmVzc2VkPSEwLHRoaXMuZG93bkxhYmVsKTpcInByZXNzdXBcIj09aT8odGhpcy5faXNQcmVzc2VkPSExLHRoaXMuX2lzT3Zlcj90aGlzLm92ZXJMYWJlbDp0aGlzLm91dExhYmVsKTpcInJvbGxvdmVyXCI9PWk/KHRoaXMuX2lzT3Zlcj0hMCx0aGlzLl9pc1ByZXNzZWQ/dGhpcy5kb3duTGFiZWw6dGhpcy5vdmVyTGFiZWwpOih0aGlzLl9pc092ZXI9ITEsdGhpcy5faXNQcmVzc2VkP3RoaXMub3ZlckxhYmVsOnRoaXMub3V0TGFiZWwpO3RoaXMucGxheT9lLmdvdG9BbmRQbGF5JiZlLmdvdG9BbmRQbGF5KHMpOmUuZ290b0FuZFN0b3AmJmUuZ290b0FuZFN0b3Aocyl9LGUuX3Jlc2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXVzZWQ7dGhpcy5fX3Jlc2V0KCksdGhpcy5wYXVzZWQ9dH0sY3JlYXRlanMuQnV0dG9uSGVscGVyPXR9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSxpLHMpe3RoaXMuY29sb3I9dHx8XCJibGFja1wiLHRoaXMub2Zmc2V0WD1lfHwwLHRoaXMub2Zmc2V0WT1pfHwwLHRoaXMuYmx1cj1zfHwwfXZhciBlPXQucHJvdG90eXBlO3QuaWRlbnRpdHk9bmV3IHQoXCJ0cmFuc3BhcmVudFwiLDAsMCwwKSxlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbU2hhZG93XVwifSxlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMuY29sb3IsdGhpcy5vZmZzZXRYLHRoaXMub2Zmc2V0WSx0aGlzLmJsdXIpfSxjcmVhdGVqcy5TaGFkb3c9dH0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCl7dGhpcy5FdmVudERpc3BhdGNoZXJfY29uc3RydWN0b3IoKSx0aGlzLmNvbXBsZXRlPSEwLHRoaXMuZnJhbWVyYXRlPTAsdGhpcy5fYW5pbWF0aW9ucz1udWxsLHRoaXMuX2ZyYW1lcz1udWxsLHRoaXMuX2ltYWdlcz1udWxsLHRoaXMuX2RhdGE9bnVsbCx0aGlzLl9sb2FkQ291bnQ9MCx0aGlzLl9mcmFtZUhlaWdodD0wLHRoaXMuX2ZyYW1lV2lkdGg9MCx0aGlzLl9udW1GcmFtZXM9MCx0aGlzLl9yZWdYPTAsdGhpcy5fcmVnWT0wLHRoaXMuX3NwYWNpbmc9MCx0aGlzLl9tYXJnaW49MCx0aGlzLl9wYXJzZURhdGEodCl9dmFyIGU9Y3JlYXRlanMuZXh0ZW5kKHQsY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyKTtlLl9nZXRBbmltYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvbnMuc2xpY2UoKX0sZS5nZXRBbmltYXRpb25zPWNyZWF0ZWpzLmRlcHJlY2F0ZShlLl9nZXRBbmltYXRpb25zLFwiU3ByaXRlU2hlZXQuZ2V0QW5pbWF0aW9uc1wiKTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx7YW5pbWF0aW9uczp7Z2V0OmUuX2dldEFuaW1hdGlvbnN9fSl9Y2F0Y2godCl7fWUuZ2V0TnVtRnJhbWVzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpcmV0dXJuIHRoaXMuX2ZyYW1lcz90aGlzLl9mcmFtZXMubGVuZ3RoOnRoaXMuX251bUZyYW1lc3x8MDt2YXIgZT10aGlzLl9kYXRhW3RdO3JldHVybiBudWxsPT1lPzA6ZS5mcmFtZXMubGVuZ3RofSxlLmdldEFuaW1hdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGF0YVt0XX0sZS5nZXRGcmFtZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5fZnJhbWVzJiYoZT10aGlzLl9mcmFtZXNbdF0pP2U6bnVsbH0sZS5nZXRGcmFtZUJvdW5kcz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0RnJhbWUodCk7cmV0dXJuIGk/KGV8fG5ldyBjcmVhdGVqcy5SZWN0YW5nbGUpLnNldFZhbHVlcygtaS5yZWdYLC1pLnJlZ1ksaS5yZWN0LndpZHRoLGkucmVjdC5oZWlnaHQpOm51bGx9LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltTcHJpdGVTaGVldF1cIn0sZS5jbG9uZT1mdW5jdGlvbigpe3Rocm93XCJTcHJpdGVTaGVldCBjYW5ub3QgYmUgY2xvbmVkLlwifSxlLl9wYXJzZURhdGE9ZnVuY3Rpb24odCl7dmFyIGUsaSxzLHI7aWYobnVsbCE9dCl7aWYodGhpcy5mcmFtZXJhdGU9dC5mcmFtZXJhdGV8fDAsdC5pbWFnZXMmJjA8KGk9dC5pbWFnZXMubGVuZ3RoKSlmb3IobD10aGlzLl9pbWFnZXM9W10sZT0wO2U8aTtlKyspe3ZhciBuLGE9dC5pbWFnZXNbZV07XCJzdHJpbmdcIj09dHlwZW9mIGEmJihuPWEsKGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSkuc3JjPW4pLGwucHVzaChhKSxhLmdldENvbnRleHR8fGEubmF0dXJhbFdpZHRofHwodGhpcy5fbG9hZENvdW50KyssdGhpcy5jb21wbGV0ZT0hMSxmdW5jdGlvbih0LGUpe2Eub25sb2FkPWZ1bmN0aW9uKCl7dC5faGFuZGxlSW1hZ2VMb2FkKGUpfX0odGhpcyxuKSxmdW5jdGlvbih0LGUpe2Eub25lcnJvcj1mdW5jdGlvbigpe3QuX2hhbmRsZUltYWdlRXJyb3IoZSl9fSh0aGlzLG4pKX1pZihudWxsIT10LmZyYW1lcylpZihBcnJheS5pc0FycmF5KHQuZnJhbWVzKSlmb3IodGhpcy5fZnJhbWVzPVtdLGU9MCxpPShsPXQuZnJhbWVzKS5sZW5ndGg7ZTxpO2UrKyl7dmFyIG89bFtlXTt0aGlzLl9mcmFtZXMucHVzaCh7aW1hZ2U6dGhpcy5faW1hZ2VzW29bNF0/b1s0XTowXSxyZWN0Om5ldyBjcmVhdGVqcy5SZWN0YW5nbGUob1swXSxvWzFdLG9bMl0sb1szXSkscmVnWDpvWzVdfHwwLHJlZ1k6b1s2XXx8MH0pfWVsc2Ugcz10LmZyYW1lcyx0aGlzLl9mcmFtZVdpZHRoPXMud2lkdGgsdGhpcy5fZnJhbWVIZWlnaHQ9cy5oZWlnaHQsdGhpcy5fcmVnWD1zLnJlZ1h8fDAsdGhpcy5fcmVnWT1zLnJlZ1l8fDAsdGhpcy5fc3BhY2luZz1zLnNwYWNpbmd8fDAsdGhpcy5fbWFyZ2luPXMubWFyZ2lufHwwLHRoaXMuX251bUZyYW1lcz1zLmNvdW50LDA9PXRoaXMuX2xvYWRDb3VudCYmdGhpcy5fY2FsY3VsYXRlRnJhbWVzKCk7aWYodGhpcy5fYW5pbWF0aW9ucz1bXSxudWxsIT0ocz10LmFuaW1hdGlvbnMpKWZvcihyIGluIHRoaXMuX2RhdGE9e30scyl7dmFyIGg9e25hbWU6cn0sYz1zW3JdO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBjKWw9aC5mcmFtZXM9W2NdO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShjKSlpZigxPT1jLmxlbmd0aCloLmZyYW1lcz1bY1swXV07ZWxzZSBmb3IoaC5zcGVlZD1jWzNdLGgubmV4dD1jWzJdLGw9aC5mcmFtZXM9W10sZT1jWzBdO2U8PWNbMV07ZSsrKWwucHVzaChlKTtlbHNle2guc3BlZWQ9Yy5zcGVlZCxoLm5leHQ9Yy5uZXh0O3ZhciB1PWMuZnJhbWVzLGw9aC5mcmFtZXM9XCJudW1iZXJcIj09dHlwZW9mIHU/W3VdOnUuc2xpY2UoMCl9ITAhPT1oLm5leHQmJnZvaWQgMCE9PWgubmV4dHx8KGgubmV4dD1yKSwoITE9PT1oLm5leHR8fGwubGVuZ3RoPDImJmgubmV4dD09cikmJihoLm5leHQ9bnVsbCksaC5zcGVlZHx8KGguc3BlZWQ9MSksdGhpcy5fYW5pbWF0aW9ucy5wdXNoKHIpLHRoaXMuX2RhdGFbcl09aH19fSxlLl9oYW5kbGVJbWFnZUxvYWQ9ZnVuY3Rpb24odCl7MD09LS10aGlzLl9sb2FkQ291bnQmJih0aGlzLl9jYWxjdWxhdGVGcmFtZXMoKSx0aGlzLmNvbXBsZXRlPSEwLHRoaXMuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpKX0sZS5faGFuZGxlSW1hZ2VFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgY3JlYXRlanMuRXZlbnQoXCJlcnJvclwiKTtlLnNyYz10LHRoaXMuZGlzcGF0Y2hFdmVudChlKSwwPT0tLXRoaXMuX2xvYWRDb3VudCYmdGhpcy5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIil9LGUuX2NhbGN1bGF0ZUZyYW1lcz1mdW5jdGlvbigpe2lmKCF0aGlzLl9mcmFtZXMmJjAhPXRoaXMuX2ZyYW1lV2lkdGgpe3RoaXMuX2ZyYW1lcz1bXTt2YXIgdD10aGlzLl9udW1GcmFtZXN8fDFlNSxlPTAsaT10aGlzLl9mcmFtZVdpZHRoLHM9dGhpcy5fZnJhbWVIZWlnaHQscj10aGlzLl9zcGFjaW5nLG49dGhpcy5fbWFyZ2luO3Q6Zm9yKHZhciBhPTAsbz10aGlzLl9pbWFnZXM7YTxvLmxlbmd0aDthKyspZm9yKHZhciBoPW9bYV0sYz1oLndpZHRofHxoLm5hdHVyYWxXaWR0aCx1PWguaGVpZ2h0fHxoLm5hdHVyYWxIZWlnaHQsbD1uO2w8PXUtbi1zOyl7Zm9yKHZhciBkPW47ZDw9Yy1uLWk7KXtpZih0PD1lKWJyZWFrIHQ7ZSsrLHRoaXMuX2ZyYW1lcy5wdXNoKHtpbWFnZTpoLHJlY3Q6bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZShkLGwsaSxzKSxyZWdYOnRoaXMuX3JlZ1gscmVnWTp0aGlzLl9yZWdZfSksZCs9aStyfWwrPXMrcn10aGlzLl9udW1GcmFtZXM9ZX19LGNyZWF0ZWpzLlNwcml0ZVNoZWV0PWNyZWF0ZWpzLnByb21vdGUodCxcIkV2ZW50RGlzcGF0Y2hlclwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHYoKXt0aGlzLmNvbW1hbmQ9bnVsbCx0aGlzLl9zdHJva2U9bnVsbCx0aGlzLl9zdHJva2VTdHlsZT1udWxsLHRoaXMuX29sZFN0cm9rZVN0eWxlPW51bGwsdGhpcy5fc3Ryb2tlRGFzaD1udWxsLHRoaXMuX29sZFN0cm9rZURhc2g9bnVsbCx0aGlzLl9zdHJva2VJZ25vcmVTY2FsZT0hMSx0aGlzLl9maWxsPW51bGwsdGhpcy5faW5zdHJ1Y3Rpb25zPVtdLHRoaXMuX2NvbW1pdEluZGV4PTAsdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zPVtdLHRoaXMuX2RpcnR5PSExLHRoaXMuX3N0b3JlSW5kZXg9MCx0aGlzLmNsZWFyKCl9dmFyIHQ9di5wcm90b3R5cGUsaD12O3YuZ2V0UkdCPWZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiBudWxsIT10JiZudWxsPT1pJiYocz1lLGk9MjU1JnQsZT10Pj44JjI1NSx0PXQ+PjE2JjI1NSksbnVsbD09cz9cInJnYihcIit0K1wiLFwiK2UrXCIsXCIraStcIilcIjpcInJnYmEoXCIrdCtcIixcIitlK1wiLFwiK2krXCIsXCIrcytcIilcIn0sdi5nZXRIU0w9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIG51bGw9PXM/XCJoc2woXCIrdCUzNjArXCIsXCIrZStcIiUsXCIraStcIiUpXCI6XCJoc2xhKFwiK3QlMzYwK1wiLFwiK2UrXCIlLFwiK2krXCIlLFwiK3MrXCIpXCJ9LHYuQkFTRV82ND17QTowLEI6MSxDOjIsRDozLEU6NCxGOjUsRzo2LEg6NyxJOjgsSjo5LEs6MTAsTDoxMSxNOjEyLE46MTMsTzoxNCxQOjE1LFE6MTYsUjoxNyxTOjE4LFQ6MTksVToyMCxWOjIxLFc6MjIsWDoyMyxZOjI0LFo6MjUsYToyNixiOjI3LGM6MjgsZDoyOSxlOjMwLGY6MzEsZzozMixoOjMzLGk6MzQsajozNSxrOjM2LGw6MzcsbTozOCxuOjM5LG86NDAscDo0MSxxOjQyLHI6NDMsczo0NCx0OjQ1LHU6NDYsdjo0Nyx3OjQ4LHg6NDkseTo1MCx6OjUxLDA6NTIsMTo1MywyOjU0LDM6NTUsNDo1Niw1OjU3LDY6NTgsNzo1OSw4OjYwLDk6NjEsXCIrXCI6NjIsXCIvXCI6NjN9LHYuU1RST0tFX0NBUFNfTUFQPVtcImJ1dHRcIixcInJvdW5kXCIsXCJzcXVhcmVcIl0sdi5TVFJPS0VfSk9JTlRTX01BUD1bXCJtaXRlclwiLFwicm91bmRcIixcImJldmVsXCJdO3ZhciBlPWNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2UuZ2V0Q29udGV4dCYmKHYuX2N0eD1lLmdldENvbnRleHQoXCIyZFwiKSxlLndpZHRoPWUuaGVpZ2h0PTEpLHQuX2dldEluc3RydWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKSx0aGlzLl9pbnN0cnVjdGlvbnN9LHQuZ2V0SW5zdHJ1Y3Rpb25zPWNyZWF0ZWpzLmRlcHJlY2F0ZSh0Ll9nZXRJbnN0cnVjdGlvbnMsXCJHcmFwaGljcy5nZXRJbnN0cnVjdGlvbnNcIik7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQse2luc3RydWN0aW9uczp7Z2V0OnQuX2dldEluc3RydWN0aW9uc319KX1jYXRjaCh0KXt9dC5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLl9pbnN0cnVjdGlvbnMubGVuZ3RofHx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMubGVuZ3RoKX0sdC5kcmF3PWZ1bmN0aW9uKHQsZSl7dGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCk7Zm9yKHZhciBpPXRoaXMuX2luc3RydWN0aW9ucyxzPXRoaXMuX3N0b3JlSW5kZXgscj1pLmxlbmd0aDtzPHI7cysrKWlbc10uZXhlYyh0LGUpfSx0LmRyYXdBc1BhdGg9ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCk7Zm9yKHZhciBlLGk9dGhpcy5faW5zdHJ1Y3Rpb25zLHM9dGhpcy5fc3RvcmVJbmRleCxyPWkubGVuZ3RoO3M8cjtzKyspITEhPT0oZT1pW3NdKS5wYXRoJiZlLmV4ZWModCl9LHQubW92ZVRvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBoLk1vdmVUbyh0LGUpLCEwKX0sdC5saW5lVG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hcHBlbmQobmV3IGguTGluZVRvKHQsZSkpfSx0LmFyY1RvPWZ1bmN0aW9uKHQsZSxpLHMscil7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBoLkFyY1RvKHQsZSxpLHMscikpfSx0LmFyYz1mdW5jdGlvbih0LGUsaSxzLHIsbil7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBoLkFyYyh0LGUsaSxzLHIsbikpfSx0LnF1YWRyYXRpY0N1cnZlVG89ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBoLlF1YWRyYXRpY0N1cnZlVG8odCxlLGkscykpfSx0LmJlemllckN1cnZlVG89ZnVuY3Rpb24odCxlLGkscyxyLG4pe3JldHVybiB0aGlzLmFwcGVuZChuZXcgaC5CZXppZXJDdXJ2ZVRvKHQsZSxpLHMscixuKSl9LHQucmVjdD1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy5hcHBlbmQobmV3IGguUmVjdCh0LGUsaSxzKSl9LHQuY2xvc2VQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5sZW5ndGg/dGhpcy5hcHBlbmQobmV3IGguQ2xvc2VQYXRoKTp0aGlzfSx0LmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RydWN0aW9ucy5sZW5ndGg9dGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLmxlbmd0aD10aGlzLl9jb21taXRJbmRleD0wLHRoaXMuX3N0cm9rZVN0eWxlPXRoaXMuX29sZFN0cm9rZVN0eWxlPXRoaXMuX3N0cm9rZT10aGlzLl9maWxsPXRoaXMuX3N0cm9rZURhc2g9dGhpcy5fb2xkU3Ryb2tlRGFzaD1udWxsLHRoaXMuX2RpcnR5PXRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlPSExLHRoaXN9LHQuYmVnaW5GaWxsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zZXRGaWxsKHQ/bmV3IGguRmlsbCh0KTpudWxsKX0sdC5iZWdpbkxpbmVhckdyYWRpZW50RmlsbD1mdW5jdGlvbih0LGUsaSxzLHIsbil7cmV0dXJuIHRoaXMuX3NldEZpbGwoKG5ldyBoLkZpbGwpLmxpbmVhckdyYWRpZW50KHQsZSxpLHMscixuKSl9LHQuYmVnaW5SYWRpYWxHcmFkaWVudEZpbGw9ZnVuY3Rpb24odCxlLGkscyxyLG4sYSxvKXtyZXR1cm4gdGhpcy5fc2V0RmlsbCgobmV3IGguRmlsbCkucmFkaWFsR3JhZGllbnQodCxlLGkscyxyLG4sYSxvKSl9LHQuYmVnaW5CaXRtYXBGaWxsPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5fc2V0RmlsbChuZXcgaC5GaWxsKG51bGwsaSkuYml0bWFwKHQsZSkpfSx0LmVuZEZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpbkZpbGwoKX0sdC5zZXRTdHJva2VTdHlsZT1mdW5jdGlvbih0LGUsaSxzLHIpe3JldHVybiB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoITApLHRoaXMuX3N0cm9rZVN0eWxlPXRoaXMuY29tbWFuZD1uZXcgaC5TdHJva2VTdHlsZSh0LGUsaSxzLHIpLHRoaXMuX3N0cm9rZSYmKHRoaXMuX3N0cm9rZS5pZ25vcmVTY2FsZT1yKSx0aGlzLl9zdHJva2VJZ25vcmVTY2FsZT1yLHRoaXN9LHQuc2V0U3Ryb2tlRGFzaD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoITApLHRoaXMuX3N0cm9rZURhc2g9dGhpcy5jb21tYW5kPW5ldyBoLlN0cm9rZURhc2godCxlKSx0aGlzfSx0LmJlZ2luU3Ryb2tlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zZXRTdHJva2UodD9uZXcgaC5TdHJva2UodCk6bnVsbCl9LHQuYmVnaW5MaW5lYXJHcmFkaWVudFN0cm9rZT1mdW5jdGlvbih0LGUsaSxzLHIsbil7cmV0dXJuIHRoaXMuX3NldFN0cm9rZSgobmV3IGguU3Ryb2tlKS5saW5lYXJHcmFkaWVudCh0LGUsaSxzLHIsbikpfSx0LmJlZ2luUmFkaWFsR3JhZGllbnRTdHJva2U9ZnVuY3Rpb24odCxlLGkscyxyLG4sYSxvKXtyZXR1cm4gdGhpcy5fc2V0U3Ryb2tlKChuZXcgaC5TdHJva2UpLnJhZGlhbEdyYWRpZW50KHQsZSxpLHMscixuLGEsbykpfSx0LmJlZ2luQml0bWFwU3Ryb2tlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3NldFN0cm9rZSgobmV3IGguU3Ryb2tlKS5iaXRtYXAodCxlKSl9LHQuZW5kU3Ryb2tlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW5TdHJva2UoKX0sdC5jdXJ2ZVRvPXQucXVhZHJhdGljQ3VydmVUbyx0LmRyYXdSZWN0PXQucmVjdCx0LmRyYXdSb3VuZFJlY3Q9ZnVuY3Rpb24odCxlLGkscyxyKXtyZXR1cm4gdGhpcy5kcmF3Um91bmRSZWN0Q29tcGxleCh0LGUsaSxzLHIscixyLHIpfSx0LmRyYXdSb3VuZFJlY3RDb21wbGV4PWZ1bmN0aW9uKHQsZSxpLHMscixuLGEsbyl7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBoLlJvdW5kUmVjdCh0LGUsaSxzLHIsbixhLG8pKX0sdC5kcmF3Q2lyY2xlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5hcHBlbmQobmV3IGguQ2lyY2xlKHQsZSxpKSl9LHQuZHJhd0VsbGlwc2U9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBoLkVsbGlwc2UodCxlLGkscykpfSx0LmRyYXdQb2x5U3Rhcj1mdW5jdGlvbih0LGUsaSxzLHIsbil7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBoLlBvbHlTdGFyKHQsZSxpLHMscixuKSl9LHQuYXBwZW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKHQpLHRoaXMuY29tbWFuZD10LGV8fCh0aGlzLl9kaXJ0eT0hMCksdGhpc30sdC5kZWNvZGVQYXRoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bdGhpcy5tb3ZlVG8sdGhpcy5saW5lVG8sdGhpcy5xdWFkcmF0aWNDdXJ2ZVRvLHRoaXMuYmV6aWVyQ3VydmVUbyx0aGlzLmNsb3NlUGF0aF0saT1bMiwyLDQsNiwwXSxzPTAscj10Lmxlbmd0aCxuPVtdLGE9MCxvPTAsaD12LkJBU0VfNjQ7czxyOyl7dmFyIGM9dC5jaGFyQXQocyksdT1oW2NdLGw9dT4+MyxkPWVbbF07aWYoIWR8fDMmdSl0aHJvd1wiYmFkIHBhdGggZGF0YSAoQFwiK3MrXCIpOiBcIitjO3ZhciBfPWlbbF07bHx8KGE9bz0wKSxzKys7Zm9yKHZhciBwPTIrKHU+PjImMSksZj1uLmxlbmd0aD0wO2Y8XztmKyspe3ZhciBnPShtPWhbdC5jaGFyQXQocyldKT4+NT8tMToxLG09KDMxJm0pPDw2fGhbdC5jaGFyQXQocysxKV07Mz09cCYmKG09bTw8NnxoW3QuY2hhckF0KHMrMildKSxtPWcqbS8xMCxmJTI/YT1tKz1hOm89bSs9byxuW2ZdPW0scys9cH1kLmFwcGx5KHRoaXMsbil9cmV0dXJuIHRoaXN9LHQuc3RvcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCEwKSx0aGlzLl9zdG9yZUluZGV4PXRoaXMuX2luc3RydWN0aW9ucy5sZW5ndGgsdGhpc30sdC51bnN0b3JlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JlSW5kZXg9MCx0aGlzfSx0LmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHY7cmV0dXJuIHQuY29tbWFuZD10aGlzLmNvbW1hbmQsdC5fc3Ryb2tlPXRoaXMuX3N0cm9rZSx0Ll9zdHJva2VTdHlsZT10aGlzLl9zdHJva2VTdHlsZSx0Ll9zdHJva2VEYXNoPXRoaXMuX3N0cm9rZURhc2gsdC5fc3Ryb2tlSWdub3JlU2NhbGU9dGhpcy5fc3Ryb2tlSWdub3JlU2NhbGUsdC5fZmlsbD10aGlzLl9maWxsLHQuX2luc3RydWN0aW9ucz10aGlzLl9pbnN0cnVjdGlvbnMuc2xpY2UoKSx0Ll9jb21taXRJbmRleD10aGlzLl9jb21taXRJbmRleCx0Ll9hY3RpdmVJbnN0cnVjdGlvbnM9dGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnNsaWNlKCksdC5fZGlydHk9dGhpcy5fZGlydHksdC5fc3RvcmVJbmRleD10aGlzLl9zdG9yZUluZGV4LHR9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltHcmFwaGljc11cIn0sdC5tdD10Lm1vdmVUbyx0Lmx0PXQubGluZVRvLHQuYXQ9dC5hcmNUbyx0LmJ0PXQuYmV6aWVyQ3VydmVUbyx0LnF0PXQucXVhZHJhdGljQ3VydmVUbyx0LmE9dC5hcmMsdC5yPXQucmVjdCx0LmNwPXQuY2xvc2VQYXRoLHQuYz10LmNsZWFyLHQuZj10LmJlZ2luRmlsbCx0LmxmPXQuYmVnaW5MaW5lYXJHcmFkaWVudEZpbGwsdC5yZj10LmJlZ2luUmFkaWFsR3JhZGllbnRGaWxsLHQuYmY9dC5iZWdpbkJpdG1hcEZpbGwsdC5lZj10LmVuZEZpbGwsdC5zcz10LnNldFN0cm9rZVN0eWxlLHQuc2Q9dC5zZXRTdHJva2VEYXNoLHQucz10LmJlZ2luU3Ryb2tlLHQubHM9dC5iZWdpbkxpbmVhckdyYWRpZW50U3Ryb2tlLHQucnM9dC5iZWdpblJhZGlhbEdyYWRpZW50U3Ryb2tlLHQuYnM9dC5iZWdpbkJpdG1hcFN0cm9rZSx0LmVzPXQuZW5kU3Ryb2tlLHQuZHI9dC5kcmF3UmVjdCx0LnJyPXQuZHJhd1JvdW5kUmVjdCx0LnJjPXQuZHJhd1JvdW5kUmVjdENvbXBsZXgsdC5kYz10LmRyYXdDaXJjbGUsdC5kZT10LmRyYXdFbGxpcHNlLHQuZHA9dC5kcmF3UG9seVN0YXIsdC5wPXQuZGVjb2RlUGF0aCx0Ll91cGRhdGVJbnN0cnVjdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faW5zdHJ1Y3Rpb25zLGk9dGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLHM9dGhpcy5fY29tbWl0SW5kZXg7aWYodGhpcy5fZGlydHkmJmkubGVuZ3RoKXtlLmxlbmd0aD1zLGUucHVzaCh2LmJlZ2luQ21kKTt2YXIgcj1pLmxlbmd0aCxuPWUubGVuZ3RoO2UubGVuZ3RoPW4rcjtmb3IodmFyIGE9MDthPHI7YSsrKWVbYStuXT1pW2FdO3RoaXMuX2ZpbGwmJmUucHVzaCh0aGlzLl9maWxsKSx0aGlzLl9zdHJva2UmJih0aGlzLl9zdHJva2VEYXNoIT09dGhpcy5fb2xkU3Ryb2tlRGFzaCYmZS5wdXNoKHRoaXMuX3N0cm9rZURhc2gpLHRoaXMuX3N0cm9rZVN0eWxlIT09dGhpcy5fb2xkU3Ryb2tlU3R5bGUmJmUucHVzaCh0aGlzLl9zdHJva2VTdHlsZSksdCYmKHRoaXMuX29sZFN0cm9rZVN0eWxlPXRoaXMuX3N0cm9rZVN0eWxlLHRoaXMuX29sZFN0cm9rZURhc2g9dGhpcy5fc3Ryb2tlRGFzaCksZS5wdXNoKHRoaXMuX3N0cm9rZSkpLHRoaXMuX2RpcnR5PSExfXQmJihpLmxlbmd0aD0wLHRoaXMuX2NvbW1pdEluZGV4PWUubGVuZ3RoKX0sdC5fc2V0RmlsbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCEwKSx0aGlzLmNvbW1hbmQ9dGhpcy5fZmlsbD10LHRoaXN9LHQuX3NldFN0cm9rZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCEwKSwodGhpcy5jb21tYW5kPXRoaXMuX3N0cm9rZT10KSYmKHQuaWdub3JlU2NhbGU9dGhpcy5fc3Ryb2tlSWdub3JlU2NhbGUpLHRoaXN9LChoLkxpbmVUbz1mdW5jdGlvbih0LGUpe3RoaXMueD10LHRoaXMueT1lfSkucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCl7dC5saW5lVG8odGhpcy54LHRoaXMueSl9LChoLk1vdmVUbz1mdW5jdGlvbih0LGUpe3RoaXMueD10LHRoaXMueT1lfSkucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCl7dC5tb3ZlVG8odGhpcy54LHRoaXMueSl9LChoLkFyY1RvPWZ1bmN0aW9uKHQsZSxpLHMscil7dGhpcy54MT10LHRoaXMueTE9ZSx0aGlzLngyPWksdGhpcy55Mj1zLHRoaXMucmFkaXVzPXJ9KS5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LmFyY1RvKHRoaXMueDEsdGhpcy55MSx0aGlzLngyLHRoaXMueTIsdGhpcy5yYWRpdXMpfSwoaC5BcmM9ZnVuY3Rpb24odCxlLGkscyxyLG4pe3RoaXMueD10LHRoaXMueT1lLHRoaXMucmFkaXVzPWksdGhpcy5zdGFydEFuZ2xlPXMsdGhpcy5lbmRBbmdsZT1yLHRoaXMuYW50aWNsb2Nrd2lzZT0hIW59KS5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LmFyYyh0aGlzLngsdGhpcy55LHRoaXMucmFkaXVzLHRoaXMuc3RhcnRBbmdsZSx0aGlzLmVuZEFuZ2xlLHRoaXMuYW50aWNsb2Nrd2lzZSl9LChoLlF1YWRyYXRpY0N1cnZlVG89ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5jcHg9dCx0aGlzLmNweT1lLHRoaXMueD1pLHRoaXMueT1zfSkucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCl7dC5xdWFkcmF0aWNDdXJ2ZVRvKHRoaXMuY3B4LHRoaXMuY3B5LHRoaXMueCx0aGlzLnkpfSwoaC5CZXppZXJDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxpLHMscixuKXt0aGlzLmNwMXg9dCx0aGlzLmNwMXk9ZSx0aGlzLmNwMng9aSx0aGlzLmNwMnk9cyx0aGlzLng9cix0aGlzLnk9bn0pLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQpe3QuYmV6aWVyQ3VydmVUbyh0aGlzLmNwMXgsdGhpcy5jcDF5LHRoaXMuY3AyeCx0aGlzLmNwMnksdGhpcy54LHRoaXMueSl9LChoLlJlY3Q9ZnVuY3Rpb24odCxlLGkscyl7dGhpcy54PXQsdGhpcy55PWUsdGhpcy53PWksdGhpcy5oPXN9KS5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LnJlY3QodGhpcy54LHRoaXMueSx0aGlzLncsdGhpcy5oKX0sKGguQ2xvc2VQYXRoPWZ1bmN0aW9uKCl7fSkucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCl7dC5jbG9zZVBhdGgoKX0sKGguQmVnaW5QYXRoPWZ1bmN0aW9uKCl7fSkucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCl7dC5iZWdpblBhdGgoKX0sKHQ9KGguRmlsbD1mdW5jdGlvbih0LGUpe3RoaXMuc3R5bGU9dCx0aGlzLm1hdHJpeD1lfSkucHJvdG90eXBlKS5leGVjPWZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuc3R5bGUmJih0LmZpbGxTdHlsZT10aGlzLnN0eWxlLChlPXRoaXMubWF0cml4KSYmKHQuc2F2ZSgpLHQudHJhbnNmb3JtKGUuYSxlLmIsZS5jLGUuZCxlLnR4LGUudHkpKSx0LmZpbGwoKSxlJiZ0LnJlc3RvcmUoKSl9LHQubGluZWFyR3JhZGllbnQ9ZnVuY3Rpb24odCxlLGkscyxyLG4pe2Zvcih2YXIgYT10aGlzLnN0eWxlPXYuX2N0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChpLHMscixuKSxvPTAsaD10Lmxlbmd0aDtvPGg7bysrKWEuYWRkQ29sb3JTdG9wKGVbb10sdFtvXSk7cmV0dXJuIGEucHJvcHM9e2NvbG9yczp0LHJhdGlvczplLHgwOmkseTA6cyx4MTpyLHkxOm4sdHlwZTpcImxpbmVhclwifSx0aGlzfSx0LnJhZGlhbEdyYWRpZW50PWZ1bmN0aW9uKHQsZSxpLHMscixuLGEsbyl7Zm9yKHZhciBoPXRoaXMuc3R5bGU9di5fY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGkscyxyLG4sYSxvKSxjPTAsdT10Lmxlbmd0aDtjPHU7YysrKWguYWRkQ29sb3JTdG9wKGVbY10sdFtjXSk7cmV0dXJuIGgucHJvcHM9e2NvbG9yczp0LHJhdGlvczplLHgwOmkseTA6cyxyMDpyLHgxOm4seTE6YSxyMTpvLHR5cGU6XCJyYWRpYWxcIn0sdGhpc30sdC5iaXRtYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4odC5uYXR1cmFsV2lkdGh8fHQuZ2V0Q29udGV4dHx8Mjw9dC5yZWFkeVN0YXRlKSYmKCh0aGlzLnN0eWxlPXYuX2N0eC5jcmVhdGVQYXR0ZXJuKHQsZXx8XCJcIikpLnByb3BzPXtpbWFnZTp0LHJlcGV0aXRpb246ZSx0eXBlOlwiYml0bWFwXCJ9KSx0aGlzfSx0LnBhdGg9ITEsKHQ9KGguU3Ryb2tlPWZ1bmN0aW9uKHQsZSl7dGhpcy5zdHlsZT10LHRoaXMuaWdub3JlU2NhbGU9ZX0pLnByb3RvdHlwZSkuZXhlYz1mdW5jdGlvbih0KXt0aGlzLnN0eWxlJiYodC5zdHJva2VTdHlsZT10aGlzLnN0eWxlLHRoaXMuaWdub3JlU2NhbGUmJih0LnNhdmUoKSx0LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCkpLHQuc3Ryb2tlKCksdGhpcy5pZ25vcmVTY2FsZSYmdC5yZXN0b3JlKCkpfSx0LmxpbmVhckdyYWRpZW50PWguRmlsbC5wcm90b3R5cGUubGluZWFyR3JhZGllbnQsdC5yYWRpYWxHcmFkaWVudD1oLkZpbGwucHJvdG90eXBlLnJhZGlhbEdyYWRpZW50LHQuYml0bWFwPWguRmlsbC5wcm90b3R5cGUuYml0bWFwLHQucGF0aD0hMSwodD0oaC5TdHJva2VTdHlsZT1mdW5jdGlvbih0LGUsaSxzLHIpe3RoaXMud2lkdGg9dCx0aGlzLmNhcHM9ZSx0aGlzLmpvaW50cz1pLHRoaXMubWl0ZXJMaW1pdD1zLHRoaXMuaWdub3JlU2NhbGU9cn0pLnByb3RvdHlwZSkuZXhlYz1mdW5jdGlvbih0KXt0LmxpbmVXaWR0aD1udWxsPT10aGlzLndpZHRoP1wiMVwiOnRoaXMud2lkdGgsdC5saW5lQ2FwPW51bGw9PXRoaXMuY2Fwcz9cImJ1dHRcIjppc05hTih0aGlzLmNhcHMpP3RoaXMuY2Fwczp2LlNUUk9LRV9DQVBTX01BUFt0aGlzLmNhcHNdLHQubGluZUpvaW49bnVsbD09dGhpcy5qb2ludHM/XCJtaXRlclwiOmlzTmFOKHRoaXMuam9pbnRzKT90aGlzLmpvaW50czp2LlNUUk9LRV9KT0lOVFNfTUFQW3RoaXMuam9pbnRzXSx0Lm1pdGVyTGltaXQ9bnVsbD09dGhpcy5taXRlckxpbWl0P1wiMTBcIjp0aGlzLm1pdGVyTGltaXQsdC5pZ25vcmVTY2FsZT1udWxsIT10aGlzLmlnbm9yZVNjYWxlJiZ0aGlzLmlnbm9yZVNjYWxlfSx0LnBhdGg9ITEsKGguU3Ryb2tlRGFzaD1mdW5jdGlvbih0LGUpe3RoaXMuc2VnbWVudHM9dCx0aGlzLm9mZnNldD1lfHwwfSkucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCl7dC5zZXRMaW5lRGFzaCYmKHQuc2V0TGluZURhc2godGhpcy5zZWdtZW50c3x8aC5TdHJva2VEYXNoLkVNUFRZX1NFR01FTlRTKSx0LmxpbmVEYXNoT2Zmc2V0PXRoaXMub2Zmc2V0fHwwKX0saC5TdHJva2VEYXNoLkVNUFRZX1NFR01FTlRTPVtdLChoLlJvdW5kUmVjdD1mdW5jdGlvbih0LGUsaSxzLHIsbixhLG8pe3RoaXMueD10LHRoaXMueT1lLHRoaXMudz1pLHRoaXMuaD1zLHRoaXMucmFkaXVzVEw9cix0aGlzLnJhZGl1c1RSPW4sdGhpcy5yYWRpdXNCUj1hLHRoaXMucmFkaXVzQkw9b30pLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQpe3ZhciBlPShoPGM/aDpjKS8yLGk9MCxzPTAscj0wLG49MCxhPXRoaXMueCxvPXRoaXMueSxoPXRoaXMudyxjPXRoaXMuaCx1PXRoaXMucmFkaXVzVEwsbD10aGlzLnJhZGl1c1RSLGQ9dGhpcy5yYWRpdXNCUixfPXRoaXMucmFkaXVzQkw7dTwwJiYodSo9aT0tMSksZTx1JiYodT1lKSxsPDAmJihsKj1zPS0xKSxlPGwmJihsPWUpLGQ8MCYmKGQqPXI9LTEpLGU8ZCYmKGQ9ZSksXzwwJiYoXyo9bj0tMSksZTxfJiYoXz1lKSx0Lm1vdmVUbyhhK2gtbCxvKSx0LmFyY1RvKGEraCtsKnMsby1sKnMsYStoLG8rbCxsKSx0LmxpbmVUbyhhK2gsbytjLWQpLHQuYXJjVG8oYStoK2QqcixvK2MrZCpyLGEraC1kLG8rYyxkKSx0LmxpbmVUbyhhK18sbytjKSx0LmFyY1RvKGEtXypuLG8rYytfKm4sYSxvK2MtXyxfKSx0LmxpbmVUbyhhLG8rdSksdC5hcmNUbyhhLXUqaSxvLXUqaSxhK3Usbyx1KSx0LmNsb3NlUGF0aCgpfSwoaC5DaXJjbGU9ZnVuY3Rpb24odCxlLGkpe3RoaXMueD10LHRoaXMueT1lLHRoaXMucmFkaXVzPWl9KS5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LmFyYyh0aGlzLngsdGhpcy55LHRoaXMucmFkaXVzLDAsMipNYXRoLlBJKX0sKGguRWxsaXBzZT1mdW5jdGlvbih0LGUsaSxzKXt0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLnc9aSx0aGlzLmg9c30pLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMueCxpPXRoaXMueSxzPXRoaXMudyxyPXRoaXMuaCxuPXMvMiouNTUyMjg0OCxhPXIvMiouNTUyMjg0OCxvPWUrcyxoPWkrcixjPWUrcy8yLHU9aStyLzI7dC5tb3ZlVG8oZSx1KSx0LmJlemllckN1cnZlVG8oZSx1LWEsYy1uLGksYyxpKSx0LmJlemllckN1cnZlVG8oYytuLGksbyx1LWEsbyx1KSx0LmJlemllckN1cnZlVG8obyx1K2EsYytuLGgsYyxoKSx0LmJlemllckN1cnZlVG8oYy1uLGgsZSx1K2EsZSx1KX0sKGguUG9seVN0YXI9ZnVuY3Rpb24odCxlLGkscyxyLG4pe3RoaXMueD10LHRoaXMueT1lLHRoaXMucmFkaXVzPWksdGhpcy5zaWRlcz1zLHRoaXMucG9pbnRTaXplPXIsdGhpcy5hbmdsZT1ufSkucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LGk9dGhpcy55LHM9dGhpcy5yYWRpdXMscj0odGhpcy5hbmdsZXx8MCkvMTgwKk1hdGguUEksbj10aGlzLnNpZGVzLGE9MS0odGhpcy5wb2ludFNpemV8fDApLG89TWF0aC5QSS9uO3QubW92ZVRvKGUrTWF0aC5jb3MocikqcyxpK01hdGguc2luKHIpKnMpO2Zvcih2YXIgaD0wO2g8bjtoKyspcis9bywxIT1hJiZ0LmxpbmVUbyhlK01hdGguY29zKHIpKnMqYSxpK01hdGguc2luKHIpKnMqYSkscis9byx0LmxpbmVUbyhlK01hdGguY29zKHIpKnMsaStNYXRoLnNpbihyKSpzKTt0LmNsb3NlUGF0aCgpfSx2LmJlZ2luQ21kPW5ldyBoLkJlZ2luUGF0aCxjcmVhdGVqcy5HcmFwaGljcz12fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYSgpe3RoaXMuRXZlbnREaXNwYXRjaGVyX2NvbnN0cnVjdG9yKCksdGhpcy5hbHBoYT0xLHRoaXMuY2FjaGVDYW52YXM9bnVsbCx0aGlzLmJpdG1hcENhY2hlPW51bGwsdGhpcy5pZD1jcmVhdGVqcy5VSUQuZ2V0KCksdGhpcy5tb3VzZUVuYWJsZWQ9ITAsdGhpcy50aWNrRW5hYmxlZD0hMCx0aGlzLm5hbWU9bnVsbCx0aGlzLnBhcmVudD1udWxsLHRoaXMucmVnWD0wLHRoaXMucmVnWT0wLHRoaXMucm90YXRpb249MCx0aGlzLnNjYWxlWD0xLHRoaXMuc2NhbGVZPTEsdGhpcy5za2V3WD0wLHRoaXMuc2tld1k9MCx0aGlzLnNoYWRvdz1udWxsLHRoaXMudmlzaWJsZT0hMCx0aGlzLng9MCx0aGlzLnk9MCx0aGlzLnRyYW5zZm9ybU1hdHJpeD1udWxsLHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uPW51bGwsdGhpcy5zbmFwVG9QaXhlbD0hMCx0aGlzLmZpbHRlcnM9bnVsbCx0aGlzLm1hc2s9bnVsbCx0aGlzLmhpdEFyZWE9bnVsbCx0aGlzLmN1cnNvcj1udWxsLHRoaXMuX3Byb3BzPW5ldyBjcmVhdGVqcy5EaXNwbGF5UHJvcHMsdGhpcy5fcmVjdGFuZ2xlPW5ldyBjcmVhdGVqcy5SZWN0YW5nbGUsdGhpcy5fYm91bmRzPW51bGwsdGhpcy5fd2ViR0xSZW5kZXJTdHlsZT1hLl9TdGFnZUdMX05PTkV9dmFyIHQ9Y3JlYXRlanMuZXh0ZW5kKGEsY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyKTthLl9NT1VTRV9FVkVOVFM9W1wiY2xpY2tcIixcImRibGNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIixcInByZXNzbW92ZVwiLFwicHJlc3N1cFwiLFwicm9sbG91dFwiLFwicm9sbG92ZXJcIl0sYS5zdXBwcmVzc0Nyb3NzRG9tYWluRXJyb3JzPSExLGEuX3NuYXBUb1BpeGVsRW5hYmxlZD0hMSxhLl9TdGFnZUdMX05PTkU9MCxhLl9TdGFnZUdMX1NQUklURT0xLGEuX1N0YWdlR0xfQklUTUFQPTI7dmFyIGU9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ZS5nZXRDb250ZXh0JiYoYS5faGl0VGVzdENhbnZhcz1lLGEuX2hpdFRlc3RDb250ZXh0PWUuZ2V0Q29udGV4dChcIjJkXCIpLGUud2lkdGg9ZS5oZWlnaHQ9MSksdC5fZ2V0U3RhZ2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPWNyZWF0ZWpzLlN0YWdlO3QucGFyZW50Oyl0PXQucGFyZW50O3JldHVybiB0IGluc3RhbmNlb2YgZT90Om51bGx9LHQuZ2V0U3RhZ2U9Y3JlYXRlanMuZGVwcmVjYXRlKHQuX2dldFN0YWdlLFwiRGlzcGxheU9iamVjdC5nZXRTdGFnZVwiKTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCx7c3RhZ2U6e2dldDp0Ll9nZXRTdGFnZX0sY2FjaGVJRDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYml0bWFwQ2FjaGUmJnRoaXMuYml0bWFwQ2FjaGUuY2FjaGVJRH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYml0bWFwQ2FjaGUmJih0aGlzLmJpdG1hcENhY2hlLmNhY2hlSUQ9dCl9fSxzY2FsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NhbGVYfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zY2FsZVg9dGhpcy5zY2FsZVk9dH19fSl9Y2F0Y2godCl7fXQuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy52aXNpYmxlJiYwPHRoaXMuYWxwaGEmJjAhPXRoaXMuc2NhbGVYJiYwIT10aGlzLnNjYWxlWSl9LHQuZHJhdz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuYml0bWFwQ2FjaGU7cmV0dXJuISghaXx8ZSkmJmkuZHJhdyh0KX0sdC51cGRhdGVDb250ZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1lLm1hc2sscz1lLl9wcm9wcy5tYXRyaXg7aSYmaS5ncmFwaGljcyYmIWkuZ3JhcGhpY3MuaXNFbXB0eSgpJiYoaS5nZXRNYXRyaXgocyksdC50cmFuc2Zvcm0ocy5hLHMuYixzLmMscy5kLHMudHgscy50eSksaS5ncmFwaGljcy5kcmF3QXNQYXRoKHQpLHQuY2xpcCgpLHMuaW52ZXJ0KCksdC50cmFuc2Zvcm0ocy5hLHMuYixzLmMscy5kLHMudHgscy50eSkpLHRoaXMuZ2V0TWF0cml4KHMpO3ZhciByPXMudHgsbj1zLnR5O2EuX3NuYXBUb1BpeGVsRW5hYmxlZCYmZS5zbmFwVG9QaXhlbCYmKHI9cisocjwwPy0uNTouNSl8MCxuPW4rKG48MD8tLjU6LjUpfDApLHQudHJhbnNmb3JtKHMuYSxzLmIscy5jLHMuZCxyLG4pLHQuZ2xvYmFsQWxwaGEqPWUuYWxwaGEsZS5jb21wb3NpdGVPcGVyYXRpb24mJih0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1lLmNvbXBvc2l0ZU9wZXJhdGlvbiksZS5zaGFkb3cmJnRoaXMuX2FwcGx5U2hhZG93KHQsZS5zaGFkb3cpfSx0LmNhY2hlPWZ1bmN0aW9uKHQsZSxpLHMscixuKXt0aGlzLmJpdG1hcENhY2hlfHwodGhpcy5iaXRtYXBDYWNoZT1uZXcgY3JlYXRlanMuQml0bWFwQ2FjaGUpLHRoaXMuYml0bWFwQ2FjaGUuZGVmaW5lKHRoaXMsdCxlLGkscyxyLG4pfSx0LnVwZGF0ZUNhY2hlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmJpdG1hcENhY2hlKXRocm93XCJjYWNoZSgpIG11c3QgYmUgY2FsbGVkIGJlZm9yZSB1cGRhdGVDYWNoZSgpXCI7dGhpcy5iaXRtYXBDYWNoZS51cGRhdGUodCl9LHQudW5jYWNoZT1mdW5jdGlvbigpe3RoaXMuYml0bWFwQ2FjaGUmJih0aGlzLmJpdG1hcENhY2hlLnJlbGVhc2UoKSx0aGlzLmJpdG1hcENhY2hlPXZvaWQgMCl9LHQuZ2V0Q2FjaGVEYXRhVVJMPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYml0bWFwQ2FjaGU/dGhpcy5iaXRtYXBDYWNoZS5nZXREYXRhVVJMKCk6bnVsbH0sdC5sb2NhbFRvR2xvYmFsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLmdldENvbmNhdGVuYXRlZE1hdHJpeCh0aGlzLl9wcm9wcy5tYXRyaXgpLnRyYW5zZm9ybVBvaW50KHQsZSxpfHxuZXcgY3JlYXRlanMuUG9pbnQpO3JldHVybiB0aGlzLnN0YWdlJiZjcmVhdGVqcy5zdGFnZVRyYW5zZm9ybWFibGUmJihzPXRoaXMuc3RhZ2UuZ2V0Q29uY2F0ZW5hdGVkTWF0cml4KHRoaXMuX210eCkuaW52ZXJ0KCkudHJhbnNmb3JtUG9pbnQocy54LHMueSkpLHN9LHQuZ2xvYmFsVG9Mb2NhbD1mdW5jdGlvbih0LGUsaSl7dmFyIHM7cmV0dXJuIHRoaXMuc3RhZ2UmJmNyZWF0ZWpzLnN0YWdlVHJhbnNmb3JtYWJsZSYmKHQ9KHM9dGhpcy5zdGFnZS5nZXRDb25jYXRlbmF0ZWRNYXRyaXgodGhpcy5fbXR4KS50cmFuc2Zvcm1Qb2ludCh0LGUpKS54LGU9cy55KSx0aGlzLmdldENvbmNhdGVuYXRlZE1hdHJpeCh0aGlzLl9wcm9wcy5tYXRyaXgpLmludmVydCgpLnRyYW5zZm9ybVBvaW50KHQsZSxpfHxuZXcgY3JlYXRlanMuUG9pbnQpfSx0LmxvY2FsVG9Mb2NhbD1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gcz10aGlzLmxvY2FsVG9HbG9iYWwodCxlLHMpLGkuZ2xvYmFsVG9Mb2NhbChzLngscy55LHMpfSx0LnNldFRyYW5zZm9ybT1mdW5jdGlvbih0LGUsaSxzLHIsbixhLG8saCl7cmV0dXJuIHRoaXMueD10fHwwLHRoaXMueT1lfHwwLHRoaXMuc2NhbGVYPW51bGw9PWk/MTppLHRoaXMuc2NhbGVZPW51bGw9PXM/MTpzLHRoaXMucm90YXRpb249cnx8MCx0aGlzLnNrZXdYPW58fDAsdGhpcy5za2V3WT1hfHwwLHRoaXMucmVnWD1vfHwwLHRoaXMucmVnWT1ofHwwLHRoaXN9LHQuZ2V0TWF0cml4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT10JiZ0LmlkZW50aXR5KCl8fG5ldyBjcmVhdGVqcy5NYXRyaXgyRDtyZXR1cm4gZS50cmFuc2Zvcm1NYXRyaXg/aS5jb3B5KGUudHJhbnNmb3JtTWF0cml4KTppLmFwcGVuZFRyYW5zZm9ybShlLngsZS55LGUuc2NhbGVYLGUuc2NhbGVZLGUucm90YXRpb24sZS5za2V3WCxlLnNrZXdZLGUucmVnWCxlLnJlZ1kpfSx0LmdldENvbmNhdGVuYXRlZE1hdHJpeD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxpPXRoaXMuZ2V0TWF0cml4KHQpO2U9ZS5wYXJlbnQ7KWkucHJlcGVuZE1hdHJpeChlLmdldE1hdHJpeChlLl9wcm9wcy5tYXRyaXgpKTtyZXR1cm4gaX0sdC5nZXRDb25jYXRlbmF0ZWREaXNwbGF5UHJvcHM9ZnVuY3Rpb24odCl7dD10P3QuaWRlbnRpdHkoKTpuZXcgY3JlYXRlanMuRGlzcGxheVByb3BzO2Zvcih2YXIgZT10aGlzLGk9ZS5nZXRNYXRyaXgodC5tYXRyaXgpO3QucHJlcGVuZChlLnZpc2libGUsZS5hbHBoYSxlLnNoYWRvdyxlLmNvbXBvc2l0ZU9wZXJhdGlvbiksZSE9dGhpcyYmaS5wcmVwZW5kTWF0cml4KGUuZ2V0TWF0cml4KGUuX3Byb3BzLm1hdHJpeCkpLGU9ZS5wYXJlbnQ7KTtyZXR1cm4gdH0sdC5oaXRUZXN0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9YS5faGl0VGVzdENvbnRleHQ7aS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwtdCwtZSksdGhpcy5kcmF3KGkpO3ZhciBzPXRoaXMuX3Rlc3RIaXQoaSk7cmV0dXJuIGkuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxpLmNsZWFyUmVjdCgwLDAsMiwyKSxzfSx0LnNldD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl0aGlzW2VdPXRbZV07cmV0dXJuIHRoaXN9LHQuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7aWYodGhpcy5fYm91bmRzKXJldHVybiB0aGlzLl9yZWN0YW5nbGUuY29weSh0aGlzLl9ib3VuZHMpO3ZhciB0PXRoaXMuY2FjaGVDYW52YXM7aWYodCl7dmFyIGU9dGhpcy5fY2FjaGVTY2FsZTtyZXR1cm4gdGhpcy5fcmVjdGFuZ2xlLnNldFZhbHVlcyh0aGlzLl9jYWNoZU9mZnNldFgsdGhpcy5fY2FjaGVPZmZzZXRZLHQud2lkdGgvZSx0LmhlaWdodC9lKX1yZXR1cm4gbnVsbH0sdC5nZXRUcmFuc2Zvcm1lZEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRCb3VuZHMoKX0sdC5zZXRCb3VuZHM9ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5fYm91bmRzPW51bGwhPXQ/KHRoaXMuX2JvdW5kc3x8bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSkuc2V0VmFsdWVzKHQsZSxpLHMpOnR9LHQuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvbmVQcm9wcyhuZXcgYSl9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltEaXNwbGF5T2JqZWN0IChuYW1lPVwiK3RoaXMubmFtZStcIildXCJ9LHQuX3VwZGF0ZVN0YXRlPW51bGwsdC5fY2xvbmVQcm9wcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5hbHBoYT10aGlzLmFscGhhLHQubW91c2VFbmFibGVkPXRoaXMubW91c2VFbmFibGVkLHQudGlja0VuYWJsZWQ9dGhpcy50aWNrRW5hYmxlZCx0Lm5hbWU9dGhpcy5uYW1lLHQucmVnWD10aGlzLnJlZ1gsdC5yZWdZPXRoaXMucmVnWSx0LnJvdGF0aW9uPXRoaXMucm90YXRpb24sdC5zY2FsZVg9dGhpcy5zY2FsZVgsdC5zY2FsZVk9dGhpcy5zY2FsZVksdC5zaGFkb3c9dGhpcy5zaGFkb3csdC5za2V3WD10aGlzLnNrZXdYLHQuc2tld1k9dGhpcy5za2V3WSx0LnZpc2libGU9dGhpcy52aXNpYmxlLHQueD10aGlzLngsdC55PXRoaXMueSx0LmNvbXBvc2l0ZU9wZXJhdGlvbj10aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbix0LnNuYXBUb1BpeGVsPXRoaXMuc25hcFRvUGl4ZWwsdC5maWx0ZXJzPW51bGw9PXRoaXMuZmlsdGVycz9udWxsOnRoaXMuZmlsdGVycy5zbGljZSgwKSx0Lm1hc2s9dGhpcy5tYXNrLHQuaGl0QXJlYT10aGlzLmhpdEFyZWEsdC5jdXJzb3I9dGhpcy5jdXJzb3IsdC5fYm91bmRzPXRoaXMuX2JvdW5kcyx0fSx0Ll9hcHBseVNoYWRvdz1mdW5jdGlvbih0LGUpe2U9ZXx8U2hhZG93LmlkZW50aXR5LHQuc2hhZG93Q29sb3I9ZS5jb2xvcix0LnNoYWRvd09mZnNldFg9ZS5vZmZzZXRYLHQuc2hhZG93T2Zmc2V0WT1lLm9mZnNldFksdC5zaGFkb3dCbHVyPWUuYmx1cn0sdC5fdGljaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9saXN0ZW5lcnM7ZSYmZS50aWNrJiYodC50YXJnZXQ9bnVsbCx0LnByb3BhZ2F0aW9uU3RvcHBlZD10LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMSx0aGlzLmRpc3BhdGNoRXZlbnQodCkpfSx0Ll90ZXN0SGl0PWZ1bmN0aW9uKHQpe3RyeXt2YXIgZT0xPHQuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpLmRhdGFbM119Y2F0Y2godCl7aWYoIWEuc3VwcHJlc3NDcm9zc0RvbWFpbkVycm9ycyl0aHJvd1wiQW4gZXJyb3IgaGFzIG9jY3VycmVkLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGR1ZSB0byBzZWN1cml0eSByZXN0cmljdGlvbnMgb24gcmVhZGluZyBjYW52YXMgcGl4ZWwgZGF0YSB3aXRoIGxvY2FsIG9yIGNyb3NzLWRvbWFpbiBpbWFnZXMuXCJ9cmV0dXJuIGV9LHQuX2dldEJvdW5kcz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1Cb3VuZHModGhpcy5nZXRCb3VuZHMoKSx0LGUpfSx0Ll90cmFuc2Zvcm1Cb3VuZHM9ZnVuY3Rpb24odCxlLGkpe2lmKCF0KXJldHVybiB0O3ZhciBzPXQueCxyPXQueSxuPXQud2lkdGgsYT10LmhlaWdodCxvPXRoaXMuX3Byb3BzLm1hdHJpeCxvPWk/by5pZGVudGl0eSgpOnRoaXMuZ2V0TWF0cml4KG8pOyhzfHxyKSYmby5hcHBlbmRUcmFuc2Zvcm0oMCwwLDEsMSwwLDAsMCwtcywtciksZSYmby5wcmVwZW5kTWF0cml4KGUpO3ZhciBoPW4qby5hLGM9bipvLmIsdT1hKm8uYyxsPWEqby5kLGQ9by50eCxfPW8udHkscD1kLGY9ZCxnPV8sbT1fO3JldHVybihzPWgrZCk8cD9wPXM6ZjxzJiYoZj1zKSwocz1oK3UrZCk8cD9wPXM6ZjxzJiYoZj1zKSwocz11K2QpPHA/cD1zOmY8cyYmKGY9cyksKHI9YytfKTxnP2c9cjptPHImJihtPXIpLChyPWMrbCtfKTxnP2c9cjptPHImJihtPXIpLChyPWwrXyk8Zz9nPXI6bTxyJiYobT1yKSx0LnNldFZhbHVlcyhwLGcsZi1wLG0tZyl9LHQuX2hhc01vdXNlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbigpe2Zvcih2YXIgdD1hLl9NT1VTRV9FVkVOVFMsZT0wLGk9dC5sZW5ndGg7ZTxpO2UrKylpZih0aGlzLmhhc0V2ZW50TGlzdGVuZXIodFtlXSkpcmV0dXJuITA7cmV0dXJuISF0aGlzLmN1cnNvcn0sY3JlYXRlanMuRGlzcGxheU9iamVjdD1jcmVhdGVqcy5wcm9tb3RlKGEsXCJFdmVudERpc3BhdGNoZXJcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBtKCl7dGhpcy5EaXNwbGF5T2JqZWN0X2NvbnN0cnVjdG9yKCksdGhpcy5jaGlsZHJlbj1bXSx0aGlzLm1vdXNlQ2hpbGRyZW49ITAsdGhpcy50aWNrQ2hpbGRyZW49ITB9dmFyIHQ9Y3JlYXRlanMuZXh0ZW5kKG0sY3JlYXRlanMuRGlzcGxheU9iamVjdCk7dC5fZ2V0TnVtQ2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGh9LHQuZ2V0TnVtQ2hpbGRyZW49Y3JlYXRlanMuZGVwcmVjYXRlKHQuX2dldE51bUNoaWxkcmVuLFwiQ29udGFpbmVyLmdldE51bUNoaWxkcmVuXCIpO3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LHtudW1DaGlsZHJlbjp7Z2V0OnQuX2dldE51bUNoaWxkcmVufX0pfWNhdGNoKHQpe310LmluaXRpYWxpemU9bSx0LmlzVmlzaWJsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2FjaGVDYW52YXN8fHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3JldHVybiEhKHRoaXMudmlzaWJsZSYmMDx0aGlzLmFscGhhJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkmJnQpfSx0LmRyYXc9ZnVuY3Rpb24odCxlKXtpZih0aGlzLkRpc3BsYXlPYmplY3RfZHJhdyh0LGUpKXJldHVybiEwO2Zvcih2YXIgaT10aGlzLmNoaWxkcmVuLnNsaWNlKCkscz0wLHI9aS5sZW5ndGg7czxyO3MrKyl7dmFyIG49aVtzXTtuLmlzVmlzaWJsZSgpJiYodC5zYXZlKCksbi51cGRhdGVDb250ZXh0KHQpLG4uZHJhdyh0KSx0LnJlc3RvcmUoKSl9cmV0dXJuITB9LHQuYWRkQ2hpbGQ9ZnVuY3Rpb24odCl7aWYobnVsbD09dClyZXR1cm4gdDt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKDE8ZSl7Zm9yKHZhciBpPTA7aTxlO2krKyl0aGlzLmFkZENoaWxkKGFyZ3VtZW50c1tpXSk7cmV0dXJuIGFyZ3VtZW50c1tlLTFdfXZhciBzPXQucGFyZW50LHI9cz09PXRoaXM7cmV0dXJuIHMmJnMuX3JlbW92ZUNoaWxkQXQoY3JlYXRlanMuaW5kZXhPZihzLmNoaWxkcmVuLHQpLHIpLCh0LnBhcmVudD10aGlzKS5jaGlsZHJlbi5wdXNoKHQpLHJ8fHQuZGlzcGF0Y2hFdmVudChcImFkZGVkXCIpLHR9LHQuYWRkQ2hpbGRBdD1mdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGgscz1hcmd1bWVudHNbaS0xXTtpZihzPDB8fHM+dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIGFyZ3VtZW50c1tpLTJdO2lmKDI8aSl7Zm9yKHZhciByPTA7cjxpLTE7cisrKXRoaXMuYWRkQ2hpbGRBdChhcmd1bWVudHNbcl0scytyKTtyZXR1cm4gYXJndW1lbnRzW2ktMl19dmFyIG49dC5wYXJlbnQsYT1uPT09dGhpcztyZXR1cm4gbiYmbi5fcmVtb3ZlQ2hpbGRBdChjcmVhdGVqcy5pbmRleE9mKG4uY2hpbGRyZW4sdCksYSksKHQucGFyZW50PXRoaXMpLmNoaWxkcmVuLnNwbGljZShlLDAsdCksYXx8dC5kaXNwYXRjaEV2ZW50KFwiYWRkZWRcIiksdH0sdC5yZW1vdmVDaGlsZD1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKDE8ZSl7Zm9yKHZhciBpPSEwLHM9MDtzPGU7cysrKWk9aSYmdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHNbc10pO3JldHVybiBpfXJldHVybiB0aGlzLl9yZW1vdmVDaGlsZEF0KGNyZWF0ZWpzLmluZGV4T2YodGhpcy5jaGlsZHJlbix0KSl9LHQucmVtb3ZlQ2hpbGRBdD1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKDE8ZSl7Zm9yKHZhciBpPVtdLHM9MDtzPGU7cysrKWlbc109YXJndW1lbnRzW3NdO2kuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBlLXR9KTtmb3IodmFyIHI9ITAscz0wO3M8ZTtzKyspcj1yJiZ0aGlzLl9yZW1vdmVDaGlsZEF0KGlbc10pO3JldHVybiByfXJldHVybiB0aGlzLl9yZW1vdmVDaGlsZEF0KHQpfSx0LnJlbW92ZUFsbENoaWxkcmVuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuY2hpbGRyZW47dC5sZW5ndGg7KXRoaXMuX3JlbW92ZUNoaWxkQXQoMCl9LHQuZ2V0Q2hpbGRBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGlsZHJlblt0XX0sdC5nZXRDaGlsZEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jaGlsZHJlbixpPTAscz1lLmxlbmd0aDtpPHM7aSsrKWlmKGVbaV0ubmFtZT09dClyZXR1cm4gZVtpXTtyZXR1cm4gbnVsbH0sdC5zb3J0Q2hpbGRyZW49ZnVuY3Rpb24odCl7dGhpcy5jaGlsZHJlbi5zb3J0KHQpfSx0LmdldENoaWxkSW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIGNyZWF0ZWpzLmluZGV4T2YodGhpcy5jaGlsZHJlbix0KX0sdC5zd2FwQ2hpbGRyZW5BdD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2hpbGRyZW4scz1pW3RdLHI9aVtlXTtzJiZyJiYoaVt0XT1yLGlbZV09cyl9LHQuc3dhcENoaWxkcmVuPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLHMscj10aGlzLmNoaWxkcmVuLG49MCxhPXIubGVuZ3RoO248YSYmKHJbbl09PXQmJihpPW4pLHJbbl09PWUmJihzPW4pLG51bGw9PWl8fG51bGw9PXMpO24rKyk7biE9YSYmKHJbaV09ZSxyW3NdPXQpfSx0LnNldENoaWxkSW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmNoaWxkcmVuLHM9aS5sZW5ndGg7aWYoISh0LnBhcmVudCE9dGhpc3x8ZTwwfHxzPD1lKSl7Zm9yKHZhciByPTA7cjxzJiZpW3JdIT10O3IrKyk7ciE9cyYmciE9ZSYmKGkuc3BsaWNlKHIsMSksaS5zcGxpY2UoZSwwLHQpKX19LHQuY29udGFpbnM9ZnVuY3Rpb24odCl7Zm9yKDt0Oyl7aWYodD09dGhpcylyZXR1cm4hMDt0PXQucGFyZW50fXJldHVybiExfSx0LmhpdFRlc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dGhpcy5nZXRPYmplY3RVbmRlclBvaW50KHQsZSl9LHQuZ2V0T2JqZWN0c1VuZGVyUG9pbnQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPVtdLHI9dGhpcy5sb2NhbFRvR2xvYmFsKHQsZSk7cmV0dXJuIHRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KHIueCxyLnkscywwPGksMT09aSksc30sdC5nZXRPYmplY3RVbmRlclBvaW50PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLmxvY2FsVG9HbG9iYWwodCxlKTtyZXR1cm4gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQocy54LHMueSxudWxsLDA8aSwxPT1pKX0sdC5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Qm91bmRzKG51bGwsITApfSx0LmdldFRyYW5zZm9ybWVkQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEJvdW5kcygpfSx0LmNsb25lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2Nsb25lUHJvcHMobmV3IG0pO3JldHVybiB0JiZ0aGlzLl9jbG9uZUNoaWxkcmVuKGUpLGV9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltDb250YWluZXIgKG5hbWU9XCIrdGhpcy5uYW1lK1wiKV1cIn0sdC5fdGljaz1mdW5jdGlvbih0KXtpZih0aGlzLnRpY2tDaGlsZHJlbilmb3IodmFyIGU9dGhpcy5jaGlsZHJlbi5sZW5ndGgtMTswPD1lO2UtLSl7dmFyIGk9dGhpcy5jaGlsZHJlbltlXTtpLnRpY2tFbmFibGVkJiZpLl90aWNrJiZpLl90aWNrKHQpfXRoaXMuRGlzcGxheU9iamVjdF9fdGljayh0KX0sdC5fY2xvbmVDaGlsZHJlbj1mdW5jdGlvbih0KXt0LmNoaWxkcmVuLmxlbmd0aCYmdC5yZW1vdmVBbGxDaGlsZHJlbigpO2Zvcih2YXIgZT10LmNoaWxkcmVuLGk9MCxzPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2k8cztpKyspe3ZhciByPXRoaXMuY2hpbGRyZW5baV0uY2xvbmUoITApO3IucGFyZW50PXQsZS5wdXNoKHIpfX0sdC5fcmVtb3ZlQ2hpbGRBdD1mdW5jdGlvbih0LGUpe2lmKHQ8MHx8dD50aGlzLmNoaWxkcmVuLmxlbmd0aC0xKXJldHVybiExO3ZhciBpPXRoaXMuY2hpbGRyZW5bdF07cmV0dXJuIGkmJihpLnBhcmVudD1udWxsKSx0aGlzLmNoaWxkcmVuLnNwbGljZSh0LDEpLGV8fGkuZGlzcGF0Y2hFdmVudChcInJlbW92ZWRcIiksITB9LHQuX2dldE9iamVjdHNVbmRlclBvaW50PWZ1bmN0aW9uKHQsZSxpLHMscixuKXt2YXIgYSxvLGg7aWYodGhpcy5zdGFnZSYmY3JlYXRlanMuc3RhZ2VUcmFuc2Zvcm1hYmxlJiYoYT10LG89ZSx0PShoPXRoaXMuc3RhZ2UuZ2V0Q29uY2F0ZW5hdGVkTWF0cml4KHRoaXMuX210eCkudHJhbnNmb3JtUG9pbnQodCxlKSkueCxlPWgueSksIShuPW58fDApJiYhdGhpcy5fdGVzdE1hc2sodGhpcyx0LGUpKXJldHVybiBudWxsO3ZhciBjPWNyZWF0ZWpzLkRpc3BsYXlPYmplY3QuX2hpdFRlc3RDb250ZXh0O3I9cnx8cyYmdGhpcy5faGFzTW91c2VFdmVudExpc3RlbmVyKCk7Zm9yKHZhciB1PXRoaXMuY2hpbGRyZW4sbD11Lmxlbmd0aC0xOzA8PWw7bC0tKXt2YXIgZD11W2xdLF89ZC5oaXRBcmVhO2lmKGQudmlzaWJsZSYmKF98fGQuaXNWaXNpYmxlKCkpJiYoIXN8fGQubW91c2VFbmFibGVkKSYmKF98fHRoaXMuX3Rlc3RNYXNrKGQsdCxlKSkpaWYoIV8mJmQgaW5zdGFuY2VvZiBtKXt2YXIgcD1kLl9nZXRPYmplY3RzVW5kZXJQb2ludChudWxsIT1hP2E6dCxudWxsIT1vP286ZSxpLHMscixuKzEpO2lmKCFpJiZwKXJldHVybiBzJiYhdGhpcy5tb3VzZUNoaWxkcmVuP3RoaXM6cH1lbHNle2lmKHMmJiFyJiYhZC5faGFzTW91c2VFdmVudExpc3RlbmVyKCkpY29udGludWU7dmFyIGY9ZC5nZXRDb25jYXRlbmF0ZWREaXNwbGF5UHJvcHMoZC5fcHJvcHMpLGc9Zi5tYXRyaXg7aWYoXyYmKGcuYXBwZW5kTWF0cml4KF8uZ2V0TWF0cml4KF8uX3Byb3BzLm1hdHJpeCkpLGYuYWxwaGE9Xy5hbHBoYSksYy5nbG9iYWxBbHBoYT1mLmFscGhhLGMuc2V0VHJhbnNmb3JtKGcuYSxnLmIsZy5jLGcuZCxnLnR4LXQsZy50eS1lKSwoX3x8ZCkuZHJhdyhjKSwhdGhpcy5fdGVzdEhpdChjKSljb250aW51ZTtpZihjLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksYy5jbGVhclJlY3QoMCwwLDIsMiksIWkpcmV0dXJuIHMmJiF0aGlzLm1vdXNlQ2hpbGRyZW4/dGhpczpkO2kucHVzaChkKX19cmV0dXJuIG51bGx9LHQuX3Rlc3RNYXNrPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10Lm1hc2s7aWYoIXN8fCFzLmdyYXBoaWNzfHxzLmdyYXBoaWNzLmlzRW1wdHkoKSlyZXR1cm4hMDt2YXIgcj10aGlzLl9wcm9wcy5tYXRyaXgsbj10LnBhcmVudCxyPW4/bi5nZXRDb25jYXRlbmF0ZWRNYXRyaXgocik6ci5pZGVudGl0eSgpO3I9cy5nZXRNYXRyaXgocy5fcHJvcHMubWF0cml4KS5wcmVwZW5kTWF0cml4KHIpO3ZhciBhPWNyZWF0ZWpzLkRpc3BsYXlPYmplY3QuX2hpdFRlc3RDb250ZXh0O3JldHVybiBhLnNldFRyYW5zZm9ybShyLmEsci5iLHIuYyxyLmQsci50eC1lLHIudHktaSkscy5ncmFwaGljcy5kcmF3QXNQYXRoKGEpLGEuZmlsbFN0eWxlPVwiIzAwMFwiLGEuZmlsbCgpLCEhdGhpcy5fdGVzdEhpdChhKSYmKGEuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxhLmNsZWFyUmVjdCgwLDAsMiwyKSwhMCl9LHQuX2dldEJvdW5kcz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuRGlzcGxheU9iamVjdF9nZXRCb3VuZHMoKTtpZihpKXJldHVybiB0aGlzLl90cmFuc2Zvcm1Cb3VuZHMoaSx0LGUpO3ZhciBzPXRoaXMuX3Byb3BzLm1hdHJpeCxzPWU/cy5pZGVudGl0eSgpOnRoaXMuZ2V0TWF0cml4KHMpO3QmJnMucHJlcGVuZE1hdHJpeCh0KTtmb3IodmFyIHI9dGhpcy5jaGlsZHJlbi5sZW5ndGgsbj1udWxsLGE9MDthPHI7YSsrKXt2YXIgbz10aGlzLmNoaWxkcmVuW2FdO28udmlzaWJsZSYmKGk9by5fZ2V0Qm91bmRzKHMpKSYmKG4/bi5leHRlbmQoaS54LGkueSxpLndpZHRoLGkuaGVpZ2h0KTpuPWkuY2xvbmUoKSl9cmV0dXJuIG59LGNyZWF0ZWpzLkNvbnRhaW5lcj1jcmVhdGVqcy5wcm9tb3RlKG0sXCJEaXNwbGF5T2JqZWN0XCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt0aGlzLkNvbnRhaW5lcl9jb25zdHJ1Y3RvcigpLHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuY2FudmFzPVwic3RyaW5nXCI9PXR5cGVvZiB0P2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpOnQsdGhpcy5tb3VzZVg9MCx0aGlzLm1vdXNlWT0wLHRoaXMuZHJhd1JlY3Q9bnVsbCx0aGlzLnNuYXBUb1BpeGVsRW5hYmxlZD0hMSx0aGlzLm1vdXNlSW5Cb3VuZHM9ITEsdGhpcy50aWNrT25VcGRhdGU9ITAsdGhpcy5tb3VzZU1vdmVPdXRzaWRlPSExLHRoaXMucHJldmVudFNlbGVjdGlvbj0hMCx0aGlzLl9wb2ludGVyRGF0YT17fSx0aGlzLl9wb2ludGVyQ291bnQ9MCx0aGlzLl9wcmltYXJ5UG9pbnRlcklEPW51bGwsdGhpcy5fbW91c2VPdmVySW50ZXJ2YWxJRD1udWxsLHRoaXMuX25leHRTdGFnZT1udWxsLHRoaXMuX3ByZXZTdGFnZT1udWxsLHRoaXMuZW5hYmxlRE9NRXZlbnRzKCEwKX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5Db250YWluZXIpO2UuX2dldF9uZXh0U3RhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmV4dFN0YWdlfSxlLl9zZXRfbmV4dFN0YWdlPWZ1bmN0aW9uKHQpe3RoaXMuX25leHRTdGFnZSYmKHRoaXMuX25leHRTdGFnZS5fcHJldlN0YWdlPW51bGwpLHQmJih0Ll9wcmV2U3RhZ2U9dGhpcyksdGhpcy5fbmV4dFN0YWdlPXR9O3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtuZXh0U3RhZ2U6e2dldDplLl9nZXRfbmV4dFN0YWdlLHNldDplLl9zZXRfbmV4dFN0YWdlfX0pfWNhdGNoKHQpe31lLnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZSxpO3RoaXMuY2FudmFzJiYodGhpcy50aWNrT25VcGRhdGUmJnRoaXMudGljayh0KSwhMSE9PXRoaXMuZGlzcGF0Y2hFdmVudChcImRyYXdzdGFydFwiLCExLCEwKSYmKGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QuX3NuYXBUb1BpeGVsRW5hYmxlZD10aGlzLnNuYXBUb1BpeGVsRW5hYmxlZCxlPXRoaXMuZHJhd1JlY3QsKGk9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpKS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHRoaXMuYXV0b0NsZWFyJiYoZT9pLmNsZWFyUmVjdChlLngsZS55LGUud2lkdGgsZS5oZWlnaHQpOmkuY2xlYXJSZWN0KDAsMCx0aGlzLmNhbnZhcy53aWR0aCsxLHRoaXMuY2FudmFzLmhlaWdodCsxKSksaS5zYXZlKCksdGhpcy5kcmF3UmVjdCYmKGkuYmVnaW5QYXRoKCksaS5yZWN0KGUueCxlLnksZS53aWR0aCxlLmhlaWdodCksaS5jbGlwKCkpLHRoaXMudXBkYXRlQ29udGV4dChpKSx0aGlzLmRyYXcoaSwhMSksaS5yZXN0b3JlKCksdGhpcy5kaXNwYXRjaEV2ZW50KFwiZHJhd2VuZFwiKSkpfSxlLnRpY2s9ZnVuY3Rpb24odCl7aWYodGhpcy50aWNrRW5hYmxlZCYmITEhPT10aGlzLmRpc3BhdGNoRXZlbnQoXCJ0aWNrc3RhcnRcIiwhMSwhMCkpe3ZhciBlPW5ldyBjcmVhdGVqcy5FdmVudChcInRpY2tcIik7aWYodClmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTt0aGlzLl90aWNrKGUpLHRoaXMuZGlzcGF0Y2hFdmVudChcInRpY2tlbmRcIil9fSxlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKHQpe1widGlja1wiPT10LnR5cGUmJnRoaXMudXBkYXRlKHQpfSxlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5jYW52YXMmJigodD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikpLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksdC5jbGVhclJlY3QoMCwwLHRoaXMuY2FudmFzLndpZHRoKzEsdGhpcy5jYW52YXMuaGVpZ2h0KzEpKX0sZS50b0RhdGFVUkw9ZnVuY3Rpb24odCxlKXt2YXIgaSxzLHI9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLG49dGhpcy5jYW52YXMud2lkdGgsYT10aGlzLmNhbnZhcy5oZWlnaHQ7dCYmKGk9ci5nZXRJbWFnZURhdGEoMCwwLG4sYSkscz1yLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbixyLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cImRlc3RpbmF0aW9uLW92ZXJcIixyLmZpbGxTdHlsZT10LHIuZmlsbFJlY3QoMCwwLG4sYSkpO3ZhciBvPXRoaXMuY2FudmFzLnRvRGF0YVVSTChlfHxcImltYWdlL3BuZ1wiKTtyZXR1cm4gdCYmKHIucHV0SW1hZ2VEYXRhKGksMCwwKSxyLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1zKSxvfSxlLmVuYWJsZU1vdXNlT3Zlcj1mdW5jdGlvbih0KXtpZih0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEJiYoY2xlYXJJbnRlcnZhbCh0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEKSx0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEPW51bGwsMD09dCYmdGhpcy5fdGVzdE1vdXNlT3ZlcighMCkpLG51bGw9PXQpdD0yMDtlbHNlIGlmKHQ8PTApcmV0dXJuO3ZhciBlPXRoaXM7dGhpcy5fbW91c2VPdmVySW50ZXJ2YWxJRD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuX3Rlc3RNb3VzZU92ZXIoKX0sMWUzL01hdGgubWluKDUwLHQpKX0sZS5lbmFibGVET01FdmVudHM9ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9ITApO3ZhciBlLGkscz10aGlzLl9ldmVudExpc3RlbmVycztpZighdCYmcyl7Zm9yKGUgaW4gcykoaT1zW2VdKS50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpLmYsITEpO3RoaXMuX2V2ZW50TGlzdGVuZXJzPW51bGx9ZWxzZSBpZih0JiYhcyYmdGhpcy5jYW52YXMpe3ZhciByPXdpbmRvdy5hZGRFdmVudExpc3RlbmVyP3dpbmRvdzpkb2N1bWVudCxuPXRoaXMscz10aGlzLl9ldmVudExpc3RlbmVycz17fTtmb3IoZSBpbiBzLm1vdXNldXA9e3Q6cixmOmZ1bmN0aW9uKHQpe24uX2hhbmRsZU1vdXNlVXAodCl9fSxzLm1vdXNlbW92ZT17dDpyLGY6ZnVuY3Rpb24odCl7bi5faGFuZGxlTW91c2VNb3ZlKHQpfX0scy5kYmxjbGljaz17dDp0aGlzLmNhbnZhcyxmOmZ1bmN0aW9uKHQpe24uX2hhbmRsZURvdWJsZUNsaWNrKHQpfX0scy5tb3VzZWRvd249e3Q6dGhpcy5jYW52YXMsZjpmdW5jdGlvbih0KXtuLl9oYW5kbGVNb3VzZURvd24odCl9fSxzKShpPXNbZV0pLnQuYWRkRXZlbnRMaXN0ZW5lcihlLGkuZiwhMSl9fSxlLmNsb25lPWZ1bmN0aW9uKCl7dGhyb3dcIlN0YWdlIGNhbm5vdCBiZSBjbG9uZWQuXCJ9LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltTdGFnZSAobmFtZT1cIit0aGlzLm5hbWUrXCIpXVwifSxlLl9nZXRFbGVtZW50UmVjdD1mdW5jdGlvbihlKXt2YXIgaTt0cnl7aT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKHQpe2k9e3RvcDplLm9mZnNldFRvcCxsZWZ0OmUub2Zmc2V0TGVmdCx3aWR0aDplLm9mZnNldFdpZHRoLGhlaWdodDplLm9mZnNldEhlaWdodH19dmFyIHQ9KHdpbmRvdy5wYWdlWE9mZnNldHx8ZG9jdW1lbnQuc2Nyb2xsTGVmdHx8MCktKGRvY3VtZW50LmNsaWVudExlZnR8fGRvY3VtZW50LmJvZHkuY2xpZW50TGVmdHx8MCkscz0od2luZG93LnBhZ2VZT2Zmc2V0fHxkb2N1bWVudC5zY3JvbGxUb3B8fDApLShkb2N1bWVudC5jbGllbnRUb3B8fGRvY3VtZW50LmJvZHkuY2xpZW50VG9wfHwwKSxyPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlP2dldENvbXB1dGVkU3R5bGUoZSxudWxsKTplLmN1cnJlbnRTdHlsZSxuPXBhcnNlSW50KHIucGFkZGluZ0xlZnQpK3BhcnNlSW50KHIuYm9yZGVyTGVmdFdpZHRoKSxhPXBhcnNlSW50KHIucGFkZGluZ1RvcCkrcGFyc2VJbnQoci5ib3JkZXJUb3BXaWR0aCksbz1wYXJzZUludChyLnBhZGRpbmdSaWdodCkrcGFyc2VJbnQoci5ib3JkZXJSaWdodFdpZHRoKSxoPXBhcnNlSW50KHIucGFkZGluZ0JvdHRvbSkrcGFyc2VJbnQoci5ib3JkZXJCb3R0b21XaWR0aCk7cmV0dXJue2xlZnQ6aS5sZWZ0K3QrbixyaWdodDppLnJpZ2h0K3Qtbyx0b3A6aS50b3ArcythLGJvdHRvbTppLmJvdHRvbStzLWh9fSxlLl9nZXRQb2ludGVyRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcG9pbnRlckRhdGFbdF18fCh0aGlzLl9wb2ludGVyRGF0YVt0XT17eDowLHk6MH0pfSxlLl9oYW5kbGVNb3VzZU1vdmU9ZnVuY3Rpb24odCl7dD10fHx3aW5kb3cuZXZlbnQsdGhpcy5faGFuZGxlUG9pbnRlck1vdmUoLTEsdCx0LnBhZ2VYLHQucGFnZVkpfSxlLl9oYW5kbGVQb2ludGVyTW92ZT1mdW5jdGlvbih0LGUsaSxzLHIpe3ZhciBuLGEsbzt0aGlzLl9wcmV2U3RhZ2UmJnZvaWQgMD09PXJ8fHRoaXMuY2FudmFzJiYobj10aGlzLl9uZXh0U3RhZ2Usbz0oYT10aGlzLl9nZXRQb2ludGVyRGF0YSh0KSkuaW5Cb3VuZHMsdGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKHQsZSxpLHMpLChvfHxhLmluQm91bmRzfHx0aGlzLm1vdXNlTW92ZU91dHNpZGUpJiYoLTE9PT10JiZhLmluQm91bmRzPT0hbyYmdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsbz9cIm1vdXNlbGVhdmVcIjpcIm1vdXNlZW50ZXJcIiwhMSx0LGEsZSksdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsXCJzdGFnZW1vdXNlbW92ZVwiLCExLHQsYSxlKSx0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQoYS50YXJnZXQsXCJwcmVzc21vdmVcIiwhMCx0LGEsZSkpLG4mJm4uX2hhbmRsZVBvaW50ZXJNb3ZlKHQsZSxpLHMsbnVsbCkpfSxlLl91cGRhdGVQb2ludGVyUG9zaXRpb249ZnVuY3Rpb24odCxlLGkscyl7dmFyIHI9dGhpcy5fZ2V0RWxlbWVudFJlY3QodGhpcy5jYW52YXMpO2ktPXIubGVmdCxzLT1yLnRvcDt2YXIgbj10aGlzLmNhbnZhcy53aWR0aCxhPXRoaXMuY2FudmFzLmhlaWdodDtpLz0oci5yaWdodC1yLmxlZnQpL24scy89KHIuYm90dG9tLXIudG9wKS9hO3ZhciBvLGgsYz10aGlzLl9nZXRQb2ludGVyRGF0YSh0KTtjcmVhdGVqcy5zdGFnZVRyYW5zZm9ybWFibGU/KHRoaXMuX210eD10aGlzLmdldENvbmNhdGVuYXRlZE1hdHJpeCh0aGlzLl9tdHgpLmludmVydCgpLChjLmluQm91bmRzPTA8PWkmJjA8PXMmJmk8PW4tMSYmczw9YS0xKT8oYy54PWksYy55PXMsbz10aGlzLl9tdHgudHJhbnNmb3JtUG9pbnQoYy54LGMueSksYy54PW8ueCxjLnk9by55KTp0aGlzLm1vdXNlTW92ZU91dHNpZGUmJihjLng9aTwwPzA6bi0xPGk/bi0xOmksYy55PXM8MD8wOmEtMTxzP2EtMTpzLG89dGhpcy5fbXR4LnRyYW5zZm9ybVBvaW50KGMueCxjLnkpLGMueD1vLngsYy55PW8ueSksYy5yYXdYPWksYy5yYXdZPXMsaD10aGlzLl9tdHgudHJhbnNmb3JtUG9pbnQoYy5yYXdYLGMucmF3WSksYy5yYXdYPWgueCxjLnJhd1k9aC55KTooKGMuaW5Cb3VuZHM9MDw9aSYmMDw9cyYmaTw9bi0xJiZzPD1hLTEpPyhjLng9aSxjLnk9cyk6dGhpcy5tb3VzZU1vdmVPdXRzaWRlJiYoYy54PWk8MD8wOm4tMTxpP24tMTppLGMueT1zPDA/MDphLTE8cz9hLTE6cyksYy5yYXdYPWksYy5yYXdZPXMpLGMucG9zRXZ0T2JqPWUsdCE9PXRoaXMuX3ByaW1hcnlQb2ludGVySUQmJi0xIT09dHx8KHRoaXMubW91c2VYPWMueCx0aGlzLm1vdXNlWT1jLnksdGhpcy5tb3VzZUluQm91bmRzPWMuaW5Cb3VuZHMpfSxlLl9oYW5kbGVNb3VzZVVwPWZ1bmN0aW9uKHQpe3RoaXMuX2hhbmRsZVBvaW50ZXJVcCgtMSx0LCExKX0sZS5faGFuZGxlUG9pbnRlclVwPWZ1bmN0aW9uKHQsZSxpLHMpe3ZhciByLG4sYT10aGlzLl9uZXh0U3RhZ2Usbz10aGlzLl9nZXRQb2ludGVyRGF0YSh0KTt0aGlzLl9wcmV2U3RhZ2UmJnZvaWQgMD09PXN8fChyPW51bGwsbj1vLnRhcmdldCxzfHwhbiYmIWF8fChyPXRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KG8ueCxvLnksbnVsbCwhMCkpLG8uZG93biYmKHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0aGlzLFwic3RhZ2Vtb3VzZXVwXCIsITEsdCxvLGUsciksby5kb3duPSExKSxyPT1uJiZ0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQobixcImNsaWNrXCIsITAsdCxvLGUpLHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChuLFwicHJlc3N1cFwiLCEwLHQsbyxlKSxpPyh0PT10aGlzLl9wcmltYXJ5UG9pbnRlcklEJiYodGhpcy5fcHJpbWFyeVBvaW50ZXJJRD1udWxsKSxkZWxldGUgdGhpcy5fcG9pbnRlckRhdGFbdF0pOm8udGFyZ2V0PW51bGwsYSYmYS5faGFuZGxlUG9pbnRlclVwKHQsZSxpLHN8fHImJnRoaXMpKX0sZS5faGFuZGxlTW91c2VEb3duPWZ1bmN0aW9uKHQpe3RoaXMuX2hhbmRsZVBvaW50ZXJEb3duKC0xLHQsdC5wYWdlWCx0LnBhZ2VZKX0sZS5faGFuZGxlUG9pbnRlckRvd249ZnVuY3Rpb24odCxlLGkscyxyKXt0aGlzLnByZXZlbnRTZWxlY3Rpb24mJmUucHJldmVudERlZmF1bHQoKSxudWxsIT10aGlzLl9wcmltYXJ5UG9pbnRlcklEJiYtMSE9PXR8fCh0aGlzLl9wcmltYXJ5UG9pbnRlcklEPXQpLG51bGwhPXMmJnRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbih0LGUsaSxzKTt2YXIgbj1udWxsLGE9dGhpcy5fbmV4dFN0YWdlLG89dGhpcy5fZ2V0UG9pbnRlckRhdGEodCk7cnx8KG49by50YXJnZXQ9dGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoby54LG8ueSxudWxsLCEwKSksby5pbkJvdW5kcyYmKHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0aGlzLFwic3RhZ2Vtb3VzZWRvd25cIiwhMSx0LG8sZSxuKSxvLmRvd249ITApLHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChuLFwibW91c2Vkb3duXCIsITAsdCxvLGUpLGEmJmEuX2hhbmRsZVBvaW50ZXJEb3duKHQsZSxpLHMscnx8biYmdGhpcyl9LGUuX3Rlc3RNb3VzZU92ZXI9ZnVuY3Rpb24odCxlLGkpe2lmKCF0aGlzLl9wcmV2U3RhZ2V8fHZvaWQgMCE9PWUpe3ZhciBzPXRoaXMuX25leHRTdGFnZTtpZih0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEKXt2YXIgcj10aGlzLl9nZXRQb2ludGVyRGF0YSgtMSk7aWYociYmKHR8fHRoaXMubW91c2VYIT10aGlzLl9tb3VzZU92ZXJYfHx0aGlzLm1vdXNlWSE9dGhpcy5fbW91c2VPdmVyWXx8IXRoaXMubW91c2VJbkJvdW5kcykpe3ZhciBuLGEsbz1yLnBvc0V2dE9iaixoPWl8fG8mJm8udGFyZ2V0PT10aGlzLmNhbnZhcyxjPW51bGwsdT0tMSxsPVwiXCI7IWUmJih0fHx0aGlzLm1vdXNlSW5Cb3VuZHMmJmgpJiYoYz10aGlzLl9nZXRPYmplY3RzVW5kZXJQb2ludCh0aGlzLm1vdXNlWCx0aGlzLm1vdXNlWSxudWxsLCEwKSx0aGlzLl9tb3VzZU92ZXJYPXRoaXMubW91c2VYLHRoaXMuX21vdXNlT3Zlclk9dGhpcy5tb3VzZVkpO2Zvcih2YXIgZD10aGlzLl9tb3VzZU92ZXJUYXJnZXR8fFtdLF89ZFtkLmxlbmd0aC0xXSxwPXRoaXMuX21vdXNlT3ZlclRhcmdldD1bXSxmPWM7ZjspcC51bnNoaWZ0KGYpLGw9bHx8Zi5jdXJzb3IsZj1mLnBhcmVudDtmb3IodGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPWwsIWUmJmkmJihpLmNhbnZhcy5zdHlsZS5jdXJzb3I9bCksbj0wLGE9cC5sZW5ndGg7bjxhJiZwW25dPT1kW25dO24rKyl1PW47Zm9yKF8hPWMmJnRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChfLFwibW91c2VvdXRcIiwhMCwtMSxyLG8sYyksbj1kLmxlbmd0aC0xO3U8bjtuLS0pdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGRbbl0sXCJyb2xsb3V0XCIsITEsLTEscixvLGMpO2ZvcihuPXAubGVuZ3RoLTE7dTxuO24tLSl0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQocFtuXSxcInJvbGxvdmVyXCIsITEsLTEscixvLF8pO18hPWMmJnRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChjLFwibW91c2VvdmVyXCIsITAsLTEscixvLF8pLHMmJnMuX3Rlc3RNb3VzZU92ZXIodCxlfHxjJiZ0aGlzLGl8fGgmJnRoaXMpfX1lbHNlIHMmJnMuX3Rlc3RNb3VzZU92ZXIodCxlLGkpfX0sZS5faGFuZGxlRG91YmxlQ2xpY2s9ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsLHM9dGhpcy5fbmV4dFN0YWdlLHI9dGhpcy5fZ2V0UG9pbnRlckRhdGEoLTEpO2V8fChpPXRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KHIueCxyLnksbnVsbCwhMCksdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGksXCJkYmxjbGlja1wiLCEwLC0xLHIsdCkpLHMmJnMuX2hhbmRsZURvdWJsZUNsaWNrKHQsZXx8aSYmdGhpcyl9LGUuX2Rpc3BhdGNoTW91c2VFdmVudD1mdW5jdGlvbih0LGUsaSxzLHIsbixhKXt2YXIgbzt0JiYoaXx8dC5oYXNFdmVudExpc3RlbmVyKGUpKSYmKG89bmV3IGNyZWF0ZWpzLk1vdXNlRXZlbnQoZSxpLCExLHIueCxyLnksbixzLHM9PT10aGlzLl9wcmltYXJ5UG9pbnRlcklEfHwtMT09PXMsci5yYXdYLHIucmF3WSxhKSx0LmRpc3BhdGNoRXZlbnQobykpfSxjcmVhdGVqcy5TdGFnZT1jcmVhdGVqcy5wcm9tb3RlKHQsXCJDb250YWluZXJcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBQKHQsZSl7aWYodGhpcy5TdGFnZV9jb25zdHJ1Y3Rvcih0KSx2b2lkIDAhPT1lKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvd1wiSW52YWxpZCBvcHRpb25zIG9iamVjdFwiO3ZhciBpPWUucHJlbXVsdGlwbHkscz1lLnRyYW5zcGFyZW50LHI9ZS5hbnRpYWxpYXMsbj1lLnByZXNlcnZlQnVmZmVyLGE9ZS5hdXRvUHVyZ2V9dGhpcy52b2NhbERlYnVnPSExLHRoaXMuX3ByZXNlcnZlQnVmZmVyPW58fCExLHRoaXMuX2FudGlhbGlhcz1yfHwhMSx0aGlzLl90cmFuc3BhcmVudD1zfHwhMSx0aGlzLl9wcmVtdWx0aXBseT1pfHwhMSx0aGlzLl9hdXRvUHVyZ2U9dm9pZCAwLHRoaXMuYXV0b1B1cmdlPWEsdGhpcy5fdmlld3BvcnRXaWR0aD0wLHRoaXMuX3ZpZXdwb3J0SGVpZ2h0PTAsdGhpcy5fcHJvamVjdGlvbk1hdHJpeD1udWxsLHRoaXMuX3dlYkdMQ29udGV4dD1udWxsLHRoaXMuX2NsZWFyQ29sb3I9e3I6LjUsZzouNSxiOi41LGE6MH0sdGhpcy5fbWF4Q2FyZHNQZXJCYXRjaD1QLkRFRkFVTFRfTUFYX0JBVENIX1NJWkUsdGhpcy5fYWN0aXZlU2hhZGVyPW51bGwsdGhpcy5fdmVydGljZXM9bnVsbCx0aGlzLl92ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcj1udWxsLHRoaXMuX3V2cz1udWxsLHRoaXMuX3V2UG9zaXRpb25CdWZmZXI9bnVsbCx0aGlzLl9pbmRpY2VzPW51bGwsdGhpcy5fdGV4dHVyZUluZGV4QnVmZmVyPW51bGwsdGhpcy5fYWxwaGFzPW51bGwsdGhpcy5fYWxwaGFCdWZmZXI9bnVsbCx0aGlzLl90ZXh0dXJlRGljdGlvbmFyeT1bXSx0aGlzLl90ZXh0dXJlSURzPXt9LHRoaXMuX2JhdGNoVGV4dHVyZXM9W10sdGhpcy5fYmFzZVRleHR1cmVzPVtdLHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50PTgsdGhpcy5fbGFzdFRleHR1cmVJbnNlcnQ9LTEsdGhpcy5fYmF0Y2hJRD0wLHRoaXMuX2RyYXdJRD0wLHRoaXMuX3Nsb3RCbGFja2xpc3Q9W10sdGhpcy5faXNEcmF3aW5nPTAsdGhpcy5fbGFzdFRyYWNrZWRDYW52YXM9MCx0aGlzLmlzQ2FjaGVDb250cm9sbGVkPSExLHRoaXMuX2NhY2hlQ29udGFpbmVyPW5ldyBjcmVhdGVqcy5Db250YWluZXIsdGhpcy5faW5pdGlhbGl6ZVdlYkdMKCl9dmFyIHQ9Y3JlYXRlanMuZXh0ZW5kKFAsY3JlYXRlanMuU3RhZ2UpO1AuYnVpbGRVVlJlY3RzPWZ1bmN0aW9uKHQsZSxpKXtpZighdHx8IXQuX2ZyYW1lcylyZXR1cm4gbnVsbDt2b2lkIDA9PT1lJiYoZT0tMSksdm9pZCAwPT09aSYmKGk9ITEpO2Zvcih2YXIgcz0tMSE9ZSYmaT9lOjAscj0tMSE9ZSYmaT9lKzE6dC5fZnJhbWVzLmxlbmd0aCxuPXM7bjxyO24rKyl7dmFyIGEsbz10Ll9mcmFtZXNbbl07by51dlJlY3R8fG8uaW1hZ2Uud2lkdGg8PTB8fG8uaW1hZ2UuaGVpZ2h0PD0wfHwoYT1vLnJlY3Qsby51dlJlY3Q9e3Q6YS55L28uaW1hZ2UuaGVpZ2h0LGw6YS54L28uaW1hZ2Uud2lkdGgsYjooYS55K2EuaGVpZ2h0KS9vLmltYWdlLmhlaWdodCxyOihhLngrYS53aWR0aCkvby5pbWFnZS53aWR0aH0pfXJldHVybiB0Ll9mcmFtZXNbLTEhPWU/ZTowXS51dlJlY3R8fHt0OjAsbDowLGI6MSxyOjF9fSxQLmlzV2ViR0xBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQgaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHR9LFAuVkVSVEVYX1BST1BFUlRZX0NPVU5UPTYsUC5JTkRJQ0lFU19QRVJfQ0FSRD02LFAuREVGQVVMVF9NQVhfQkFUQ0hfU0laRT0xZTQsUC5XRUJHTF9NQVhfSU5ERVhfTlVNPU1hdGgucG93KDIsMTYpLFAuVVZfUkVDVD17dDowLGw6MCxiOjEscjoxfTt0cnl7UC5DT1ZFUl9WRVJUPW5ldyBGbG9hdDMyQXJyYXkoWy0xLDEsMSwxLC0xLC0xLDEsMSwxLC0xLC0xLC0xXSksUC5DT1ZFUl9VVj1uZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDAsMSwxLDAsMSwxLDAsMV0pLFAuQ09WRVJfVVZfRkxJUD1uZXcgRmxvYXQzMkFycmF5KFswLDEsMSwxLDAsMCwxLDEsMSwwLDAsMF0pfWNhdGNoKHQpe31QLlJFR1VMQVJfVkVSVEVYX0hFQURFUj0oUC5SRUdVTEFSX1ZBUllJTkdfSEVBREVSPVwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7dmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7dmFyeWluZyBsb3dwIGZsb2F0IGluZGV4UGlja2VyO3ZhcnlpbmcgbG93cCBmbG9hdCBhbHBoYVZhbHVlO1wiKStcImF0dHJpYnV0ZSB2ZWMyIHZlcnRleFBvc2l0aW9uO2F0dHJpYnV0ZSB2ZWMyIHV2UG9zaXRpb247YXR0cmlidXRlIGxvd3AgZmxvYXQgdGV4dHVyZUluZGV4O2F0dHJpYnV0ZSBsb3dwIGZsb2F0IG9iamVjdEFscGhhO3VuaWZvcm0gbWF0NCBwTWF0cml4O1wiLFAuUkVHVUxBUl9GUkFHTUVOVF9IRUFERVI9UC5SRUdVTEFSX1ZBUllJTkdfSEVBREVSK1widW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJbe3tjb3VudH19XTtcIixQLlJFR1VMQVJfVkVSVEVYX0JPRFk9XCJ2b2lkIG1haW4odm9pZCkge2dsX1Bvc2l0aW9uID0gdmVjNCgodmVydGV4UG9zaXRpb24ueCAqIHBNYXRyaXhbMF1bMF0pICsgcE1hdHJpeFszXVswXSwodmVydGV4UG9zaXRpb24ueSAqIHBNYXRyaXhbMV1bMV0pICsgcE1hdHJpeFszXVsxXSxwTWF0cml4WzNdWzJdLDEuMCk7YWxwaGFWYWx1ZSA9IG9iamVjdEFscGhhO2luZGV4UGlja2VyID0gdGV4dHVyZUluZGV4O3ZUZXh0dXJlQ29vcmQgPSB1dlBvc2l0aW9uO31cIixQLlJFR1VMQVJfRlJBR01FTlRfQk9EWT1cInZvaWQgbWFpbih2b2lkKSB7dmVjNCBjb2xvciA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKTtpZiAoaW5kZXhQaWNrZXIgPD0gMC41KSB7Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJbMF0sIHZUZXh0dXJlQ29vcmQpO3t7YWx0ZXJuYXRlc319fXt7ZnJhZ0NvbG9yfX19XCIsUC5SRUdVTEFSX0ZSQUdfQ09MT1JfTk9STUFMPVwiZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvci5yZ2IsIGNvbG9yLmEgKiBhbHBoYVZhbHVlKTtcIixQLlJFR1VMQVJfRlJBR19DT0xPUl9QUkVNVUxUSVBMWT1cImlmKGNvbG9yLmEgPiAwLjAwMzUpIHtnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLnJnYi9jb2xvci5hLCBjb2xvci5hICogYWxwaGFWYWx1ZSk7fSBlbHNlIHtnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7fVwiLFAuUEFSVElDTEVfVkVSVEVYX0JPRFk9UC5SRUdVTEFSX1ZFUlRFWF9CT0RZLFAuUEFSVElDTEVfRlJBR01FTlRfQk9EWT1QLlJFR1VMQVJfRlJBR01FTlRfQk9EWSxQLkNPVkVSX1ZFUlRFWF9IRUFERVI9KFAuQ09WRVJfVkFSWUlOR19IRUFERVI9XCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDt2YXJ5aW5nIGhpZ2hwIHZlYzIgdlJlbmRlckNvb3JkO3ZhcnlpbmcgaGlnaHAgdmVjMiB2VGV4dHVyZUNvb3JkO1wiKStcImF0dHJpYnV0ZSB2ZWMyIHZlcnRleFBvc2l0aW9uO2F0dHJpYnV0ZSB2ZWMyIHV2UG9zaXRpb247dW5pZm9ybSBmbG9hdCB1VXByaWdodDtcIixQLkNPVkVSX0ZSQUdNRU5UX0hFQURFUj1QLkNPVkVSX1ZBUllJTkdfSEVBREVSK1widW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsUC5DT1ZFUl9WRVJURVhfQk9EWT1cInZvaWQgbWFpbih2b2lkKSB7Z2xfUG9zaXRpb24gPSB2ZWM0KHZlcnRleFBvc2l0aW9uLngsIHZlcnRleFBvc2l0aW9uLnksIDAuMCwgMS4wKTt2UmVuZGVyQ29vcmQgPSB1dlBvc2l0aW9uO3ZUZXh0dXJlQ29vcmQgPSB2ZWMyKHV2UG9zaXRpb24ueCwgYWJzKHVVcHJpZ2h0IC0gdXZQb3NpdGlvbi55KSk7fVwiLFAuQ09WRVJfRlJBR01FTlRfQk9EWT1cInZvaWQgbWFpbih2b2lkKSB7dmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlJlbmRlckNvb3JkKTtnbF9GcmFnQ29sb3IgPSBjb2xvcjt9XCIsdC5fZ2V0X2lzV2ViR0w9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3dlYkdMQ29udGV4dH0sdC5fc2V0X2F1dG9QdXJnZT1mdW5jdGlvbih0KXstMSE9KHQ9aXNOYU4odCk/MTIwMDp0KSYmKHQ9dDwxMD8xMDp0KSx0aGlzLl9hdXRvUHVyZ2U9dH0sdC5fZ2V0X2F1dG9QdXJnZT1mdW5jdGlvbigpe3JldHVybiBOdW1iZXIodGhpcy5fYXV0b1B1cmdlKX07dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQse2lzV2ViR0w6e2dldDp0Ll9nZXRfaXNXZWJHTH0sYXV0b1B1cmdlOntnZXQ6dC5fZ2V0X2F1dG9QdXJnZSxzZXQ6dC5fc2V0X2F1dG9QdXJnZX19KX1jYXRjaCh0KXt9dC5faW5pdGlhbGl6ZVdlYkdMPWZ1bmN0aW9uKCl7aWYodGhpcy5jYW52YXMpe2lmKCF0aGlzLl93ZWJHTENvbnRleHR8fHRoaXMuX3dlYkdMQ29udGV4dC5jYW52YXMhPT10aGlzLmNhbnZhcyl7dmFyIHQ9e2RlcHRoOiExLGFscGhhOnRoaXMuX3RyYW5zcGFyZW50LHN0ZW5jaWw6ITAsYW50aWFsaWFzOnRoaXMuX2FudGlhbGlhcyxwcmVtdWx0aXBsaWVkQWxwaGE6dGhpcy5fcHJlbXVsdGlwbHkscHJlc2VydmVEcmF3aW5nQnVmZmVyOnRoaXMuX3ByZXNlcnZlQnVmZmVyfSxlPXRoaXMuX3dlYkdMQ29udGV4dD10aGlzLl9mZXRjaFdlYkdMQ29udGV4dCh0aGlzLmNhbnZhcyx0KTtpZighZSlyZXR1cm4gbnVsbDt0aGlzLnVwZGF0ZVNpbXVsdGFuZW91c1RleHR1cmVDb3VudChlLmdldFBhcmFtZXRlcihlLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSksdGhpcy5fbWF4VGV4dHVyZVNsb3RzPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFMpLHRoaXMuX2NyZWF0ZUJ1ZmZlcnMoZSksdGhpcy5faW5pdFRleHR1cmVzKGUpLGUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLGUuZW5hYmxlKGUuQkxFTkQpLGUuYmxlbmRGdW5jU2VwYXJhdGUoZS5TUkNfQUxQSEEsZS5PTkVfTUlOVVNfU1JDX0FMUEhBLGUuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQSksZS5waXhlbFN0b3JlaShlLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCx0aGlzLl9wcmVtdWx0aXBseSksdGhpcy5fd2ViR0xDb250ZXh0LmNsZWFyQ29sb3IodGhpcy5fY2xlYXJDb2xvci5yLHRoaXMuX2NsZWFyQ29sb3IuZyx0aGlzLl9jbGVhckNvbG9yLmIsdGhpcy5fY2xlYXJDb2xvci5hKSx0aGlzLnVwZGF0ZVZpZXdwb3J0KHRoaXMuX3ZpZXdwb3J0V2lkdGh8fHRoaXMuY2FudmFzLndpZHRoLHRoaXMuX3ZpZXdwb3J0SGVpZ2h0fHx0aGlzLmNhbnZhcy5oZWlnaHQpfX1lbHNlIHRoaXMuX3dlYkdMQ29udGV4dD1udWxsO3JldHVybiB0aGlzLl93ZWJHTENvbnRleHR9LHQudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuY2FudmFzJiYodGhpcy50aWNrT25VcGRhdGUmJnRoaXMudGljayh0KSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJkcmF3c3RhcnRcIiksdGhpcy5hdXRvQ2xlYXImJnRoaXMuY2xlYXIoKSx0aGlzLl93ZWJHTENvbnRleHQ/KHRoaXMuX2JhdGNoRHJhdyh0aGlzLHRoaXMuX3dlYkdMQ29udGV4dCksLTE9PXRoaXMuX2F1dG9QdXJnZXx8dGhpcy5fZHJhd0lEJSh0aGlzLl9hdXRvUHVyZ2UvMnwwKXx8dGhpcy5wdXJnZVRleHR1cmVzKHRoaXMuX2F1dG9QdXJnZSkpOigoZT10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikpLnNhdmUoKSx0aGlzLnVwZGF0ZUNvbnRleHQoZSksdGhpcy5kcmF3KGUsITEpLGUucmVzdG9yZSgpKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJkcmF3ZW5kXCIpKX0sdC5jbGVhcj1mdW5jdGlvbigpe3ZhciB0LGUsaTt0aGlzLmNhbnZhcyYmKFAuaXNXZWJHTEFjdGl2ZSh0aGlzLl93ZWJHTENvbnRleHQpPyh0PXRoaXMuX3dlYkdMQ29udGV4dCxlPXRoaXMuX2NsZWFyQ29sb3IsaT10aGlzLl90cmFuc3BhcmVudD9lLmE6MSx0aGlzLl93ZWJHTENvbnRleHQuY2xlYXJDb2xvcihlLnIqaSxlLmcqaSxlLmIqaSxpKSx0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCksdGhpcy5fd2ViR0xDb250ZXh0LmNsZWFyQ29sb3IoZS5yLGUuZyxlLmIsZS5hKSk6dGhpcy5TdGFnZV9jbGVhcigpKX0sdC5kcmF3PWZ1bmN0aW9uKHQsZSl7aWYodD09PXRoaXMuX3dlYkdMQ29udGV4dCYmUC5pc1dlYkdMQWN0aXZlKHRoaXMuX3dlYkdMQ29udGV4dCkpe3ZhciBpPXRoaXMuX3dlYkdMQ29udGV4dDtyZXR1cm4gdGhpcy5fYmF0Y2hEcmF3KHRoaXMsaSxlKSwhMH1yZXR1cm4gdGhpcy5TdGFnZV9kcmF3KHQsZSl9LHQuY2FjaGVEcmF3PWZ1bmN0aW9uKHQsZSxpKXtpZihQLmlzV2ViR0xBY3RpdmUodGhpcy5fd2ViR0xDb250ZXh0KSl7dmFyIHM9dGhpcy5fd2ViR0xDb250ZXh0O3JldHVybiB0aGlzLl9jYWNoZURyYXcocyx0LGUsaSksITB9cmV0dXJuITF9LHQucHJvdGVjdFRleHR1cmVTbG90PWZ1bmN0aW9uKHQsZSl7aWYodD50aGlzLl9tYXhUZXh0dXJlU2xvdHN8fHQ8MCl0aHJvd1wiU2xvdCBvdXRzaWRlIG9mIGFjY2VwdGFibGUgcmFuZ2VcIjt0aGlzLl9zbG90QmxhY2tsaXN0W3RdPSEhZX0sdC5nZXRUYXJnZXRSZW5kZXJUZXh0dXJlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxyPSExLG49dGhpcy5fd2ViR0xDb250ZXh0O2lmKHZvaWQgMCE9PXQuX19sYXN0UlQmJnQuX19sYXN0UlQ9PT10Ll9fcnRBJiYocj0hMCksIShzPXI/KHZvaWQgMD09PXQuX19ydEI/dC5fX3J0Qj10aGlzLmdldFJlbmRlckJ1ZmZlclRleHR1cmUoZSxpKTooZT09dC5fX3J0Qi5fd2lkdGgmJmk9PXQuX19ydEIuX2hlaWdodHx8dGhpcy5yZXNpemVUZXh0dXJlKHQuX19ydEIsZSxpKSx0aGlzLnNldFRleHR1cmVQYXJhbXMobikpLHQuX19ydEIpOih2b2lkIDA9PT10Ll9fcnRBP3QuX19ydEE9dGhpcy5nZXRSZW5kZXJCdWZmZXJUZXh0dXJlKGUsaSk6KGU9PXQuX19ydEEuX3dpZHRoJiZpPT10Ll9fcnRBLl9oZWlnaHR8fHRoaXMucmVzaXplVGV4dHVyZSh0Ll9fcnRBLGUsaSksdGhpcy5zZXRUZXh0dXJlUGFyYW1zKG4pKSx0Ll9fcnRBKSkpdGhyb3dcIlByb2JsZW1zIGNyZWF0aW5nIHJlbmRlciB0ZXh0dXJlcywga25vd24gY2F1c2VzIGluY2x1ZGUgdXNpbmcgdG9vIG11Y2ggVlJBTSBieSBub3QgcmVsZWFzaW5nIFdlYkdMIHRleHR1cmUgaW5zdGFuY2VzXCI7cmV0dXJuIHQuX19sYXN0UlQ9c30sdC5yZWxlYXNlVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZSxpO2lmKHQpe2lmKHQuY2hpbGRyZW4pZm9yKGU9MCxpPXQuY2hpbGRyZW4ubGVuZ3RoO2U8aTtlKyspdGhpcy5yZWxlYXNlVGV4dHVyZSh0LmNoaWxkcmVuW2VdKTt0LmNhY2hlQ2FudmFzJiZ0LnVuY2FjaGUoKTt2YXIgcz12b2lkIDA7aWYodm9pZCAwIT09dC5fc3RvcmVJRCl7aWYodD09PXRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W3QuX3N0b3JlSURdKXJldHVybiB0aGlzLl9raWxsVGV4dHVyZU9iamVjdCh0KSx2b2lkKHQuX3N0b3JlSUQ9dm9pZCAwKTtzPXR9ZWxzZSBpZigyPT09dC5fd2ViR0xSZW5kZXJTdHlsZSlzPXQuaW1hZ2U7ZWxzZSBpZigxPT09dC5fd2ViR0xSZW5kZXJTdHlsZSl7Zm9yKGU9MCxpPXQuc3ByaXRlU2hlZXQuX2ltYWdlcy5sZW5ndGg7ZTxpO2UrKyl0aGlzLnJlbGVhc2VUZXh0dXJlKHQuc3ByaXRlU2hlZXQuX2ltYWdlc1tlXSk7cmV0dXJufXZvaWQgMCE9PXM/KHRoaXMuX2tpbGxUZXh0dXJlT2JqZWN0KHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W3MuX3N0b3JlSURdKSxzLl9zdG9yZUlEPXZvaWQgMCk6dGhpcy52b2NhbERlYnVnJiZjb25zb2xlLmxvZyhcIk5vIGFzc29jaWF0ZWQgdGV4dHVyZSBmb3VuZCBvbiByZWxlYXNlXCIpfX0sdC5wdXJnZVRleHR1cmVzPWZ1bmN0aW9uKHQpe251bGw9PXQmJih0PTEwMCk7Zm9yKHZhciBlPXRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5LGk9ZS5sZW5ndGgscz0wO3M8aTtzKyspe3ZhciByPWVbc107ciYmci5fZHJhd0lEK3Q8PXRoaXMuX2RyYXdJRCYmdGhpcy5fa2lsbFRleHR1cmVPYmplY3Qocil9fSx0LnVwZGF0ZVNpbXVsdGFuZW91c1RleHR1cmVDb3VudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl93ZWJHTENvbnRleHQsaT0hMTtmb3IoKHQ8MXx8aXNOYU4odCkpJiYodD0xKSx0aGlzLl9iYXRjaFRleHR1cmVDb3VudD10OyFpOyl0cnl7dGhpcy5fYWN0aXZlU2hhZGVyPXRoaXMuX2ZldGNoU2hhZGVyUHJvZ3JhbShlKSxpPSEwfWNhdGNoKHQpe2lmKDE9PXRoaXMuX2JhdGNoVGV4dHVyZUNvdW50KXRocm93XCJDYW5ub3QgY29tcGlsZSBzaGFkZXIgXCIrdDt0aGlzLl9iYXRjaFRleHR1cmVDb3VudC09NCx0aGlzLl9iYXRjaFRleHR1cmVDb3VudDwxJiYodGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQ9MSksdGhpcy52b2NhbERlYnVnJiZjb25zb2xlLmxvZyhcIlJlZHVjaW5nIGRlc2lyZWQgdGV4dHVyZSBjb3VudCBkdWUgdG8gZXJyb3JzOiBcIit0aGlzLl9iYXRjaFRleHR1cmVDb3VudCl9fSx0LnVwZGF0ZVZpZXdwb3J0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmlld3BvcnRXaWR0aD0wfHQsdGhpcy5fdmlld3BvcnRIZWlnaHQ9MHxlO3ZhciBpPXRoaXMuX3dlYkdMQ29udGV4dDtpJiYoaS52aWV3cG9ydCgwLDAsdGhpcy5fdmlld3BvcnRXaWR0aCx0aGlzLl92aWV3cG9ydEhlaWdodCksdGhpcy5fcHJvamVjdGlvbk1hdHJpeD1uZXcgRmxvYXQzMkFycmF5KFsyL3RoaXMuX3ZpZXdwb3J0V2lkdGgsMCwwLDAsMCwtMi90aGlzLl92aWV3cG9ydEhlaWdodCwxLDAsMCwwLDEsMCwtMSwxLC4xLDBdKSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4RmxpcD1uZXcgRmxvYXQzMkFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSksdGhpcy5fcHJvamVjdGlvbk1hdHJpeEZsaXAuc2V0KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXhGbGlwWzVdKj0tMSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4RmxpcFsxM10qPS0xKX0sdC5nZXRGaWx0ZXJTaGFkZXI9ZnVuY3Rpb24odCl7dD10fHx0aGlzO3ZhciBlPXRoaXMuX3dlYkdMQ29udGV4dCxpPXRoaXMuX2FjdGl2ZVNoYWRlcjtpZih0Ll9idWlsdFNoYWRlcilpPXQuX2J1aWx0U2hhZGVyLHQuc2hhZGVyUGFyYW1TZXR1cCYmKGUudXNlUHJvZ3JhbShpKSx0LnNoYWRlclBhcmFtU2V0dXAoZSx0aGlzLGkpKTtlbHNlIHRyeXtpPXRoaXMuX2ZldGNoU2hhZGVyUHJvZ3JhbShlLFwiZmlsdGVyXCIsdC5WVFhfU0hBREVSX0JPRFksdC5GUkFHX1NIQURFUl9CT0RZLHQuc2hhZGVyUGFyYW1TZXR1cCYmdC5zaGFkZXJQYXJhbVNldHVwLmJpbmQodCkpLCh0Ll9idWlsdFNoYWRlcj1pKS5fbmFtZT10LnRvU3RyaW5nKCl9Y2F0Y2godCl7Y29uc29sZSYmY29uc29sZS5sb2coXCJTSEFERVIgU1dJVENIIEZBSUxVUkVcIix0KX1yZXR1cm4gaX0sdC5nZXRCYXNlVGV4dHVyZT1mdW5jdGlvbih0LGUpe3ZhciBpPU1hdGguY2VpbCgwPHQ/dDoxKXx8MSxzPU1hdGguY2VpbCgwPGU/ZToxKXx8MSxyPXRoaXMuX3dlYkdMQ29udGV4dCxuPXIuY3JlYXRlVGV4dHVyZSgpO3JldHVybiB0aGlzLnJlc2l6ZVRleHR1cmUobixpLHMpLHRoaXMuc2V0VGV4dHVyZVBhcmFtcyhyLCExKSxufSx0LnJlc2l6ZVRleHR1cmU9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuX3dlYkdMQ29udGV4dDtzLmJpbmRUZXh0dXJlKHMuVEVYVFVSRV8yRCx0KSxzLnRleEltYWdlMkQocy5URVhUVVJFXzJELDAscy5SR0JBLGUsaSwwLHMuUkdCQSxzLlVOU0lHTkVEX0JZVEUsbnVsbCksdC53aWR0aD1lLHQuaGVpZ2h0PWl9LHQuZ2V0UmVuZGVyQnVmZmVyVGV4dHVyZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3dlYkdMQ29udGV4dCxzPXRoaXMuZ2V0QmFzZVRleHR1cmUodCxlKTtpZighcylyZXR1cm4gbnVsbDt2YXIgcj1pLmNyZWF0ZUZyYW1lYnVmZmVyKCk7cmV0dXJuIHI/KHMud2lkdGg9dCxzLmhlaWdodD1lLGkuYmluZEZyYW1lYnVmZmVyKGkuRlJBTUVCVUZGRVIsciksaS5mcmFtZWJ1ZmZlclRleHR1cmUyRChpLkZSQU1FQlVGRkVSLGkuQ09MT1JfQVRUQUNITUVOVDAsaS5URVhUVVJFXzJELHMsMCksKHIuX3JlbmRlclRleHR1cmU9cykuX2ZyYW1lQnVmZmVyPXIscy5fc3RvcmVJRD10aGlzLl90ZXh0dXJlRGljdGlvbmFyeS5sZW5ndGgsdGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbcy5fc3RvcmVJRF09cyxpLmJpbmRGcmFtZWJ1ZmZlcihpLkZSQU1FQlVGRkVSLG51bGwpLHMpOm51bGx9LHQuc2V0VGV4dHVyZVBhcmFtcz1mdW5jdGlvbih0LGUpe2UmJnRoaXMuX2FudGlhbGlhcz8odC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUix0LkxJTkVBUiksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0LkxJTkVBUikpOih0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTkVBUkVTVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0Lk5FQVJFU1QpKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5DTEFNUF9UT19FREdFKX0sdC5zZXRDbGVhckNvbG9yPWZ1bmN0aW9uKHQpe3ZhciBlLGkscyxyLG47XCJzdHJpbmdcIj09dHlwZW9mIHQ/MD09dC5pbmRleE9mKFwiI1wiKT8oND09dC5sZW5ndGgmJih0PVwiI1wiK3QuY2hhckF0KDEpK3QuY2hhckF0KDEpK3QuY2hhckF0KDIpK3QuY2hhckF0KDIpK3QuY2hhckF0KDMpK3QuY2hhckF0KDMpKSxlPU51bWJlcihcIjB4XCIrdC5zbGljZSgxLDMpKS8yNTUsaT1OdW1iZXIoXCIweFwiK3Quc2xpY2UoMyw1KSkvMjU1LHM9TnVtYmVyKFwiMHhcIit0LnNsaWNlKDUsNykpLzI1NSxyPU51bWJlcihcIjB4XCIrdC5zbGljZSg3LDkpKS8yNTUpOjA9PXQuaW5kZXhPZihcInJnYmEoXCIpJiYobj10LnNsaWNlKDUsLTEpLnNwbGl0KFwiLFwiKSxlPU51bWJlcihuWzBdKS8yNTUsaT1OdW1iZXIoblsxXSkvMjU1LHM9TnVtYmVyKG5bMl0pLzI1NSxyPU51bWJlcihuWzNdKSk6KGU9KCg0Mjc4MTkwMDgwJnQpPj4+MjQpLzI1NSxpPSgoMTY3MTE2ODAmdCk+Pj4xNikvMjU1LHM9KCg2NTI4MCZ0KT4+PjgpLzI1NSxyPSgyNTUmdCkvMjU1KSx0aGlzLl9jbGVhckNvbG9yLnI9ZXx8MCx0aGlzLl9jbGVhckNvbG9yLmc9aXx8MCx0aGlzLl9jbGVhckNvbG9yLmI9c3x8MCx0aGlzLl9jbGVhckNvbG9yLmE9cnx8MCx0aGlzLl93ZWJHTENvbnRleHQmJnRoaXMuX3dlYkdMQ29udGV4dC5jbGVhckNvbG9yKHRoaXMuX2NsZWFyQ29sb3Iucix0aGlzLl9jbGVhckNvbG9yLmcsdGhpcy5fY2xlYXJDb2xvci5iLHRoaXMuX2NsZWFyQ29sb3IuYSl9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltTdGFnZUdMIChuYW1lPVwiK3RoaXMubmFtZStcIildXCJ9LHQuX2ZldGNoV2ViR0xDb250ZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIGksczt0cnl7aT10LmdldENvbnRleHQoXCJ3ZWJnbFwiLGUpfHx0LmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixlKX1jYXRjaCh0KXt9cmV0dXJuIGk/KGkudmlld3BvcnRXaWR0aD10LndpZHRoLGkudmlld3BvcnRIZWlnaHQ9dC5oZWlnaHQpOihzPVwiQ291bGQgbm90IGluaXRpYWxpemUgV2ViR0xcIixjb25zb2xlLmVycm9yP2NvbnNvbGUuZXJyb3Iocyk6Y29uc29sZS5sb2cocykpLGl9LHQuX2ZldGNoU2hhZGVyUHJvZ3JhbT1mdW5jdGlvbih0LGUsaSxzLHIpe3ZhciBuLGE7c3dpdGNoKHQudXNlUHJvZ3JhbShudWxsKSxlKXtjYXNlXCJmaWx0ZXJcIjphPVAuQ09WRVJfVkVSVEVYX0hFQURFUisoaXx8UC5DT1ZFUl9WRVJURVhfQk9EWSksbj1QLkNPVkVSX0ZSQUdNRU5UX0hFQURFUisoc3x8UC5DT1ZFUl9GUkFHTUVOVF9CT0RZKTticmVhaztjYXNlXCJwYXJ0aWNsZVwiOmE9UC5SRUdVTEFSX1ZFUlRFWF9IRUFERVIrUC5QQVJUSUNMRV9WRVJURVhfQk9EWSxuPVAuUkVHVUxBUl9GUkFHTUVOVF9IRUFERVIrUC5QQVJUSUNMRV9GUkFHTUVOVF9CT0RZO2JyZWFrO2Nhc2VcIm92ZXJyaWRlXCI6YT1QLlJFR1VMQVJfVkVSVEVYX0hFQURFUisoaXx8UC5SRUdVTEFSX1ZFUlRFWF9CT0RZKSxuPVAuUkVHVUxBUl9GUkFHTUVOVF9IRUFERVIrKHN8fFAuUkVHVUxBUl9GUkFHTUVOVF9CT0RZKTticmVhaztjYXNlXCJyZWd1bGFyXCI6ZGVmYXVsdDphPVAuUkVHVUxBUl9WRVJURVhfSEVBREVSK1AuUkVHVUxBUl9WRVJURVhfQk9EWSxuPVAuUkVHVUxBUl9GUkFHTUVOVF9IRUFERVIrUC5SRUdVTEFSX0ZSQUdNRU5UX0JPRFl9dmFyIG89dGhpcy5fY3JlYXRlU2hhZGVyKHQsdC5WRVJURVhfU0hBREVSLGEpLGg9dGhpcy5fY3JlYXRlU2hhZGVyKHQsdC5GUkFHTUVOVF9TSEFERVIsbiksYz10LmNyZWF0ZVByb2dyYW0oKTtpZih0LmF0dGFjaFNoYWRlcihjLG8pLHQuYXR0YWNoU2hhZGVyKGMsaCksdC5saW5rUHJvZ3JhbShjKSxjLl90eXBlPWUsIXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihjLHQuTElOS19TVEFUVVMpKXRocm93IHQudXNlUHJvZ3JhbSh0aGlzLl9hY3RpdmVTaGFkZXIpLHQuZ2V0UHJvZ3JhbUluZm9Mb2coYyk7c3dpdGNoKHQudXNlUHJvZ3JhbShjKSxlKXtjYXNlXCJmaWx0ZXJcIjpjLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlPXQuZ2V0QXR0cmliTG9jYXRpb24oYyxcInZlcnRleFBvc2l0aW9uXCIpLHQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSksYy51dlBvc2l0aW9uQXR0cmlidXRlPXQuZ2V0QXR0cmliTG9jYXRpb24oYyxcInV2UG9zaXRpb25cIiksdC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShjLnV2UG9zaXRpb25BdHRyaWJ1dGUpLGMuc2FtcGxlclVuaWZvcm09dC5nZXRVbmlmb3JtTG9jYXRpb24oYyxcInVTYW1wbGVyXCIpLHQudW5pZm9ybTFpKGMuc2FtcGxlclVuaWZvcm0sMCksYy51cHJpZ2h0VW5pZm9ybT10LmdldFVuaWZvcm1Mb2NhdGlvbihjLFwidVVwcmlnaHRcIiksdC51bmlmb3JtMWYoYy51cHJpZ2h0VW5pZm9ybSwwKSxyJiZyKHQsdGhpcyxjKTticmVhaztjYXNlXCJvdmVycmlkZVwiOmNhc2VcInBhcnRpY2xlXCI6Y2FzZVwicmVndWxhclwiOmRlZmF1bHQ6Yy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZT10LmdldEF0dHJpYkxvY2F0aW9uKGMsXCJ2ZXJ0ZXhQb3NpdGlvblwiKSx0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGMudmVydGV4UG9zaXRpb25BdHRyaWJ1dGUpLGMudXZQb3NpdGlvbkF0dHJpYnV0ZT10LmdldEF0dHJpYkxvY2F0aW9uKGMsXCJ1dlBvc2l0aW9uXCIpLHQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYy51dlBvc2l0aW9uQXR0cmlidXRlKSxjLnRleHR1cmVJbmRleEF0dHJpYnV0ZT10LmdldEF0dHJpYkxvY2F0aW9uKGMsXCJ0ZXh0dXJlSW5kZXhcIiksdC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShjLnRleHR1cmVJbmRleEF0dHJpYnV0ZSksYy5hbHBoYUF0dHJpYnV0ZT10LmdldEF0dHJpYkxvY2F0aW9uKGMsXCJvYmplY3RBbHBoYVwiKSx0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGMuYWxwaGFBdHRyaWJ1dGUpO2Zvcih2YXIgdT1bXSxsPTA7bDx0aGlzLl9iYXRjaFRleHR1cmVDb3VudDtsKyspdVtsXT1sO2Muc2FtcGxlckRhdGE9dSxjLnNhbXBsZXJVbmlmb3JtPXQuZ2V0VW5pZm9ybUxvY2F0aW9uKGMsXCJ1U2FtcGxlclwiKSx0LnVuaWZvcm0xaXYoYy5zYW1wbGVyVW5pZm9ybSx1KSxjLnBNYXRyaXhVbmlmb3JtPXQuZ2V0VW5pZm9ybUxvY2F0aW9uKGMsXCJwTWF0cml4XCIpfXJldHVybiB0LnVzZVByb2dyYW0odGhpcy5fYWN0aXZlU2hhZGVyKSxjfSx0Ll9jcmVhdGVTaGFkZXI9ZnVuY3Rpb24odCxlLGkpe2k9aS5yZXBsYWNlKC97e2NvdW50fX0vZyx0aGlzLl9iYXRjaFRleHR1cmVDb3VudCk7Zm9yKHZhciBzPVwiXCIscj0xO3I8dGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQ7cisrKXMrPVwifSBlbHNlIGlmIChpbmRleFBpY2tlciA8PSBcIityK1wiLjUpIHsgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJbXCIrcitcIl0sIHZUZXh0dXJlQ29vcmQpO1wiO2k9KGk9aS5yZXBsYWNlKC97e2FsdGVybmF0ZXN9fS9nLHMpKS5yZXBsYWNlKC97e2ZyYWdDb2xvcn19L2csdGhpcy5fcHJlbXVsdGlwbHk/UC5SRUdVTEFSX0ZSQUdfQ09MT1JfUFJFTVVMVElQTFk6UC5SRUdVTEFSX0ZSQUdfQ09MT1JfTk9STUFMKTt2YXIgbj10LmNyZWF0ZVNoYWRlcihlKTtpZih0LnNoYWRlclNvdXJjZShuLGkpLHQuY29tcGlsZVNoYWRlcihuKSwhdC5nZXRTaGFkZXJQYXJhbWV0ZXIobix0LkNPTVBJTEVfU1RBVFVTKSl0aHJvdyB0LmdldFNoYWRlckluZm9Mb2cobik7cmV0dXJuIG59LHQuX2NyZWF0ZUJ1ZmZlcnM9ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLl9tYXhDYXJkc1BlckJhdGNoKlAuSU5ESUNJRVNfUEVSX0NBUkQscz10aGlzLl92ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcj10LmNyZWF0ZUJ1ZmZlcigpO3QuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixzKSxlPTI7Zm9yKHZhciByPXRoaXMuX3ZlcnRpY2VzPW5ldyBGbG9hdDMyQXJyYXkoaSplKSxuPTAsYT1yLmxlbmd0aDtuPGE7bis9ZSlyW25dPXJbbisxXT0wO3QuYnVmZmVyRGF0YSh0LkFSUkFZX0JVRkZFUixyLHQuRFlOQU1JQ19EUkFXKSxzLml0ZW1TaXplPWUscy5udW1JdGVtcz1pO3ZhciBvPXRoaXMuX3V2UG9zaXRpb25CdWZmZXI9dC5jcmVhdGVCdWZmZXIoKTt0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsbyksZT0yO3ZhciBoPXRoaXMuX3V2cz1uZXcgRmxvYXQzMkFycmF5KGkqZSk7Zm9yKG49MCxhPWgubGVuZ3RoO248YTtuKz1lKWhbbl09aFtuKzFdPTA7dC5idWZmZXJEYXRhKHQuQVJSQVlfQlVGRkVSLGgsdC5EWU5BTUlDX0RSQVcpLG8uaXRlbVNpemU9ZSxvLm51bUl0ZW1zPWk7dmFyIGM9dGhpcy5fdGV4dHVyZUluZGV4QnVmZmVyPXQuY3JlYXRlQnVmZmVyKCk7dC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLGMpLGU9MTt2YXIgdT10aGlzLl9pbmRpY2VzPW5ldyBGbG9hdDMyQXJyYXkoaSplKTtmb3Iobj0wLGE9dS5sZW5ndGg7bjxhO24rKyl1W25dPTA7dC5idWZmZXJEYXRhKHQuQVJSQVlfQlVGRkVSLHUsdC5EWU5BTUlDX0RSQVcpLGMuaXRlbVNpemU9ZSxjLm51bUl0ZW1zPWk7dmFyIGw9dGhpcy5fYWxwaGFCdWZmZXI9dC5jcmVhdGVCdWZmZXIoKTt0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsbCksZT0xO3ZhciBkPXRoaXMuX2FscGhhcz1uZXcgRmxvYXQzMkFycmF5KGkqZSk7Zm9yKG49MCxhPWQubGVuZ3RoO248YTtuKyspZFtuXT0xO3QuYnVmZmVyRGF0YSh0LkFSUkFZX0JVRkZFUixkLHQuRFlOQU1JQ19EUkFXKSxsLml0ZW1TaXplPWUsbC5udW1JdGVtcz1pfSx0Ll9pbml0VGV4dHVyZXM9ZnVuY3Rpb24oKXt0aGlzLl9sYXN0VGV4dHVyZUluc2VydD0tMSx0aGlzLl90ZXh0dXJlRGljdGlvbmFyeT1bXSx0aGlzLl90ZXh0dXJlSURzPXt9LHRoaXMuX2Jhc2VUZXh0dXJlcz1bXSx0aGlzLl9iYXRjaFRleHR1cmVzPVtdO2Zvcih2YXIgdD0wO3Q8dGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQ7dCsrKXt2YXIgZT10aGlzLmdldEJhc2VUZXh0dXJlKCk7aWYodGhpcy5fYmFzZVRleHR1cmVzW3RdPXRoaXMuX2JhdGNoVGV4dHVyZXNbdF09ZSwhZSl0aHJvd1wiUHJvYmxlbXMgY3JlYXRpbmcgYmFzaWMgdGV4dHVyZXMsIGtub3duIGNhdXNlcyBpbmNsdWRlIHVzaW5nIHRvbyBtdWNoIFZSQU0gYnkgbm90IHJlbGVhc2luZyBXZWJHTCB0ZXh0dXJlIGluc3RhbmNlc1wifX0sdC5fbG9hZFRleHR1cmVJbWFnZT1mdW5jdGlvbih0LGUpe3ZhciBpPWUuc3JjO2l8fChlLl9pc0NhbnZhcz0hMCxpPWUuc3JjPVwiY2FudmFzX1wiK3RoaXMuX2xhc3RUcmFja2VkQ2FudmFzKyspO3ZhciBzPXRoaXMuX3RleHR1cmVJRHNbaV07dm9pZCAwPT09cyYmKHM9dGhpcy5fdGV4dHVyZUlEc1tpXT10aGlzLl90ZXh0dXJlRGljdGlvbmFyeS5sZW5ndGgpLHZvaWQgMD09PXRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W3NdJiYodGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbc109dGhpcy5nZXRCYXNlVGV4dHVyZSgpKTt2YXIgcixuPXRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W3NdO3JldHVybiBuPyhuLl9iYXRjaElEPXRoaXMuX2JhdGNoSUQsbi5fc3RvcmVJRD1zLG4uX2ltYWdlRGF0YT1lLHRoaXMuX2luc2VydFRleHR1cmVJbkJhdGNoKHQsbiksZS5fc3RvcmVJRD1zLGUuY29tcGxldGV8fGUubmF0dXJhbFdpZHRofHxlLl9pc0NhbnZhcz90aGlzLl91cGRhdGVUZXh0dXJlSW1hZ2VEYXRhKHQsZSk6ZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHRoaXMuX3VwZGF0ZVRleHR1cmVJbWFnZURhdGEuYmluZCh0aGlzLHQsZSkpKToocj1cIlByb2JsZW0gY3JlYXRpbmcgZGVzaXJlZCB0ZXh0dXJlLCBrbm93biBjYXVzZXMgaW5jbHVkZSB1c2luZyB0b28gbXVjaCBWUkFNIGJ5IG5vdCByZWxlYXNpbmcgV2ViR0wgdGV4dHVyZSBpbnN0YW5jZXNcIixjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKHIpfHxjb25zb2xlLmxvZyhyKSwobj10aGlzLl9iYXNlVGV4dHVyZXNbMF0pLl9iYXRjaElEPXRoaXMuX2JhdGNoSUQsbi5fc3RvcmVJRD0tMSxuLl9pbWFnZURhdGE9bix0aGlzLl9pbnNlcnRUZXh0dXJlSW5CYXRjaCh0LG4pKSxufSx0Ll91cGRhdGVUZXh0dXJlSW1hZ2VEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS53aWR0aCZlLndpZHRoLTF8fGUuaGVpZ2h0JmUuaGVpZ2h0LTEscz10aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtlLl9zdG9yZUlEXTt0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCtzLl9hY3RpdmVJbmRleCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQscykscy5pc1BPVD0haSx0aGlzLnNldFRleHR1cmVQYXJhbXModCxzLmlzUE9UKTt0cnl7dC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLGUpfWNhdGNoKHQpe3ZhciByPVwiXFxuQW4gZXJyb3IgaGFzIG9jY3VycmVkLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGR1ZSB0byBzZWN1cml0eSByZXN0cmljdGlvbnMgb24gV2ViR0wgaW1hZ2VzIHdpdGggbG9jYWwgb3IgY3Jvc3MtZG9tYWluIG9yaWdpbnNcIjtjb25zb2xlLmVycm9yPyhjb25zb2xlLmVycm9yKHIpLGNvbnNvbGUuZXJyb3IodCkpOmNvbnNvbGUmJihjb25zb2xlLmxvZyhyKSxjb25zb2xlLmxvZyh0KSl9ZS5faW52YWxpZD0hMSxzLl93PWUud2lkdGgscy5faD1lLmhlaWdodCx0aGlzLnZvY2FsRGVidWcmJihpJiZjb25zb2xlLndhcm4oXCJOUE9UKE5vbiBQb3dlciBvZiBUd28pIFRleHR1cmU6IFwiK2Uuc3JjKSwoZS53aWR0aD50Lk1BWF9URVhUVVJFX1NJWkV8fGUuaGVpZ2h0PnQuTUFYX1RFWFRVUkVfU0laRSkmJmNvbnNvbGUmJmNvbnNvbGUuZXJyb3IoXCJPdmVyc2l6ZWQgVGV4dHVyZTogXCIrZS53aWR0aCtcInhcIitlLmhlaWdodCtcIiB2cyBcIit0Lk1BWF9URVhUVVJFX1NJWkUrXCJtYXhcIikpfSx0Ll9pbnNlcnRUZXh0dXJlSW5CYXRjaD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2JhdGNoVGV4dHVyZXNbZS5fYWN0aXZlSW5kZXhdIT09ZSl7dmFyIGk9LTEscz0odGhpcy5fbGFzdFRleHR1cmVJbnNlcnQrMSkldGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQscj1zO2Rve2lmKHRoaXMuX2JhdGNoVGV4dHVyZXNbcl0uX2JhdGNoSUQhPXRoaXMuX2JhdGNoSUQmJiF0aGlzLl9zbG90QmxhY2tsaXN0W3JdKXtpPXI7YnJlYWt9cj0ocisxKSV0aGlzLl9iYXRjaFRleHR1cmVDb3VudH13aGlsZShyIT09cyk7LTE9PT1pJiYodGhpcy5iYXRjaFJlYXNvbj1cInRleHR1cmVPdmVyZmxvd1wiLHRoaXMuX2RyYXdCdWZmZXJzKHQpLHRoaXMuYmF0Y2hDYXJkQ291bnQ9MCxpPXMpLCh0aGlzLl9iYXRjaFRleHR1cmVzW2ldPWUpLl9hY3RpdmVJbmRleD1pLChuPWUuX2ltYWdlRGF0YSkmJm4uX2ludmFsaWQmJnZvaWQgMCE9PWUuX2RyYXdJRD90aGlzLl91cGRhdGVUZXh0dXJlSW1hZ2VEYXRhKHQsbik6KHQuYWN0aXZlVGV4dHVyZSh0LlRFWFRVUkUwK2kpLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGUpLHRoaXMuc2V0VGV4dHVyZVBhcmFtcyh0KSksdGhpcy5fbGFzdFRleHR1cmVJbnNlcnQ9aX1lbHNle3ZhciBuPWUuX2ltYWdlRGF0YTtudWxsIT1lLl9zdG9yZUlEJiZuJiZuLl9pbnZhbGlkJiZ0aGlzLl91cGRhdGVUZXh0dXJlSW1hZ2VEYXRhKHQsbil9ZS5fZHJhd0lEPXRoaXMuX2RyYXdJRCxlLl9iYXRjaElEPXRoaXMuX2JhdGNoSUR9LHQuX2tpbGxUZXh0dXJlT2JqZWN0PWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXRoaXMuX3dlYkdMQ29udGV4dDtpZih2b2lkIDAhPT10Ll9zdG9yZUlEJiYwPD10Ll9zdG9yZUlEKXtmb3IodmFyIGkgaW4gdGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbdC5fc3RvcmVJRF09dm9pZCAwLHRoaXMuX3RleHR1cmVJRHMpdGhpcy5fdGV4dHVyZUlEc1tpXT09dC5fc3RvcmVJRCYmZGVsZXRlIHRoaXMuX3RleHR1cmVJRHNbaV07dC5faW1hZ2VEYXRhJiYodC5faW1hZ2VEYXRhLl9zdG9yZUlEPXZvaWQgMCksdC5faW1hZ2VEYXRhPXQuX3N0b3JlSUQ9dm9pZCAwfXZvaWQgMCE9PXQuX2FjdGl2ZUluZGV4JiZ0aGlzLl9iYXRjaFRleHR1cmVzW3QuX2FjdGl2ZUluZGV4XT09PXQmJih0aGlzLl9iYXRjaFRleHR1cmVzW3QuX2FjdGl2ZUluZGV4XT10aGlzLl9iYXNlVGV4dHVyZXNbdC5fYWN0aXZlSW5kZXhdKTt0cnl7dC5fZnJhbWVCdWZmZXImJmUuZGVsZXRlRnJhbWVidWZmZXIodC5fZnJhbWVCdWZmZXIpLHQuX2ZyYW1lQnVmZmVyPXZvaWQgMH1jYXRjaCh0KXt0aGlzLnZvY2FsRGVidWcmJmNvbnNvbGUubG9nKHQpfXRyeXtlLmRlbGV0ZVRleHR1cmUodCl9Y2F0Y2godCl7dGhpcy52b2NhbERlYnVnJiZjb25zb2xlLmxvZyh0KX19fSx0Ll9iYWNrdXBCYXRjaFRleHR1cmVzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fd2ViR0xDb250ZXh0O3RoaXMuX2JhY2t1cFRleHR1cmVzfHwodGhpcy5fYmFja3VwVGV4dHVyZXM9W10pLHZvaWQgMD09PWUmJihlPXRoaXMuX2JhY2t1cFRleHR1cmVzKTtmb3IodmFyIHM9MDtzPHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50O3MrKylpLmFjdGl2ZVRleHR1cmUoaS5URVhUVVJFMCtzKSx0P3RoaXMuX2JhdGNoVGV4dHVyZXNbc109ZVtzXTooZVtzXT10aGlzLl9iYXRjaFRleHR1cmVzW3NdLHRoaXMuX2JhdGNoVGV4dHVyZXNbc109dGhpcy5fYmFzZVRleHR1cmVzW3NdKSxpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCx0aGlzLl9iYXRjaFRleHR1cmVzW3NdKSx0aGlzLnNldFRleHR1cmVQYXJhbXMoaSx0aGlzLl9iYXRjaFRleHR1cmVzW3NdLmlzUE9UKTt0JiZlPT09dGhpcy5fYmFja3VwVGV4dHVyZXMmJih0aGlzLl9iYWNrdXBUZXh0dXJlcz1bXSl9LHQuX2JhdGNoRHJhdz1mdW5jdGlvbih0LGUsaSl7MDx0aGlzLl9pc0RyYXdpbmcmJnRoaXMuX2RyYXdCdWZmZXJzKGUpLHRoaXMuX2lzRHJhd2luZysrLHRoaXMuX2RyYXdJRCsrLHRoaXMuYmF0Y2hDYXJkQ291bnQ9MCx0aGlzLmRlcHRoPTAsdGhpcy5fYXBwZW5kVG9CYXRjaEdyb3VwKHQsZSxuZXcgY3JlYXRlanMuTWF0cml4MkQsdGhpcy5hbHBoYSxpKSx0aGlzLmJhdGNoUmVhc29uPVwiZHJhd0ZpbmlzaFwiLHRoaXMuX2RyYXdCdWZmZXJzKGUpLHRoaXMuX2lzRHJhd2luZy0tfSx0Ll9jYWNoZURyYXc9ZnVuY3Rpb24odCxlLGkscyl7dmFyIHIsbj10aGlzLl9hY3RpdmVTaGFkZXIsYT10aGlzLl9zbG90QmxhY2tsaXN0LG89dGhpcy5fbWF4VGV4dHVyZVNsb3RzLTEsaD10aGlzLl92aWV3cG9ydFdpZHRoLGM9dGhpcy5fdmlld3BvcnRIZWlnaHQ7dGhpcy5wcm90ZWN0VGV4dHVyZVNsb3QobywhMCk7dmFyIHU9ZS5nZXRNYXRyaXgoKTsodT11LmNsb25lKCkpLnNjYWxlKDEvcy5zY2FsZSwxL3Muc2NhbGUpLCh1PXUuaW52ZXJ0KCkpLnRyYW5zbGF0ZSgtcy5vZmZYL3Muc2NhbGUqZS5zY2FsZVgsLXMub2ZmWS9zLnNjYWxlKmUuc2NhbGVZKTt2YXIgbD10aGlzLl9jYWNoZUNvbnRhaW5lcjtsLmNoaWxkcmVuPVtlXSxsLnRyYW5zZm9ybU1hdHJpeD11LHRoaXMuX2JhY2t1cEJhdGNoVGV4dHVyZXMoITEpLGkmJmkubGVuZ3RoP3RoaXMuX2RyYXdGaWx0ZXJzKGUsaSxzKTp0aGlzLmlzQ2FjaGVDb250cm9sbGVkPyh0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCksdGhpcy5fYmF0Y2hEcmF3KGwsdCwhMCkpOih0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCtvKSxlLmNhY2hlQ2FudmFzPXRoaXMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZShlLHMuX2RyYXdXaWR0aCxzLl9kcmF3SGVpZ2h0KSxyPWUuY2FjaGVDYW52YXMsdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixyLl9mcmFtZUJ1ZmZlciksdGhpcy51cGRhdGVWaWV3cG9ydChzLl9kcmF3V2lkdGgscy5fZHJhd0hlaWdodCksdGhpcy5fcHJvamVjdGlvbk1hdHJpeD10aGlzLl9wcm9qZWN0aW9uTWF0cml4RmxpcCx0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCksdGhpcy5fYmF0Y2hEcmF3KGwsdCwhMCksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKSx0aGlzLnVwZGF0ZVZpZXdwb3J0KGgsYykpLHRoaXMuX2JhY2t1cEJhdGNoVGV4dHVyZXMoITApLHRoaXMucHJvdGVjdFRleHR1cmVTbG90KG8sITEpLHRoaXMuX2FjdGl2ZVNoYWRlcj1uLHRoaXMuX3Nsb3RCbGFja2xpc3Q9YX0sdC5fZHJhd0ZpbHRlcnM9ZnVuY3Rpb24odCxlLGkpe3ZhciBzLHI9dGhpcy5fd2ViR0xDb250ZXh0LG49dGhpcy5fbWF4VGV4dHVyZVNsb3RzLTEsYT10aGlzLl92aWV3cG9ydFdpZHRoLG89dGhpcy5fdmlld3BvcnRIZWlnaHQsaD10aGlzLl9jYWNoZUNvbnRhaW5lcixjPWUubGVuZ3RoO3IuYWN0aXZlVGV4dHVyZShyLlRFWFRVUkUwK24pLHM9dGhpcy5nZXRUYXJnZXRSZW5kZXJUZXh0dXJlKHQsaS5fZHJhd1dpZHRoLGkuX2RyYXdIZWlnaHQpLHIuYmluZEZyYW1lYnVmZmVyKHIuRlJBTUVCVUZGRVIscy5fZnJhbWVCdWZmZXIpLHRoaXMudXBkYXRlVmlld3BvcnQoaS5fZHJhd1dpZHRoLGkuX2RyYXdIZWlnaHQpLHIuY2xlYXIoci5DT0xPUl9CVUZGRVJfQklUKSx0aGlzLl9iYXRjaERyYXcoaCxyLCEwKSxyLmFjdGl2ZVRleHR1cmUoci5URVhUVVJFMCksci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQscyksdGhpcy5zZXRUZXh0dXJlUGFyYW1zKHIpO2Zvcih2YXIgdT0hMSxsPTAsZD1lW2xdO3RoaXMuX2FjdGl2ZVNoYWRlcj10aGlzLmdldEZpbHRlclNoYWRlcihkKSx0aGlzLl9hY3RpdmVTaGFkZXImJihyLmFjdGl2ZVRleHR1cmUoci5URVhUVVJFMCtuKSxzPXRoaXMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSh0LGkuX2RyYXdXaWR0aCxpLl9kcmF3SGVpZ2h0KSxyLmJpbmRGcmFtZWJ1ZmZlcihyLkZSQU1FQlVGRkVSLHMuX2ZyYW1lQnVmZmVyKSxyLnZpZXdwb3J0KDAsMCxpLl9kcmF3V2lkdGgsaS5fZHJhd0hlaWdodCksci5jbGVhcihyLkNPTE9SX0JVRkZFUl9CSVQpLHRoaXMuX2RyYXdDb3ZlcihyLHUpLHIuYWN0aXZlVGV4dHVyZShyLlRFWFRVUkUwKSxyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxzKSx0aGlzLnNldFRleHR1cmVQYXJhbXMociksKDE8Y3x8ZVswXS5fbXVsdGlQYXNzKSYmKHU9IXUpLGQ9bnVsbCE9PWQuX211bHRpUGFzcz9kLl9tdWx0aVBhc3M6ZVsrK2xdKSxkOyk7dGhpcy5pc0NhY2hlQ29udHJvbGxlZD8oci5iaW5kRnJhbWVidWZmZXIoci5GUkFNRUJVRkZFUixudWxsKSx0aGlzLnVwZGF0ZVZpZXdwb3J0KGEsbyksdGhpcy5fYWN0aXZlU2hhZGVyPXRoaXMuZ2V0RmlsdGVyU2hhZGVyKHRoaXMpLHIuY2xlYXIoci5DT0xPUl9CVUZGRVJfQklUKSx0aGlzLl9kcmF3Q292ZXIocix1KSk6KHUmJihyLmFjdGl2ZVRleHR1cmUoci5URVhUVVJFMCtuKSxzPXRoaXMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSh0LGkuX2RyYXdXaWR0aCxpLl9kcmF3SGVpZ2h0KSxyLmJpbmRGcmFtZWJ1ZmZlcihyLkZSQU1FQlVGRkVSLHMuX2ZyYW1lQnVmZmVyKSx0aGlzLl9hY3RpdmVTaGFkZXI9dGhpcy5nZXRGaWx0ZXJTaGFkZXIodGhpcyksci52aWV3cG9ydCgwLDAsaS5fZHJhd1dpZHRoLGkuX2RyYXdIZWlnaHQpLHIuY2xlYXIoci5DT0xPUl9CVUZGRVJfQklUKSx0aGlzLl9kcmF3Q292ZXIociwhdSkpLHIuYmluZEZyYW1lYnVmZmVyKHIuRlJBTUVCVUZGRVIsbnVsbCksdGhpcy51cGRhdGVWaWV3cG9ydChhLG8pLHQuY2FjaGVDYW52YXM9cyl9LHQuX2FwcGVuZFRvQmF0Y2hHcm91cD1mdW5jdGlvbih0LGUsaSxzLHIpe3QuX2dsTXR4fHwodC5fZ2xNdHg9bmV3IGNyZWF0ZWpzLk1hdHJpeDJEKTt2YXIgbixhLG8saCxjPXQuX2dsTXR4O2MuY29weShpKSx0LnRyYW5zZm9ybU1hdHJpeD9jLmFwcGVuZE1hdHJpeCh0LnRyYW5zZm9ybU1hdHJpeCk6Yy5hcHBlbmRUcmFuc2Zvcm0odC54LHQueSx0LnNjYWxlWCx0LnNjYWxlWSx0LnJvdGF0aW9uLHQuc2tld1gsdC5za2V3WSx0LnJlZ1gsdC5yZWdZKTtmb3IodmFyIHU9dC5jaGlsZHJlbi5sZW5ndGgsbD0wO2w8dTtsKyspe3ZhciBkPXQuY2hpbGRyZW5bbF07aWYoZC52aXNpYmxlJiZzKWlmKGQuY2FjaGVDYW52YXMmJiFyfHwoZC5fdXBkYXRlU3RhdGUmJmQuX3VwZGF0ZVN0YXRlKCksIWQuY2hpbGRyZW4pKXt0aGlzLmJhdGNoQ2FyZENvdW50KzE+dGhpcy5fbWF4Q2FyZHNQZXJCYXRjaCYmKHRoaXMuYmF0Y2hSZWFzb249XCJ2ZXJ0ZXhPdmVyZmxvd1wiLHRoaXMuX2RyYXdCdWZmZXJzKGUpLHRoaXMuYmF0Y2hDYXJkQ291bnQ9MCksZC5fZ2xNdHh8fChkLl9nbE10eD1uZXcgY3JlYXRlanMuTWF0cml4MkQpO3ZhciBfLHAsZixnLG09ZC5fZ2xNdHg7bS5jb3B5KGMpLGQudHJhbnNmb3JtTWF0cml4P20uYXBwZW5kTWF0cml4KGQudHJhbnNmb3JtTWF0cml4KTptLmFwcGVuZFRyYW5zZm9ybShkLngsZC55LGQuc2NhbGVYLGQuc2NhbGVZLGQucm90YXRpb24sZC5za2V3WCxkLnNrZXdZLGQucmVnWCxkLnJlZ1kpO3ZhciB2PWQuY2FjaGVDYW52YXMmJiFyO2lmKDI9PT1kLl93ZWJHTFJlbmRlclN0eWxlfHx2KV89IXImJmQuY2FjaGVDYW52YXN8fGQuaW1hZ2U7ZWxzZXtpZigxIT09ZC5fd2ViR0xSZW5kZXJTdHlsZSljb250aW51ZTtpZihudWxsPT09KHA9ZC5zcHJpdGVTaGVldC5nZXRGcmFtZShkLmN1cnJlbnRGcmFtZSkpKWNvbnRpbnVlO189cC5pbWFnZX12YXIgVD10aGlzLl91dnMsYj10aGlzLl92ZXJ0aWNlcyxFPXRoaXMuX2luZGljZXMseT10aGlzLl9hbHBoYXM7aWYoXyl7aWYodm9pZCAwPT09Xy5fc3RvcmVJRClmPXRoaXMuX2xvYWRUZXh0dXJlSW1hZ2UoZSxfKSx0aGlzLl9pbnNlcnRUZXh0dXJlSW5CYXRjaChlLGYpO2Vsc2V7aWYoIShmPXRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W18uX3N0b3JlSURdKSl7dGhpcy52b2NhbERlYnVnJiZjb25zb2xlLmxvZyhcIlRleHR1cmUgc2hvdWxkIG5vdCBiZSBsb29rZWQgdXAgd2hpbGUgbm90IGJlaW5nIHN0b3JlZC5cIik7Y29udGludWV9Zi5fYmF0Y2hJRCE9PXRoaXMuX2JhdGNoSUQmJnRoaXMuX2luc2VydFRleHR1cmVJbkJhdGNoKGUsZil9dmFyIFMseCx3PWYuX2FjdGl2ZUluZGV4OzI9PT1kLl93ZWJHTFJlbmRlclN0eWxlfHx2P2g9IXYmJmQuc291cmNlUmVjdD8oZC5fdXZSZWN0fHwoZC5fdXZSZWN0PXt9KSxnPWQuc291cmNlUmVjdCwoeD1kLl91dlJlY3QpLnQ9Zy55L18uaGVpZ2h0LHgubD1nLngvXy53aWR0aCx4LmI9KGcueStnLmhlaWdodCkvXy5oZWlnaHQseC5yPShnLngrZy53aWR0aCkvXy53aWR0aCxhPW49MCxvPWcud2lkdGgrbixnLmhlaWdodCthKTooeD1QLlVWX1JFQ1Qsdj8obj0oZz1kLmJpdG1hcENhY2hlKS54K2cuX2ZpbHRlck9mZlgvZy5zY2FsZSxhPWcueStnLl9maWx0ZXJPZmZZL2cuc2NhbGUsbz1nLl9kcmF3V2lkdGgvZy5zY2FsZStuLGcuX2RyYXdIZWlnaHQvZy5zY2FsZSthKTooYT1uPTAsbz1fLndpZHRoK24sXy5oZWlnaHQrYSkpOjE9PT1kLl93ZWJHTFJlbmRlclN0eWxlJiYoUz1wLnJlY3QseD0oeD1wLnV2UmVjdCl8fFAuYnVpbGRVVlJlY3RzKGQuc3ByaXRlU2hlZXQsZC5jdXJyZW50RnJhbWUsITEpLG49LXAucmVnWCxhPS1wLnJlZ1ksbz1TLndpZHRoLXAucmVnWCxoPVMuaGVpZ2h0LXAucmVnWSk7dmFyIFI9dGhpcy5iYXRjaENhcmRDb3VudCpQLklORElDSUVTX1BFUl9DQVJELEE9MipSO2JbQV09biptLmErYSptLmMrbS50eCxiWzErQV09biptLmIrYSptLmQrbS50eSxiWzIrQV09biptLmEraCptLmMrbS50eCxiWzMrQV09biptLmIraCptLmQrbS50eSxiWzQrQV09byptLmErYSptLmMrbS50eCxiWzUrQV09byptLmIrYSptLmQrbS50eSxiWzYrQV09YlsyK0FdLGJbNytBXT1iWzMrQV0sYls4K0FdPWJbNCtBXSxiWzkrQV09Yls1K0FdLGJbMTArQV09byptLmEraCptLmMrbS50eCxiWzExK0FdPW8qbS5iK2gqbS5kK20udHksVFtBXT14LmwsVFsxK0FdPXgudCxUWzIrQV09eC5sLFRbMytBXT14LmIsVFs0K0FdPXgucixUWzUrQV09eC50LFRbNitBXT14LmwsVFs3K0FdPXguYixUWzgrQV09eC5yLFRbOStBXT14LnQsVFsxMCtBXT14LnIsVFsxMStBXT14LmIsRVtSXT1FWzErUl09RVsyK1JdPUVbMytSXT1FWzQrUl09RVs1K1JdPXcseVtSXT15WzErUl09eVsyK1JdPXlbMytSXT15WzQrUl09eVs1K1JdPWQuYWxwaGEqcyx0aGlzLmJhdGNoQ2FyZENvdW50Kyt9fWVsc2UgdGhpcy5fYXBwZW5kVG9CYXRjaEdyb3VwKGQsZSxjLGQuYWxwaGEqcyl9fSx0Ll9kcmF3QnVmZmVycz1mdW5jdGlvbih0KXtpZighKHRoaXMuYmF0Y2hDYXJkQ291bnQ8PTApKXt0aGlzLnZvY2FsRGVidWcmJmNvbnNvbGUubG9nKFwiRHJhd1tcIit0aGlzLl9kcmF3SUQrXCI6XCIrdGhpcy5fYmF0Y2hJRCtcIl0gOiBcIit0aGlzLmJhdGNoUmVhc29uKTt2YXIgZT10aGlzLl9hY3RpdmVTaGFkZXIsaT10aGlzLl92ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcixzPXRoaXMuX3RleHR1cmVJbmRleEJ1ZmZlcixyPXRoaXMuX3V2UG9zaXRpb25CdWZmZXIsbj10aGlzLl9hbHBoYUJ1ZmZlcjt0LnVzZVByb2dyYW0oZSksdC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLGkpLHQudmVydGV4QXR0cmliUG9pbnRlcihlLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlLGkuaXRlbVNpemUsdC5GTE9BVCwhMSwwLDApLHQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLHRoaXMuX3ZlcnRpY2VzKSx0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIscyksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUudGV4dHVyZUluZGV4QXR0cmlidXRlLHMuaXRlbVNpemUsdC5GTE9BVCwhMSwwLDApLHQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLHRoaXMuX2luZGljZXMpLHQuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixyKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIoZS51dlBvc2l0aW9uQXR0cmlidXRlLHIuaXRlbVNpemUsdC5GTE9BVCwhMSwwLDApLHQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLHRoaXMuX3V2cyksdC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLG4pLHQudmVydGV4QXR0cmliUG9pbnRlcihlLmFscGhhQXR0cmlidXRlLG4uaXRlbVNpemUsdC5GTE9BVCwhMSwwLDApLHQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLHRoaXMuX2FscGhhcyksdC51bmlmb3JtTWF0cml4NGZ2KGUucE1hdHJpeFVuaWZvcm0sdC5GQUxTRSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4KTtmb3IodmFyIGE9MDthPHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50O2ErKyl7dmFyIG89dGhpcy5fYmF0Y2hUZXh0dXJlc1thXTt0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCthKSx0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxvKSx0aGlzLnNldFRleHR1cmVQYXJhbXModCxvLmlzUE9UKX10LmRyYXdBcnJheXModC5UUklBTkdMRVMsMCx0aGlzLmJhdGNoQ2FyZENvdW50KlAuSU5ESUNJRVNfUEVSX0NBUkQpLHRoaXMuX2JhdGNoSUQrK319LHQuX2RyYXdDb3Zlcj1mdW5jdGlvbih0LGUpezA8dGhpcy5faXNEcmF3aW5nJiZ0aGlzLl9kcmF3QnVmZmVycyh0KSx0aGlzLnZvY2FsRGVidWcmJmNvbnNvbGUubG9nKFwiRHJhd1tcIit0aGlzLl9kcmF3SUQrXCI6XCIrdGhpcy5fYmF0Y2hJRCtcIl0gOiBDb3ZlclwiKTt2YXIgaT10aGlzLl9hY3RpdmVTaGFkZXIscz10aGlzLl92ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcixyPXRoaXMuX3V2UG9zaXRpb25CdWZmZXI7dC5jbGVhcih0LkNPTE9SX0JVRkZFUl9CSVQpLHQudXNlUHJvZ3JhbShpKSx0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIscyksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGkudmVydGV4UG9zaXRpb25BdHRyaWJ1dGUscy5pdGVtU2l6ZSx0LkZMT0FULCExLDAsMCksdC5idWZmZXJTdWJEYXRhKHQuQVJSQVlfQlVGRkVSLDAsUC5DT1ZFUl9WRVJUKSx0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsciksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGkudXZQb3NpdGlvbkF0dHJpYnV0ZSxyLml0ZW1TaXplLHQuRkxPQVQsITEsMCwwKSx0LmJ1ZmZlclN1YkRhdGEodC5BUlJBWV9CVUZGRVIsMCxlP1AuQ09WRVJfVVZfRkxJUDpQLkNPVkVSX1VWKSx0LnVuaWZvcm0xaShpLnNhbXBsZXJVbmlmb3JtLDApLHQudW5pZm9ybTFmKGkudXByaWdodFVuaWZvcm0sZT8wOjEpLHQuZHJhd0FycmF5cyh0LlRSSUFOR0xFUywwLFAuSU5ESUNJRVNfUEVSX0NBUkQpfSxjcmVhdGVqcy5TdGFnZUdMPWNyZWF0ZWpzLnByb21vdGUoUCxcIlN0YWdlXCIpfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcyh0KXt0aGlzLkRpc3BsYXlPYmplY3RfY29uc3RydWN0b3IoKSxcInN0cmluZ1wiPT10eXBlb2YgdD8odGhpcy5pbWFnZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLHRoaXMuaW1hZ2Uuc3JjPXQpOnRoaXMuaW1hZ2U9dCx0aGlzLnNvdXJjZVJlY3Q9bnVsbCx0aGlzLl93ZWJHTFJlbmRlclN0eWxlPWNyZWF0ZWpzLkRpc3BsYXlPYmplY3QuX1N0YWdlR0xfQklUTUFQfXZhciB0PWNyZWF0ZWpzLmV4dGVuZChzLGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QpO3QuaW5pdGlhbGl6ZT1zLHQuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbWFnZSxlPXRoaXMuY2FjaGVDYW52YXN8fHQmJih0Lm5hdHVyYWxXaWR0aHx8dC5nZXRDb250ZXh0fHwyPD10LnJlYWR5U3RhdGUpO3JldHVybiEhKHRoaXMudmlzaWJsZSYmMDx0aGlzLmFscGhhJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkmJmUpfSx0LmRyYXc9ZnVuY3Rpb24odCxlKXtpZih0aGlzLkRpc3BsYXlPYmplY3RfZHJhdyh0LGUpKXJldHVybiEwO3ZhciBpLHMscixuLGEsbyxoLGMsdT10aGlzLmltYWdlLGw9dGhpcy5zb3VyY2VSZWN0O3JldHVybiB1LmdldEltYWdlJiYodT11LmdldEltYWdlKCkpLHUmJihsPyhpPWwueCxzPWwueSxyPWkrbC53aWR0aCxuPXMrbC5oZWlnaHQsaTwobz1hPTApJiYoYS09aSxpPTApLChoPXUud2lkdGgpPHImJihyPWgpLHM8MCYmKG8tPXMscz0wKSwoYz11LmhlaWdodCk8biYmKG49YyksdC5kcmF3SW1hZ2UodSxpLHMsci1pLG4tcyxhLG8sci1pLG4tcykpOnQuZHJhd0ltYWdlKHUsMCwwKSksITB9LHQuY2FjaGU9ZnVuY3Rpb24odCxlLGkscyxyLG4pe3RoaXMuYml0bWFwQ2FjaGV8fCh0aGlzLmJpdG1hcENhY2hlPW5ldyBjcmVhdGVqcy5CaXRtYXBDYWNoZSksdGhpcy5iaXRtYXBDYWNoZS5kZWZpbmUodGhpcyx0LGUsaSxzLHIsbil9LHQudXBkYXRlQ2FjaGU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuYml0bWFwQ2FjaGUpdGhyb3dcImNhY2hlKCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHVwZGF0ZUNhY2hlKClcIjt0aGlzLmJpdG1hcENhY2hlLnVwZGF0ZSh0KX0sdC51bmNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5iaXRtYXBDYWNoZSYmKHRoaXMuYml0bWFwQ2FjaGUucmVsZWFzZSgpLHRoaXMuYml0bWFwQ2FjaGU9dm9pZCAwKX0sdC5nZXRDYWNoZURhdGFVUkw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaXRtYXBDYWNoZT90aGlzLmJpdG1hcENhY2hlLmdldERhdGFVUkwoKTpudWxsfSx0LmdldEJvdW5kcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuRGlzcGxheU9iamVjdF9nZXRCb3VuZHMoKTtpZih0KXJldHVybiB0O3ZhciBlPXRoaXMuaW1hZ2UsaT10aGlzLnNvdXJjZVJlY3R8fGU7cmV0dXJuIGUmJihlLm5hdHVyYWxXaWR0aHx8ZS5nZXRDb250ZXh0fHwyPD1lLnJlYWR5U3RhdGUpP3RoaXMuX3JlY3RhbmdsZS5zZXRWYWx1ZXMoMCwwLGkud2lkdGgsaS5oZWlnaHQpOm51bGx9LHQuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbWFnZTtlJiZ0JiYoZT1lLmNsb25lTm9kZSgpKTt2YXIgaT1uZXcgcyhlKTtyZXR1cm4gdGhpcy5zb3VyY2VSZWN0JiYoaS5zb3VyY2VSZWN0PXRoaXMuc291cmNlUmVjdC5jbG9uZSgpKSx0aGlzLl9jbG9uZVByb3BzKGkpLGl9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltCaXRtYXAgKG5hbWU9XCIrdGhpcy5uYW1lK1wiKV1cIn0sY3JlYXRlanMuQml0bWFwPWNyZWF0ZWpzLnByb21vdGUocyxcIkRpc3BsYXlPYmplY3RcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSl7dGhpcy5EaXNwbGF5T2JqZWN0X2NvbnN0cnVjdG9yKCksdGhpcy5jdXJyZW50RnJhbWU9MCx0aGlzLmN1cnJlbnRBbmltYXRpb249bnVsbCx0aGlzLnBhdXNlZD0hMCx0aGlzLnNwcml0ZVNoZWV0PXQsdGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9MCx0aGlzLmZyYW1lcmF0ZT0wLHRoaXMuX2FuaW1hdGlvbj1udWxsLHRoaXMuX2N1cnJlbnRGcmFtZT1udWxsLHRoaXMuX3NraXBBZHZhbmNlPSExLHRoaXMuX3dlYkdMUmVuZGVyU3R5bGU9Y3JlYXRlanMuRGlzcGxheU9iamVjdC5fU3RhZ2VHTF9TUFJJVEUsbnVsbCE9ZSYmdGhpcy5nb3RvQW5kUGxheShlKX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5EaXNwbGF5T2JqZWN0KTtlLmluaXRpYWxpemU9dCxlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2FjaGVDYW52YXN8fHRoaXMuc3ByaXRlU2hlZXQuY29tcGxldGU7cmV0dXJuISEodGhpcy52aXNpYmxlJiYwPHRoaXMuYWxwaGEmJjAhPXRoaXMuc2NhbGVYJiYwIT10aGlzLnNjYWxlWSYmdCl9LGUuZHJhdz1mdW5jdGlvbih0LGUpe2lmKHRoaXMuRGlzcGxheU9iamVjdF9kcmF3KHQsZSkpcmV0dXJuITA7dGhpcy5fbm9ybWFsaXplRnJhbWUoKTt2YXIgaT10aGlzLnNwcml0ZVNoZWV0LmdldEZyYW1lKDB8dGhpcy5fY3VycmVudEZyYW1lKTtpZighaSlyZXR1cm4hMTt2YXIgcz1pLnJlY3Q7cmV0dXJuIHMud2lkdGgmJnMuaGVpZ2h0JiZ0LmRyYXdJbWFnZShpLmltYWdlLHMueCxzLnkscy53aWR0aCxzLmhlaWdodCwtaS5yZWdYLC1pLnJlZ1kscy53aWR0aCxzLmhlaWdodCksITB9LGUucGxheT1mdW5jdGlvbigpe3RoaXMucGF1c2VkPSExfSxlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMH0sZS5nb3RvQW5kUGxheT1mdW5jdGlvbih0KXt0aGlzLnBhdXNlZD0hMSx0aGlzLl9za2lwQWR2YW5jZT0hMCx0aGlzLl9nb3RvKHQpfSxlLmdvdG9BbmRTdG9wPWZ1bmN0aW9uKHQpe3RoaXMucGF1c2VkPSEwLHRoaXMuX2dvdG8odCl9LGUuYWR2YW5jZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmZyYW1lcmF0ZXx8dGhpcy5zcHJpdGVTaGVldC5mcmFtZXJhdGUsaT1lJiZudWxsIT10P3QvKDFlMy9lKToxO3RoaXMuX25vcm1hbGl6ZUZyYW1lKGkpfSxlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkRpc3BsYXlPYmplY3RfZ2V0Qm91bmRzKCl8fHRoaXMuc3ByaXRlU2hlZXQuZ2V0RnJhbWVCb3VuZHModGhpcy5jdXJyZW50RnJhbWUsdGhpcy5fcmVjdGFuZ2xlKX0sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbG9uZVByb3BzKG5ldyB0KHRoaXMuc3ByaXRlU2hlZXQpKX0sZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1Nwcml0ZSAobmFtZT1cIit0aGlzLm5hbWUrXCIpXVwifSxlLl9jbG9uZVByb3BzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkRpc3BsYXlPYmplY3RfX2Nsb25lUHJvcHModCksdC5jdXJyZW50RnJhbWU9dGhpcy5jdXJyZW50RnJhbWUsdC5jdXJyZW50QW5pbWF0aW9uPXRoaXMuY3VycmVudEFuaW1hdGlvbix0LnBhdXNlZD10aGlzLnBhdXNlZCx0LmN1cnJlbnRBbmltYXRpb25GcmFtZT10aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZSx0LmZyYW1lcmF0ZT10aGlzLmZyYW1lcmF0ZSx0Ll9hbmltYXRpb249dGhpcy5fYW5pbWF0aW9uLHQuX2N1cnJlbnRGcmFtZT10aGlzLl9jdXJyZW50RnJhbWUsdC5fc2tpcEFkdmFuY2U9dGhpcy5fc2tpcEFkdmFuY2UsdH0sZS5fdGljaz1mdW5jdGlvbih0KXt0aGlzLnBhdXNlZHx8KHRoaXMuX3NraXBBZHZhbmNlfHx0aGlzLmFkdmFuY2UodCYmdC5kZWx0YSksdGhpcy5fc2tpcEFkdmFuY2U9ITEpLHRoaXMuRGlzcGxheU9iamVjdF9fdGljayh0KX0sZS5fbm9ybWFsaXplRnJhbWU9ZnVuY3Rpb24odCl7dD10fHwwO3ZhciBlPXRoaXMuX2FuaW1hdGlvbixpPXRoaXMucGF1c2VkLHM9dGhpcy5fY3VycmVudEZyYW1lO2lmKGUpe3ZhciByLG49ZS5zcGVlZHx8MSxhPXRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lO2lmKChyPWUuZnJhbWVzLmxlbmd0aCk8PWErdCpuKXt2YXIgbz1lLm5leHQ7aWYodGhpcy5fZGlzcGF0Y2hBbmltYXRpb25FbmQoZSxzLGksbyxyLTEpKXJldHVybjtpZihvKXJldHVybiB0aGlzLl9nb3RvKG8sdC0oci1hKS9uKTt0aGlzLnBhdXNlZD0hMCxhPWUuZnJhbWVzLmxlbmd0aC0xfWVsc2UgYSs9dCpuO3RoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lPWEsdGhpcy5fY3VycmVudEZyYW1lPWUuZnJhbWVzWzB8YV19ZWxzZSBpZihzPXRoaXMuX2N1cnJlbnRGcmFtZSs9dCwocj10aGlzLnNwcml0ZVNoZWV0LmdldE51bUZyYW1lcygpKTw9cyYmMDxyJiYhdGhpcy5fZGlzcGF0Y2hBbmltYXRpb25FbmQoZSxzLGksci0xKSYmKHRoaXMuX2N1cnJlbnRGcmFtZS09cik+PXIpcmV0dXJuIHRoaXMuX25vcm1hbGl6ZUZyYW1lKCk7cz0wfHRoaXMuX2N1cnJlbnRGcmFtZSx0aGlzLmN1cnJlbnRGcmFtZSE9cyYmKHRoaXMuY3VycmVudEZyYW1lPXMsdGhpcy5kaXNwYXRjaEV2ZW50KFwiY2hhbmdlXCIpKX0sZS5fZGlzcGF0Y2hBbmltYXRpb25FbmQ9ZnVuY3Rpb24odCxlLGkscyxyKXt2YXIgbixhPXQ/dC5uYW1lOm51bGw7dGhpcy5oYXNFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIpJiYoKG49bmV3IGNyZWF0ZWpzLkV2ZW50KFwiYW5pbWF0aW9uZW5kXCIpKS5uYW1lPWEsbi5uZXh0PXMsdGhpcy5kaXNwYXRjaEV2ZW50KG4pKTt2YXIgbz10aGlzLl9hbmltYXRpb24hPXR8fHRoaXMuX2N1cnJlbnRGcmFtZSE9ZTtyZXR1cm4gb3x8aXx8IXRoaXMucGF1c2VkfHwodGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9cixvPSEwKSxvfSxlLl9nb3RvPWZ1bmN0aW9uKHQsZSl7dmFyIGk7dGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9MCxpc05hTih0KT8oaT10aGlzLnNwcml0ZVNoZWV0LmdldEFuaW1hdGlvbih0KSkmJih0aGlzLl9hbmltYXRpb249aSx0aGlzLmN1cnJlbnRBbmltYXRpb249dCx0aGlzLl9ub3JtYWxpemVGcmFtZShlKSk6KHRoaXMuY3VycmVudEFuaW1hdGlvbj10aGlzLl9hbmltYXRpb249bnVsbCx0aGlzLl9jdXJyZW50RnJhbWU9dCx0aGlzLl9ub3JtYWxpemVGcmFtZSgpKX0sY3JlYXRlanMuU3ByaXRlPWNyZWF0ZWpzLnByb21vdGUodCxcIkRpc3BsYXlPYmplY3RcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe3RoaXMuRGlzcGxheU9iamVjdF9jb25zdHJ1Y3RvcigpLHRoaXMuZ3JhcGhpY3M9dHx8bmV3IGNyZWF0ZWpzLkdyYXBoaWNzfXZhciB0PWNyZWF0ZWpzLmV4dGVuZChpLGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QpO3QuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYWNoZUNhbnZhc3x8dGhpcy5ncmFwaGljcyYmIXRoaXMuZ3JhcGhpY3MuaXNFbXB0eSgpO3JldHVybiEhKHRoaXMudmlzaWJsZSYmMDx0aGlzLmFscGhhJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkmJnQpfSx0LmRyYXc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcodCxlKXx8dGhpcy5ncmFwaGljcy5kcmF3KHQsdGhpcyksITB9LHQuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdGhpcy5ncmFwaGljcz90aGlzLmdyYXBoaWNzLmNsb25lKCk6dGhpcy5ncmFwaGljcztyZXR1cm4gdGhpcy5fY2xvbmVQcm9wcyhuZXcgaShlKSl9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltTaGFwZSAobmFtZT1cIit0aGlzLm5hbWUrXCIpXVwifSxjcmVhdGVqcy5TaGFwZT1jcmVhdGVqcy5wcm9tb3RlKGksXCJEaXNwbGF5T2JqZWN0XCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZyh0LGUsaSl7dGhpcy5EaXNwbGF5T2JqZWN0X2NvbnN0cnVjdG9yKCksdGhpcy50ZXh0PXQsdGhpcy5mb250PWUsdGhpcy5jb2xvcj1pLHRoaXMudGV4dEFsaWduPVwibGVmdFwiLHRoaXMudGV4dEJhc2VsaW5lPVwidG9wXCIsdGhpcy5tYXhXaWR0aD1udWxsLHRoaXMub3V0bGluZT0wLHRoaXMubGluZUhlaWdodD0wLHRoaXMubGluZVdpZHRoPW51bGx9dmFyIHQ9Y3JlYXRlanMuZXh0ZW5kKGcsY3JlYXRlanMuRGlzcGxheU9iamVjdCksZT1jcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtlLmdldENvbnRleHQmJihnLl93b3JraW5nQ29udGV4dD1lLmdldENvbnRleHQoXCIyZFwiKSxlLndpZHRoPWUuaGVpZ2h0PTEpLGcuSF9PRkZTRVRTPXtzdGFydDowLGxlZnQ6MCxjZW50ZXI6LS41LGVuZDotMSxyaWdodDotMX0sZy5WX09GRlNFVFM9e3RvcDowLGhhbmdpbmc6LS4wMSxtaWRkbGU6LS40LGFscGhhYmV0aWM6LS44LGlkZW9ncmFwaGljOi0uODUsYm90dG9tOi0xfSx0LmlzVmlzaWJsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2FjaGVDYW52YXN8fG51bGwhPXRoaXMudGV4dCYmXCJcIiE9PXRoaXMudGV4dDtyZXR1cm4hISh0aGlzLnZpc2libGUmJjA8dGhpcy5hbHBoYSYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZJiZ0KX0sdC5kcmF3PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcodCxlKSlyZXR1cm4hMDt2YXIgaT10aGlzLmNvbG9yfHxcIiMwMDBcIjtyZXR1cm4gdGhpcy5vdXRsaW5lPyh0LnN0cm9rZVN0eWxlPWksdC5saW5lV2lkdGg9K3RoaXMub3V0bGluZSk6dC5maWxsU3R5bGU9aSx0aGlzLl9kcmF3VGV4dCh0aGlzLl9wcmVwQ29udGV4dCh0KSksITB9LHQuZ2V0TWVhc3VyZWRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRNZWFzdXJlZFdpZHRoKHRoaXMudGV4dCl9LHQuZ2V0TWVhc3VyZWRMaW5lSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIDEuMip0aGlzLl9nZXRNZWFzdXJlZFdpZHRoKFwiTVwiKX0sdC5nZXRNZWFzdXJlZEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmF3VGV4dChudWxsLHt9KS5oZWlnaHR9LHQuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcygpO2lmKHQpcmV0dXJuIHQ7aWYobnVsbD09dGhpcy50ZXh0fHxcIlwiPT09dGhpcy50ZXh0KXJldHVybiBudWxsO3ZhciBlPXRoaXMuX2RyYXdUZXh0KG51bGwse30pLGk9dGhpcy5tYXhXaWR0aCYmdGhpcy5tYXhXaWR0aDxlLndpZHRoP3RoaXMubWF4V2lkdGg6ZS53aWR0aCxzPWkqZy5IX09GRlNFVFNbdGhpcy50ZXh0QWxpZ258fFwibGVmdFwiXSxyPSh0aGlzLmxpbmVIZWlnaHR8fHRoaXMuZ2V0TWVhc3VyZWRMaW5lSGVpZ2h0KCkpKmcuVl9PRkZTRVRTW3RoaXMudGV4dEJhc2VsaW5lfHxcInRvcFwiXTtyZXR1cm4gdGhpcy5fcmVjdGFuZ2xlLnNldFZhbHVlcyhzLHIsaSxlLmhlaWdodCl9LHQuZ2V0TWV0cmljcz1mdW5jdGlvbigpe3ZhciB0PXtsaW5lczpbXX07cmV0dXJuIHQubGluZUhlaWdodD10aGlzLmxpbmVIZWlnaHR8fHRoaXMuZ2V0TWVhc3VyZWRMaW5lSGVpZ2h0KCksdC52T2Zmc2V0PXQubGluZUhlaWdodCpnLlZfT0ZGU0VUU1t0aGlzLnRleHRCYXNlbGluZXx8XCJ0b3BcIl0sdGhpcy5fZHJhd1RleHQobnVsbCx0LHQubGluZXMpfSx0LmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IGcodGhpcy50ZXh0LHRoaXMuZm9udCx0aGlzLmNvbG9yKSl9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltUZXh0ICh0ZXh0PVwiKygyMDx0aGlzLnRleHQubGVuZ3RoP3RoaXMudGV4dC5zdWJzdHIoMCwxNykrXCIuLi5cIjp0aGlzLnRleHQpK1wiKV1cIn0sdC5fY2xvbmVQcm9wcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5EaXNwbGF5T2JqZWN0X19jbG9uZVByb3BzKHQpLHQudGV4dEFsaWduPXRoaXMudGV4dEFsaWduLHQudGV4dEJhc2VsaW5lPXRoaXMudGV4dEJhc2VsaW5lLHQubWF4V2lkdGg9dGhpcy5tYXhXaWR0aCx0Lm91dGxpbmU9dGhpcy5vdXRsaW5lLHQubGluZUhlaWdodD10aGlzLmxpbmVIZWlnaHQsdC5saW5lV2lkdGg9dGhpcy5saW5lV2lkdGgsdH0sdC5fcHJlcENvbnRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZm9udD10aGlzLmZvbnR8fFwiMTBweCBzYW5zLXNlcmlmXCIsdC50ZXh0QWxpZ249dGhpcy50ZXh0QWxpZ258fFwibGVmdFwiLHQudGV4dEJhc2VsaW5lPXRoaXMudGV4dEJhc2VsaW5lfHxcInRvcFwiLHQubGluZUpvaW49XCJtaXRlclwiLHQubWl0ZXJMaW1pdD0yLjUsdH0sdC5fZHJhd1RleHQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPSEhdDtzfHwoKHQ9Zy5fd29ya2luZ0NvbnRleHQpLnNhdmUoKSx0aGlzLl9wcmVwQ29udGV4dCh0KSk7Zm9yKHZhciByPXRoaXMubGluZUhlaWdodHx8dGhpcy5nZXRNZWFzdXJlZExpbmVIZWlnaHQoKSxuPTAsYT0wLG89U3RyaW5nKHRoaXMudGV4dCkuc3BsaXQoLyg/OlxcclxcbnxcXHJ8XFxuKS8pLGg9MCxjPW8ubGVuZ3RoO2g8YztoKyspe3ZhciB1PW9baF0sbD1udWxsO2lmKG51bGwhPXRoaXMubGluZVdpZHRoJiYobD10Lm1lYXN1cmVUZXh0KHUpLndpZHRoKT50aGlzLmxpbmVXaWR0aClmb3IodmFyIGQ9dS5zcGxpdCgvKFxccykvKSx1PWRbMF0sbD10Lm1lYXN1cmVUZXh0KHUpLndpZHRoLF89MSxwPWQubGVuZ3RoO188cDtfKz0yKXt2YXIgZj10Lm1lYXN1cmVUZXh0KGRbX10rZFtfKzFdKS53aWR0aDtsK2Y+dGhpcy5saW5lV2lkdGg/KHMmJnRoaXMuX2RyYXdUZXh0TGluZSh0LHUsYSpyKSxpJiZpLnB1c2godSksbjxsJiYobj1sKSx1PWRbXysxXSxsPXQubWVhc3VyZVRleHQodSkud2lkdGgsYSsrKToodSs9ZFtfXStkW18rMV0sbCs9Zil9cyYmdGhpcy5fZHJhd1RleHRMaW5lKHQsdSxhKnIpLGkmJmkucHVzaCh1KSxlJiZudWxsPT1sJiYobD10Lm1lYXN1cmVUZXh0KHUpLndpZHRoKSxuPGwmJihuPWwpLGErK31yZXR1cm4gZSYmKGUud2lkdGg9bixlLmhlaWdodD1hKnIpLHN8fHQucmVzdG9yZSgpLGV9LHQuX2RyYXdUZXh0TGluZT1mdW5jdGlvbih0LGUsaSl7dGhpcy5vdXRsaW5lP3Quc3Ryb2tlVGV4dChlLDAsaSx0aGlzLm1heFdpZHRofHw2NTUzNSk6dC5maWxsVGV4dChlLDAsaSx0aGlzLm1heFdpZHRofHw2NTUzNSl9LHQuX2dldE1lYXN1cmVkV2lkdGg9ZnVuY3Rpb24odCl7dmFyIGU9Zy5fd29ya2luZ0NvbnRleHQ7ZS5zYXZlKCk7dmFyIGk9dGhpcy5fcHJlcENvbnRleHQoZSkubWVhc3VyZVRleHQodCkud2lkdGg7cmV0dXJuIGUucmVzdG9yZSgpLGl9LGNyZWF0ZWpzLlRleHQ9Y3JlYXRlanMucHJvbW90ZShnLFwiRGlzcGxheU9iamVjdFwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHYodCxlKXt0aGlzLkNvbnRhaW5lcl9jb25zdHJ1Y3RvcigpLHRoaXMudGV4dD10fHxcIlwiLHRoaXMuc3ByaXRlU2hlZXQ9ZSx0aGlzLmxpbmVIZWlnaHQ9MCx0aGlzLmxldHRlclNwYWNpbmc9MCx0aGlzLnNwYWNlV2lkdGg9MCx0aGlzLl9vbGRQcm9wcz17dGV4dDowLHNwcml0ZVNoZWV0OjAsbGluZUhlaWdodDowLGxldHRlclNwYWNpbmc6MCxzcGFjZVdpZHRoOjB9LHRoaXMuX29sZFN0YWdlPW51bGwsdGhpcy5fZHJhd0FjdGlvbj1udWxsfXZhciB0PWNyZWF0ZWpzLmV4dGVuZCh2LGNyZWF0ZWpzLkNvbnRhaW5lcik7di5tYXhQb29sU2l6ZT0xMDAsdi5fc3ByaXRlUG9vbD1bXSx0LmRyYXc9ZnVuY3Rpb24odCxlKXt0aGlzLkRpc3BsYXlPYmplY3RfZHJhdyh0LGUpfHwodGhpcy5fdXBkYXRlU3RhdGUoKSx0aGlzLkNvbnRhaW5lcl9kcmF3KHQsZSkpfSx0LmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGRhdGVUZXh0KCksdGhpcy5Db250YWluZXJfZ2V0Qm91bmRzKCl9LHQuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYWNoZUNhbnZhc3x8dGhpcy5zcHJpdGVTaGVldCYmdGhpcy5zcHJpdGVTaGVldC5jb21wbGV0ZSYmdGhpcy50ZXh0O3JldHVybiEhKHRoaXMudmlzaWJsZSYmMDx0aGlzLmFscGhhJiYwIT09dGhpcy5zY2FsZVgmJjAhPT10aGlzLnNjYWxlWSYmdCl9LHQuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvbmVQcm9wcyhuZXcgdih0aGlzLnRleHQsdGhpcy5zcHJpdGVTaGVldCkpfSx0LmFkZENoaWxkPXQuYWRkQ2hpbGRBdD10LnJlbW92ZUNoaWxkPXQucmVtb3ZlQ2hpbGRBdD10LnJlbW92ZUFsbENoaWxkcmVuPWZ1bmN0aW9uKCl7fSx0Ll91cGRhdGVTdGF0ZT1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVRleHQoKX0sdC5fY2xvbmVQcm9wcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5Db250YWluZXJfX2Nsb25lUHJvcHModCksdC5saW5lSGVpZ2h0PXRoaXMubGluZUhlaWdodCx0LmxldHRlclNwYWNpbmc9dGhpcy5sZXR0ZXJTcGFjaW5nLHQuc3BhY2VXaWR0aD10aGlzLnNwYWNlV2lkdGgsdH0sdC5fZ2V0RnJhbWVJbmRleD1mdW5jdGlvbih0LGUpe3ZhciBpLHM9ZS5nZXRBbmltYXRpb24odCk7cmV0dXJuIHN8fCh0IT0oaT10LnRvVXBwZXJDYXNlKCkpfHx0IT0oaT10LnRvTG93ZXJDYXNlKCkpfHwoaT1udWxsKSxpJiYocz1lLmdldEFuaW1hdGlvbihpKSkpLHMmJnMuZnJhbWVzWzBdfSx0Ll9nZXRGcmFtZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2dldEZyYW1lSW5kZXgodCxlKTtyZXR1cm4gbnVsbD09aT9pOmUuZ2V0RnJhbWUoaSl9LHQuX2dldExpbmVIZWlnaHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0RnJhbWUoXCIxXCIsdCl8fHRoaXMuX2dldEZyYW1lKFwiVFwiLHQpfHx0aGlzLl9nZXRGcmFtZShcIkxcIix0KXx8dC5nZXRGcmFtZSgwKTtyZXR1cm4gZT9lLnJlY3QuaGVpZ2h0OjF9LHQuX2dldFNwYWNlV2lkdGg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0RnJhbWUoXCIxXCIsdCl8fHRoaXMuX2dldEZyYW1lKFwibFwiLHQpfHx0aGlzLl9nZXRGcmFtZShcImVcIix0KXx8dGhpcy5fZ2V0RnJhbWUoXCJhXCIsdCl8fHQuZ2V0RnJhbWUoMCk7cmV0dXJuIGU/ZS5yZWN0LndpZHRoOjF9LHQuX3VwZGF0ZVRleHQ9ZnVuY3Rpb24oKXt2YXIgdCxlPTAsaT0wLHM9dGhpcy5fb2xkUHJvcHMscj0hMSxuPXRoaXMuc3BhY2VXaWR0aCxhPXRoaXMubGluZUhlaWdodCxvPXRoaXMuc3ByaXRlU2hlZXQsaD12Ll9zcHJpdGVQb29sLGM9dGhpcy5jaGlsZHJlbix1PTAsbD1jLmxlbmd0aDtmb3IodmFyIGQgaW4gcylzW2RdIT10aGlzW2RdJiYoc1tkXT10aGlzW2RdLHI9ITApO2lmKHIpe3ZhciBfPSEhdGhpcy5fZ2V0RnJhbWUoXCIgXCIsbyk7X3x8bnx8KG49dGhpcy5fZ2V0U3BhY2VXaWR0aChvKSksYT1hfHx0aGlzLl9nZXRMaW5lSGVpZ2h0KG8pO2Zvcih2YXIgcD0wLGY9dGhpcy50ZXh0Lmxlbmd0aDtwPGY7cCsrKXt2YXIgZyxtPXRoaXMudGV4dC5jaGFyQXQocCk7XCIgXCIhPW18fF8/XCJcXG5cIiE9bSYmXCJcXHJcIiE9bT9udWxsIT0oZz10aGlzLl9nZXRGcmFtZUluZGV4KG0sbykpJiYodTxsP3Q9Y1t1XTooYy5wdXNoKHQ9aC5sZW5ndGg/aC5wb3AoKTpuZXcgY3JlYXRlanMuU3ByaXRlKSx0LnBhcmVudD10aGlzLGwrKyksdC5zcHJpdGVTaGVldD1vLHQuZ290b0FuZFN0b3AoZyksdC54PWUsdC55PWksdSsrLGUrPXQuZ2V0Qm91bmRzKCkud2lkdGgrdGhpcy5sZXR0ZXJTcGFjaW5nKTooXCJcXHJcIj09bSYmXCJcXG5cIj09dGhpcy50ZXh0LmNoYXJBdChwKzEpJiZwKyssZT0wLGkrPWEpOmUrPW59Zm9yKDt1PGw7KWgucHVzaCh0PWMucG9wKCkpLHQucGFyZW50PW51bGwsbC0tO2gubGVuZ3RoPnYubWF4UG9vbFNpemUmJihoLmxlbmd0aD12Lm1heFBvb2xTaXplKX19LGNyZWF0ZWpzLkJpdG1hcFRleHQ9Y3JlYXRlanMucHJvbW90ZSh2LFwiQ29udGFpbmVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYSh0KXt2YXIgZSxpLHMscjt0aGlzLkNvbnRhaW5lcl9jb25zdHJ1Y3RvcigpLGEuaW5pdGVkfHxhLmluaXQoKSx0IGluc3RhbmNlb2YgU3RyaW5nfHwxPGFyZ3VtZW50cy5sZW5ndGg/KGU9dCxpPWFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1szXSxudWxsPT0ocz1hcmd1bWVudHNbMl0pJiYocz0tMSksdD1udWxsKTp0JiYoZT10Lm1vZGUsaT10LnN0YXJ0UG9zaXRpb24scz10Lmxvb3Ascj10LmxhYmVscyksdD10fHx7bGFiZWxzOnJ9LHRoaXMubW9kZT1lfHxhLklOREVQRU5ERU5ULHRoaXMuc3RhcnRQb3NpdGlvbj1pfHwwLHRoaXMubG9vcD0hMD09PXM/LTE6c3x8MCx0aGlzLmN1cnJlbnRGcmFtZT0wLHRoaXMucGF1c2VkPXQucGF1c2VkfHwhMSx0aGlzLmFjdGlvbnNFbmFibGVkPSEwLHRoaXMuYXV0b1Jlc2V0PSEwLHRoaXMuZnJhbWVCb3VuZHM9dGhpcy5mcmFtZUJvdW5kc3x8dC5mcmFtZUJvdW5kcyx0aGlzLmZyYW1lcmF0ZT1udWxsLHQudXNlVGlja3M9dC5wYXVzZWQ9ITAsdGhpcy50aW1lbGluZT1uZXcgY3JlYXRlanMuVGltZWxpbmUodCksdGhpcy5fc3luY2hPZmZzZXQ9MCx0aGlzLl9yYXdQb3NpdGlvbj0tMSx0aGlzLl9ib3VuZF9yZXNvbHZlU3RhdGU9dGhpcy5fcmVzb2x2ZVN0YXRlLmJpbmQodGhpcyksdGhpcy5fdD0wLHRoaXMuX21hbmFnZWQ9e319dmFyIHQ9Y3JlYXRlanMuZXh0ZW5kKGEsY3JlYXRlanMuQ29udGFpbmVyKTthLklOREVQRU5ERU5UPVwiaW5kZXBlbmRlbnRcIixhLlNJTkdMRV9GUkFNRT1cInNpbmdsZVwiLGEuU1lOQ0hFRD1cInN5bmNoZWRcIixhLmluaXRlZD0hMSxhLmluaXQ9ZnVuY3Rpb24oKXthLmluaXRlZHx8KHMuaW5zdGFsbCgpLGEuaW5pdGVkPSEwKX0sdC5fZ2V0TGFiZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZWxpbmUuZ2V0TGFiZWxzKCl9LHQuZ2V0TGFiZWxzPWNyZWF0ZWpzLmRlcHJlY2F0ZSh0Ll9nZXRMYWJlbHMsXCJNb3ZpZUNsaXAuZ2V0TGFiZWxzXCIpLHQuX2dldEN1cnJlbnRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWVsaW5lLmN1cnJlbnRMYWJlbH0sdC5nZXRDdXJyZW50TGFiZWw9Y3JlYXRlanMuZGVwcmVjYXRlKHQuX2dldEN1cnJlbnRMYWJlbCxcIk1vdmllQ2xpcC5nZXRDdXJyZW50TGFiZWxcIiksdC5fZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lbGluZS5kdXJhdGlvbn0sdC5nZXREdXJhdGlvbj1jcmVhdGVqcy5kZXByZWNhdGUodC5fZ2V0RHVyYXRpb24sXCJNb3ZpZUNsaXAuZ2V0RHVyYXRpb25cIik7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQse2xhYmVsczp7Z2V0OnQuX2dldExhYmVsc30sY3VycmVudExhYmVsOntnZXQ6dC5fZ2V0Q3VycmVudExhYmVsfSx0b3RhbEZyYW1lczp7Z2V0OnQuX2dldER1cmF0aW9ufSxkdXJhdGlvbjp7Z2V0OnQuX2dldER1cmF0aW9ufX0pfWNhdGNoKHQpe31mdW5jdGlvbiBzKCl7dGhyb3dcIk1vdmllQ2xpcFBsdWdpbiBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLlwifXQuaW5pdGlhbGl6ZT1hLHQuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy52aXNpYmxlJiYwPHRoaXMuYWxwaGEmJjAhPXRoaXMuc2NhbGVYJiYwIT10aGlzLnNjYWxlWSl9LHQuZHJhdz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkRpc3BsYXlPYmplY3RfZHJhdyh0LGUpfHwodGhpcy5fdXBkYXRlU3RhdGUoKSx0aGlzLkNvbnRhaW5lcl9kcmF3KHQsZSkpLCEwfSx0LnBsYXk9ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMX0sdC5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITB9LHQuZ290b0FuZFBsYXk9ZnVuY3Rpb24odCl7dGhpcy5wYXVzZWQ9ITEsdGhpcy5fZ290byh0KX0sdC5nb3RvQW5kU3RvcD1mdW5jdGlvbih0KXt0aGlzLnBhdXNlZD0hMCx0aGlzLl9nb3RvKHQpfSx0LmFkdmFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9YS5JTkRFUEVOREVOVDtpZih0aGlzLm1vZGU9PT1lKXtmb3IodmFyIGk9dGhpcyxzPWkuZnJhbWVyYXRlOyhpPWkucGFyZW50KSYmbnVsbD09PXM7KWkubW9kZT09PWUmJihzPWkuX2ZyYW1lcmF0ZSk7aWYodGhpcy5fZnJhbWVyYXRlPXMsIXRoaXMucGF1c2VkKXt2YXIgcj1udWxsIT09cyYmLTEhPT1zJiZudWxsIT09dD90LygxZTMvcykrdGhpcy5fdDoxLG49MHxyO2Zvcih0aGlzLl90PXItbjtuLS07KXRoaXMuX3VwZGF0ZVRpbWVsaW5lKHRoaXMuX3Jhd1Bvc2l0aW9uKzEsITEpfX19LHQuY2xvbmU9ZnVuY3Rpb24oKXt0aHJvd1wiTW92aWVDbGlwIGNhbm5vdCBiZSBjbG9uZWQuXCJ9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltNb3ZpZUNsaXAgKG5hbWU9XCIrdGhpcy5uYW1lK1wiKV1cIn0sdC5fdXBkYXRlU3RhdGU9ZnVuY3Rpb24oKXstMSE9PXRoaXMuX3Jhd1Bvc2l0aW9uJiZ0aGlzLm1vZGU9PT1hLklOREVQRU5ERU5UfHx0aGlzLl91cGRhdGVUaW1lbGluZSgtMSl9LHQuX3RpY2s9ZnVuY3Rpb24odCl7dGhpcy5hZHZhbmNlKHQmJnQuZGVsdGEpLHRoaXMuQ29udGFpbmVyX190aWNrKHQpfSx0Ll9nb3RvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudGltZWxpbmUucmVzb2x2ZSh0KTtudWxsIT1lJiYodGhpcy5fdD0wLHRoaXMuX3VwZGF0ZVRpbWVsaW5lKGUsITApKX0sdC5fcmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9yYXdQb3NpdGlvbj0tMSx0aGlzLl90PXRoaXMuY3VycmVudEZyYW1lPTAsdGhpcy5wYXVzZWQ9ITF9LHQuX3VwZGF0ZVRpbWVsaW5lPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5tb2RlIT09YS5JTkRFUEVOREVOVCxzPXRoaXMudGltZWxpbmU7aSYmKHQ9dGhpcy5zdGFydFBvc2l0aW9uKyh0aGlzLm1vZGU9PT1hLlNJTkdMRV9GUkFNRT8wOnRoaXMuX3N5bmNoT2Zmc2V0KSksdDwwJiYodD0wKSx0aGlzLl9yYXdQb3NpdGlvbj09PXQmJiFpfHwodGhpcy5fcmF3UG9zaXRpb249dCxzLmxvb3A9dGhpcy5sb29wLHMuc2V0UG9zaXRpb24odCxpfHwhdGhpcy5hY3Rpb25zRW5hYmxlZCxlLHRoaXMuX2JvdW5kX3Jlc29sdmVTdGF0ZSkpfSx0Ll9yZW5kZXJGaXJzdEZyYW1lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50aW1lbGluZSxlPXQucmF3UG9zaXRpb247dC5zZXRQb3NpdGlvbigwLCEwLCEwLHRoaXMuX2JvdW5kX3Jlc29sdmVTdGF0ZSksdC5yYXdQb3NpdGlvbj1lfSx0Ll9yZXNvbHZlU3RhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRpbWVsaW5lO2Zvcih2YXIgZSBpbiB0aGlzLmN1cnJlbnRGcmFtZT10LnBvc2l0aW9uLHRoaXMuX21hbmFnZWQpdGhpcy5fbWFuYWdlZFtlXT0xO2Zvcih2YXIgaT10LnR3ZWVucyxzPTAscj1pLmxlbmd0aDtzPHI7cysrKXt2YXIgbixhPWlbc10sbz1hLnRhcmdldDtvPT09dGhpc3x8YS5wYXNzaXZlfHwobj1hLl9zdGVwUG9zaXRpb24sbyBpbnN0YW5jZW9mIGNyZWF0ZWpzLkRpc3BsYXlPYmplY3Q/dGhpcy5fYWRkTWFuYWdlZENoaWxkKG8sbik6dGhpcy5fc2V0U3RhdGUoby5zdGF0ZSxuKSl9Zm9yKHZhciBoPXRoaXMuY2hpbGRyZW4scz1oLmxlbmd0aC0xOzA8PXM7cy0tKXt2YXIgYz1oW3NdLmlkOzE9PT10aGlzLl9tYW5hZ2VkW2NdJiYodGhpcy5yZW1vdmVDaGlsZEF0KHMpLGRlbGV0ZSB0aGlzLl9tYW5hZ2VkW2NdKX19LHQuX3NldFN0YXRlPWZ1bmN0aW9uKHQsZSl7aWYodClmb3IodmFyIGk9dC5sZW5ndGgtMTswPD1pO2ktLSl7dmFyIHM9dFtpXSxyPXMudCxuPXMucDtmb3IodmFyIGEgaW4gbilyW2FdPW5bYV07dGhpcy5fYWRkTWFuYWdlZENoaWxkKHIsZSl9fSx0Ll9hZGRNYW5hZ2VkQ2hpbGQ9ZnVuY3Rpb24odCxlKXt0Ll9vZmZ8fCh0aGlzLmFkZENoaWxkQXQodCwwKSx0IGluc3RhbmNlb2YgYSYmKHQuX3N5bmNoT2Zmc2V0PWUsdC5tb2RlPT09YS5JTkRFUEVOREVOVCYmdC5hdXRvUmVzZXQmJiF0aGlzLl9tYW5hZ2VkW3QuaWRdJiZ0Ll9yZXNldCgpKSx0aGlzLl9tYW5hZ2VkW3QuaWRdPTIpfSx0Ll9nZXRCb3VuZHM9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLkRpc3BsYXlPYmplY3RfZ2V0Qm91bmRzKCk7cmV0dXJuIGl8fHRoaXMuZnJhbWVCb3VuZHMmJihpPXRoaXMuX3JlY3RhbmdsZS5jb3B5KHRoaXMuZnJhbWVCb3VuZHNbdGhpcy5jdXJyZW50RnJhbWVdKSksaT90aGlzLl90cmFuc2Zvcm1Cb3VuZHMoaSx0LGUpOnRoaXMuQ29udGFpbmVyX19nZXRCb3VuZHModCxlKX0sY3JlYXRlanMuTW92aWVDbGlwPWNyZWF0ZWpzLnByb21vdGUoYSxcIkNvbnRhaW5lclwiKSxzLnByaW9yaXR5PTEwMCxzLklEPVwiTW92aWVDbGlwXCIscy5pbnN0YWxsPWZ1bmN0aW9uKCl7Y3JlYXRlanMuVHdlZW4uX2luc3RhbGxQbHVnaW4ocyl9LHMuaW5pdD1mdW5jdGlvbih0LGUsaSl7XCJzdGFydFBvc2l0aW9uXCI9PT1lJiZ0LnRhcmdldCBpbnN0YW5jZW9mIGEmJnQuX2FkZFBsdWdpbihzKX0scy5zdGVwPWZ1bmN0aW9uKHQsZSxpKXt9LHMuY2hhbmdlPWZ1bmN0aW9uKHQsZSxpLHMscixuKXtpZihcInN0YXJ0UG9zaXRpb25cIj09PWkpcmV0dXJuIDE9PT1yP2UucHJvcHNbaV06ZS5wcmV2LnByb3BzW2ldfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIFMoKXt0aHJvd1wiU3ByaXRlU2hlZXRVdGlscyBjYW5ub3QgYmUgaW5zdGFudGlhdGVkXCJ9dmFyIHQ9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7dC5nZXRDb250ZXh0JiYoUy5fd29ya2luZ0NhbnZhcz10LFMuX3dvcmtpbmdDb250ZXh0PXQuZ2V0Q29udGV4dChcIjJkXCIpLHQud2lkdGg9dC5oZWlnaHQ9MSksUy5leHRyYWN0RnJhbWU9ZnVuY3Rpb24odCxlKXtpc05hTihlKSYmKGU9dC5nZXRBbmltYXRpb24oZSkuZnJhbWVzWzBdKTt2YXIgaT10LmdldEZyYW1lKGUpO2lmKCFpKXJldHVybiBudWxsO3ZhciBzPWkucmVjdCxyPVMuX3dvcmtpbmdDYW52YXM7ci53aWR0aD1zLndpZHRoLHIuaGVpZ2h0PXMuaGVpZ2h0LFMuX3dvcmtpbmdDb250ZXh0LmRyYXdJbWFnZShpLmltYWdlLHMueCxzLnkscy53aWR0aCxzLmhlaWdodCwwLDAscy53aWR0aCxzLmhlaWdodCk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtyZXR1cm4gbi5zcmM9ci50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIiksbn0sUy5hZGRGbGlwcGVkRnJhbWVzPWNyZWF0ZWpzLmRlcHJlY2F0ZShudWxsLFwiU3ByaXRlU2hlZXRVdGlscy5hZGRGbGlwcGVkRnJhbWVzXCIpLFMubWVyZ2VBbHBoYT1jcmVhdGVqcy5kZXByZWNhdGUobnVsbCxcIlNwcml0ZVNoZWV0VXRpbHMubWVyZ2VBbHBoYVwiKSxTLl9mbGlwPWZ1bmN0aW9uKHQsZSxpLHMpe2Zvcih2YXIgcj10Ll9pbWFnZXMsbj1TLl93b3JraW5nQ2FudmFzLGE9Uy5fd29ya2luZ0NvbnRleHQsbz1yLmxlbmd0aC9lLGg9MDtoPG87aCsrKXt2YXIgYz1yW2hdO2MuX190bXA9aCxhLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksYS5jbGVhclJlY3QoMCwwLG4ud2lkdGgrMSxuLmhlaWdodCsxKSxuLndpZHRoPWMud2lkdGgsbi5oZWlnaHQ9Yy5oZWlnaHQsYS5zZXRUcmFuc2Zvcm0oaT8tMToxLDAsMCxzPy0xOjEsaT9jLndpZHRoOjAscz9jLmhlaWdodDowKSxhLmRyYXdJbWFnZShjLDAsMCk7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTt1LnNyYz1uLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKSx1LndpZHRoPWMud2lkdGh8fGMubmF0dXJhbFdpZHRoLHUuaGVpZ2h0PWMuaGVpZ2h0fHxjLm5hdHVyYWxIZWlnaHQsci5wdXNoKHUpfWZvcih2YXIgbD10Ll9mcmFtZXMsZD1sLmxlbmd0aC9lLGg9MDtoPGQ7aCsrKXt2YXIgXz0oYz1sW2hdKS5yZWN0LmNsb25lKCkscD17aW1hZ2U6dT1yW2MuaW1hZ2UuX190bXArbyplXSxyZWN0Ol8scmVnWDpjLnJlZ1gscmVnWTpjLnJlZ1l9O2kmJihfLng9KHUud2lkdGh8fHUubmF0dXJhbFdpZHRoKS1fLngtXy53aWR0aCxwLnJlZ1g9Xy53aWR0aC1jLnJlZ1gpLHMmJihfLnk9KHUuaGVpZ2h0fHx1Lm5hdHVyYWxIZWlnaHQpLV8ueS1fLmhlaWdodCxwLnJlZ1k9Xy5oZWlnaHQtYy5yZWdZKSxsLnB1c2gocCl9dmFyIGY9XCJfXCIrKGk/XCJoXCI6XCJcIikrKHM/XCJ2XCI6XCJcIiksZz10Ll9hbmltYXRpb25zLG09dC5fZGF0YSx2PWcubGVuZ3RoL2U7Zm9yKGg9MDtoPHY7aCsrKXt2YXIgVD1nW2hdLGI9e25hbWU6VCtmLHNwZWVkOihjPW1bVF0pLnNwZWVkLG5leHQ6Yy5uZXh0LGZyYW1lczpbXX07Yy5uZXh0JiYoYi5uZXh0Kz1mKTtmb3IodmFyIEU9MCx5PShsPWMuZnJhbWVzKS5sZW5ndGg7RTx5O0UrKyliLmZyYW1lcy5wdXNoKGxbRV0rZCplKTttW2IubmFtZV09YixnLnB1c2goYi5uYW1lKX19LGNyZWF0ZWpzLlNwcml0ZVNoZWV0VXRpbHM9U30oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIEUodCl7dGhpcy5FdmVudERpc3BhdGNoZXJfY29uc3RydWN0b3IoKSx0aGlzLm1heFdpZHRoPTIwNDgsdGhpcy5tYXhIZWlnaHQ9MjA0OCx0aGlzLnNwcml0ZVNoZWV0PW51bGwsdGhpcy5zY2FsZT0xLHRoaXMucGFkZGluZz0xLHRoaXMudGltZVNsaWNlPS4zLHRoaXMucHJvZ3Jlc3M9LTEsdGhpcy5mcmFtZXJhdGU9dHx8MCx0aGlzLl9mcmFtZXM9W10sdGhpcy5fYW5pbWF0aW9ucz17fSx0aGlzLl9kYXRhPW51bGwsdGhpcy5fbmV4dEZyYW1lSW5kZXg9MCx0aGlzLl9pbmRleD0wLHRoaXMuX3RpbWVySUQ9bnVsbCx0aGlzLl9zY2FsZT0xfXZhciB0PWNyZWF0ZWpzLmV4dGVuZChFLGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcik7RS5FUlJfRElNRU5TSU9OUz1cImZyYW1lIGRpbWVuc2lvbnMgZXhjZWVkIG1heCBzcHJpdGVzaGVldCBkaW1lbnNpb25zXCIsRS5FUlJfUlVOTklORz1cImEgYnVpbGQgaXMgYWxyZWFkeSBydW5uaW5nXCIsdC5hZGRGcmFtZT1mdW5jdGlvbih0LGUsaSxzLHIpe2lmKHRoaXMuX2RhdGEpdGhyb3cgRS5FUlJfUlVOTklORzt2YXIgbj1lfHx0LmJvdW5kc3x8dC5ub21pbmFsQm91bmRzO3JldHVybiFuJiZ0LmdldEJvdW5kcyYmKG49dC5nZXRCb3VuZHMoKSksbj8oaT1pfHwxLHRoaXMuX2ZyYW1lcy5wdXNoKHtzb3VyY2U6dCxzb3VyY2VSZWN0Om4sc2NhbGU6aSxmdW5jdDpzLGRhdGE6cixpbmRleDp0aGlzLl9mcmFtZXMubGVuZ3RoLGhlaWdodDpuLmhlaWdodCppfSktMSk6bnVsbH0sdC5hZGRBbmltYXRpb249ZnVuY3Rpb24odCxlLGkscyl7aWYodGhpcy5fZGF0YSl0aHJvdyBFLkVSUl9SVU5OSU5HO3RoaXMuX2FuaW1hdGlvbnNbdF09e2ZyYW1lczplLG5leHQ6aSxzcGVlZDpzfX0sdC5hZGRNb3ZpZUNsaXA9ZnVuY3Rpb24odCxlLGkscyxyLG4pe2lmKHRoaXMuX2RhdGEpdGhyb3cgRS5FUlJfUlVOTklORzt2YXIgYT10LmZyYW1lQm91bmRzLG89ZXx8dC5ib3VuZHN8fHQubm9taW5hbEJvdW5kcztpZighbyYmdC5nZXRCb3VuZHMmJihvPXQuZ2V0Qm91bmRzKCkpLG98fGEpe2Zvcih2YXIgaCxjPXRoaXMuX2ZyYW1lcy5sZW5ndGgsdT10LnRpbWVsaW5lLmR1cmF0aW9uLGw9MDtsPHU7bCsrKXt2YXIgZD1hJiZhW2xdP2FbbF06bzt0aGlzLmFkZEZyYW1lKHQsZCxpLHRoaXMuX3NldHVwTW92aWVDbGlwRnJhbWUse2k6bCxmOnMsZDpyfSl9dmFyIF89dC50aW1lbGluZS5fbGFiZWxzLHA9W107Zm9yKHZhciBmIGluIF8pcC5wdXNoKHtpbmRleDpfW2ZdLGxhYmVsOmZ9KTtpZihwLmxlbmd0aClmb3IocC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaW5kZXgtZS5pbmRleH0pLGw9MCxoPXAubGVuZ3RoO2w8aDtsKyspe2Zvcih2YXIgZz1wW2xdLmxhYmVsLG09YytwW2xdLmluZGV4LHY9YysobD09aC0xP3U6cFtsKzFdLmluZGV4KSxUPVtdLGI9bTtiPHY7YisrKVQucHVzaChiKTtuJiYhKGc9bihnLHQsbSx2KSl8fHRoaXMuYWRkQW5pbWF0aW9uKGcsVCwhMCl9fX0sdC5idWlsZD1mdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEpdGhyb3cgRS5FUlJfUlVOTklORztmb3IodGhpcy5fc3RhcnRCdWlsZCgpO3RoaXMuX2RyYXdOZXh0KCk7KTtyZXR1cm4gdGhpcy5fZW5kQnVpbGQoKSx0aGlzLnNwcml0ZVNoZWV0fSx0LmJ1aWxkQXN5bmM9ZnVuY3Rpb24odCl7aWYodGhpcy5fZGF0YSl0aHJvdyBFLkVSUl9SVU5OSU5HO3RoaXMudGltZVNsaWNlPXQsdGhpcy5fc3RhcnRCdWlsZCgpO3ZhciBlPXRoaXM7dGhpcy5fdGltZXJJRD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fcnVuKCl9LDUwLTUwKk1hdGgubWF4KC4wMSxNYXRoLm1pbiguOTksdGhpcy50aW1lU2xpY2V8fC4zKSkpfSx0LnN0b3BBc3luYz1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lcklEKSx0aGlzLl9kYXRhPW51bGx9LHQuY2xvbmU9ZnVuY3Rpb24oKXt0aHJvd1wiU3ByaXRlU2hlZXRCdWlsZGVyIGNhbm5vdCBiZSBjbG9uZWQuXCJ9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltTcHJpdGVTaGVldEJ1aWxkZXJdXCJ9LHQuX3N0YXJ0QnVpbGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhZGRpbmd8fDA7dGhpcy5wcm9ncmVzcz0wLHRoaXMuc3ByaXRlU2hlZXQ9bnVsbCx0aGlzLl9pbmRleD0wLHRoaXMuX3NjYWxlPXRoaXMuc2NhbGU7dmFyIGU9W107dGhpcy5fZGF0YT17aW1hZ2VzOltdLGZyYW1lczplLGZyYW1lcmF0ZTp0aGlzLmZyYW1lcmF0ZSxhbmltYXRpb25zOnRoaXMuX2FuaW1hdGlvbnN9O3ZhciBpPXRoaXMuX2ZyYW1lcy5zbGljZSgpO2lmKGkuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LmhlaWdodDw9ZS5oZWlnaHQ/LTE6MX0pLGlbaS5sZW5ndGgtMV0uaGVpZ2h0KzIqdD50aGlzLm1heEhlaWdodCl0aHJvdyBFLkVSUl9ESU1FTlNJT05TO2Zvcih2YXIgcz0wLHI9MCxuPTA7aS5sZW5ndGg7KXt2YXIgYSxvPXRoaXMuX2ZpbGxSb3coaSxzLG4sZSx0KTtvLnc+ciYmKHI9by53KSxzKz1vLmgsby5oJiZpLmxlbmd0aHx8KChhPWNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKS53aWR0aD10aGlzLl9nZXRTaXplKHIsdGhpcy5tYXhXaWR0aCksYS5oZWlnaHQ9dGhpcy5fZ2V0U2l6ZShzLHRoaXMubWF4SGVpZ2h0KSx0aGlzLl9kYXRhLmltYWdlc1tuXT1hLG8uaHx8KHI9cz0wLG4rKykpfX0sdC5fc2V0dXBNb3ZpZUNsaXBGcmFtZT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuYWN0aW9uc0VuYWJsZWQ7dC5hY3Rpb25zRW5hYmxlZD0hMSx0LmdvdG9BbmRTdG9wKGUuaSksdC5hY3Rpb25zRW5hYmxlZD1pLGUuZiYmZS5mKHQsZS5kLGUuaSl9LHQuX2dldFNpemU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9NDtNYXRoLnBvdygyLCsraSk8dDspO3JldHVybiBNYXRoLm1pbihlLE1hdGgucG93KDIsaSkpfSx0Ll9maWxsUm93PWZ1bmN0aW9uKHQsZSxpLHMscil7Zm9yKHZhciBuPXRoaXMubWF4V2lkdGgsYT10aGlzLm1heEhlaWdodC0oZSs9ciksbz1yLGg9MCxjPXQubGVuZ3RoLTE7MDw9YztjLS0pe3ZhciB1PXRbY10sbD10aGlzLl9zY2FsZSp1LnNjYWxlLGQ9dS5zb3VyY2VSZWN0LF89dS5zb3VyY2UscD1NYXRoLmZsb29yKGwqZC54LXIpLGY9TWF0aC5mbG9vcihsKmQueS1yKSxnPU1hdGguY2VpbChsKmQuaGVpZ2h0KzIqciksbT1NYXRoLmNlaWwobCpkLndpZHRoKzIqcik7aWYobjxtKXRocm93IEUuRVJSX0RJTUVOU0lPTlM7YTxnfHxuPG8rbXx8KHUuaW1nPWksdS5yZWN0PW5ldyBjcmVhdGVqcy5SZWN0YW5nbGUobyxlLG0sZyksaD1ofHxnLHQuc3BsaWNlKGMsMSksc1t1LmluZGV4XT1bbyxlLG0sZyxpLE1hdGgucm91bmQoLXArbCpfLnJlZ1gtciksTWF0aC5yb3VuZCgtZitsKl8ucmVnWS1yKV0sbys9bSl9cmV0dXJue3c6byxoOmh9fSx0Ll9lbmRCdWlsZD1mdW5jdGlvbigpe3RoaXMuc3ByaXRlU2hlZXQ9bmV3IGNyZWF0ZWpzLlNwcml0ZVNoZWV0KHRoaXMuX2RhdGEpLHRoaXMuX2RhdGE9bnVsbCx0aGlzLnByb2dyZXNzPTEsdGhpcy5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIil9LHQuX3J1bj1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPTUwKk1hdGgubWF4KC4wMSxNYXRoLm1pbiguOTksdGhpcy50aW1lU2xpY2V8fC4zKSksaT0obmV3IERhdGUpLmdldFRpbWUoKStlLHM9ITE7aT4obmV3IERhdGUpLmdldFRpbWUoKTspaWYoIXRoaXMuX2RyYXdOZXh0KCkpe3M9ITA7YnJlYWt9cz90aGlzLl9lbmRCdWlsZCgpOih0PXRoaXMpLl90aW1lcklEPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9ydW4oKX0sNTAtZSk7dmFyIHIsbj10aGlzLnByb2dyZXNzPXRoaXMuX2luZGV4L3RoaXMuX2ZyYW1lcy5sZW5ndGg7dGhpcy5oYXNFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIikmJigocj1uZXcgY3JlYXRlanMuRXZlbnQoXCJwcm9ncmVzc1wiKSkucHJvZ3Jlc3M9bix0aGlzLmRpc3BhdGNoRXZlbnQocikpfSx0Ll9kcmF3TmV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ZyYW1lc1t0aGlzLl9pbmRleF0sZT10LnNjYWxlKnRoaXMuX3NjYWxlLGk9dC5yZWN0LHM9dC5zb3VyY2VSZWN0LHI9dGhpcy5fZGF0YS5pbWFnZXNbdC5pbWddLmdldENvbnRleHQoXCIyZFwiKTtyZXR1cm4gdC5mdW5jdCYmdC5mdW5jdCh0LnNvdXJjZSx0LmRhdGEpLHIuc2F2ZSgpLHIuYmVnaW5QYXRoKCksci5yZWN0KGkueCxpLnksaS53aWR0aCxpLmhlaWdodCksci5jbGlwKCksci50cmFuc2xhdGUoTWF0aC5jZWlsKGkueC1zLngqZSksTWF0aC5jZWlsKGkueS1zLnkqZSkpLHIuc2NhbGUoZSxlKSx0LnNvdXJjZS5kcmF3KHIpLHIucmVzdG9yZSgpLCsrdGhpcy5faW5kZXg8dGhpcy5fZnJhbWVzLmxlbmd0aH0sY3JlYXRlanMuU3ByaXRlU2hlZXRCdWlsZGVyPWNyZWF0ZWpzLnByb21vdGUoRSxcIkV2ZW50RGlzcGF0Y2hlclwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCl7dGhpcy5EaXNwbGF5T2JqZWN0X2NvbnN0cnVjdG9yKCksXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpKSx0aGlzLm1vdXNlRW5hYmxlZD0hMTt2YXIgZT10LnN0eWxlO2UucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUudHJhbnNmb3JtT3JpZ2luPWUuV2Via2l0VHJhbnNmb3JtT3JpZ2luPWUubXNUcmFuc2Zvcm1PcmlnaW49ZS5Nb3pUcmFuc2Zvcm1PcmlnaW49ZS5PVHJhbnNmb3JtT3JpZ2luPVwiMCUgMCVcIix0aGlzLmh0bWxFbGVtZW50PXQsdGhpcy5fb2xkUHJvcHM9bnVsbCx0aGlzLl9vbGRTdGFnZT1udWxsLHRoaXMuX2RyYXdBY3Rpb249bnVsbH12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5EaXNwbGF5T2JqZWN0KTtlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmh0bWxFbGVtZW50fSxlLmRyYXc9ZnVuY3Rpb24odCxlKXtyZXR1cm4hMH0sZS5jYWNoZT1mdW5jdGlvbigpe30sZS51bmNhY2hlPWZ1bmN0aW9uKCl7fSxlLnVwZGF0ZUNhY2hlPWZ1bmN0aW9uKCl7fSxlLmhpdFRlc3Q9ZnVuY3Rpb24oKXt9LGUubG9jYWxUb0dsb2JhbD1mdW5jdGlvbigpe30sZS5nbG9iYWxUb0xvY2FsPWZ1bmN0aW9uKCl7fSxlLmxvY2FsVG9Mb2NhbD1mdW5jdGlvbigpe30sZS5jbG9uZT1mdW5jdGlvbigpe3Rocm93XCJET01FbGVtZW50IGNhbm5vdCBiZSBjbG9uZWQuXCJ9LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltET01FbGVtZW50IChuYW1lPVwiK3RoaXMubmFtZStcIildXCJ9LGUuX3RpY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGFnZTtlJiZlIT09dGhpcy5fb2xkU3RhZ2UmJih0aGlzLl9kcmF3QWN0aW9uJiZlLm9mZihcImRyYXdlbmRcIix0aGlzLl9kcmF3QWN0aW9uKSx0aGlzLl9kcmF3QWN0aW9uPWUub24oXCJkcmF3ZW5kXCIsdGhpcy5faGFuZGxlRHJhd0VuZCx0aGlzKSx0aGlzLl9vbGRTdGFnZT1lKSx0aGlzLkRpc3BsYXlPYmplY3RfX3RpY2sodCl9LGUuX2hhbmRsZURyYXdFbmQ9ZnVuY3Rpb24odCl7dmFyIGUsaSxzLHIsbixhLG8saCxjPXRoaXMuaHRtbEVsZW1lbnQ7YyYmKGU9Yy5zdHlsZSxzPShpPXRoaXMuZ2V0Q29uY2F0ZW5hdGVkRGlzcGxheVByb3BzKHRoaXMuX3Byb3BzKSkubWF0cml4LChyPWkudmlzaWJsZT9cInZpc2libGVcIjpcImhpZGRlblwiKSE9ZS52aXNpYmlsaXR5JiYoZS52aXNpYmlsaXR5PXIpLGkudmlzaWJsZSYmKG89MWU0LChhPShuPXRoaXMuX29sZFByb3BzKSYmbi5tYXRyaXgpJiZhLmVxdWFscyhzKXx8KGg9XCJtYXRyaXgoXCIrKHMuYSpvfDApL28rXCIsXCIrKHMuYipvfDApL28rXCIsXCIrKHMuYypvfDApL28rXCIsXCIrKHMuZCpvfDApL28rXCIsXCIrKHMudHgrLjV8MCksZS50cmFuc2Zvcm09ZS5XZWJraXRUcmFuc2Zvcm09ZS5PVHJhbnNmb3JtPWUubXNUcmFuc2Zvcm09aCtcIixcIisocy50eSsuNXwwKStcIilcIixlLk1velRyYW5zZm9ybT1oK1wicHgsXCIrKHMudHkrLjV8MCkrXCJweClcIiwobj1ufHwodGhpcy5fb2xkUHJvcHM9bmV3IGNyZWF0ZWpzLkRpc3BsYXlQcm9wcyghMCxudWxsKSkpLm1hdHJpeC5jb3B5KHMpKSxuLmFscGhhIT1pLmFscGhhJiYoZS5vcGFjaXR5PVwiXCIrKGkuYWxwaGEqb3wwKS9vLG4uYWxwaGE9aS5hbHBoYSkpKX0sY3JlYXRlanMuRE9NRWxlbWVudD1jcmVhdGVqcy5wcm9tb3RlKHQsXCJEaXNwbGF5T2JqZWN0XCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCgpe3RoaXMudXNlc0NvbnRleHQ9ITEsdGhpcy5fbXVsdGlQYXNzPW51bGwsdGhpcy5WVFhfU0hBREVSX0JPRFk9bnVsbCx0aGlzLkZSQUdfU0hBREVSX0JPRFk9bnVsbH12YXIgZT10LnByb3RvdHlwZTtlLmdldEJvdW5kcz1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZS5zaGFkZXJQYXJhbVNldHVwPWZ1bmN0aW9uKHQsZSxpKXt9LGUuYXBwbHlGaWx0ZXI9ZnVuY3Rpb24odCxlLGkscyxyLG4sYSxvKXtuPW58fHQsbnVsbD09YSYmKGE9ZSksbnVsbD09byYmKG89aSk7dHJ5e3ZhciBoPXQuZ2V0SW1hZ2VEYXRhKGUsaSxzLHIpfWNhdGNoKHQpe3JldHVybiExfXJldHVybiEhdGhpcy5fYXBwbHlGaWx0ZXIoaCkmJihuLnB1dEltYWdlRGF0YShoLGEsbyksITApfSxlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbRmlsdGVyXVwifSxlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fSxlLl9hcHBseUZpbHRlcj1mdW5jdGlvbih0KXtyZXR1cm4hMH0sY3JlYXRlanMuRmlsdGVyPXR9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKCl7dGhpcy53aWR0aD12b2lkIDAsdGhpcy5oZWlnaHQ9dm9pZCAwLHRoaXMueD12b2lkIDAsdGhpcy55PXZvaWQgMCx0aGlzLnNjYWxlPTEsdGhpcy5vZmZYPTAsdGhpcy5vZmZZPTAsdGhpcy5jYWNoZUlEPTAsdGhpcy5fZmlsdGVyT2ZmWD0wLHRoaXMuX2ZpbHRlck9mZlk9MCx0aGlzLl9jYWNoZURhdGFVUkxJRD0wLHRoaXMuX2NhY2hlRGF0YVVSTD1udWxsLHRoaXMuX2RyYXdXaWR0aD0wLHRoaXMuX2RyYXdIZWlnaHQ9MH12YXIgdD1zLnByb3RvdHlwZTtzLmdldEZpbHRlckJvdW5kcz1mdW5jdGlvbih0LGUpe2U9ZXx8bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZTt2YXIgaT10LmZpbHRlcnMscz1pJiZpLmxlbmd0aDtpZighIXM8PTApcmV0dXJuIGU7Zm9yKHZhciByPTA7cjxzO3IrKyl7dmFyIG4sYT1pW3JdO2EmJmEuZ2V0Qm91bmRzJiYoKG49YS5nZXRCb3VuZHMoKSkmJigwPT1yP2Uuc2V0VmFsdWVzKG4ueCxuLnksbi53aWR0aCxuLmhlaWdodCk6ZS5leHRlbmQobi54LG4ueSxuLndpZHRoLG4uaGVpZ2h0KSkpfXJldHVybiBlfSx0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbQml0bWFwQ2FjaGVdXCJ9LHQuZGVmaW5lPWZ1bmN0aW9uKHQsZSxpLHMscixuLGEpe2lmKCF0KXRocm93XCJObyBzeW1ib2wgdG8gY2FjaGVcIjt0aGlzLl9vcHRpb25zPWEsdGhpcy50YXJnZXQ9dCx0aGlzLndpZHRoPTE8PXM/czoxLHRoaXMuaGVpZ2h0PTE8PXI/cjoxLHRoaXMueD1lfHwwLHRoaXMueT1pfHwwLHRoaXMuc2NhbGU9bnx8MSx0aGlzLnVwZGF0ZSgpfSx0LnVwZGF0ZT1mdW5jdGlvbih0KXtpZighdGhpcy50YXJnZXQpdGhyb3dcImRlZmluZSgpIG11c3QgYmUgY2FsbGVkIGJlZm9yZSB1cGRhdGUoKVwiO3ZhciBlPXMuZ2V0RmlsdGVyQm91bmRzKHRoaXMudGFyZ2V0KSxpPXRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzO3RoaXMuX2RyYXdXaWR0aD1NYXRoLmNlaWwodGhpcy53aWR0aCp0aGlzLnNjYWxlKStlLndpZHRoLHRoaXMuX2RyYXdIZWlnaHQ9TWF0aC5jZWlsKHRoaXMuaGVpZ2h0KnRoaXMuc2NhbGUpK2UuaGVpZ2h0LGkmJnRoaXMuX2RyYXdXaWR0aD09aS53aWR0aCYmdGhpcy5fZHJhd0hlaWdodD09aS5oZWlnaHR8fHRoaXMuX3VwZGF0ZVN1cmZhY2UoKSx0aGlzLl9maWx0ZXJPZmZYPWUueCx0aGlzLl9maWx0ZXJPZmZZPWUueSx0aGlzLm9mZlg9dGhpcy54KnRoaXMuc2NhbGUrdGhpcy5fZmlsdGVyT2ZmWCx0aGlzLm9mZlk9dGhpcy55KnRoaXMuc2NhbGUrdGhpcy5fZmlsdGVyT2ZmWSx0aGlzLl9kcmF3VG9DYWNoZSh0KSx0aGlzLmNhY2hlSUQ9dGhpcy5jYWNoZUlEP3RoaXMuY2FjaGVJRCsxOjF9LHQucmVsZWFzZT1mdW5jdGlvbigpe3ZhciB0O3RoaXMuX3dlYkdMQ2FjaGU/KHRoaXMuX3dlYkdMQ2FjaGUuaXNDYWNoZUNvbnRyb2xsZWR8fCh0aGlzLl9fbGFzdFJUJiYodGhpcy5fX2xhc3RSVD12b2lkIDApLHRoaXMuX19ydEEmJnRoaXMuX3dlYkdMQ2FjaGUuX2tpbGxUZXh0dXJlT2JqZWN0KHRoaXMuX19ydEEpLHRoaXMuX19ydEImJnRoaXMuX3dlYkdMQ2FjaGUuX2tpbGxUZXh0dXJlT2JqZWN0KHRoaXMuX19ydEIpLHRoaXMudGFyZ2V0JiZ0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyYmdGhpcy5fd2ViR0xDYWNoZS5fa2lsbFRleHR1cmVPYmplY3QodGhpcy50YXJnZXQuY2FjaGVDYW52YXMpKSx0aGlzLl93ZWJHTENhY2hlPSExKToodD10aGlzLnRhcmdldC5zdGFnZSlpbnN0YW5jZW9mIGNyZWF0ZWpzLlN0YWdlR0wmJnQucmVsZWFzZVRleHR1cmUodGhpcy50YXJnZXQuY2FjaGVDYW52YXMpLHRoaXMudGFyZ2V0PXRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzPW51bGwsdGhpcy5jYWNoZUlEPXRoaXMuX2NhY2hlRGF0YVVSTElEPXRoaXMuX2NhY2hlRGF0YVVSTD12b2lkIDAsdGhpcy53aWR0aD10aGlzLmhlaWdodD10aGlzLng9dGhpcy55PXRoaXMub2ZmWD10aGlzLm9mZlk9MCx0aGlzLnNjYWxlPTF9LHQuZ2V0Q2FjaGVEYXRhVVJMPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50YXJnZXQmJnRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzO3JldHVybiB0Pyh0aGlzLmNhY2hlSUQhPXRoaXMuX2NhY2hlRGF0YVVSTElEJiYodGhpcy5fY2FjaGVEYXRhVVJMSUQ9dGhpcy5jYWNoZUlELHRoaXMuX2NhY2hlRGF0YVVSTD10LnRvRGF0YVVSTD90LnRvRGF0YVVSTCgpOm51bGwpLHRoaXMuX2NhY2hlRGF0YVVSTCk6bnVsbH0sdC5kcmF3PWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy50YXJnZXQmJih0LmRyYXdJbWFnZSh0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyx0aGlzLngrdGhpcy5fZmlsdGVyT2ZmWC90aGlzLnNjYWxlLHRoaXMueSt0aGlzLl9maWx0ZXJPZmZZL3RoaXMuc2NhbGUsdGhpcy5fZHJhd1dpZHRoL3RoaXMuc2NhbGUsdGhpcy5fZHJhd0hlaWdodC90aGlzLnNjYWxlKSwhMCl9LHQuX3VwZGF0ZVN1cmZhY2U9ZnVuY3Rpb24oKXtpZighdGhpcy5fb3B0aW9uc3x8IXRoaXMuX29wdGlvbnMudXNlR0wpcmV0dXJuKGU9KGU9dGhpcy50YXJnZXQuY2FjaGVDYW52YXMpfHwodGhpcy50YXJnZXQuY2FjaGVDYW52YXM9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpKS53aWR0aD10aGlzLl9kcmF3V2lkdGgsdm9pZChlLmhlaWdodD10aGlzLl9kcmF3SGVpZ2h0KTtpZighdGhpcy5fd2ViR0xDYWNoZSlpZihcInN0YWdlXCI9PT10aGlzLl9vcHRpb25zLnVzZUdMKXtpZighdGhpcy50YXJnZXQuc3RhZ2V8fCF0aGlzLnRhcmdldC5zdGFnZS5pc1dlYkdMKXt2YXIgdD1cIkNhbm5vdCB1c2UgJ3N0YWdlJyBmb3IgY2FjaGUgYmVjYXVzZSB0aGUgb2JqZWN0J3MgcGFyZW50IHN0YWdlIGlzIFwiO3Rocm93IHQrPXRoaXMudGFyZ2V0LnN0YWdlP1wibm9uIFdlYkdMLlwiOlwibm90IHNldCwgcGxlYXNlIGFkZENoaWxkIHRvIHRoZSBjb3JyZWN0IHN0YWdlLlwifXRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzPSEwLHRoaXMuX3dlYkdMQ2FjaGU9dGhpcy50YXJnZXQuc3RhZ2V9ZWxzZSBpZihcIm5ld1wiPT09dGhpcy5fb3B0aW9ucy51c2VHTCl0aGlzLnRhcmdldC5jYWNoZUNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuX3dlYkdMQ2FjaGU9bmV3IGNyZWF0ZWpzLlN0YWdlR0wodGhpcy50YXJnZXQuY2FjaGVDYW52YXMse2FudGlhbGlhczohMCx0cmFuc3BhcmVudDohMCxhdXRvUHVyZ2U6LTF9KSx0aGlzLl93ZWJHTENhY2hlLmlzQ2FjaGVDb250cm9sbGVkPSEwO2Vsc2V7aWYoISh0aGlzLl9vcHRpb25zLnVzZUdMIGluc3RhbmNlb2YgY3JlYXRlanMuU3RhZ2VHTCkpdGhyb3dcIkludmFsaWQgb3B0aW9uIHByb3ZpZGVkIHRvIHVzZUdMLCBleHBlY3RlZCBbJ3N0YWdlJywgJ25ldycsIFN0YWdlR0wsIHVuZGVmaW5lZF0sIGdvdCBcIit0aGlzLl9vcHRpb25zLnVzZUdMO3RoaXMudGFyZ2V0LmNhY2hlQ2FudmFzPSEwLHRoaXMuX3dlYkdMQ2FjaGU9dGhpcy5fb3B0aW9ucy51c2VHTCx0aGlzLl93ZWJHTENhY2hlLmlzQ2FjaGVDb250cm9sbGVkPSEwfXZhciBlPXRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzLGk9dGhpcy5fd2ViR0xDYWNoZTtpLmlzQ2FjaGVDb250cm9sbGVkJiYoZS53aWR0aD10aGlzLl9kcmF3V2lkdGgsZS5oZWlnaHQ9dGhpcy5fZHJhd0hlaWdodCxpLnVwZGF0ZVZpZXdwb3J0KHRoaXMuX2RyYXdXaWR0aCx0aGlzLl9kcmF3SGVpZ2h0KSksdGhpcy50YXJnZXQuZmlsdGVycz8oaS5nZXRUYXJnZXRSZW5kZXJUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMuX2RyYXdXaWR0aCx0aGlzLl9kcmF3SGVpZ2h0KSxpLmdldFRhcmdldFJlbmRlclRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5fZHJhd1dpZHRoLHRoaXMuX2RyYXdIZWlnaHQpKTppLmlzQ2FjaGVDb250cm9sbGVkfHxpLmdldFRhcmdldFJlbmRlclRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5fZHJhd1dpZHRoLHRoaXMuX2RyYXdIZWlnaHQpfSx0Ll9kcmF3VG9DYWNoZT1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzLHM9dGhpcy50YXJnZXQscj10aGlzLl93ZWJHTENhY2hlO3I/KHIuY2FjaGVEcmF3KHMscy5maWx0ZXJzLHRoaXMpLChpPXRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzKS53aWR0aD10aGlzLl9kcmF3V2lkdGgsaS5oZWlnaHQ9dGhpcy5fZHJhd0hlaWdodCk6KGU9aS5nZXRDb250ZXh0KFwiMmRcIiksdHx8ZS5jbGVhclJlY3QoMCwwLHRoaXMuX2RyYXdXaWR0aCsxLHRoaXMuX2RyYXdIZWlnaHQrMSksZS5zYXZlKCksZS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249dCxlLnNldFRyYW5zZm9ybSh0aGlzLnNjYWxlLDAsMCx0aGlzLnNjYWxlLC10aGlzLl9maWx0ZXJPZmZYLC10aGlzLl9maWx0ZXJPZmZZKSxlLnRyYW5zbGF0ZSgtdGhpcy54LC10aGlzLnkpLHMuZHJhdyhlLCEwKSxlLnJlc3RvcmUoKSxzLmZpbHRlcnMmJnMuZmlsdGVycy5sZW5ndGgmJnRoaXMuX2FwcGx5RmlsdGVycyhlKSksaS5faW52YWxpZD0hMH0sdC5fYXBwbHlGaWx0ZXJzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPXRoaXMudGFyZ2V0LmZpbHRlcnMscz10aGlzLl9kcmF3V2lkdGgscj10aGlzLl9kcmF3SGVpZ2h0LG49MCxhPWlbbl07YS51c2VzQ29udGV4dD8oZSYmKHQucHV0SW1hZ2VEYXRhKGUsMCwwKSxlPW51bGwpLGEuYXBwbHlGaWx0ZXIodCwwLDAscyxyKSk6KGU9ZXx8dC5nZXRJbWFnZURhdGEoMCwwLHMsciksYS5fYXBwbHlGaWx0ZXIoZSkpLGE9bnVsbCE9PWEuX211bHRpUGFzcz9hLl9tdWx0aVBhc3M6aVsrK25dOyk7ZSYmdC5wdXRJbWFnZURhdGEoZSwwLDApfSxjcmVhdGVqcy5CaXRtYXBDYWNoZT1zfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gQih0LGUsaSl7dGhpcy5GaWx0ZXJfY29uc3RydWN0b3IoKSx0aGlzLl9ibHVyWD10LHRoaXMuX2JsdXJYVGFibGU9W10sdGhpcy5fbGFzdEJsdXJYPW51bGwsdGhpcy5fYmx1clk9ZSx0aGlzLl9ibHVyWVRhYmxlPVtdLHRoaXMuX2xhc3RCbHVyWT1udWxsLHRoaXMuX3F1YWxpdHksdGhpcy5fbGFzdFF1YWxpdHk9bnVsbCx0aGlzLkZSQUdfU0hBREVSX1RFTVBMQVRFPVwidW5pZm9ybSBmbG9hdCB4V2VpZ2h0W3t7Ymx1clh9fV07dW5pZm9ybSBmbG9hdCB5V2VpZ2h0W3t7Ymx1cll9fV07dW5pZm9ybSB2ZWMyIHRleHR1cmVPZmZzZXQ7dm9pZCBtYWluKHZvaWQpIHt2ZWM0IGNvbG9yID0gdmVjNCgwLjApO2Zsb2F0IHhBZGogPSAoe3tibHVyWH19LjAtMS4wKS8yLjA7ZmxvYXQgeUFkaiA9ICh7e2JsdXJZfX0uMC0xLjApLzIuMDt2ZWMyIHNhbXBsZU9mZnNldDtmb3IoaW50IGk9MDsgaTx7e2JsdXJYfX07IGkrKykge2ZvcihpbnQgaj0wOyBqPHt7Ymx1cll9fTsgaisrKSB7c2FtcGxlT2Zmc2V0ID0gdlJlbmRlckNvb3JkICsgKHRleHR1cmVPZmZzZXQgKiB2ZWMyKGZsb2F0KGkpLXhBZGosIGZsb2F0KGopLXlBZGopKTtjb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHNhbXBsZU9mZnNldCkgKiAoeFdlaWdodFtpXSAqIHlXZWlnaHRbal0pO319Z2xfRnJhZ0NvbG9yID0gY29sb3IucmdiYTt9XCIsKGlzTmFOKGkpfHxpPDEpJiYoaT0xKSx0aGlzLnNldFF1YWxpdHkoMHxpKX12YXIgdD1jcmVhdGVqcy5leHRlbmQoQixjcmVhdGVqcy5GaWx0ZXIpO3QuZ2V0Qmx1clg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1clh9LHQuZ2V0Qmx1clk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1cll9LHQuc2V0Qmx1clg9ZnVuY3Rpb24odCl7KGlzTmFOKHQpfHx0PDApJiYodD0wKSx0aGlzLl9ibHVyWD10fSx0LnNldEJsdXJZPWZ1bmN0aW9uKHQpeyhpc05hTih0KXx8dDwwKSYmKHQ9MCksdGhpcy5fYmx1clk9dH0sdC5nZXRRdWFsaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1YWxpdHl9LHQuc2V0UXVhbGl0eT1mdW5jdGlvbih0KXsoaXNOYU4odCl8fHQ8MCkmJih0PTApLHRoaXMuX3F1YWxpdHk9MHx0fSx0Ll9nZXRTaGFkZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYXN0Qmx1clghPT10aGlzLl9ibHVyWCxlPXRoaXMuX2xhc3RCbHVyWSE9PXRoaXMuX2JsdXJZLGk9dGhpcy5fbGFzdFF1YWxpdHkhPT10aGlzLl9xdWFsaXR5O3JldHVybiB0fHxlfHxpPygodHx8aSkmJih0aGlzLl9ibHVyWFRhYmxlPXRoaXMuX2dldFRhYmxlKHRoaXMuX2JsdXJYKnRoaXMuX3F1YWxpdHkpKSwoZXx8aSkmJih0aGlzLl9ibHVyWVRhYmxlPXRoaXMuX2dldFRhYmxlKHRoaXMuX2JsdXJZKnRoaXMuX3F1YWxpdHkpKSx0aGlzLl91cGRhdGVTaGFkZXIoKSx0aGlzLl9sYXN0Qmx1clg9dGhpcy5fYmx1clgsdGhpcy5fbGFzdEJsdXJZPXRoaXMuX2JsdXJZLHZvaWQodGhpcy5fbGFzdFF1YWxpdHk9dGhpcy5fcXVhbGl0eSkpOnRoaXMuX2NvbXBpbGVkU2hhZGVyfSx0Ll9zZXRTaGFkZXI9ZnVuY3Rpb24oKXt0aGlzLl9jb21waWxlZFNoYWRlcn07dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQse2JsdXJYOntnZXQ6dC5nZXRCbHVyWCxzZXQ6dC5zZXRCbHVyWH0sYmx1clk6e2dldDp0LmdldEJsdXJZLHNldDp0LnNldEJsdXJZfSxxdWFsaXR5OntnZXQ6dC5nZXRRdWFsaXR5LHNldDp0LnNldFF1YWxpdHl9LF9idWlsdFNoYWRlcjp7Z2V0OnQuX2dldFNoYWRlcixzZXQ6dC5fc2V0U2hhZGVyfX0pfWNhdGNoKHQpe2NvbnNvbGUubG9nKHQpfXQuX2dldFRhYmxlPWZ1bmN0aW9uKHQpe2lmKHQ8PTEpcmV0dXJuWzFdO2Zvcih2YXIgZT1bXSxpPU1hdGguY2VpbCgyKnQpLHM9KGkrPWklMj8wOjEpLzJ8MCxyPS1zO3I8PXM7cisrKXt2YXIgbj1yL3MqNC4yO2UucHVzaCgxL01hdGguc3FydCgyKk1hdGguUEkpKk1hdGgucG93KE1hdGguRSwtTWF0aC5wb3cobiwyKS80KSl9dmFyIGE9ZS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSk7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdC9hfSl9LHQuX3VwZGF0ZVNoYWRlcj1mdW5jdGlvbigpe3ZhciB0O3ZvaWQgMCE9PXRoaXMuX2JsdXJYJiZ2b2lkIDAhPT10aGlzLl9ibHVyWSYmKHQ9KHQ9KHQ9dGhpcy5GUkFHX1NIQURFUl9URU1QTEFURSkucmVwbGFjZSgvXFx7XFx7Ymx1clhcXH1cXH0vZyx0aGlzLl9ibHVyWFRhYmxlLmxlbmd0aC50b0ZpeGVkKDApKSkucmVwbGFjZSgvXFx7XFx7Ymx1cllcXH1cXH0vZyx0aGlzLl9ibHVyWVRhYmxlLmxlbmd0aC50b0ZpeGVkKDApKSx0aGlzLkZSQUdfU0hBREVSX0JPRFk9dCl9LHQuc2hhZGVyUGFyYW1TZXR1cD1mdW5jdGlvbih0LGUsaSl7dC51bmlmb3JtMWZ2KHQuZ2V0VW5pZm9ybUxvY2F0aW9uKGksXCJ4V2VpZ2h0XCIpLHRoaXMuX2JsdXJYVGFibGUpLHQudW5pZm9ybTFmdih0LmdldFVuaWZvcm1Mb2NhdGlvbihpLFwieVdlaWdodFwiKSx0aGlzLl9ibHVyWVRhYmxlKSx0LnVuaWZvcm0yZih0LmdldFVuaWZvcm1Mb2NhdGlvbihpLFwidGV4dHVyZU9mZnNldFwiKSwyLyhlLl92aWV3cG9ydFdpZHRoKnRoaXMuX3F1YWxpdHkpLDIvKGUuX3ZpZXdwb3J0SGVpZ2h0KnRoaXMuX3F1YWxpdHkpKX0sQi5NVUxfVEFCTEU9WzEsMTcxLDIwNSwyOTMsNTcsMzczLDc5LDEzNywyNDEsMjcsMzkxLDM1Nyw0MSwxOSwyODMsMjY1LDQ5Nyw0NjksNDQzLDQyMSwyNSwxOTEsMzY1LDM0OSwzMzUsMTYxLDE1NSwxNDksOSwyNzgsMjY5LDI2MSw1MDUsMjQ1LDQ3NSwyMzEsNDQ5LDQzNywyMTMsNDE1LDQwNSwzOTUsMTkzLDM3NywzNjksMzYxLDM1MywzNDUsMTY5LDMzMSwzMjUsMzE5LDMxMywzMDcsMzAxLDM3LDE0NSwyODUsMjgxLDY5LDI3MSwyNjcsMjYzLDI1OSw1MDksNTAxLDQ5MywyNDMsNDc5LDExOCw0NjUsNDU5LDExMyw0NDYsNTUsNDM1LDQyOSw0MjMsMjA5LDQxMyw1MSw0MDMsMTk5LDM5Myw5NywzLDM3OSwzNzUsMzcxLDM2NywzNjMsMzU5LDM1NSwzNTEsMzQ3LDQzLDg1LDMzNywzMzMsMTY1LDMyNywzMjMsNSwzMTcsMTU3LDMxMSw3NywzMDUsMzAzLDc1LDI5NywyOTQsNzMsMjg5LDI4Nyw3MSwxNDEsMjc5LDI3NywyNzUsNjgsMTM1LDY3LDEzMywzMywyNjIsMjYwLDEyOSw1MTEsNTA3LDUwMyw0OTksNDk1LDQ5MSw2MSwxMjEsNDgxLDQ3NywyMzcsMjM1LDQ2NywyMzIsMTE1LDQ1NywyMjcsNDUxLDcsNDQ1LDIyMSw0MzksMjE4LDQzMywyMTUsNDI3LDQyNSwyMTEsNDE5LDQxNywyMDcsNDExLDQwOSwyMDMsMjAyLDQwMSwzOTksMzk2LDE5Nyw0OSwzODksMzg3LDM4NSwzODMsOTUsMTg5LDQ3LDE4Nyw5MywxODUsMjMsMTgzLDkxLDE4MSw0NSwxNzksODksMTc3LDExLDE3NSw4NywxNzMsMzQ1LDM0MywzNDEsMzM5LDMzNywyMSwxNjcsODMsMzMxLDMyOSwzMjcsMTYzLDgxLDMyMywzMjEsMzE5LDE1OSw3OSwzMTUsMzEzLDM5LDE1NSwzMDksMzA3LDE1MywzMDUsMzAzLDE1MSw3NSwyOTksMTQ5LDM3LDI5NSwxNDcsNzMsMjkxLDE0NSwyODksMjg3LDE0MywyODUsNzEsMTQxLDI4MSwzNSwyNzksMTM5LDY5LDI3NSwxMzcsMjczLDE3LDI3MSwxMzUsMjY5LDI2NywxMzMsMjY1LDMzLDI2MywxMzEsMjYxLDEzMCwyNTksMTI5LDI1NywxXSxCLlNIR19UQUJMRT1bMCw5LDEwLDExLDksMTIsMTAsMTEsMTIsOSwxMywxMywxMCw5LDEzLDEzLDE0LDE0LDE0LDE0LDEwLDEzLDE0LDE0LDE0LDEzLDEzLDEzLDksMTQsMTQsMTQsMTUsMTQsMTUsMTQsMTUsMTUsMTQsMTUsMTUsMTUsMTQsMTUsMTUsMTUsMTUsMTUsMTQsMTUsMTUsMTUsMTUsMTUsMTUsMTIsMTQsMTUsMTUsMTMsMTUsMTUsMTUsMTUsMTYsMTYsMTYsMTUsMTYsMTQsMTYsMTYsMTQsMTYsMTMsMTYsMTYsMTYsMTUsMTYsMTMsMTYsMTUsMTYsMTQsOSwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxMywxNCwxNiwxNiwxNSwxNiwxNiwxMCwxNiwxNSwxNiwxNCwxNiwxNiwxNCwxNiwxNiwxNCwxNiwxNiwxNCwxNSwxNiwxNiwxNiwxNCwxNSwxNCwxNSwxMywxNiwxNiwxNSwxNywxNywxNywxNywxNywxNywxNCwxNSwxNywxNywxNiwxNiwxNywxNiwxNSwxNywxNiwxNywxMSwxNywxNiwxNywxNiwxNywxNiwxNywxNywxNiwxNywxNywxNiwxNywxNywxNiwxNiwxNywxNywxNywxNiwxNCwxNywxNywxNywxNywxNSwxNiwxNCwxNiwxNSwxNiwxMywxNiwxNSwxNiwxNCwxNiwxNSwxNiwxMiwxNiwxNSwxNiwxNywxNywxNywxNywxNywxMywxNiwxNSwxNywxNywxNywxNiwxNSwxNywxNywxNywxNiwxNSwxNywxNywxNCwxNiwxNywxNywxNiwxNywxNywxNiwxNSwxNywxNiwxNCwxNywxNiwxNSwxNywxNiwxNywxNywxNiwxNywxNSwxNiwxNywxNCwxNywxNiwxNSwxNywxNiwxNywxMywxNywxNiwxNywxNywxNiwxNywxNCwxNywxNiwxNywxNiwxNywxNiwxNyw5XSx0LmdldEJvdW5kcz1mdW5jdGlvbih0KXt2YXIgZT0wfHRoaXMuYmx1clgsaT0wfHRoaXMuYmx1clk7aWYoZTw9MCYmaTw9MClyZXR1cm4gdDt2YXIgcz1NYXRoLnBvdyh0aGlzLnF1YWxpdHksLjIpO3JldHVybih0fHxuZXcgY3JlYXRlanMuUmVjdGFuZ2xlKS5wYWQoaSpzKzEsZSpzKzEsaSpzKzEsZSpzKzEpfSx0LmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBCKHRoaXMuYmx1clgsdGhpcy5ibHVyWSx0aGlzLnF1YWxpdHkpfSx0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbQmx1ckZpbHRlcl1cIn0sdC5fYXBwbHlGaWx0ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYmx1clg+PjE7aWYoaXNOYU4oZSl8fGU8MClyZXR1cm4hMTt2YXIgaT10aGlzLl9ibHVyWT4+MTtpZihpc05hTihpKXx8aTwwKXJldHVybiExO2lmKDA9PWUmJjA9PWkpcmV0dXJuITE7dmFyIHM9dGhpcy5xdWFsaXR5Oyhpc05hTihzKXx8czwxKSYmKHM9MSksMzwoc3w9MCkmJihzPTMpLHM8MSYmKHM9MSk7Zm9yKHZhciByPXQuZGF0YSxuPTAsYT0wLG89MCxoPTAsYz0wLHU9MCxsPTAsZD0wLF89MCxwPTAsZj0wLGc9MCxtPTAsdj0wLFQ9MCxiPWUrZSsxfDAsRT1pK2krMXwwLHk9MHx0LndpZHRoLFM9MHx0LmhlaWdodCx4PXktMXwwLHc9Uy0xfDAsUj0xK2V8MCxBPTEraXwwLFA9e3I6MCxiOjAsZzowLGE6MH0sTD1QLG89MTtvPGI7bysrKUw9TC5uPXtyOjAsYjowLGc6MCxhOjB9O0wubj1QO3ZhciBqPXtyOjAsYjowLGc6MCxhOjB9LEM9ajtmb3Iobz0xO288RTtvKyspQz1DLm49e3I6MCxiOjAsZzowLGE6MH07Qy5uPWo7Zm9yKHZhciBJPW51bGwsRD0wfEIuTVVMX1RBQkxFW2VdLE09MHxCLlNIR19UQUJMRVtlXSxPPTB8Qi5NVUxfVEFCTEVbaV0sRj0wfEIuU0hHX1RBQkxFW2ldOzA8cy0tOyl7bD11PTA7Zm9yKHZhciBOPUQsaz1NLGE9UzstMTwtLWE7KXtmb3IoZD1SKihnPXJbMHx1XSksXz1SKihtPXJbdSsxfDBdKSxwPVIqKHY9clt1KzJ8MF0pLGY9UiooVD1yW3UrM3wwXSksTD1QLG89UjstMTwtLW87KUwucj1nLEwuZz1tLEwuYj12LEwuYT1ULEw9TC5uO2ZvcihvPTE7bzxSO28rKyloPXUrKCh4PG8/eDpvKTw8Mil8MCxkKz1MLnI9cltoXSxfKz1MLmc9cltoKzFdLHArPUwuYj1yW2grMl0sZis9TC5hPXJbaCszXSxMPUwubjtmb3IoST1QLG49MDtuPHk7bisrKXJbdSsrXT1kKk4+Pj5rLHJbdSsrXT1fKk4+Pj5rLHJbdSsrXT1wKk4+Pj5rLHJbdSsrXT1mKk4+Pj5rLGg9bCsoKGg9bitlKzEpPHg/aDp4KTw8MixkLT1JLnItKEkucj1yW2hdKSxfLT1JLmctKEkuZz1yW2grMV0pLHAtPUkuYi0oSS5iPXJbaCsyXSksZi09SS5hLShJLmE9cltoKzNdKSxJPUkubjtsKz15fWZvcihOPU8saz1GLG49MDtuPHk7bisrKXtmb3IoZD1BKihnPXJbdT1uPDwyfDBdKXwwLF89QSoobT1yW3UrMXwwXSl8MCxwPUEqKHY9clt1KzJ8MF0pfDAsZj1BKihUPXJbdSszfDBdKXwwLEM9aixvPTA7bzxBO28rKylDLnI9ZyxDLmc9bSxDLmI9dixDLmE9VCxDPUMubjtmb3IoYz15LG89MTtvPD1pO28rKyl1PWMrbjw8MixkKz1DLnI9clt1XSxfKz1DLmc9clt1KzFdLHArPUMuYj1yW3UrMl0sZis9Qy5hPXJbdSszXSxDPUMubixvPHcmJihjKz15KTtpZih1PW4sST1qLDA8cylmb3IoYT0wO2E8UzthKyspclsoaD11PDwyKSszXT1UPWYqTj4+PmssMDxUPyhyW2hdPWQqTj4+PmsscltoKzFdPV8qTj4+PmsscltoKzJdPXAqTj4+PmspOnJbaF09cltoKzFdPXJbaCsyXT0wLGg9bisoKGg9YStBKTx3P2g6dykqeTw8MixkLT1JLnItKEkucj1yW2hdKSxfLT1JLmctKEkuZz1yW2grMV0pLHAtPUkuYi0oSS5iPXJbaCsyXSksZi09SS5hLShJLmE9cltoKzNdKSxJPUkubix1Kz15O2Vsc2UgZm9yKGE9MDthPFM7YSsrKXJbKGg9dTw8MikrM109VD1mKk4+Pj5rLDA8VD8oVD0yNTUvVCxyW2hdPShkKk4+Pj5rKSpULHJbaCsxXT0oXypOPj4+aykqVCxyW2grMl09KHAqTj4+PmspKlQpOnJbaF09cltoKzFdPXJbaCsyXT0wLGg9bisoKGg9YStBKTx3P2g6dykqeTw8MixkLT1JLnItKEkucj1yW2hdKSxfLT1JLmctKEkuZz1yW2grMV0pLHAtPUkuYi0oSS5iPXJbaCsyXSksZi09SS5hLShJLmE9cltoKzNdKSxJPUkubix1Kz15fX1yZXR1cm4hMH0sY3JlYXRlanMuQmx1ckZpbHRlcj1jcmVhdGVqcy5wcm9tb3RlKEIsXCJGaWx0ZXJcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKHQpe3RoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCksdGhpcy5hbHBoYU1hcD10LHRoaXMuX2FscGhhTWFwPW51bGwsdGhpcy5fbWFwRGF0YT1udWxsLHRoaXMuX21hcFRleHR1cmU9bnVsbCx0aGlzLkZSQUdfU0hBREVSX0JPRFk9XCJ1bmlmb3JtIHNhbXBsZXIyRCB1QWxwaGFTYW1wbGVyO3ZvaWQgbWFpbih2b2lkKSB7dmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlJlbmRlckNvb3JkKTt2ZWM0IGFscGhhTWFwID0gdGV4dHVyZTJEKHVBbHBoYVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO2dsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogKGFscGhhTWFwLnIgKiBjZWlsKGFscGhhTWFwLmEpKSk7fVwifXZhciB0PWNyZWF0ZWpzLmV4dGVuZChlLGNyZWF0ZWpzLkZpbHRlcik7dC5zaGFkZXJQYXJhbVNldHVwPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9tYXBUZXh0dXJlfHwodGhpcy5fbWFwVGV4dHVyZT10LmNyZWF0ZVRleHR1cmUoKSksdC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTEpLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHRoaXMuX21hcFRleHR1cmUpLGUuc2V0VGV4dHVyZVBhcmFtcyh0KSx0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsdGhpcy5hbHBoYU1hcCksdC51bmlmb3JtMWkodC5nZXRVbmlmb3JtTG9jYXRpb24oaSxcInVBbHBoYVNhbXBsZXJcIiksMSl9LHQuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZSh0aGlzLmFscGhhTWFwKTtyZXR1cm4gdC5fYWxwaGFNYXA9dGhpcy5fYWxwaGFNYXAsdC5fbWFwRGF0YT10aGlzLl9tYXBEYXRhLHR9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltBbHBoYU1hcEZpbHRlcl1cIn0sdC5fYXBwbHlGaWx0ZXI9ZnVuY3Rpb24odCl7aWYoIXRoaXMuYWxwaGFNYXApcmV0dXJuITA7aWYoIXRoaXMuX3ByZXBBbHBoYU1hcCgpKXJldHVybiExO2Zvcih2YXIgZT10LmRhdGEsaT10aGlzLl9tYXBEYXRhLHM9MCxyPWUubGVuZ3RoO3M8cjtzKz00KWVbcyszXT1pW3NdfHwwO3JldHVybiEwfSx0Ll9wcmVwQWxwaGFNYXA9ZnVuY3Rpb24oKXtpZighdGhpcy5hbHBoYU1hcClyZXR1cm4hMTtpZih0aGlzLmFscGhhTWFwPT10aGlzLl9hbHBoYU1hcCYmdGhpcy5fbWFwRGF0YSlyZXR1cm4hMDt0aGlzLl9tYXBEYXRhPW51bGw7dmFyIHQsZT10aGlzLl9hbHBoYU1hcD10aGlzLmFscGhhTWFwLGk9ZTtlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ/dD1pLmdldENvbnRleHQoXCIyZFwiKTooKGk9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpLndpZHRoPWUud2lkdGgsaS5oZWlnaHQ9ZS5oZWlnaHQsKHQ9aS5nZXRDb250ZXh0KFwiMmRcIikpLmRyYXdJbWFnZShlLDAsMCkpO3RyeXt2YXIgcz10LmdldEltYWdlRGF0YSgwLDAsZS53aWR0aCxlLmhlaWdodCl9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuIHRoaXMuX21hcERhdGE9cy5kYXRhLCEwfSxjcmVhdGVqcy5BbHBoYU1hcEZpbHRlcj1jcmVhdGVqcy5wcm9tb3RlKGUsXCJGaWx0ZXJcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3RoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCksdGhpcy5tYXNrPXQsdGhpcy51c2VzQ29udGV4dD0hMCx0aGlzLkZSQUdfU0hBREVSX0JPRFk9XCJ1bmlmb3JtIHNhbXBsZXIyRCB1QWxwaGFTYW1wbGVyO3ZvaWQgbWFpbih2b2lkKSB7dmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlJlbmRlckNvb3JkKTt2ZWM0IGFscGhhTWFwID0gdGV4dHVyZTJEKHVBbHBoYVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO2dsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogYWxwaGFNYXAuYSk7fVwifXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkZpbHRlcik7ZS5zaGFkZXJQYXJhbVNldHVwPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9tYXBUZXh0dXJlfHwodGhpcy5fbWFwVGV4dHVyZT10LmNyZWF0ZVRleHR1cmUoKSksdC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTEpLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHRoaXMuX21hcFRleHR1cmUpLGUuc2V0VGV4dHVyZVBhcmFtcyh0KSx0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsdGhpcy5tYXNrKSx0LnVuaWZvcm0xaSh0LmdldFVuaWZvcm1Mb2NhdGlvbihpLFwidUFscGhhU2FtcGxlclwiKSwxKX0sZS5hcHBseUZpbHRlcj1mdW5jdGlvbih0LGUsaSxzLHIsbixhLG8pe3JldHVybiF0aGlzLm1hc2t8fChudWxsPT1hJiYoYT1lKSxudWxsPT1vJiYobz1pKSwobj1ufHx0KS5zYXZlKCksdD09biYmKG4uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiZGVzdGluYXRpb24taW5cIixuLmRyYXdJbWFnZSh0aGlzLm1hc2ssYSxvKSxuLnJlc3RvcmUoKSwhMCkpfSxlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMubWFzayl9LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltBbHBoYU1hc2tGaWx0ZXJdXCJ9LGNyZWF0ZWpzLkFscGhhTWFza0ZpbHRlcj1jcmVhdGVqcy5wcm9tb3RlKHQsXCJGaWx0ZXJcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSxpLHMscixuLGEsbyl7dGhpcy5GaWx0ZXJfY29uc3RydWN0b3IoKSx0aGlzLnJlZE11bHRpcGxpZXI9bnVsbCE9dD90OjEsdGhpcy5ncmVlbk11bHRpcGxpZXI9bnVsbCE9ZT9lOjEsdGhpcy5ibHVlTXVsdGlwbGllcj1udWxsIT1pP2k6MSx0aGlzLmFscGhhTXVsdGlwbGllcj1udWxsIT1zP3M6MSx0aGlzLnJlZE9mZnNldD1yfHwwLHRoaXMuZ3JlZW5PZmZzZXQ9bnx8MCx0aGlzLmJsdWVPZmZzZXQ9YXx8MCx0aGlzLmFscGhhT2Zmc2V0PW98fDAsdGhpcy5GUkFHX1NIQURFUl9CT0RZPVwidW5pZm9ybSB2ZWM0IHVDb2xvck11bHRpcGxpZXI7dW5pZm9ybSB2ZWM0IHVDb2xvck9mZnNldDt2b2lkIG1haW4odm9pZCkge3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZSZW5kZXJDb29yZCk7Z2xfRnJhZ0NvbG9yID0gKGNvbG9yICogdUNvbG9yTXVsdGlwbGllcikgKyB1Q29sb3JPZmZzZXQ7fVwifXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkZpbHRlcik7ZS5zaGFkZXJQYXJhbVNldHVwPWZ1bmN0aW9uKHQsZSxpKXt0LnVuaWZvcm00Zih0LmdldFVuaWZvcm1Mb2NhdGlvbihpLFwidUNvbG9yTXVsdGlwbGllclwiKSx0aGlzLnJlZE11bHRpcGxpZXIsdGhpcy5ncmVlbk11bHRpcGxpZXIsdGhpcy5ibHVlTXVsdGlwbGllcix0aGlzLmFscGhhTXVsdGlwbGllciksdC51bmlmb3JtNGYodC5nZXRVbmlmb3JtTG9jYXRpb24oaSxcInVDb2xvck9mZnNldFwiKSx0aGlzLnJlZE9mZnNldC8yNTUsdGhpcy5ncmVlbk9mZnNldC8yNTUsdGhpcy5ibHVlT2Zmc2V0LzI1NSx0aGlzLmFscGhhT2Zmc2V0LzI1NSl9LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltDb2xvckZpbHRlcl1cIn0sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnJlZE11bHRpcGxpZXIsdGhpcy5ncmVlbk11bHRpcGxpZXIsdGhpcy5ibHVlTXVsdGlwbGllcix0aGlzLmFscGhhTXVsdGlwbGllcix0aGlzLnJlZE9mZnNldCx0aGlzLmdyZWVuT2Zmc2V0LHRoaXMuYmx1ZU9mZnNldCx0aGlzLmFscGhhT2Zmc2V0KX0sZS5fYXBwbHlGaWx0ZXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuZGF0YSxpPWUubGVuZ3RoLHM9MDtzPGk7cys9NCllW3NdPWVbc10qdGhpcy5yZWRNdWx0aXBsaWVyK3RoaXMucmVkT2Zmc2V0LGVbcysxXT1lW3MrMV0qdGhpcy5ncmVlbk11bHRpcGxpZXIrdGhpcy5ncmVlbk9mZnNldCxlW3MrMl09ZVtzKzJdKnRoaXMuYmx1ZU11bHRpcGxpZXIrdGhpcy5ibHVlT2Zmc2V0LGVbcyszXT1lW3MrM10qdGhpcy5hbHBoYU11bHRpcGxpZXIrdGhpcy5hbHBoYU9mZnNldDtyZXR1cm4hMH0sY3JlYXRlanMuQ29sb3JGaWx0ZXI9Y3JlYXRlanMucHJvbW90ZSh0LFwiRmlsdGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyh0LGUsaSxzKXt0aGlzLnNldENvbG9yKHQsZSxpLHMpfXZhciB0PXMucHJvdG90eXBlO3MuREVMVEFfSU5ERVg9WzAsLjAxLC4wMiwuMDQsLjA1LC4wNiwuMDcsLjA4LC4xLC4xMSwuMTIsLjE0LC4xNSwuMTYsLjE3LC4xOCwuMiwuMjEsLjIyLC4yNCwuMjUsLjI3LC4yOCwuMywuMzIsLjM0LC4zNiwuMzgsLjQsLjQyLC40NCwuNDYsLjQ4LC41LC41MywuNTYsLjU5LC42MiwuNjUsLjY4LC43MSwuNzQsLjc3LC44LC44MywuODYsLjg5LC45MiwuOTUsLjk4LDEsMS4wNiwxLjEyLDEuMTgsMS4yNCwxLjMsMS4zNiwxLjQyLDEuNDgsMS41NCwxLjYsMS42NiwxLjcyLDEuNzgsMS44NCwxLjksMS45NiwyLDIuMTIsMi4yNSwyLjM3LDIuNSwyLjYyLDIuNzUsMi44NywzLDMuMiwzLjQsMy42LDMuOCw0LDQuMyw0LjcsNC45LDUsNS41LDYsNi41LDYuOCw3LDcuMyw3LjUsNy44LDgsOC40LDguNyw5LDkuNCw5LjYsOS44LDEwXSxzLkxFTkdUSD0ocy5JREVOVElUWV9NQVRSSVg9WzEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDFdKS5sZW5ndGgsdC5zZXRDb2xvcj1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy5yZXNldCgpLmFkanVzdENvbG9yKHQsZSxpLHMpfSx0LnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29weShzLklERU5USVRZX01BVFJJWCl9LHQuYWRqdXN0Q29sb3I9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuYWRqdXN0SHVlKHMpLHRoaXMuYWRqdXN0Q29udHJhc3QoZSksdGhpcy5hZGp1c3RCcmlnaHRuZXNzKHQpLHRoaXMuYWRqdXN0U2F0dXJhdGlvbihpKX0sdC5hZGp1c3RCcmlnaHRuZXNzPWZ1bmN0aW9uKHQpe3JldHVybiAwPT10fHxpc05hTih0KXx8KHQ9dGhpcy5fY2xlYW5WYWx1ZSh0LDI1NSksdGhpcy5fbXVsdGlwbHlNYXRyaXgoWzEsMCwwLDAsdCwwLDEsMCwwLHQsMCwwLDEsMCx0LDAsMCwwLDEsMCwwLDAsMCwwLDFdKSksdGhpc30sdC5hZGp1c3RDb250cmFzdD1mdW5jdGlvbih0KXtyZXR1cm4gMD09dHx8aXNOYU4odCl8fChlPSh0PXRoaXMuX2NsZWFuVmFsdWUodCwxMDApKTwwPzEyNyt0LzEwMCoxMjc6MTI3KihlPTA9PShlPXQlMSk/cy5ERUxUQV9JTkRFWFt0XTpzLkRFTFRBX0lOREVYW3Q8PDBdKigxLWUpK3MuREVMVEFfSU5ERVhbMSsodDw8MCldKmUpKzEyNyx0aGlzLl9tdWx0aXBseU1hdHJpeChbZS8xMjcsMCwwLDAsLjUqKDEyNy1lKSwwLGUvMTI3LDAsMCwuNSooMTI3LWUpLDAsMCxlLzEyNywwLC41KigxMjctZSksMCwwLDAsMSwwLDAsMCwwLDAsMV0pKSx0aGlzO3ZhciBlfSx0LmFkanVzdFNhdHVyYXRpb249ZnVuY3Rpb24odCl7aWYoMD09dHx8aXNOYU4odCkpcmV0dXJuIHRoaXM7dmFyIGU9MSsoMDwodD10aGlzLl9jbGVhblZhbHVlKHQsMTAwKSk/Myp0LzEwMDp0LzEwMCk7cmV0dXJuIHRoaXMuX211bHRpcGx5TWF0cml4KFsuMzA4NiooMS1lKStlLC42MDk0KigxLWUpLC4wODIqKDEtZSksMCwwLC4zMDg2KigxLWUpLC42MDk0KigxLWUpK2UsLjA4MiooMS1lKSwwLDAsLjMwODYqKDEtZSksLjYwOTQqKDEtZSksLjA4MiooMS1lKStlLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwxXSksdGhpc30sdC5hZGp1c3RIdWU9ZnVuY3Rpb24odCl7aWYoMD09dHx8aXNOYU4odCkpcmV0dXJuIHRoaXM7dD10aGlzLl9jbGVhblZhbHVlKHQsMTgwKS8xODAqTWF0aC5QSTt2YXIgZT1NYXRoLmNvcyh0KSxpPU1hdGguc2luKHQpLHM9LjIxMyxyPS43MTUsbj0uMDcyO3JldHVybiB0aGlzLl9tdWx0aXBseU1hdHJpeChbcysuNzg3KmUraSotcyxyK2UqLXIraSotcixuK2UqLW4rLjkyOCppLDAsMCxzK2UqLXMrLjE0MyppLHIrZSooMS1yKSsuMTQqaSxuK2UqLW4rLS4yODMqaSwwLDAscytlKi1zKy0uNzg3KmkscitlKi1yK2kqcixuKy45MjgqZStpKm4sMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzfSx0LmNvbmNhdD1mdW5jdGlvbih0KXtyZXR1cm4odD10aGlzLl9maXhNYXRyaXgodCkpLmxlbmd0aCE9cy5MRU5HVEh8fHRoaXMuX211bHRpcGx5TWF0cml4KHQpLHRoaXN9LHQuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHMpLmNvcHkodGhpcyl9LHQudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsaT1zLkxFTkdUSDtlPGk7ZSsrKXRbZV09dGhpc1tlXTtyZXR1cm4gdH0sdC5jb3B5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1zLkxFTkdUSCxpPTA7aTxlO2krKyl0aGlzW2ldPXRbaV07cmV0dXJuIHRoaXN9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltDb2xvck1hdHJpeF1cIn0sdC5fbXVsdGlwbHlNYXRyaXg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9W10scz0wO3M8NTtzKyspe2ZvcihlPTA7ZTw1O2UrKylpW2VdPXRoaXNbZSs1KnNdO2ZvcihlPTA7ZTw1O2UrKyl7Zm9yKHZhciByPTAsbj0wO248NTtuKyspcis9dFtlKzUqbl0qaVtuXTt0aGlzW2UrNSpzXT1yfX19LHQuX2NsZWFuVmFsdWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4oZSxNYXRoLm1heCgtZSx0KSl9LHQuX2ZpeE1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHMmJih0PXQudG9BcnJheSgpKSx0Lmxlbmd0aDxzLkxFTkdUSD90PXQuc2xpY2UoMCx0Lmxlbmd0aCkuY29uY2F0KHMuSURFTlRJVFlfTUFUUklYLnNsaWNlKHQubGVuZ3RoLHMuTEVOR1RIKSk6dC5sZW5ndGg+cy5MRU5HVEgmJih0PXQuc2xpY2UoMCxzLkxFTkdUSCkpLHR9LGNyZWF0ZWpzLkNvbG9yTWF0cml4PXN9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3RoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCksdGhpcy5tYXRyaXg9dCx0aGlzLkZSQUdfU0hBREVSX0JPRFk9XCJ1bmlmb3JtIG1hdDQgdUNvbG9yTWF0cml4O3VuaWZvcm0gdmVjNCB1Q29sb3JNYXRyaXhPZmZzZXQ7dm9pZCBtYWluKHZvaWQpIHt2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2UmVuZGVyQ29vcmQpO21hdDQgbSA9IHVDb2xvck1hdHJpeDt2ZWM0IG5ld0NvbG9yID0gdmVjNCgwLDAsMCwwKTtuZXdDb2xvci5yID0gY29sb3IuciptWzBdWzBdICsgY29sb3IuZyptWzBdWzFdICsgY29sb3IuYiptWzBdWzJdICsgY29sb3IuYSptWzBdWzNdO25ld0NvbG9yLmcgPSBjb2xvci5yKm1bMV1bMF0gKyBjb2xvci5nKm1bMV1bMV0gKyBjb2xvci5iKm1bMV1bMl0gKyBjb2xvci5hKm1bMV1bM107bmV3Q29sb3IuYiA9IGNvbG9yLnIqbVsyXVswXSArIGNvbG9yLmcqbVsyXVsxXSArIGNvbG9yLmIqbVsyXVsyXSArIGNvbG9yLmEqbVsyXVszXTtuZXdDb2xvci5hID0gY29sb3IuciptWzNdWzBdICsgY29sb3IuZyptWzNdWzFdICsgY29sb3IuYiptWzNdWzJdICsgY29sb3IuYSptWzNdWzNdO2dsX0ZyYWdDb2xvciA9IG5ld0NvbG9yICsgdUNvbG9yTWF0cml4T2Zmc2V0O31cIn12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5GaWx0ZXIpO2Uuc2hhZGVyUGFyYW1TZXR1cD1mdW5jdGlvbih0LGUsaSl7dmFyIHM9dGhpcy5tYXRyaXgscj1uZXcgRmxvYXQzMkFycmF5KFtzWzBdLHNbMV0sc1syXSxzWzNdLHNbNV0sc1s2XSxzWzddLHNbOF0sc1sxMF0sc1sxMV0sc1sxMl0sc1sxM10sc1sxNV0sc1sxNl0sc1sxN10sc1sxOF1dKTt0LnVuaWZvcm1NYXRyaXg0ZnYodC5nZXRVbmlmb3JtTG9jYXRpb24oaSxcInVDb2xvck1hdHJpeFwiKSwhMSxyKSx0LnVuaWZvcm00Zih0LmdldFVuaWZvcm1Mb2NhdGlvbihpLFwidUNvbG9yTWF0cml4T2Zmc2V0XCIpLHNbNF0vMjU1LHNbOV0vMjU1LHNbMTRdLzI1NSxzWzE5XS8yNTUpfSxlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbQ29sb3JNYXRyaXhGaWx0ZXJdXCJ9LGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5tYXRyaXgpfSxlLl9hcHBseUZpbHRlcj1mdW5jdGlvbih0KXtmb3IodmFyIGUsaSxzLHIsbj10LmRhdGEsYT1uLmxlbmd0aCxvPXRoaXMubWF0cml4LGg9b1swXSxjPW9bMV0sdT1vWzJdLGw9b1szXSxkPW9bNF0sXz1vWzVdLHA9b1s2XSxmPW9bN10sZz1vWzhdLG09b1s5XSx2PW9bMTBdLFQ9b1sxMV0sYj1vWzEyXSxFPW9bMTNdLHk9b1sxNF0sUz1vWzE1XSx4PW9bMTZdLHc9b1sxN10sUj1vWzE4XSxBPW9bMTldLFA9MDtQPGE7UCs9NCllPW5bUF0saT1uW1ArMV0scz1uW1ArMl0scj1uW1ArM10sbltQXT1lKmgraSpjK3MqdStyKmwrZCxuW1ArMV09ZSpfK2kqcCtzKmYrcipnK20sbltQKzJdPWUqditpKlQrcypiK3IqRSt5LG5bUCszXT1lKlMraSp4K3MqdytyKlIrQTtyZXR1cm4hMH0sY3JlYXRlanMuQ29sb3JNYXRyaXhGaWx0ZXI9Y3JlYXRlanMucHJvbW90ZSh0LFwiRmlsdGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcygpe3Rocm93XCJUb3VjaCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkXCJ9cy5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhKFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3d8fHdpbmRvdy5NU1BvaW50ZXJFdmVudCYmMDx3aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHN8fHdpbmRvdy5Qb2ludGVyRXZlbnQmJjA8d2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyl9LHMuZW5hYmxlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4hISh0JiZ0LmNhbnZhcyYmcy5pc1N1cHBvcnRlZCgpKSYmKHQuX190b3VjaHx8KHQuX190b3VjaD17cG9pbnRlcnM6e30sbXVsdGl0b3VjaDohZSxwcmV2ZW50RGVmYXVsdDohaSxjb3VudDowfSxcIm9udG91Y2hzdGFydFwiaW4gd2luZG93P3MuX0lPU19lbmFibGUodCk6KHdpbmRvdy5Qb2ludGVyRXZlbnR8fHdpbmRvdy5NU1BvaW50ZXJFdmVudCkmJnMuX0lFX2VuYWJsZSh0KSksITApfSxzLmRpc2FibGU9ZnVuY3Rpb24odCl7dCYmKFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3c/cy5fSU9TX2Rpc2FibGUodCk6KHdpbmRvdy5Qb2ludGVyRXZlbnR8fHdpbmRvdy5NU1BvaW50ZXJFdmVudCkmJnMuX0lFX2Rpc2FibGUodCksZGVsZXRlIHQuX190b3VjaCl9LHMuX0lPU19lbmFibGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jYW52YXMsaT1lLl9fdG91Y2guZj1mdW5jdGlvbih0KXtzLl9JT1NfaGFuZGxlRXZlbnQoZSx0KX07dC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGksITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLGksITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsaSwhMSksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIixpLCExKX0scy5fSU9TX2Rpc2FibGU9ZnVuY3Rpb24odCl7dmFyIGUsaT10LmNhbnZhcztpJiYoZT10Ll9fdG91Y2guZixpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMSksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsZSwhMSksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixlLCExKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLGUsITEpKX0scy5fSU9TX2hhbmRsZUV2ZW50PWZ1bmN0aW9uKHQsZSl7aWYodCl7dC5fX3RvdWNoLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCk7Zm9yKHZhciBpPWUuY2hhbmdlZFRvdWNoZXMscz1lLnR5cGUscj0wLG49aS5sZW5ndGg7cjxuO3IrKyl7dmFyIGE9aVtyXSxvPWEuaWRlbnRpZmllcjthLnRhcmdldD09dC5jYW52YXMmJihcInRvdWNoc3RhcnRcIj09PXM/dGhpcy5faGFuZGxlU3RhcnQodCxvLGUsYS5wYWdlWCxhLnBhZ2VZKTpcInRvdWNobW92ZVwiPT09cz90aGlzLl9oYW5kbGVNb3ZlKHQsbyxlLGEucGFnZVgsYS5wYWdlWSk6XCJ0b3VjaGVuZFwiIT09cyYmXCJ0b3VjaGNhbmNlbFwiIT09c3x8dGhpcy5faGFuZGxlRW5kKHQsbyxlKSl9fX0scy5fSUVfZW5hYmxlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2FudmFzLGk9ZS5fX3RvdWNoLmY9ZnVuY3Rpb24odCl7cy5fSUVfaGFuZGxlRXZlbnQoZSx0KX07dC5zdHlsZVtcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvclwiXT1cInRyYW5zcGFyZW50XCIsdm9pZCAwPT09d2luZG93LlBvaW50ZXJFdmVudD8odC5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLGksITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyTW92ZVwiLGksITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIixpLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlckNhbmNlbFwiLGksITEpLGUuX190b3VjaC5wcmV2ZW50RGVmYXVsdCYmKHQuc3R5bGUubXNUb3VjaEFjdGlvbj1cIm5vbmVcIikpOih0LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLGksITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIixpLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLGksITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLGksITEpLGUuX190b3VjaC5wcmV2ZW50RGVmYXVsdCYmKHQuc3R5bGUudG91Y2hBY3Rpb249XCJub25lXCIpKSxlLl9fdG91Y2guYWN0aXZlSURzPXt9fSxzLl9JRV9kaXNhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX190b3VjaC5mO3ZvaWQgMD09PXdpbmRvdy5Qb2ludGVyRXZlbnQ/KHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyTW92ZVwiLGUsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIixlLCExKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlckNhbmNlbFwiLGUsITEpLHQuY2FudmFzJiZ0LmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLGUsITEpKTood2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLGUsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsZSwhMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyY2FuY2VsXCIsZSwhMSksdC5jYW52YXMmJnQuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLGUsITEpKX0scy5fSUVfaGFuZGxlRXZlbnQ9ZnVuY3Rpb24odCxlKXtpZih0KXt0Ll9fdG91Y2gucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKTt2YXIgaT1lLnR5cGUscz1lLnBvaW50ZXJJZCxyPXQuX190b3VjaC5hY3RpdmVJRHM7aWYoXCJNU1BvaW50ZXJEb3duXCI9PT1pfHxcInBvaW50ZXJkb3duXCI9PT1pKXtpZihlLnNyY0VsZW1lbnQhPXQuY2FudmFzKXJldHVybjtzd2l0Y2gocltzXT0hMCx0aGlzLl9oYW5kbGVTdGFydCh0LHMsZSxlLnBhZ2VYLGUucGFnZVkpLGUucG9pbnRlclR5cGUpe2Nhc2VcIm1vdXNlXCI6dC5lbmFibGVET01FdmVudHMoITApO2JyZWFrO2Nhc2VcInRvdWNoXCI6dC5lbmFibGVET01FdmVudHMoITEpfX1lbHNlIHJbc10mJihcIk1TUG9pbnRlck1vdmVcIj09PWl8fFwicG9pbnRlcm1vdmVcIj09PWk/dGhpcy5faGFuZGxlTW92ZSh0LHMsZSxlLnBhZ2VYLGUucGFnZVkpOlwiTVNQb2ludGVyVXBcIiE9PWkmJlwiTVNQb2ludGVyQ2FuY2VsXCIhPT1pJiZcInBvaW50ZXJ1cFwiIT09aSYmXCJwb2ludGVyY2FuY2VsXCIhPT1pfHwoZGVsZXRlIHJbc10sdGhpcy5faGFuZGxlRW5kKHQscyxlKSkpfX0scy5faGFuZGxlU3RhcnQ9ZnVuY3Rpb24odCxlLGkscyxyKXt2YXIgbixhPXQuX190b3VjaDshYS5tdWx0aXRvdWNoJiZhLmNvdW50fHwoKG49YS5wb2ludGVycylbZV18fChuW2VdPSEwLGEuY291bnQrKyx0Ll9oYW5kbGVQb2ludGVyRG93bihlLGkscyxyKSkpfSxzLl9oYW5kbGVNb3ZlPWZ1bmN0aW9uKHQsZSxpLHMscil7dC5fX3RvdWNoLnBvaW50ZXJzW2VdJiZ0Ll9oYW5kbGVQb2ludGVyTW92ZShlLGkscyxyKX0scy5faGFuZGxlRW5kPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10Ll9fdG91Y2gscj1zLnBvaW50ZXJzO3JbZV0mJihzLmNvdW50LS0sdC5faGFuZGxlUG9pbnRlclVwKGUsaSwhMCksZGVsZXRlIHJbZV0pfSxjcmVhdGVqcy5Ub3VjaD1zfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9Y3JlYXRlanMuRWFzZWxKUz1jcmVhdGVqcy5FYXNlbEpTfHx7fTt0LnZlcnNpb249XCIxLjAuMFwiLHQuYnVpbGREYXRlPVwiVGh1LCAxMiBPY3QgMjAxNyAxNjozNDowNSBHTVRcIn0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciB0PWNyZWF0ZWpzLlByZWxvYWRKUz1jcmVhdGVqcy5QcmVsb2FkSlN8fHt9O3QudmVyc2lvbj1cIk5FWFRcIix0LmJ1aWxkRGF0ZT1cIlRodSwgMTQgU2VwIDIwMTcgMjI6MTk6NDUgR01UXCJ9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtjcmVhdGVqcy5wcm94eT1mdW5jdGlvbih0LGUpe3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKS5jb25jYXQoaSkpfX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSxpKXt0aGlzLkV2ZW50X2NvbnN0cnVjdG9yKFwiZXJyb3JcIiksdGhpcy50aXRsZT10LHRoaXMubWVzc2FnZT1lLHRoaXMuZGF0YT1pfWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkV2ZW50KS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgY3JlYXRlanMuRXJyb3JFdmVudCh0aGlzLnRpdGxlLHRoaXMubWVzc2FnZSx0aGlzLmRhdGEpfSxjcmVhdGVqcy5FcnJvckV2ZW50PWNyZWF0ZWpzLnByb21vdGUodCxcIkV2ZW50XCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuRXZlbnRfY29uc3RydWN0b3IoXCJwcm9ncmVzc1wiKSx0aGlzLmxvYWRlZD10LHRoaXMudG90YWw9bnVsbD09ZT8xOmUsdGhpcy5wcm9ncmVzcz0wPT1lPzA6dGhpcy5sb2FkZWQvdGhpcy50b3RhbH1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5FdmVudCkuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQodGhpcy5sb2FkZWQsdGhpcy50b3RhbCl9LGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQ9Y3JlYXRlanMucHJvbW90ZSh0LFwiRXZlbnRcIil9KHdpbmRvdyksZnVuY3Rpb24oKXt2YXIgdCxlLGkscyxyPVwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCxrPXtmdW5jdGlvbjohMCxvYmplY3Q6ITB9LG49a1t0eXBlb2YgZXhwb3J0c10mJmV4cG9ydHMmJiFleHBvcnRzLm5vZGVUeXBlJiZleHBvcnRzLEI9a1t0eXBlb2Ygd2luZG93XSYmd2luZG93fHx0aGlzLGE9biYma1t0eXBlb2YgbW9kdWxlXSYmbW9kdWxlJiYhbW9kdWxlLm5vZGVUeXBlJiZcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWw7ZnVuY3Rpb24gVSh0LGgpe3Q9dHx8Qi5PYmplY3QoKSxoPWh8fEIuT2JqZWN0KCk7dmFyIGM9dC5OdW1iZXJ8fEIuTnVtYmVyLHU9dC5TdHJpbmd8fEIuU3RyaW5nLGU9dC5PYmplY3R8fEIuT2JqZWN0LGw9dC5EYXRlfHxCLkRhdGUsaT10LlN5bnRheEVycm9yfHxCLlN5bnRheEVycm9yLFM9dC5UeXBlRXJyb3J8fEIuVHlwZUVycm9yLHM9dC5NYXRofHxCLk1hdGgscj10LkpTT058fEIuSlNPTjtcIm9iamVjdFwiPT10eXBlb2YgciYmciYmKGguc3RyaW5naWZ5PXIuc3RyaW5naWZ5LGgucGFyc2U9ci5wYXJzZSk7dmFyIHgsdyxSLGQsQSxQLEwsbyxqLG4sQyxfLEksRCxNLHAsZixnLG0sdixhLFQsYixFLHk9ZS5wcm90b3R5cGUsTz15LnRvU3RyaW5nLEY9bmV3IGwoLTB4Yzc4MmI1YjgwMGNlYyk7dHJ5e0Y9LTEwOTI1Mj09Ri5nZXRVVENGdWxsWWVhcigpJiYwPT09Ri5nZXRVVENNb250aCgpJiYxPT09Ri5nZXRVVENEYXRlKCkmJjEwPT1GLmdldFVUQ0hvdXJzKCkmJjM3PT1GLmdldFVUQ01pbnV0ZXMoKSYmNj09Ri5nZXRVVENTZWNvbmRzKCkmJjcwOD09Ri5nZXRVVENNaWxsaXNlY29uZHMoKX1jYXRjaCh0KXt9ZnVuY3Rpb24gTih0KXtpZihOW3RdIT09UilyZXR1cm4gTlt0XTt2YXIgZTtpZihcImJ1Zy1zdHJpbmctY2hhci1pbmRleFwiPT10KWU9XCJhXCIhPVwiYVwiWzBdO2Vsc2UgaWYoXCJqc29uXCI9PXQpZT1OKFwianNvbi1zdHJpbmdpZnlcIikmJk4oXCJqc29uLXBhcnNlXCIpO2Vsc2V7dmFyIGkscz0ne1wiYVwiOlsxLHRydWUsZmFsc2UsbnVsbCxcIlxcXFx1MDAwMFxcXFxiXFxcXG5cXFxcZlxcXFxyXFxcXHRcIl19JztpZihcImpzb24tc3RyaW5naWZ5XCI9PXQpe3ZhciByPWguc3RyaW5naWZ5LG49XCJmdW5jdGlvblwiPT10eXBlb2YgciYmRjtpZihuKXsoaT1mdW5jdGlvbigpe3JldHVybiAxfSkudG9KU09OPWk7dHJ5e249XCIwXCI9PT1yKDApJiZcIjBcIj09PXIobmV3IGMpJiYnXCJcIic9PXIobmV3IHUpJiZyKE8pPT09UiYmcihSKT09PVImJnIoKT09PVImJlwiMVwiPT09cihpKSYmXCJbMV1cIj09cihbaV0pJiZcIltudWxsXVwiPT1yKFtSXSkmJlwibnVsbFwiPT1yKG51bGwpJiZcIltudWxsLG51bGwsbnVsbF1cIj09cihbUixPLG51bGxdKSYmcih7YTpbaSwhMCwhMSxudWxsLFwiXFwwXFxiXFxuXFxmXFxyXFx0XCJdfSk9PXMmJlwiMVwiPT09cihudWxsLGkpJiZcIltcXG4gMSxcXG4gMlxcbl1cIj09cihbMSwyXSxudWxsLDEpJiYnXCItMjcxODIxLTA0LTIwVDAwOjAwOjAwLjAwMFpcIic9PXIobmV3IGwoLTg2NGUxMykpJiYnXCIrMjc1NzYwLTA5LTEzVDAwOjAwOjAwLjAwMFpcIic9PXIobmV3IGwoODY0ZTEzKSkmJidcIi0wMDAwMDEtMDEtMDFUMDA6MDA6MDAuMDAwWlwiJz09cihuZXcgbCgtNjIxOTg3NTUyZTUpKSYmJ1wiMTk2OS0xMi0zMVQyMzo1OTo1OS45OTlaXCInPT1yKG5ldyBsKC0xKSl9Y2F0Y2godCl7bj0hMX19ZT1ufWlmKFwianNvbi1wYXJzZVwiPT10KXt2YXIgYT1oLnBhcnNlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEpdHJ5e2lmKDA9PT1hKFwiMFwiKSYmIWEoITEpKXt2YXIgbz01PT0oaT1hKHMpKS5hLmxlbmd0aCYmMT09PWkuYVswXTtpZihvKXt0cnl7bz0hYSgnXCJcXHRcIicpfWNhdGNoKHQpe31pZihvKXRyeXtvPTEhPT1hKFwiMDFcIil9Y2F0Y2godCl7fWlmKG8pdHJ5e289MSE9PWEoXCIxLlwiKX1jYXRjaCh0KXt9fX19Y2F0Y2godCl7bz0hMX1lPW99fXJldHVybiBOW3RdPSEhZX1yZXR1cm4gTihcImpzb25cIil8fChkPVwiW29iamVjdCBGdW5jdGlvbl1cIixBPVwiW29iamVjdCBOdW1iZXJdXCIsUD1cIltvYmplY3QgU3RyaW5nXVwiLEw9XCJbb2JqZWN0IEFycmF5XVwiLG89TihcImJ1Zy1zdHJpbmctY2hhci1pbmRleFwiKSxGfHwoaj1zLmZsb29yLG49WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF0sQz1mdW5jdGlvbih0LGUpe3JldHVybiBuW2VdKzM2NSoodC0xOTcwKStqKCh0LTE5NjkrKGU9KygxPGUpKSkvNCktaigodC0xOTAxK2UpLzEwMCkraigodC0xNjAxK2UpLzQwMCl9KSwoeD15Lmhhc093blByb3BlcnR5KXx8KHg9ZnVuY3Rpb24odCl7dmFyIGksZT17X19wcm90b19fOnt0b1N0cmluZzoxfX07cmV0dXJuIHg9ZS50b1N0cmluZyE9Tz9mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fcHJvdG9fXyxpPXQgaW4odGhpcy5fX3Byb3RvX189bnVsbCx0aGlzKTtyZXR1cm4gdGhpcy5fX3Byb3RvX189ZSxpfTooaT1lLmNvbnN0cnVjdG9yLGZ1bmN0aW9uKHQpe3ZhciBlPSh0aGlzLmNvbnN0cnVjdG9yfHxpKS5wcm90b3R5cGU7cmV0dXJuIHQgaW4gdGhpcyYmISh0IGluIGUmJnRoaXNbdF09PT1lW3RdKX0pLGU9bnVsbCx4LmNhbGwodGhpcyx0KX0pLHc9ZnVuY3Rpb24odCxlKXt2YXIgaSxhLHMscj0wO2ZvcihzIGluKGk9ZnVuY3Rpb24oKXt0aGlzLnZhbHVlT2Y9MH0pLnByb3RvdHlwZS52YWx1ZU9mPTAsYT1uZXcgaSl4LmNhbGwoYSxzKSYmcisrO3JldHVybiBpPWE9bnVsbCwodz1yPzI9PXI/ZnVuY3Rpb24odCxlKXt2YXIgaSxzPXt9LHI9Ty5jYWxsKHQpPT1kO2ZvcihpIGluIHQpciYmXCJwcm90b3R5cGVcIj09aXx8eC5jYWxsKHMsaSl8fCEoc1tpXT0xKXx8IXguY2FsbCh0LGkpfHxlKGkpfTpmdW5jdGlvbih0LGUpe3ZhciBpLHMscj1PLmNhbGwodCk9PWQ7Zm9yKGkgaW4gdClyJiZcInByb3RvdHlwZVwiPT1pfHwheC5jYWxsKHQsaSl8fChzPVwiY29uc3RydWN0b3JcIj09PWkpfHxlKGkpOyhzfHx4LmNhbGwodCxpPVwiY29uc3RydWN0b3JcIikpJiZlKGkpfTooYT1bXCJ2YWx1ZU9mXCIsXCJ0b1N0cmluZ1wiLFwidG9Mb2NhbGVTdHJpbmdcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiY29uc3RydWN0b3JcIl0sZnVuY3Rpb24odCxlKXt2YXIgaSxzLHI9Ty5jYWxsKHQpPT1kLG49IXImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuY29uc3RydWN0b3ImJmtbdHlwZW9mIHQuaGFzT3duUHJvcGVydHldJiZ0Lmhhc093blByb3BlcnR5fHx4O2ZvcihpIGluIHQpciYmXCJwcm90b3R5cGVcIj09aXx8IW4uY2FsbCh0LGkpfHxlKGkpO2ZvcihzPWEubGVuZ3RoO2k9YVstLXNdO24uY2FsbCh0LGkpJiZlKGkpKTt9KSkodCxlKX0sTihcImpzb24tc3RyaW5naWZ5XCIpfHwoXz17OTI6XCJcXFxcXFxcXFwiLDM0OidcXFxcXCInLDg6XCJcXFxcYlwiLDEyOlwiXFxcXGZcIiwxMDpcIlxcXFxuXCIsMTM6XCJcXFxcclwiLDk6XCJcXFxcdFwifSxJPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKFwiMDAwMDAwXCIrKGV8fDApKS5zbGljZSgtdCl9LEQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSdcIicsaT0wLHM9dC5sZW5ndGgscj0hb3x8MTA8cyxuPXImJihvP3Quc3BsaXQoXCJcIik6dCk7aTxzO2krKyl7dmFyIGE9dC5jaGFyQ29kZUF0KGkpO3N3aXRjaChhKXtjYXNlIDg6Y2FzZSA5OmNhc2UgMTA6Y2FzZSAxMjpjYXNlIDEzOmNhc2UgMzQ6Y2FzZSA5MjplKz1fW2FdO2JyZWFrO2RlZmF1bHQ6aWYoYTwzMil7ZSs9XCJcXFxcdTAwXCIrSSgyLGEudG9TdHJpbmcoMTYpKTticmVha31lKz1yP25baV06dC5jaGFyQXQoaSl9fXJldHVybiBlKydcIid9LE09ZnVuY3Rpb24odCxlLGkscyxyLG4sYSl7dmFyIG8saCxjLHUsbCxkLF8scCxmLGcsbSx2LFQsYixFLHk7dHJ5e289ZVt0XX1jYXRjaCh0KXt9aWYoXCJvYmplY3RcIj09dHlwZW9mIG8mJm8paWYoXCJbb2JqZWN0IERhdGVdXCIhPShoPU8uY2FsbChvKSl8fHguY2FsbChvLFwidG9KU09OXCIpKVwiZnVuY3Rpb25cIj09dHlwZW9mIG8udG9KU09OJiYoaCE9QSYmaCE9UCYmaCE9THx8eC5jYWxsKG8sXCJ0b0pTT05cIikpJiYobz1vLnRvSlNPTih0KSk7ZWxzZSBpZigtMS8wPG8mJm88MS8wKXtpZihDKXtmb3IobD1qKG8vODY0ZTUpLGM9aihsLzM2NS4yNDI1KSsxOTcwLTE7QyhjKzEsMCk8PWw7YysrKTtmb3IodT1qKChsLUMoYywwKSkvMzAuNDIpO0MoYyx1KzEpPD1sO3UrKyk7bD0xK2wtQyhjLHUpLF89aigoZD0obyU4NjRlNSs4NjRlNSklODY0ZTUpLzM2ZTUpJTI0LHA9aihkLzZlNCklNjAsZj1qKGQvMWUzKSU2MCxnPWQlMWUzfWVsc2UgYz1vLmdldFVUQ0Z1bGxZZWFyKCksdT1vLmdldFVUQ01vbnRoKCksbD1vLmdldFVUQ0RhdGUoKSxfPW8uZ2V0VVRDSG91cnMoKSxwPW8uZ2V0VVRDTWludXRlcygpLGY9by5nZXRVVENTZWNvbmRzKCksZz1vLmdldFVUQ01pbGxpc2Vjb25kcygpO289KGM8PTB8fDFlNDw9Yz8oYzwwP1wiLVwiOlwiK1wiKStJKDYsYzwwPy1jOmMpOkkoNCxjKSkrXCItXCIrSSgyLHUrMSkrXCItXCIrSSgyLGwpK1wiVFwiK0koMixfKStcIjpcIitJKDIscCkrXCI6XCIrSSgyLGYpK1wiLlwiK0koMyxnKStcIlpcIn1lbHNlIG89bnVsbDtpZihpJiYobz1pLmNhbGwoZSx0LG8pKSxudWxsPT09bylyZXR1cm5cIm51bGxcIjtpZihcIltvYmplY3QgQm9vbGVhbl1cIj09KGg9Ty5jYWxsKG8pKSlyZXR1cm5cIlwiK287aWYoaD09QSlyZXR1cm4tMS8wPG8mJm88MS8wP1wiXCIrbzpcIm51bGxcIjtpZihoPT1QKXJldHVybiBEKFwiXCIrbyk7aWYoXCJvYmplY3RcIj09dHlwZW9mIG8pe2ZvcihiPWEubGVuZ3RoO2ItLTspaWYoYVtiXT09PW8pdGhyb3cgUygpO2lmKGEucHVzaChvKSxtPVtdLEU9bixuKz1yLGg9PUwpe2ZvcihUPTAsYj1vLmxlbmd0aDtUPGI7VCsrKXY9TShULG8saSxzLHIsbixhKSxtLnB1c2godj09PVI/XCJudWxsXCI6dik7eT1tLmxlbmd0aD9yP1wiW1xcblwiK24rbS5qb2luKFwiLFxcblwiK24pK1wiXFxuXCIrRStcIl1cIjpcIltcIittLmpvaW4oXCIsXCIpK1wiXVwiOlwiW11cIn1lbHNlIHcoc3x8byxmdW5jdGlvbih0KXt2YXIgZT1NKHQsbyxpLHMscixuLGEpO2UhPT1SJiZtLnB1c2goRCh0KStcIjpcIisocj9cIiBcIjpcIlwiKStlKX0pLHk9bS5sZW5ndGg/cj9cIntcXG5cIituK20uam9pbihcIixcXG5cIituKStcIlxcblwiK0UrXCJ9XCI6XCJ7XCIrbS5qb2luKFwiLFwiKStcIn1cIjpcInt9XCI7cmV0dXJuIGEucG9wKCkseX19LGguc3RyaW5naWZ5PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxyLG4sYTtpZihrW3R5cGVvZiBlXSYmZSlpZigoYT1PLmNhbGwoZSkpPT1kKXI9ZTtlbHNlIGlmKGE9PUwpe249e307Zm9yKHZhciBvLGg9MCxjPWUubGVuZ3RoO2g8YztvPWVbaCsrXSwoYT1PLmNhbGwobykpIT1QJiZhIT1BfHwobltvXT0xKSk7fWlmKGkpaWYoKGE9Ty5jYWxsKGkpKT09QSl7aWYoMDwoaS09aSUxKSlmb3Iocz1cIlwiLDEwPGkmJihpPTEwKTtzLmxlbmd0aDxpO3MrPVwiIFwiKTt9ZWxzZSBhPT1QJiYocz1pLmxlbmd0aDw9MTA/aTppLnNsaWNlKDAsMTApKTtyZXR1cm4gTShcIlwiLCgobz17fSlbXCJcIl09dCxvKSxyLG4scyxcIlwiLFtdKX0pLE4oXCJqc29uLXBhcnNlXCIpfHwocD11LmZyb21DaGFyQ29kZSxmPXs5MjpcIlxcXFxcIiwzNDonXCInLDQ3OlwiL1wiLDk4OlwiXFxiXCIsMTE2OlwiXFx0XCIsMTEwOlwiXFxuXCIsMTAyOlwiXFxmXCIsMTE0OlwiXFxyXCJ9LHY9ZnVuY3Rpb24oKXt0aHJvdyBnPW09bnVsbCxpKCl9LGE9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxpLHMscixuPW0sYT1uLmxlbmd0aDtnPGE7KXN3aXRjaChyPW4uY2hhckNvZGVBdChnKSl7Y2FzZSA5OmNhc2UgMTA6Y2FzZSAxMzpjYXNlIDMyOmcrKzticmVhaztjYXNlIDEyMzpjYXNlIDEyNTpjYXNlIDkxOmNhc2UgOTM6Y2FzZSA1ODpjYXNlIDQ0OnJldHVybiB0PW8/bi5jaGFyQXQoZyk6bltnXSxnKyssdDtjYXNlIDM0OmZvcih0PVwiQFwiLGcrKztnPGE7KWlmKChyPW4uY2hhckNvZGVBdChnKSk8MzIpdigpO2Vsc2UgaWYoOTI9PXIpc3dpdGNoKHI9bi5jaGFyQ29kZUF0KCsrZykpe2Nhc2UgOTI6Y2FzZSAzNDpjYXNlIDQ3OmNhc2UgOTg6Y2FzZSAxMTY6Y2FzZSAxMTA6Y2FzZSAxMDI6Y2FzZSAxMTQ6dCs9ZltyXSxnKys7YnJlYWs7Y2FzZSAxMTc6Zm9yKGU9KytnLGk9Zys0O2c8aTtnKyspNDg8PShyPW4uY2hhckNvZGVBdChnKSkmJnI8PTU3fHw5Nzw9ciYmcjw9MTAyfHw2NTw9ciYmcjw9NzB8fHYoKTt0Kz1wKFwiMHhcIituLnNsaWNlKGUsZykpO2JyZWFrO2RlZmF1bHQ6digpfWVsc2V7aWYoMzQ9PXIpYnJlYWs7Zm9yKHI9bi5jaGFyQ29kZUF0KGcpLGU9ZzszMjw9ciYmOTIhPXImJjM0IT1yOylyPW4uY2hhckNvZGVBdCgrK2cpO3QrPW4uc2xpY2UoZSxnKX1pZigzND09bi5jaGFyQ29kZUF0KGcpKXJldHVybiBnKyssdDt2KCk7ZGVmYXVsdDppZihlPWcsNDU9PXImJihzPSEwLHI9bi5jaGFyQ29kZUF0KCsrZykpLDQ4PD1yJiZyPD01Nyl7Zm9yKDQ4PT1yJiYoNDg8PShyPW4uY2hhckNvZGVBdChnKzEpKSYmcjw9NTcpJiZ2KCkscz0hMTtnPGEmJig0ODw9KHI9bi5jaGFyQ29kZUF0KGcpKSYmcjw9NTcpO2crKyk7aWYoNDY9PW4uY2hhckNvZGVBdChnKSl7Zm9yKGk9KytnO2k8YSYmKDQ4PD0ocj1uLmNoYXJDb2RlQXQoaSkpJiZyPD01Nyk7aSsrKTtpPT1nJiZ2KCksZz1pfWlmKDEwMT09KHI9bi5jaGFyQ29kZUF0KGcpKXx8Njk9PXIpe2Zvcig0MyE9KHI9bi5jaGFyQ29kZUF0KCsrZykpJiY0NSE9cnx8ZysrLGk9ZztpPGEmJig0ODw9KHI9bi5jaGFyQ29kZUF0KGkpKSYmcjw9NTcpO2krKyk7aT09ZyYmdigpLGc9aX1yZXR1cm4rbi5zbGljZShlLGcpfWlmKHMmJnYoKSxcInRydWVcIj09bi5zbGljZShnLGcrNCkpcmV0dXJuIGcrPTQsITA7aWYoXCJmYWxzZVwiPT1uLnNsaWNlKGcsZys1KSlyZXR1cm4gZys9NSwhMTtpZihcIm51bGxcIj09bi5zbGljZShnLGcrNCkpcmV0dXJuIGcrPTQsbnVsbDt2KCl9cmV0dXJuXCIkXCJ9LFQ9ZnVuY3Rpb24odCl7dmFyIGUsaTtpZihcIiRcIj09dCYmdigpLFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihcIkBcIj09KG8/dC5jaGFyQXQoMCk6dFswXSkpcmV0dXJuIHQuc2xpY2UoMSk7aWYoXCJbXCI9PXQpe2ZvcihlPVtdO1wiXVwiIT0odD1hKCkpO2k9aXx8ITApIWl8fFwiLFwiPT10JiZcIl1cIiE9KHQ9YSgpKXx8digpLFwiLFwiPT10JiZ2KCksZS5wdXNoKFQodCkpO3JldHVybiBlfWlmKFwie1wiPT10KXtmb3IoZT17fTtcIn1cIiE9KHQ9YSgpKTtpPWl8fCEwKSFpfHxcIixcIj09dCYmXCJ9XCIhPSh0PWEoKSl8fHYoKSxcIixcIiE9dCYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiQFwiPT0obz90LmNoYXJBdCgwKTp0WzBdKSYmXCI6XCI9PWEoKXx8digpLGVbdC5zbGljZSgxKV09VChhKCkpO3JldHVybiBlfXYoKX1yZXR1cm4gdH0sYj1mdW5jdGlvbih0LGUsaSl7dmFyIHM9RSh0LGUsaSk7cz09PVI/ZGVsZXRlIHRbZV06dFtlXT1zfSxFPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxyPXRbZV07aWYoXCJvYmplY3RcIj09dHlwZW9mIHImJnIpaWYoTy5jYWxsKHIpPT1MKWZvcihzPXIubGVuZ3RoO3MtLTspYihyLHMsaSk7ZWxzZSB3KHIsZnVuY3Rpb24odCl7YihyLHQsaSl9KTtyZXR1cm4gaS5jYWxsKHQsZSxyKX0saC5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciBpLHM7cmV0dXJuIGc9MCxtPVwiXCIrdCxpPVQoYSgpKSxcIiRcIiE9YSgpJiZ2KCksZz1tPW51bGwsZSYmTy5jYWxsKGUpPT1kP0UoKChzPXt9KVtcIlwiXT1pLHMpLFwiXCIsZSk6aX0pKSxoLnJ1bkluQ29udGV4dD1VLGh9IWF8fGEuZ2xvYmFsIT09YSYmYS53aW5kb3chPT1hJiZhLnNlbGYhPT1hfHwoQj1hKSxuJiYhcj9VKEIsbik6KHQ9Qi5KU09OLGU9Qi5KU09OMyxpPSExLHM9VShCLEIuSlNPTjM9e25vQ29uZmxpY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gaXx8KGk9ITAsQi5KU09OPXQsQi5KU09OMz1lLHQ9ZT1udWxsKSxzfX0pLEIuSlNPTj17cGFyc2U6cy5wYXJzZSxzdHJpbmdpZnk6cy5zdHJpbmdpZnl9KSxyJiZkZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gc30pfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9e2E6ZnVuY3Rpb24oKXtyZXR1cm4gdC5lbChcImFcIil9LHN2ZzpmdW5jdGlvbigpe3JldHVybiB0LmVsKFwic3ZnXCIpfSxvYmplY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdC5lbChcIm9iamVjdFwiKX0saW1hZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdC5lbChcImltYWdlXCIpfSxpbWc6ZnVuY3Rpb24oKXtyZXR1cm4gdC5lbChcImltZ1wiKX0sc3R5bGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5lbChcInN0eWxlXCIpfSxsaW5rOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZWwoXCJsaW5rXCIpfSxzY3JpcHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5lbChcInNjcmlwdFwiKX0sYXVkaW86ZnVuY3Rpb24oKXtyZXR1cm4gdC5lbChcImF1ZGlvXCIpfSx2aWRlbzpmdW5jdGlvbigpe3JldHVybiB0LmVsKFwidmlkZW9cIil9LHRleHQ6ZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpfSxlbDpmdW5jdGlvbih0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KX19O2NyZWF0ZWpzLkVsZW1lbnRzPXR9KCksZnVuY3Rpb24oKXt2YXIgYT17QUJTT0xVVEVfUEFUVDovXig/Olxcdys6KT9cXC97Mn0vaSxSRUxBVElWRV9QQVRUOi9eWy4vXSo/XFwvL2ksRVhURU5TSU9OX1BBVFQ6L1xcLz9bXi9dK1xcLihcXHd7MSw1fSkkL2kscGFyc2VVUkk6ZnVuY3Rpb24odCl7dmFyIGU9e2Fic29sdXRlOiExLHJlbGF0aXZlOiExLHByb3RvY29sOm51bGwsaG9zdG5hbWU6bnVsbCxwb3J0Om51bGwscGF0aG5hbWU6bnVsbCxzZWFyY2g6bnVsbCxoYXNoOm51bGwsaG9zdDpudWxsfTtpZihudWxsPT10KXJldHVybiBlO3ZhciBpPWNyZWF0ZWpzLkVsZW1lbnRzLmEoKTtmb3IodmFyIHMgaW4gaS5ocmVmPXQsZSlzIGluIGkmJihlW3NdPWlbc10pO3ZhciByLG49dC5pbmRleE9mKFwiP1wiKTtyZXR1cm4tMTxuJiYodD10LnN1YnN0cigwLG4pKSxhLkFCU09MVVRFX1BBVFQudGVzdCh0KT9lLmFic29sdXRlPSEwOmEuUkVMQVRJVkVfUEFUVC50ZXN0KHQpJiYoZS5yZWxhdGl2ZT0hMCksKHI9dC5tYXRjaChhLkVYVEVOU0lPTl9QQVRUKSkmJihlLmV4dGVuc2lvbj1yWzFdLnRvTG93ZXJDYXNlKCkpLGV9LGZvcm1hdFF1ZXJ5U3RyaW5nOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dCl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBzcGVjaWZ5IGRhdGEuXCIpO3ZhciBpPVtdO2Zvcih2YXIgcyBpbiB0KWkucHVzaChzK1wiPVwiK2VzY2FwZSh0W3NdKSk7cmV0dXJuIGUmJihpPWkuY29uY2F0KGUpKSxpLmpvaW4oXCImXCIpfSxidWlsZFVSSTpmdW5jdGlvbih0LGUpe2lmKG51bGw9PWUpcmV0dXJuIHQ7dmFyIGkscz1bXSxyPXQuaW5kZXhPZihcIj9cIik7cmV0dXJuLTEhPXImJihpPXQuc2xpY2UocisxKSxzPXMuY29uY2F0KGkuc3BsaXQoXCImXCIpKSksLTEhPXI/dC5zbGljZSgwLHIpK1wiP1wiK3RoaXMuZm9ybWF0UXVlcnlTdHJpbmcoZSxzKTp0K1wiP1wiK3RoaXMuZm9ybWF0UXVlcnlTdHJpbmcoZSxzKX0saXNDcm9zc0RvbWFpbjpmdW5jdGlvbih0KXt2YXIgZT1jcmVhdGVqcy5FbGVtZW50cy5hKCk7ZS5ocmVmPXQuc3JjO3ZhciBpPWNyZWF0ZWpzLkVsZW1lbnRzLmEoKTtyZXR1cm4gaS5ocmVmPWxvY2F0aW9uLmhyZWYsXCJcIiE9ZS5ob3N0bmFtZSYmKGUucG9ydCE9aS5wb3J0fHxlLnByb3RvY29sIT1pLnByb3RvY29sfHxlLmhvc3RuYW1lIT1pLmhvc3RuYW1lKX0saXNMb2NhbDpmdW5jdGlvbih0KXt2YXIgZT1jcmVhdGVqcy5FbGVtZW50cy5hKCk7cmV0dXJuIGUuaHJlZj10LnNyYyxcIlwiPT1lLmhvc3RuYW1lJiZcImZpbGU6XCI9PWUucHJvdG9jb2x9fTtjcmVhdGVqcy5VUkxVdGlscz1hfSgpLGZ1bmN0aW9uKCl7dmFyIGk9e2NvbnRhaW5lcjpudWxsLGFwcGVuZFRvSGVhZDpmdW5jdGlvbih0KXtpLmdldEhlYWQoKS5hcHBlbmRDaGlsZCh0KX0sYXBwZW5kVG9Cb2R5OmZ1bmN0aW9uKHQpe3ZhciBlO251bGw9PWkuY29udGFpbmVyJiYoaS5jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpLmNvbnRhaW5lci5pZD1cInByZWxvYWRqcy1jb250YWluZXJcIiwoZT1pLmNvbnRhaW5lci5zdHlsZSkudmlzaWJpbGl0eT1cImhpZGRlblwiLGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUud2lkdGg9aS5jb250YWluZXIuc3R5bGUuaGVpZ2h0PVwiMTBweFwiLGUub3ZlcmZsb3c9XCJoaWRkZW5cIixlLnRyYW5zZm9ybT1lLm1zVHJhbnNmb3JtPWUud2Via2l0VHJhbnNmb3JtPWUub1RyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMTBweCwgLTEwcHgpXCIsaS5nZXRCb2R5KCkuYXBwZW5kQ2hpbGQoaS5jb250YWluZXIpKSxpLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0KX0sZ2V0SGVhZDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF19LGdldEJvZHk6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdfSxyZW1vdmVDaGlsZDpmdW5jdGlvbih0KXt0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlQ2hpbGQodCl9LGlzSW1hZ2VUYWc6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fSxpc0F1ZGlvVGFnOmZ1bmN0aW9uKHQpe3JldHVybiEhd2luZG93LkhUTUxBdWRpb0VsZW1lbnQmJnQgaW5zdGFuY2VvZiBIVE1MQXVkaW9FbGVtZW50fSxpc1ZpZGVvVGFnOmZ1bmN0aW9uKHQpe3JldHVybiEhd2luZG93LkhUTUxWaWRlb0VsZW1lbnQmJnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50fX07Y3JlYXRlanMuRG9tVXRpbHM9aX0oKSxmdW5jdGlvbigpe3ZhciB0PXtwYXJzZVhNTDpmdW5jdGlvbih0KXt2YXIgZT1udWxsO3RyeXt3aW5kb3cuRE9NUGFyc2VyJiYoZT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsXCJ0ZXh0L3htbFwiKSl9Y2F0Y2godCl7fWlmKCFlKXRyeXsoZT1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIikpLmFzeW5jPSExLGUubG9hZFhNTCh0KX1jYXRjaCh0KXtlPW51bGx9cmV0dXJuIGV9LHBhcnNlSlNPTjpmdW5jdGlvbih0KXtpZihudWxsPT10KXJldHVybiBudWxsO3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaCh0KXt0aHJvdyB0fX19O2NyZWF0ZWpzLkRhdGFVdGlscz10fSgpLGZ1bmN0aW9uKCl7dmFyIHQ9e0JJTkFSWTpcImJpbmFyeVwiLENTUzpcImNzc1wiLEZPTlQ6XCJmb250XCIsRk9OVENTUzpcImZvbnRjc3NcIixJTUFHRTpcImltYWdlXCIsSkFWQVNDUklQVDpcImphdmFzY3JpcHRcIixKU09OOlwianNvblwiLEpTT05QOlwianNvbnBcIixNQU5JRkVTVDpcIm1hbmlmZXN0XCIsU09VTkQ6XCJzb3VuZFwiLFZJREVPOlwidmlkZW9cIixTUFJJVEVTSEVFVDpcInNwcml0ZXNoZWV0XCIsU1ZHOlwic3ZnXCIsVEVYVDpcInRleHRcIixYTUw6XCJ4bWxcIn07Y3JlYXRlanMuVHlwZXM9dH0oKSxmdW5jdGlvbigpe3ZhciB0PXtQT1NUOlwiUE9TVFwiLEdFVDpcIkdFVFwifTtjcmVhdGVqcy5NZXRob2RzPXR9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7dGhpcy5zcmM9bnVsbCx0aGlzLnR5cGU9bnVsbCx0aGlzLmlkPW51bGwsdGhpcy5tYWludGFpbk9yZGVyPSExLHRoaXMuY2FsbGJhY2s9bnVsbCx0aGlzLmRhdGE9bnVsbCx0aGlzLm1ldGhvZD1jcmVhdGVqcy5NZXRob2RzLkdFVCx0aGlzLnZhbHVlcz1udWxsLHRoaXMuaGVhZGVycz1udWxsLHRoaXMud2l0aENyZWRlbnRpYWxzPSExLHRoaXMubWltZVR5cGU9bnVsbCx0aGlzLmNyb3NzT3JpZ2luPW51bGwsdGhpcy5sb2FkVGltZW91dD1zLkxPQURfVElNRU9VVF9ERUZBVUxUfXZhciB0PWkucHJvdG90eXBlPXt9LHM9aTtzLkxPQURfVElNRU9VVF9ERUZBVUxUPThlMyxzLmNyZWF0ZT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7dmFyIGU9bmV3IGk7cmV0dXJuIGUuc3JjPXQsZX1pZih0IGluc3RhbmNlb2YgcylyZXR1cm4gdDtpZih0IGluc3RhbmNlb2YgT2JqZWN0JiZ0LnNyYylyZXR1cm4gbnVsbD09dC5sb2FkVGltZW91dCYmKHQubG9hZFRpbWVvdXQ9cy5MT0FEX1RJTUVPVVRfREVGQVVMVCksdDt0aHJvdyBuZXcgRXJyb3IoXCJUeXBlIG5vdCByZWNvZ25pemVkLlwiKX0sdC5zZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpdGhpc1tlXT10W2VdO3JldHVybiB0aGlzfSxjcmVhdGVqcy5Mb2FkSXRlbT1zfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9e2lzQmluYXJ5OmZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIGNyZWF0ZWpzLlR5cGVzLklNQUdFOmNhc2UgY3JlYXRlanMuVHlwZXMuQklOQVJZOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxpc1RleHQ6ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgY3JlYXRlanMuVHlwZXMuVEVYVDpjYXNlIGNyZWF0ZWpzLlR5cGVzLkpTT046Y2FzZSBjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVDpjYXNlIGNyZWF0ZWpzLlR5cGVzLlhNTDpjYXNlIGNyZWF0ZWpzLlR5cGVzLkNTUzpjYXNlIGNyZWF0ZWpzLlR5cGVzLlNWRzpjYXNlIGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQ6Y2FzZSBjcmVhdGVqcy5UeXBlcy5TUFJJVEVTSEVFVDpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sZ2V0VHlwZUJ5RXh0ZW5zaW9uOmZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlRFWFQ7c3dpdGNoKHQudG9Mb3dlckNhc2UoKSl7Y2FzZVwianBlZ1wiOmNhc2VcImpwZ1wiOmNhc2VcImdpZlwiOmNhc2VcInBuZ1wiOmNhc2VcIndlYnBcIjpjYXNlXCJibXBcIjpyZXR1cm4gY3JlYXRlanMuVHlwZXMuSU1BR0U7Y2FzZVwib2dnXCI6Y2FzZVwibXAzXCI6Y2FzZVwid2VibVwiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5TT1VORDtjYXNlXCJtcDRcIjpjYXNlXCJ3ZWJtXCI6Y2FzZVwidHNcIjpyZXR1cm4gY3JlYXRlanMuVHlwZXMuVklERU87Y2FzZVwianNvblwiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OO2Nhc2VcInhtbFwiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5YTUw7Y2FzZVwiY3NzXCI6cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkNTUztjYXNlXCJqc1wiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUO2Nhc2VcInN2Z1wiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5TVkc7ZGVmYXVsdDpyZXR1cm4gY3JlYXRlanMuVHlwZXMuVEVYVH19fTtjcmVhdGVqcy5SZXF1ZXN0VXRpbHM9dH0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMuRXZlbnREaXNwYXRjaGVyX2NvbnN0cnVjdG9yKCksdGhpcy5sb2FkZWQ9ITEsdGhpcy5jYW5jZWxlZD0hMSx0aGlzLnByb2dyZXNzPTAsdGhpcy50eXBlPWksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9bnVsbCx0aGlzLl9pdGVtPXQ/Y3JlYXRlanMuTG9hZEl0ZW0uY3JlYXRlKHQpOm51bGwsdGhpcy5fcHJlZmVyWEhSPWUsdGhpcy5fcmVzdWx0PW51bGwsdGhpcy5fcmF3UmVzdWx0PW51bGwsdGhpcy5fbG9hZGVkSXRlbXM9bnVsbCx0aGlzLl90YWdTcmNBdHRyaWJ1dGU9bnVsbCx0aGlzLl90YWc9bnVsbH12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpLGk9dDt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7UE9TVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5NZXRob2RzLlBPU1R9LFwiQWJzdHJhY3RMb2FkZXIuUE9TVFwiKX0sR0VUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLk1ldGhvZHMuR0VUfSxcIkFic3RyYWN0TG9hZGVyLkdFVFwiKX0sQklOQVJZOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkJJTkFSWX0sXCJBYnN0cmFjdExvYWRlci5CSU5BUllcIil9LENTUzp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5DU1N9LFwiQWJzdHJhY3RMb2FkZXIuQ1NTXCIpfSxGT05UOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkZPTlR9LFwiQWJzdHJhY3RMb2FkZXIuRk9OVFwiKX0sRk9OVENTUzp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5GT05UQ1NTfSxcIkFic3RyYWN0TG9hZGVyLkZPTlRDU1NcIil9LElNQUdFOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLklNQUdFfSxcIkFic3RyYWN0TG9hZGVyLklNQUdFXCIpfSxKQVZBU0NSSVBUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFR9LFwiQWJzdHJhY3RMb2FkZXIuSkFWQVNDUklQVFwiKX0sSlNPTjp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OfSxcIkFic3RyYWN0TG9hZGVyLkpTT05cIil9LEpTT05QOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpTT05QfSxcIkFic3RyYWN0TG9hZGVyLkpTT05QXCIpfSxNQU5JRkVTVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVH0sXCJBYnN0cmFjdExvYWRlci5NQU5JRkVTVFwiKX0sU09VTkQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuU09VTkR9LFwiQWJzdHJhY3RMb2FkZXIuU09VTkRcIil9LFZJREVPOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlZJREVPfSxcIkFic3RyYWN0TG9hZGVyLlZJREVPXCIpfSxTUFJJVEVTSEVFVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5TUFJJVEVTSEVFVH0sXCJBYnN0cmFjdExvYWRlci5TUFJJVEVTSEVFVFwiKX0sU1ZHOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNWR30sXCJBYnN0cmFjdExvYWRlci5TVkdcIil9LFRFWFQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuVEVYVH0sXCJBYnN0cmFjdExvYWRlci5URVhUXCIpfSxYTUw6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuWE1MfSxcIkFic3RyYWN0TG9hZGVyLlhNTFwiKX19KX1jYXRjaCh0KXt9ZS5nZXRJdGVtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW19LGUuZ2V0UmVzdWx0PWZ1bmN0aW9uKHQpe3JldHVybiB0P3RoaXMuX3Jhd1Jlc3VsdDp0aGlzLl9yZXN1bHR9LGUuZ2V0VGFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhZ30sZS5zZXRUYWc9ZnVuY3Rpb24odCl7dGhpcy5fdGFnPXR9LGUubG9hZD1mdW5jdGlvbigpe3RoaXMuX2NyZWF0ZVJlcXVlc3QoKSx0aGlzLl9yZXF1ZXN0Lm9uKFwiY29tcGxldGVcIix0aGlzLHRoaXMpLHRoaXMuX3JlcXVlc3Qub24oXCJwcm9ncmVzc1wiLHRoaXMsdGhpcyksdGhpcy5fcmVxdWVzdC5vbihcImxvYWRTdGFydFwiLHRoaXMsdGhpcyksdGhpcy5fcmVxdWVzdC5vbihcImFib3J0XCIsdGhpcyx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9uKFwidGltZW91dFwiLHRoaXMsdGhpcyksdGhpcy5fcmVxdWVzdC5vbihcImVycm9yXCIsdGhpcyx0aGlzKTt2YXIgdD1uZXcgY3JlYXRlanMuRXZlbnQoXCJpbml0aWFsaXplXCIpO3QubG9hZGVyPXRoaXMuX3JlcXVlc3QsdGhpcy5kaXNwYXRjaEV2ZW50KHQpLHRoaXMuX3JlcXVlc3QubG9hZCgpfSxlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsZWQ9ITAsdGhpcy5kZXN0cm95KCl9LGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3JlcXVlc3QmJih0aGlzLl9yZXF1ZXN0LnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCksdGhpcy5fcmVxdWVzdC5kZXN0cm95KCkpLHRoaXMuX3JlcXVlc3Q9bnVsbCx0aGlzLl9pdGVtPW51bGwsdGhpcy5fcmF3UmVzdWx0PW51bGwsdGhpcy5fcmVzdWx0PW51bGwsdGhpcy5fbG9hZEl0ZW1zPW51bGwsdGhpcy5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpfSxlLmdldExvYWRlZEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZEl0ZW1zfSxlLl9jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKCl7dGhpcy5fcHJlZmVyWEhSP3RoaXMuX3JlcXVlc3Q9bmV3IGNyZWF0ZWpzLlhIUlJlcXVlc3QodGhpcy5faXRlbSk6dGhpcy5fcmVxdWVzdD1uZXcgY3JlYXRlanMuVGFnUmVxdWVzdCh0aGlzLl9pdGVtLHRoaXMuX3RhZ3x8dGhpcy5fY3JlYXRlVGFnKCksdGhpcy5fdGFnU3JjQXR0cmlidXRlKX0sZS5fY3JlYXRlVGFnPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSxlLl9zZW5kTG9hZFN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5faXNDYW5jZWxlZCgpfHx0aGlzLmRpc3BhdGNoRXZlbnQoXCJsb2Fkc3RhcnRcIil9LGUuX3NlbmRQcm9ncmVzcz1mdW5jdGlvbih0KXt2YXIgZTt0aGlzLl9pc0NhbmNlbGVkKCl8fChlPW51bGwsXCJudW1iZXJcIj09dHlwZW9mIHQ/KHRoaXMucHJvZ3Jlc3M9dCxlPW5ldyBjcmVhdGVqcy5Qcm9ncmVzc0V2ZW50KHRoaXMucHJvZ3Jlc3MpKTooZT10LHRoaXMucHJvZ3Jlc3M9dC5sb2FkZWQvdC50b3RhbCxlLnByb2dyZXNzPXRoaXMucHJvZ3Jlc3MsIWlzTmFOKHRoaXMucHJvZ3Jlc3MpJiZ0aGlzLnByb2dyZXNzIT0xLzB8fCh0aGlzLnByb2dyZXNzPTApKSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiKSYmdGhpcy5kaXNwYXRjaEV2ZW50KGUpKX0sZS5fc2VuZENvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5faXNDYW5jZWxlZCgpfHwodGhpcy5sb2FkZWQ9ITAsKHQ9bmV3IGNyZWF0ZWpzLkV2ZW50KFwiY29tcGxldGVcIikpLnJhd1Jlc3VsdD10aGlzLl9yYXdSZXN1bHQsbnVsbCE9dGhpcy5fcmVzdWx0JiYodC5yZXN1bHQ9dGhpcy5fcmVzdWx0KSx0aGlzLmRpc3BhdGNoRXZlbnQodCkpfSxlLl9zZW5kRXJyb3I9ZnVuY3Rpb24odCl7IXRoaXMuX2lzQ2FuY2VsZWQoKSYmdGhpcy5oYXNFdmVudExpc3RlbmVyKFwiZXJyb3JcIikmJihudWxsPT10JiYodD1uZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlBSRUxPQURfRVJST1JfRU1QVFlcIikpLHRoaXMuZGlzcGF0Y2hFdmVudCh0KSl9LGUuX2lzQ2FuY2VsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hKG51bGwhPXdpbmRvdy5jcmVhdGVqcyYmIXRoaXMuY2FuY2VsZWQpfSxlLnJlc3VsdEZvcm1hdHRlcj1udWxsLGUuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24odCl7c3dpdGNoKHQudHlwZSl7Y2FzZVwiY29tcGxldGVcIjp0aGlzLl9yYXdSZXN1bHQ9dC50YXJnZXQuX3Jlc3BvbnNlO3ZhciBlPXRoaXMucmVzdWx0Rm9ybWF0dGVyJiZ0aGlzLnJlc3VsdEZvcm1hdHRlcih0aGlzKTtlIGluc3RhbmNlb2YgRnVuY3Rpb24/ZS5jYWxsKHRoaXMsY3JlYXRlanMucHJveHkodGhpcy5fcmVzdWx0Rm9ybWF0U3VjY2Vzcyx0aGlzKSxjcmVhdGVqcy5wcm94eSh0aGlzLl9yZXN1bHRGb3JtYXRGYWlsZWQsdGhpcykpOih0aGlzLl9yZXN1bHQ9ZXx8dGhpcy5fcmF3UmVzdWx0LHRoaXMuX3NlbmRDb21wbGV0ZSgpKTticmVhaztjYXNlXCJwcm9ncmVzc1wiOnRoaXMuX3NlbmRQcm9ncmVzcyh0KTticmVhaztjYXNlXCJlcnJvclwiOnRoaXMuX3NlbmRFcnJvcih0KTticmVhaztjYXNlXCJsb2Fkc3RhcnRcIjp0aGlzLl9zZW5kTG9hZFN0YXJ0KCk7YnJlYWs7Y2FzZVwiYWJvcnRcIjpjYXNlXCJ0aW1lb3V0XCI6dGhpcy5faXNDYW5jZWxlZCgpfHx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXCJQUkVMT0FEX1wiK3QudHlwZS50b1VwcGVyQ2FzZSgpK1wiX0VSUk9SXCIpKX19LGUuX3Jlc3VsdEZvcm1hdFN1Y2Nlc3M9ZnVuY3Rpb24odCl7dGhpcy5fcmVzdWx0PXQsdGhpcy5fc2VuZENvbXBsZXRlKCl9LGUuX3Jlc3VsdEZvcm1hdEZhaWxlZD1mdW5jdGlvbih0KXt0aGlzLl9zZW5kRXJyb3IodCl9LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltQcmVsb2FkSlMgQWJzdHJhY3RMb2FkZXJdXCJ9LGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUodCxcIkV2ZW50RGlzcGF0Y2hlclwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IodCxlLGkpLHRoaXMucmVzdWx0Rm9ybWF0dGVyPXRoaXMuX2Zvcm1hdFJlc3VsdCx0aGlzLl90YWdTcmNBdHRyaWJ1dGU9XCJzcmNcIix0aGlzLm9uKFwiaW5pdGlhbGl6ZVwiLHRoaXMuX3VwZGF0ZVhIUix0aGlzKX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7ZS5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5fdGFnfHwodGhpcy5fdGFnPXRoaXMuX2NyZWF0ZVRhZyh0aGlzLl9pdGVtLnNyYykpLHRoaXMuX3RhZy5wcmVsb2FkPVwiYXV0b1wiLHRoaXMuX3RhZy5sb2FkKCksdGhpcy5BYnN0cmFjdExvYWRlcl9sb2FkKCl9LGUuX2NyZWF0ZVRhZz1mdW5jdGlvbigpe30sZS5fY3JlYXRlUmVxdWVzdD1mdW5jdGlvbigpe3RoaXMuX3ByZWZlclhIUj90aGlzLl9yZXF1ZXN0PW5ldyBjcmVhdGVqcy5YSFJSZXF1ZXN0KHRoaXMuX2l0ZW0pOnRoaXMuX3JlcXVlc3Q9bmV3IGNyZWF0ZWpzLk1lZGlhVGFnUmVxdWVzdCh0aGlzLl9pdGVtLHRoaXMuX3RhZ3x8dGhpcy5fY3JlYXRlVGFnKCksdGhpcy5fdGFnU3JjQXR0cmlidXRlKX0sZS5fdXBkYXRlWEhSPWZ1bmN0aW9uKHQpe3QubG9hZGVyLnNldFJlc3BvbnNlVHlwZSYmdC5sb2FkZXIuc2V0UmVzcG9uc2VUeXBlKFwiYmxvYlwiKX0sZS5fZm9ybWF0UmVzdWx0PWZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuIHRoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyJiZ0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsdGhpcy5fbG9hZGVkSGFuZGxlciksdGhpcy5fdGFnLm9uc3RhbGxlZD1udWxsLHRoaXMuX3ByZWZlclhIUiYmKGU9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTCxpPXQuZ2V0UmVzdWx0KCEwKSx0LmdldFRhZygpLnNyYz1lLmNyZWF0ZU9iamVjdFVSTChpKSksdC5nZXRUYWcoKX0sY3JlYXRlanMuQWJzdHJhY3RNZWRpYUxvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKHQsXCJBYnN0cmFjdExvYWRlclwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCl7dGhpcy5faXRlbT10fXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcik7ZS5sb2FkPWZ1bmN0aW9uKCl7fSxlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LGUuY2FuY2VsPWZ1bmN0aW9uKCl7fSxjcmVhdGVqcy5BYnN0cmFjdFJlcXVlc3Q9Y3JlYXRlanMucHJvbW90ZSh0LFwiRXZlbnREaXNwYXRjaGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUsaSl7dGhpcy5BYnN0cmFjdFJlcXVlc3RfY29uc3RydWN0b3IodCksdGhpcy5fdGFnPWUsdGhpcy5fdGFnU3JjQXR0cmlidXRlPWksdGhpcy5fbG9hZGVkSGFuZGxlcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSx0aGlzKSx0aGlzLl9hZGRlZFRvRE9NPSExfXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkFic3RyYWN0UmVxdWVzdCk7ZS5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5fdGFnLm9ubG9hZD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSx0aGlzKSx0aGlzLl90YWcub25yZWFkeXN0YXRlY2hhbmdlPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2UsdGhpcyksdGhpcy5fdGFnLm9uZXJyb3I9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlRXJyb3IsdGhpcyk7dmFyIHQ9bmV3IGNyZWF0ZWpzLkV2ZW50KFwiaW5pdGlhbGl6ZVwiKTt0LmxvYWRlcj10aGlzLl90YWcsdGhpcy5kaXNwYXRjaEV2ZW50KHQpLHRoaXMuX2xvYWRUaW1lb3V0PXNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCx0aGlzKSx0aGlzLl9pdGVtLmxvYWRUaW1lb3V0KSx0aGlzLl90YWdbdGhpcy5fdGFnU3JjQXR0cmlidXRlXT10aGlzLl9pdGVtLnNyYyxudWxsPT10aGlzLl90YWcucGFyZW50Tm9kZSYmKGNyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvQm9keSh0aGlzLl90YWcpLHRoaXMuX2FkZGVkVG9ET009ITApfSxlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpLHRoaXMuX3RhZz1udWxsLHRoaXMuQWJzdHJhY3RSZXF1ZXN0X2Rlc3Ryb3koKX0sZS5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7dmFyIHQ9dGhpcy5fdGFnO1wibG9hZGVkXCIhPXQucmVhZHlTdGF0ZSYmXCJjb21wbGV0ZVwiIT10LnJlYWR5U3RhdGV8fHRoaXMuX2hhbmRsZVRhZ0NvbXBsZXRlKCl9LGUuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJlcnJvclwiKX0sZS5faGFuZGxlVGFnQ29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9yYXdSZXN1bHQ9dGhpcy5fdGFnLHRoaXMuX3Jlc3VsdD10aGlzLnJlc3VsdEZvcm1hdHRlciYmdGhpcy5yZXN1bHRGb3JtYXR0ZXIodGhpcyl8fHRoaXMuX3Jhd1Jlc3VsdCx0aGlzLl9jbGVhbigpLHRoaXMuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpfSxlLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkV2ZW50KFwidGltZW91dFwiKSl9LGUuX2NsZWFuPWZ1bmN0aW9uKCl7dGhpcy5fdGFnLm9ubG9hZD1udWxsLHRoaXMuX3RhZy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0aGlzLl90YWcub25lcnJvcj1udWxsLHRoaXMuX2FkZGVkVG9ET00mJm51bGwhPXRoaXMuX3RhZy5wYXJlbnROb2RlJiZ0aGlzLl90YWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl90YWcpLGNsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCl9LGUuX2hhbmRsZVN0YWxsZWQ9ZnVuY3Rpb24oKXt9LGNyZWF0ZWpzLlRhZ1JlcXVlc3Q9Y3JlYXRlanMucHJvbW90ZSh0LFwiQWJzdHJhY3RSZXF1ZXN0XCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUsaSl7dGhpcy5BYnN0cmFjdFJlcXVlc3RfY29uc3RydWN0b3IodCksdGhpcy5fdGFnPWUsdGhpcy5fdGFnU3JjQXR0cmlidXRlPWksdGhpcy5fbG9hZGVkSGFuZGxlcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSx0aGlzKX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5UYWdSZXF1ZXN0KTtlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTdGFsbGVkLHRoaXMpO3RoaXMuX3N0YWxsZWRDYWxsYmFjaz10O3ZhciBlPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVByb2dyZXNzLHRoaXMpO3RoaXMuX2hhbmRsZVByb2dyZXNzPWUsdGhpcy5fdGFnLmFkZEV2ZW50TGlzdGVuZXIoXCJzdGFsbGVkXCIsdCksdGhpcy5fdGFnLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLGUpLHRoaXMuX3RhZy5hZGRFdmVudExpc3RlbmVyJiZ0aGlzLl90YWcuYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsdGhpcy5fbG9hZGVkSGFuZGxlciwhMSksdGhpcy5UYWdSZXF1ZXN0X2xvYWQoKX0sZS5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7dmFyIHQ9dGhpcy5fdGFnO1wibG9hZGVkXCIhPXQucmVhZHlTdGF0ZSYmXCJjb21wbGV0ZVwiIT10LnJlYWR5U3RhdGV8fHRoaXMuX2hhbmRsZVRhZ0NvbXBsZXRlKCl9LGUuX2hhbmRsZVN0YWxsZWQ9ZnVuY3Rpb24oKXt9LGUuX2hhbmRsZVByb2dyZXNzPWZ1bmN0aW9uKHQpe3ZhciBlOyF0fHwwPHQubG9hZGVkJiYwPT10LnRvdGFsfHwoZT1uZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudCh0LmxvYWRlZCx0LnRvdGFsKSx0aGlzLmRpc3BhdGNoRXZlbnQoZSkpfSxlLl9jbGVhbj1mdW5jdGlvbigpe3RoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyJiZ0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsdGhpcy5fbG9hZGVkSGFuZGxlciksdGhpcy5fdGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGFsbGVkXCIsdGhpcy5fc3RhbGxlZENhbGxiYWNrKSx0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsdGhpcy5fcHJvZ3Jlc3NDYWxsYmFjayksdGhpcy5UYWdSZXF1ZXN0X19jbGVhbigpfSxjcmVhdGVqcy5NZWRpYVRhZ1JlcXVlc3Q9Y3JlYXRlanMucHJvbW90ZSh0LFwiVGFnUmVxdWVzdFwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCl7dGhpcy5BYnN0cmFjdFJlcXVlc3RfY29uc3RydWN0b3IodCksdGhpcy5fcmVxdWVzdD1udWxsLHRoaXMuX2xvYWRUaW1lb3V0PW51bGwsdGhpcy5feGhyTGV2ZWw9MSx0aGlzLl9yZXNwb25zZT1udWxsLHRoaXMuX3Jhd1Jlc3BvbnNlPW51bGwsdGhpcy5fY2FuY2VsZWQ9ITEsdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZFN0YXJ0LHRoaXMpLHRoaXMuX2hhbmRsZVByb2dyZXNzUHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUHJvZ3Jlc3MsdGhpcyksdGhpcy5faGFuZGxlQWJvcnRQcm94eT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVBYm9ydCx0aGlzKSx0aGlzLl9oYW5kbGVFcnJvclByb3h5PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUVycm9yLHRoaXMpLHRoaXMuX2hhbmRsZVRpbWVvdXRQcm94eT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLHRoaXMuX2hhbmRsZUxvYWRQcm94eT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVMb2FkLHRoaXMpLHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2VQcm94eT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlLHRoaXMpLHRoaXMuX2NyZWF0ZVhIUih0KX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5BYnN0cmFjdFJlcXVlc3QpO3QuQUNUSVZFWF9WRVJTSU9OUz1bXCJNc3htbDIuWE1MSFRUUC42LjBcIixcIk1zeG1sMi5YTUxIVFRQLjUuMFwiLFwiTXN4bWwyLlhNTEhUVFAuNC4wXCIsXCJNU1hNTDIuWE1MSFRUUC4zLjBcIixcIk1TWE1MMi5YTUxIVFRQXCIsXCJNaWNyb3NvZnQuWE1MSFRUUFwiXSxlLmdldFJlc3VsdD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5fcmF3UmVzcG9uc2U/dGhpcy5fcmF3UmVzcG9uc2U6dGhpcy5fcmVzcG9uc2V9LGUuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxlZD0hMCx0aGlzLl9jbGVhbigpLHRoaXMuX3JlcXVlc3QuYWJvcnQoKX0sZS5sb2FkPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fcmVxdWVzdCl7bnVsbCE9dGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyPyh0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIix0aGlzLl9oYW5kbGVMb2FkU3RhcnRQcm94eSwhMSksdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIix0aGlzLl9oYW5kbGVQcm9ncmVzc1Byb3h5LCExKSx0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHRoaXMuX2hhbmRsZUFib3J0UHJveHksITEpLHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcy5faGFuZGxlRXJyb3JQcm94eSwhMSksdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwidGltZW91dFwiLHRoaXMuX2hhbmRsZVRpbWVvdXRQcm94eSwhMSksdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHRoaXMuX2hhbmRsZUxvYWRQcm94eSwhMSksdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2VQcm94eSwhMSkpOih0aGlzLl9yZXF1ZXN0Lm9ubG9hZHN0YXJ0PXRoaXMuX2hhbmRsZUxvYWRTdGFydFByb3h5LHRoaXMuX3JlcXVlc3Qub25wcm9ncmVzcz10aGlzLl9oYW5kbGVQcm9ncmVzc1Byb3h5LHRoaXMuX3JlcXVlc3Qub25hYm9ydD10aGlzLl9oYW5kbGVBYm9ydFByb3h5LHRoaXMuX3JlcXVlc3Qub25lcnJvcj10aGlzLl9oYW5kbGVFcnJvclByb3h5LHRoaXMuX3JlcXVlc3Qub250aW1lb3V0PXRoaXMuX2hhbmRsZVRpbWVvdXRQcm94eSx0aGlzLl9yZXF1ZXN0Lm9ubG9hZD10aGlzLl9oYW5kbGVMb2FkUHJveHksdGhpcy5fcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2U9dGhpcy5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZVByb3h5KSwxPT10aGlzLl94aHJMZXZlbCYmKHRoaXMuX2xvYWRUaW1lb3V0PXNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCx0aGlzKSx0aGlzLl9pdGVtLmxvYWRUaW1lb3V0KSk7dHJ5e3RoaXMuX2l0ZW0udmFsdWVzP3RoaXMuX3JlcXVlc3Quc2VuZChjcmVhdGVqcy5VUkxVdGlscy5mb3JtYXRRdWVyeVN0cmluZyh0aGlzLl9pdGVtLnZhbHVlcykpOnRoaXMuX3JlcXVlc3Quc2VuZCgpfWNhdGNoKHQpe3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlhIUl9TRU5EXCIsbnVsbCx0KSl9fWVsc2UgdGhpcy5faGFuZGxlRXJyb3IoKX0sZS5zZXRSZXNwb25zZVR5cGU9ZnVuY3Rpb24odCl7XCJibG9iXCI9PT10JiYodD13aW5kb3cuVVJMP1wiYmxvYlwiOlwiYXJyYXlidWZmZXJcIix0aGlzLl9yZXNwb25zZVR5cGU9dCksdGhpcy5fcmVxdWVzdC5yZXNwb25zZVR5cGU9dH0sZS5nZXRBbGxSZXNwb25zZUhlYWRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMgaW5zdGFuY2VvZiBGdW5jdGlvbj90aGlzLl9yZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpOm51bGx9LGUuZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIgaW5zdGFuY2VvZiBGdW5jdGlvbj90aGlzLl9yZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKHQpOm51bGx9LGUuX2hhbmRsZVByb2dyZXNzPWZ1bmN0aW9uKHQpe3ZhciBlOyF0fHwwPHQubG9hZGVkJiYwPT10LnRvdGFsfHwoZT1uZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudCh0LmxvYWRlZCx0LnRvdGFsKSx0aGlzLmRpc3BhdGNoRXZlbnQoZSkpfSxlLl9oYW5kbGVMb2FkU3RhcnQ9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJsb2Fkc3RhcnRcIil9LGUuX2hhbmRsZUFib3J0PWZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFwiWEhSX0FCT1JURURcIixudWxsLHQpKX0sZS5faGFuZGxlRXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYW4oKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQodC5tZXNzYWdlKSl9LGUuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2U9ZnVuY3Rpb24odCl7ND09dGhpcy5fcmVxdWVzdC5yZWFkeVN0YXRlJiZ0aGlzLl9oYW5kbGVMb2FkKCl9LGUuX2hhbmRsZUxvYWQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMubG9hZGVkKXt0aGlzLmxvYWRlZD0hMDt2YXIgZSxpPXRoaXMuX2NoZWNrRXJyb3IoKTtpZihpKXRoaXMuX2hhbmRsZUVycm9yKGkpO2Vsc2V7aWYodGhpcy5fcmVzcG9uc2U9dGhpcy5fZ2V0UmVzcG9uc2UoKSxcImFycmF5YnVmZmVyXCI9PT10aGlzLl9yZXNwb25zZVR5cGUpdHJ5e3RoaXMuX3Jlc3BvbnNlPW5ldyBCbG9iKFt0aGlzLl9yZXNwb25zZV0pfWNhdGNoKHQpe3dpbmRvdy5CbG9iQnVpbGRlcj13aW5kb3cuQmxvYkJ1aWxkZXJ8fHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlcnx8d2luZG93Lk1vekJsb2JCdWlsZGVyfHx3aW5kb3cuTVNCbG9iQnVpbGRlcixcIlR5cGVFcnJvclwiPT09dC5uYW1lJiZ3aW5kb3cuQmxvYkJ1aWxkZXImJigoZT1uZXcgQmxvYkJ1aWxkZXIpLmFwcGVuZCh0aGlzLl9yZXNwb25zZSksdGhpcy5fcmVzcG9uc2U9ZS5nZXRCbG9iKCkpfXRoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FdmVudChcImNvbXBsZXRlXCIpKX19fSxlLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFwiUFJFTE9BRF9USU1FT1VUXCIsbnVsbCx0KSl9LGUuX2NoZWNrRXJyb3I9ZnVuY3Rpb24oKXt2YXIgdD1wYXJzZUludCh0aGlzLl9yZXF1ZXN0LnN0YXR1cyk7cmV0dXJuIDQwMDw9dCYmdDw9NTk5P25ldyBFcnJvcih0KTowPT10JiYvXmh0dHBzPzovLnRlc3QobG9jYXRpb24ucHJvdG9jb2wpP25ldyBFcnJvcigwKTpudWxsfSxlLl9nZXRSZXNwb25zZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX3Jlc3BvbnNlKXJldHVybiB0aGlzLl9yZXNwb25zZTtpZihudWxsIT10aGlzLl9yZXF1ZXN0LnJlc3BvbnNlKXJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlO3RyeXtpZihudWxsIT10aGlzLl9yZXF1ZXN0LnJlc3BvbnNlVGV4dClyZXR1cm4gdGhpcy5fcmVxdWVzdC5yZXNwb25zZVRleHR9Y2F0Y2godCl7fXRyeXtpZihudWxsIT10aGlzLl9yZXF1ZXN0LnJlc3BvbnNlWE1MKXJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlWE1MfWNhdGNoKHQpe31yZXR1cm4gbnVsbH0sZS5fY3JlYXRlWEhSPWZ1bmN0aW9uKHQpe3ZhciBlPWNyZWF0ZWpzLlVSTFV0aWxzLmlzQ3Jvc3NEb21haW4odCksaT17fSxyPW51bGw7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXI9bmV3IFhNTEh0dHBSZXF1ZXN0LGUmJnZvaWQgMD09PXIud2l0aENyZWRlbnRpYWxzJiZ3aW5kb3cuWERvbWFpblJlcXVlc3QmJihyPW5ldyBYRG9tYWluUmVxdWVzdCk7ZWxzZXtmb3IodmFyIG49MCxhPXMuQUNUSVZFWF9WRVJTSU9OUy5sZW5ndGg7bjxhO24rKyl7dmFyIG89cy5BQ1RJVkVYX1ZFUlNJT05TW25dO3RyeXtyPW5ldyBBY3RpdmVYT2JqZWN0KG8pO2JyZWFrfWNhdGNoKHQpe319aWYobnVsbD09cilyZXR1cm4hMX1udWxsPT10Lm1pbWVUeXBlJiZjcmVhdGVqcy5SZXF1ZXN0VXRpbHMuaXNUZXh0KHQudHlwZSkmJih0Lm1pbWVUeXBlPVwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiKSx0Lm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZSh0Lm1pbWVUeXBlKSx0aGlzLl94aHJMZXZlbD1cInN0cmluZ1wiPT10eXBlb2Ygci5yZXNwb25zZVR5cGU/MjoxO3ZhciBoPW51bGwsaD10Lm1ldGhvZD09Y3JlYXRlanMuTWV0aG9kcy5HRVQ/Y3JlYXRlanMuVVJMVXRpbHMuYnVpbGRVUkkodC5zcmMsdC52YWx1ZXMpOnQuc3JjO2lmKHIub3Blbih0Lm1ldGhvZHx8Y3JlYXRlanMuTWV0aG9kcy5HRVQsaCwhMCksZSYmciBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0JiYxPT10aGlzLl94aHJMZXZlbCYmKGkuT3JpZ2luPWxvY2F0aW9uLm9yaWdpbiksdC52YWx1ZXMmJnQubWV0aG9kPT1jcmVhdGVqcy5NZXRob2RzLlBPU1QmJihpW1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpLGV8fGlbXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHwoaVtcIlgtUmVxdWVzdGVkLVdpdGhcIl09XCJYTUxIdHRwUmVxdWVzdFwiKSx0LmhlYWRlcnMpZm9yKHZhciBjIGluIHQuaGVhZGVycylpW2NdPXQuaGVhZGVyc1tjXTtmb3IoYyBpbiBpKXIuc2V0UmVxdWVzdEhlYWRlcihjLGlbY10pO3JldHVybiByIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QmJnZvaWQgMCE9PXQud2l0aENyZWRlbnRpYWxzJiYoci53aXRoQ3JlZGVudGlhbHM9dC53aXRoQ3JlZGVudGlhbHMpLHRoaXMuX3JlcXVlc3Q9ciwhMH0sZS5fY2xlYW49ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpLG51bGwhPXRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcj8odGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZHN0YXJ0XCIsdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHkpLHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsdGhpcy5faGFuZGxlUHJvZ3Jlc3NQcm94eSksdGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIix0aGlzLl9oYW5kbGVBYm9ydFByb3h5KSx0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMuX2hhbmRsZUVycm9yUHJveHkpLHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRpbWVvdXRcIix0aGlzLl9oYW5kbGVUaW1lb3V0UHJveHkpLHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzLl9oYW5kbGVMb2FkUHJveHkpLHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIix0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlUHJveHkpKToodGhpcy5fcmVxdWVzdC5vbmxvYWRzdGFydD1udWxsLHRoaXMuX3JlcXVlc3Qub25wcm9ncmVzcz1udWxsLHRoaXMuX3JlcXVlc3Qub25hYm9ydD1udWxsLHRoaXMuX3JlcXVlc3Qub25lcnJvcj1udWxsLHRoaXMuX3JlcXVlc3Qub250aW1lb3V0PW51bGwsdGhpcy5fcmVxdWVzdC5vbmxvYWQ9bnVsbCx0aGlzLl9yZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsKX0sZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1ByZWxvYWRKUyBYSFJSZXF1ZXN0XVwifSxjcmVhdGVqcy5YSFJSZXF1ZXN0PWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0UmVxdWVzdFwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoKSx0aGlzLl9wbHVnaW5zPVtdLHRoaXMuX3R5cGVDYWxsYmFja3M9e30sdGhpcy5fZXh0ZW5zaW9uQ2FsbGJhY2tzPXt9LHRoaXMubmV4dD1udWxsLHRoaXMubWFpbnRhaW5TY3JpcHRPcmRlcj0hMCx0aGlzLnN0b3BPbkVycm9yPSExLHRoaXMuX21heENvbm5lY3Rpb25zPTEsdGhpcy5fYXZhaWxhYmxlTG9hZGVycz1bY3JlYXRlanMuRm9udExvYWRlcixjcmVhdGVqcy5JbWFnZUxvYWRlcixjcmVhdGVqcy5KYXZhU2NyaXB0TG9hZGVyLGNyZWF0ZWpzLkNTU0xvYWRlcixjcmVhdGVqcy5KU09OTG9hZGVyLGNyZWF0ZWpzLkpTT05QTG9hZGVyLGNyZWF0ZWpzLlNvdW5kTG9hZGVyLGNyZWF0ZWpzLk1hbmlmZXN0TG9hZGVyLGNyZWF0ZWpzLlNwcml0ZVNoZWV0TG9hZGVyLGNyZWF0ZWpzLlhNTExvYWRlcixjcmVhdGVqcy5TVkdMb2FkZXIsY3JlYXRlanMuQmluYXJ5TG9hZGVyLGNyZWF0ZWpzLlZpZGVvTG9hZGVyLGNyZWF0ZWpzLlRleHRMb2FkZXJdLHRoaXMuX2RlZmF1bHRMb2FkZXJMZW5ndGg9dGhpcy5fYXZhaWxhYmxlTG9hZGVycy5sZW5ndGgsdGhpcy5pbml0KHQsZSxpKX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksaD10O3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhoLHtQT1NUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLk1ldGhvZHMuUE9TVH0sXCJBYnN0cmFjdExvYWRlci5QT1NUXCIpfSxHRVQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuTWV0aG9kcy5HRVR9LFwiQWJzdHJhY3RMb2FkZXIuR0VUXCIpfSxCSU5BUlk6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuQklOQVJZfSxcIkFic3RyYWN0TG9hZGVyLkJJTkFSWVwiKX0sQ1NTOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkNTU30sXCJBYnN0cmFjdExvYWRlci5DU1NcIil9LEZPTlQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuRk9OVH0sXCJBYnN0cmFjdExvYWRlci5GT05UXCIpfSxGT05UQ1NTOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkZPTlRDU1N9LFwiQWJzdHJhY3RMb2FkZXIuRk9OVENTU1wiKX0sSU1BR0U6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuSU1BR0V9LFwiQWJzdHJhY3RMb2FkZXIuSU1BR0VcIil9LEpBVkFTQ1JJUFQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVH0sXCJBYnN0cmFjdExvYWRlci5KQVZBU0NSSVBUXCIpfSxKU09OOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpTT059LFwiQWJzdHJhY3RMb2FkZXIuSlNPTlwiKX0sSlNPTlA6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuSlNPTlB9LFwiQWJzdHJhY3RMb2FkZXIuSlNPTlBcIil9LE1BTklGRVNUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLk1BTklGRVNUfSxcIkFic3RyYWN0TG9hZGVyLk1BTklGRVNUXCIpfSxTT1VORDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5TT1VORH0sXCJBYnN0cmFjdExvYWRlci5TT1VORFwiKX0sVklERU86e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuVklERU99LFwiQWJzdHJhY3RMb2FkZXIuVklERU9cIil9LFNQUklURVNIRUVUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNQUklURVNIRUVUfSxcIkFic3RyYWN0TG9hZGVyLlNQUklURVNIRUVUXCIpfSxTVkc6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuU1ZHfSxcIkFic3RyYWN0TG9hZGVyLlNWR1wiKX0sVEVYVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5URVhUfSxcIkFic3RyYWN0TG9hZGVyLlRFWFRcIil9LFhNTDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5YTUx9LFwiQWJzdHJhY3RMb2FkZXIuWE1MXCIpfX0pfWNhdGNoKHQpe31lLmluaXQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMucHJlZmVyWEhSPSEwLHRoaXMuX3ByZWZlclhIUj0hMCx0aGlzLnNldFByZWZlclhIUih0KSx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fYmFzZVBhdGg9ZSx0aGlzLl9jcm9zc09yaWdpbj1pLHRoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITEsdGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdD1udWxsLHRoaXMuX2N1cnJlbnRMb2Fkcz1bXSx0aGlzLl9sb2FkUXVldWU9W10sdGhpcy5fbG9hZFF1ZXVlQmFja3VwPVtdLHRoaXMuX2xvYWRJdGVtc0J5SWQ9e30sdGhpcy5fbG9hZEl0ZW1zQnlTcmM9e30sdGhpcy5fbG9hZGVkUmVzdWx0cz17fSx0aGlzLl9sb2FkZWRSYXdSZXN1bHRzPXt9LHRoaXMuX251bUl0ZW1zPTAsdGhpcy5fbnVtSXRlbXNMb2FkZWQ9MCx0aGlzLl9zY3JpcHRPcmRlcj1bXSx0aGlzLl9sb2FkZWRTY3JpcHRzPVtdLHRoaXMuX2xhc3RQcm9ncmVzcz1OYU59LGUucmVnaXN0ZXJMb2FkZXI9ZnVuY3Rpb24odCl7aWYoIXR8fCF0LmNhbkxvYWRJdGVtKXRocm93IG5ldyBFcnJvcihcImxvYWRlciBpcyBvZiBhbiBpbmNvcnJlY3QgdHlwZS5cIik7aWYoLTEhPXRoaXMuX2F2YWlsYWJsZUxvYWRlcnMuaW5kZXhPZih0KSl0aHJvdyBuZXcgRXJyb3IoXCJsb2FkZXIgYWxyZWFkeSBleGlzdHMuXCIpO3RoaXMuX2F2YWlsYWJsZUxvYWRlcnMudW5zaGlmdCh0KX0sZS51bnJlZ2lzdGVyTG9hZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2F2YWlsYWJsZUxvYWRlcnMuaW5kZXhPZih0KTstMSE9ZSYmZTx0aGlzLl9kZWZhdWx0TG9hZGVyTGVuZ3RoLTEmJnRoaXMuX2F2YWlsYWJsZUxvYWRlcnMuc3BsaWNlKGUsMSl9LGUuc2V0UHJlZmVyWEhSPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByZWZlclhIUj0wIT10JiZudWxsIT13aW5kb3cuWE1MSHR0cFJlcXVlc3QsdGhpcy5wcmVmZXJYSFJ9LGUucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmUoKX0sZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtpZih0JiYhQXJyYXkuaXNBcnJheSh0KSllPVt0XTtlbHNlIGlmKHQpZT10O2Vsc2UgaWYoMDxhcmd1bWVudHMubGVuZ3RoKXJldHVybjt2YXIgaT0hMTtpZihlKXtmb3IoO2UubGVuZ3RoOyl7Zm9yKHZhciBzPWUucG9wKCkscj10aGlzLmdldFJlc3VsdChzKSxuPXRoaXMuX2xvYWRRdWV1ZS5sZW5ndGgtMTswPD1uO24tLSlpZigoYT10aGlzLl9sb2FkUXVldWVbbl0uZ2V0SXRlbSgpKS5pZD09c3x8YS5zcmM9PXMpe3RoaXMuX2xvYWRRdWV1ZS5zcGxpY2UobiwxKVswXS5jYW5jZWwoKTticmVha31mb3Iobj10aGlzLl9sb2FkUXVldWVCYWNrdXAubGVuZ3RoLTE7MDw9bjtuLS0paWYoKGE9dGhpcy5fbG9hZFF1ZXVlQmFja3VwW25dLmdldEl0ZW0oKSkuaWQ9PXN8fGEuc3JjPT1zKXt0aGlzLl9sb2FkUXVldWVCYWNrdXAuc3BsaWNlKG4sMSlbMF0uY2FuY2VsKCk7YnJlYWt9aWYocil0aGlzLl9kaXNwb3NlSXRlbSh0aGlzLmdldEl0ZW0ocykpO2Vsc2UgZm9yKHZhciBuPXRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGgtMTswPD1uO24tLSl7dmFyIGE9dGhpcy5fY3VycmVudExvYWRzW25dLmdldEl0ZW0oKTtpZihhLmlkPT1zfHxhLnNyYz09cyl7dGhpcy5fY3VycmVudExvYWRzLnNwbGljZShuLDEpWzBdLmNhbmNlbCgpLGk9ITA7YnJlYWt9fX1pJiZ0aGlzLl9sb2FkTmV4dCgpfWVsc2V7Zm9yKHZhciBvIGluIHRoaXMuY2xvc2UoKSx0aGlzLl9sb2FkSXRlbXNCeUlkKXRoaXMuX2Rpc3Bvc2VJdGVtKHRoaXMuX2xvYWRJdGVtc0J5SWRbb10pO3RoaXMuaW5pdCh0aGlzLnByZWZlclhIUix0aGlzLl9iYXNlUGF0aCl9fSxlLnJlc2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuY2xvc2UoKSx0aGlzLl9sb2FkSXRlbXNCeUlkKXRoaXMuX2Rpc3Bvc2VJdGVtKHRoaXMuX2xvYWRJdGVtc0J5SWRbdF0pO2Zvcih2YXIgZT1bXSxpPTAscz10aGlzLl9sb2FkUXVldWVCYWNrdXAubGVuZ3RoO2k8cztpKyspZS5wdXNoKHRoaXMuX2xvYWRRdWV1ZUJhY2t1cFtpXS5nZXRJdGVtKCkpO3RoaXMubG9hZE1hbmlmZXN0KGUsITEpfSxlLmluc3RhbGxQbHVnaW49ZnVuY3Rpb24odCl7aWYobnVsbCE9dCYmbnVsbCE9dC5nZXRQcmVsb2FkSGFuZGxlcnMpe3RoaXMuX3BsdWdpbnMucHVzaCh0KTt2YXIgZT10LmdldFByZWxvYWRIYW5kbGVycygpO2lmKGUuc2NvcGU9dCxudWxsIT1lLnR5cGVzKWZvcih2YXIgaT0wLHM9ZS50eXBlcy5sZW5ndGg7aTxzO2krKyl0aGlzLl90eXBlQ2FsbGJhY2tzW2UudHlwZXNbaV1dPWU7aWYobnVsbCE9ZS5leHRlbnNpb25zKWZvcihpPTAscz1lLmV4dGVuc2lvbnMubGVuZ3RoO2k8cztpKyspdGhpcy5fZXh0ZW5zaW9uQ2FsbGJhY2tzW2UuZXh0ZW5zaW9uc1tpXV09ZX19LGUuc2V0TWF4Q29ubmVjdGlvbnM9ZnVuY3Rpb24odCl7dGhpcy5fbWF4Q29ubmVjdGlvbnM9dCwhdGhpcy5fcGF1c2VkJiYwPHRoaXMuX2xvYWRRdWV1ZS5sZW5ndGgmJnRoaXMuX2xvYWROZXh0KCl9LGUubG9hZEZpbGU9ZnVuY3Rpb24odCxlLGkpe3ZhciBzO251bGwhPXQ/KHRoaXMuX2FkZEl0ZW0odCxudWxsLGkpLCExIT09ZT90aGlzLnNldFBhdXNlZCghMSk6dGhpcy5zZXRQYXVzZWQoITApKToocz1uZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlBSRUxPQURfTk9fRklMRVwiKSx0aGlzLl9zZW5kRXJyb3IocykpfSxlLmxvYWRNYW5pZmVzdD1mdW5jdGlvbih0LGUsaSl7dmFyIHM9bnVsbCxyPW51bGw7aWYoQXJyYXkuaXNBcnJheSh0KSl7aWYoMD09dC5sZW5ndGgpe3ZhciBuPW5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFwiUFJFTE9BRF9NQU5JRkVTVF9FTVBUWVwiKTtyZXR1cm4gdm9pZCB0aGlzLl9zZW5kRXJyb3Iobil9cz10fWVsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcz1be3NyYzp0LHR5cGU6aC5NQU5JRkVTVH1dO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpe249bmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXCJQUkVMT0FEX01BTklGRVNUX05VTExcIik7cmV0dXJuIHZvaWQgdGhpcy5fc2VuZEVycm9yKG4pfXZvaWQgMCE9PXQuc3JjPyhudWxsPT10LnR5cGU/dC50eXBlPWguTUFOSUZFU1Q6dC50eXBlIT1oLk1BTklGRVNUJiYobj1uZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlBSRUxPQURfTUFOSUZFU1RfVFlQRVwiKSx0aGlzLl9zZW5kRXJyb3IobikpLHM9W3RdKTp2b2lkIDAhPT10Lm1hbmlmZXN0JiYocz10Lm1hbmlmZXN0LHI9dC5wYXRoKX1mb3IodmFyIGE9MCxvPXMubGVuZ3RoO2E8bzthKyspdGhpcy5fYWRkSXRlbShzW2FdLHIsaSk7ITEhPT1lP3RoaXMuc2V0UGF1c2VkKCExKTp0aGlzLnNldFBhdXNlZCghMCl9LGUubG9hZD1mdW5jdGlvbigpe3RoaXMuc2V0UGF1c2VkKCExKX0sZS5nZXRJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sb2FkSXRlbXNCeUlkW3RdfHx0aGlzLl9sb2FkSXRlbXNCeVNyY1t0XX0sZS5nZXRSZXN1bHQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9sb2FkSXRlbXNCeUlkW3RdfHx0aGlzLl9sb2FkSXRlbXNCeVNyY1t0XTtpZihudWxsPT1pKXJldHVybiBudWxsO3ZhciBzPWkuaWQ7cmV0dXJuIGUmJnRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbc10/dGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tzXTp0aGlzLl9sb2FkZWRSZXN1bHRzW3NdfSxlLmdldEl0ZW1zPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgaSBpbiB0aGlzLl9sb2FkSXRlbXNCeUlkKXt2YXIgcz10aGlzLl9sb2FkSXRlbXNCeUlkW2ldLHI9dGhpcy5nZXRSZXN1bHQoaSk7ITA9PT10JiZudWxsPT1yfHxlLnB1c2goe2l0ZW06cyxyZXN1bHQ6cixyYXdSZXN1bHQ6dGhpcy5nZXRSZXN1bHQoaSwhMCl9KX1yZXR1cm4gZX0sZS5zZXRQYXVzZWQ9ZnVuY3Rpb24odCl7dGhpcy5fcGF1c2VkPXQsdGhpcy5fcGF1c2VkfHx0aGlzLl9sb2FkTmV4dCgpfSxlLmNsb3NlPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoOyl0aGlzLl9jdXJyZW50TG9hZHMucG9wKCkuY2FuY2VsKCk7dGhpcy5fc2NyaXB0T3JkZXIubGVuZ3RoPTAsdGhpcy5fbG9hZGVkU2NyaXB0cy5sZW5ndGg9MCx0aGlzLmxvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITEsdGhpcy5faXRlbUNvdW50PTAsdGhpcy5fbGFzdFByb2dyZXNzPU5hTn0sZS5fYWRkSXRlbT1mdW5jdGlvbih0LGUsaSl7dmFyIHMscj10aGlzLl9jcmVhdGVMb2FkSXRlbSh0LGUsaSk7bnVsbD09cnx8bnVsbCE9KHM9dGhpcy5fY3JlYXRlTG9hZGVyKHIpKSYmKFwicGx1Z2luc1wiaW4gcyYmKHMucGx1Z2lucz10aGlzLl9wbHVnaW5zKSxyLl9sb2FkZXI9cyx0aGlzLl9sb2FkUXVldWUucHVzaChzKSx0aGlzLl9sb2FkUXVldWVCYWNrdXAucHVzaChzKSx0aGlzLl9udW1JdGVtcysrLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCksKHRoaXMubWFpbnRhaW5TY3JpcHRPcmRlciYmci50eXBlPT1jcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUfHwhMD09PXIubWFpbnRhaW5PcmRlcikmJih0aGlzLl9zY3JpcHRPcmRlci5wdXNoKHIpLHRoaXMuX2xvYWRlZFNjcmlwdHMucHVzaChudWxsKSkpfSxlLl9jcmVhdGVMb2FkSXRlbT1mdW5jdGlvbih0LGUsaSl7dmFyIHM9Y3JlYXRlanMuTG9hZEl0ZW0uY3JlYXRlKHQpO2lmKG51bGw9PXMpcmV0dXJuIG51bGw7dmFyIHI9XCJcIixuPWl8fHRoaXMuX2Jhc2VQYXRoO2lmKHMuc3JjIGluc3RhbmNlb2YgT2JqZWN0KXtpZighcy50eXBlKXJldHVybiBudWxsO2U/KHI9ZSxvPWNyZWF0ZWpzLlVSTFV0aWxzLnBhcnNlVVJJKGUpLG51bGw9PW58fG8uYWJzb2x1dGV8fG8ucmVsYXRpdmV8fChyPW4rcikpOm51bGwhPW4mJihyPW4pfWVsc2V7dmFyIGE9Y3JlYXRlanMuVVJMVXRpbHMucGFyc2VVUkkocy5zcmMpO2EuZXh0ZW5zaW9uJiYocy5leHQ9YS5leHRlbnNpb24pLG51bGw9PXMudHlwZSYmKHMudHlwZT1jcmVhdGVqcy5SZXF1ZXN0VXRpbHMuZ2V0VHlwZUJ5RXh0ZW5zaW9uKHMuZXh0KSk7dmFyIG8saD1zLnNyYzthLmFic29sdXRlfHxhLnJlbGF0aXZlfHwoZT8ocj1lLG89Y3JlYXRlanMuVVJMVXRpbHMucGFyc2VVUkkoZSksaD1lK2gsbnVsbD09bnx8by5hYnNvbHV0ZXx8by5yZWxhdGl2ZXx8KHI9bityKSk6bnVsbCE9biYmKHI9bikpLHMuc3JjPXIrcy5zcmN9cy5wYXRoPXIsdm9pZCAwIT09cy5pZCYmbnVsbCE9PXMuaWQmJlwiXCIhPT1zLmlkfHwocy5pZD1oKTt2YXIgYz10aGlzLl90eXBlQ2FsbGJhY2tzW3MudHlwZV18fHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrc1tzLmV4dF07aWYoYyl7dmFyIHU9Yy5jYWxsYmFjay5jYWxsKGMuc2NvcGUscyx0aGlzKTtpZighMT09PXUpcmV0dXJuIG51bGw7ITA9PT11fHxudWxsIT11JiYocy5fbG9hZGVyPXUpLG51bGwhPShhPWNyZWF0ZWpzLlVSTFV0aWxzLnBhcnNlVVJJKHMuc3JjKSkuZXh0ZW5zaW9uJiYocy5leHQ9YS5leHRlbnNpb24pfXJldHVybiB0aGlzLl9sb2FkSXRlbXNCeUlkW3MuaWRdPXMsbnVsbD09KHRoaXMuX2xvYWRJdGVtc0J5U3JjW3Muc3JjXT1zKS5jcm9zc09yaWdpbiYmKHMuY3Jvc3NPcmlnaW49dGhpcy5fY3Jvc3NPcmlnaW4pLHN9LGUuX2NyZWF0ZUxvYWRlcj1mdW5jdGlvbih0KXtpZihudWxsIT10Ll9sb2FkZXIpcmV0dXJuIHQuX2xvYWRlcjtmb3IodmFyIGU9dGhpcy5wcmVmZXJYSFIsaT0wO2k8dGhpcy5fYXZhaWxhYmxlTG9hZGVycy5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLl9hdmFpbGFibGVMb2FkZXJzW2ldO2lmKHMmJnMuY2FuTG9hZEl0ZW0odCkpcmV0dXJuIG5ldyBzKHQsZSl9cmV0dXJuIG51bGx9LGUuX2xvYWROZXh0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdXNlZCl7dGhpcy5fbG9hZFN0YXJ0V2FzRGlzcGF0Y2hlZHx8KHRoaXMuX3NlbmRMb2FkU3RhcnQoKSx0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSEwKSx0aGlzLl9udW1JdGVtcz09dGhpcy5fbnVtSXRlbXNMb2FkZWQ/KHRoaXMubG9hZGVkPSEwLHRoaXMuX3NlbmRDb21wbGV0ZSgpLHRoaXMubmV4dCYmdGhpcy5uZXh0LmxvYWQmJnRoaXMubmV4dC5sb2FkKCkpOnRoaXMubG9hZGVkPSExO2Zvcih2YXIgdD0wO3Q8dGhpcy5fbG9hZFF1ZXVlLmxlbmd0aCYmISh0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoPj10aGlzLl9tYXhDb25uZWN0aW9ucyk7dCsrKXt2YXIgZT10aGlzLl9sb2FkUXVldWVbdF07dGhpcy5fY2FuU3RhcnRMb2FkKGUpJiYodGhpcy5fbG9hZFF1ZXVlLnNwbGljZSh0LDEpLHQtLSx0aGlzLl9sb2FkSXRlbShlKSl9fX0sZS5fbG9hZEl0ZW09ZnVuY3Rpb24odCl7dC5vbihcImZpbGVsb2FkXCIsdGhpcy5faGFuZGxlRmlsZUxvYWQsdGhpcyksdC5vbihcInByb2dyZXNzXCIsdGhpcy5faGFuZGxlUHJvZ3Jlc3MsdGhpcyksdC5vbihcImNvbXBsZXRlXCIsdGhpcy5faGFuZGxlRmlsZUNvbXBsZXRlLHRoaXMpLHQub24oXCJlcnJvclwiLHRoaXMuX2hhbmRsZUVycm9yLHRoaXMpLHQub24oXCJmaWxlZXJyb3JcIix0aGlzLl9oYW5kbGVGaWxlRXJyb3IsdGhpcyksdGhpcy5fY3VycmVudExvYWRzLnB1c2godCksdGhpcy5fc2VuZEZpbGVTdGFydCh0LmdldEl0ZW0oKSksdC5sb2FkKCl9LGUuX2hhbmRsZUZpbGVMb2FkPWZ1bmN0aW9uKHQpe3QudGFyZ2V0PW51bGwsdGhpcy5kaXNwYXRjaEV2ZW50KHQpfSxlLl9oYW5kbGVGaWxlRXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXCJGSUxFX0xPQURfRVJST1JcIixudWxsLHQuaXRlbSk7dGhpcy5fc2VuZEVycm9yKGUpfSxlLl9oYW5kbGVFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldDt0aGlzLl9udW1JdGVtc0xvYWRlZCsrLHRoaXMuX2ZpbmlzaE9yZGVyZWRJdGVtKGUsITApLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCk7dmFyIGk9bmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXCJGSUxFX0xPQURfRVJST1JcIixudWxsLGUuZ2V0SXRlbSgpKTt0aGlzLl9zZW5kRXJyb3IoaSksdGhpcy5zdG9wT25FcnJvcj90aGlzLnNldFBhdXNlZCghMCk6KHRoaXMuX3JlbW92ZUxvYWRJdGVtKGUpLHRoaXMuX2NsZWFuTG9hZEl0ZW0oZSksdGhpcy5fbG9hZE5leHQoKSl9LGUuX2hhbmRsZUZpbGVDb21wbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldCxpPWUuZ2V0SXRlbSgpLHM9ZS5nZXRSZXN1bHQoKTt0aGlzLl9sb2FkZWRSZXN1bHRzW2kuaWRdPXM7dmFyIHI9ZS5nZXRSZXN1bHQoITApO251bGwhPXImJnIhPT1zJiYodGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tpLmlkXT1yKSx0aGlzLl9zYXZlTG9hZGVkSXRlbXMoZSksdGhpcy5fcmVtb3ZlTG9hZEl0ZW0oZSksdGhpcy5fZmluaXNoT3JkZXJlZEl0ZW0oZSl8fHRoaXMuX3Byb2Nlc3NGaW5pc2hlZExvYWQoaSxlKSx0aGlzLl9jbGVhbkxvYWRJdGVtKGUpfSxlLl9zYXZlTG9hZGVkSXRlbXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRMb2FkZWRJdGVtcygpO2lmKG51bGwhPT1lKWZvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcz1lW2ldLml0ZW07dGhpcy5fbG9hZEl0ZW1zQnlTcmNbcy5zcmNdPXMsdGhpcy5fbG9hZEl0ZW1zQnlJZFtzLmlkXT1zLHRoaXMuX2xvYWRlZFJlc3VsdHNbcy5pZF09ZVtpXS5yZXN1bHQsdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tzLmlkXT1lW2ldLnJhd1Jlc3VsdH19LGUuX2ZpbmlzaE9yZGVyZWRJdGVtPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRJdGVtKCk7aWYodGhpcy5tYWludGFpblNjcmlwdE9yZGVyJiZpLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFR8fGkubWFpbnRhaW5PcmRlcil7dCBpbnN0YW5jZW9mIGNyZWF0ZWpzLkphdmFTY3JpcHRMb2FkZXImJih0aGlzLl9jdXJyZW50bHlMb2FkaW5nU2NyaXB0PSExKTt2YXIgcz1jcmVhdGVqcy5pbmRleE9mKHRoaXMuX3NjcmlwdE9yZGVyLGkpO3JldHVybi0xPT1zPyExOih0aGlzLl9sb2FkZWRTY3JpcHRzW3NdPSEwPT09ZXx8aSx0aGlzLl9jaGVja1NjcmlwdExvYWRPcmRlcigpLCEwKX1yZXR1cm4hMX0sZS5fY2hlY2tTY3JpcHRMb2FkT3JkZXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fbG9hZGVkU2NyaXB0cy5sZW5ndGgsZT0wO2U8dDtlKyspe3ZhciBpLHMscj10aGlzLl9sb2FkZWRTY3JpcHRzW2VdO2lmKG51bGw9PT1yKWJyZWFrOyEwIT09ciYmKGk9dGhpcy5fbG9hZGVkUmVzdWx0c1tyLmlkXSxyLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQmJmNyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvSGVhZChpKSxzPXIuX2xvYWRlcix0aGlzLl9wcm9jZXNzRmluaXNoZWRMb2FkKHIscyksdGhpcy5fbG9hZGVkU2NyaXB0c1tlXT0hMCl9fSxlLl9wcm9jZXNzRmluaXNoZWRMb2FkPWZ1bmN0aW9uKHQsZSl7dmFyIGk7dGhpcy5fbnVtSXRlbXNMb2FkZWQrKyx0aGlzLm1haW50YWluU2NyaXB0T3JkZXJ8fHQudHlwZSE9Y3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVHx8KGk9ZS5nZXRUYWcoKSxjcmVhdGVqcy5Eb21VdGlscy5hcHBlbmRUb0hlYWQoaSkpLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCksdGhpcy5fc2VuZEZpbGVDb21wbGV0ZSh0LGUpLHRoaXMuX2xvYWROZXh0KCl9LGUuX2NhblN0YXJ0TG9hZD1mdW5jdGlvbih0KXtpZighdGhpcy5tYWludGFpblNjcmlwdE9yZGVyfHx0LnByZWZlclhIUilyZXR1cm4hMDt2YXIgZT10LmdldEl0ZW0oKTtpZihlLnR5cGUhPWNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQpcmV0dXJuITA7aWYodGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdClyZXR1cm4hMTtmb3IodmFyIGk9dGhpcy5fc2NyaXB0T3JkZXIuaW5kZXhPZihlKSxzPTA7czxpOyl7aWYobnVsbD09dGhpcy5fbG9hZGVkU2NyaXB0c1tzXSlyZXR1cm4hMTtzKyt9cmV0dXJuIHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQ9ITB9LGUuX3JlbW92ZUxvYWRJdGVtPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoLGk9MDtpPGU7aSsrKWlmKHRoaXMuX2N1cnJlbnRMb2Fkc1tpXT09dCl7dGhpcy5fY3VycmVudExvYWRzLnNwbGljZShpLDEpO2JyZWFrfX0sZS5fY2xlYW5Mb2FkSXRlbT1mdW5jdGlvbih0KXt2YXIgZT10LmdldEl0ZW0oKTtlJiZkZWxldGUgZS5fbG9hZGVyfSxlLl9oYW5kbGVQcm9ncmVzcz1mdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldDt0aGlzLl9zZW5kRmlsZVByb2dyZXNzKGUuZ2V0SXRlbSgpLGUucHJvZ3Jlc3MpLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCl9LGUuX3VwZGF0ZVByb2dyZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbnVtSXRlbXNMb2FkZWQvdGhpcy5fbnVtSXRlbXMsZT10aGlzLl9udW1JdGVtcy10aGlzLl9udW1JdGVtc0xvYWRlZDtpZigwPGUpe2Zvcih2YXIgaT0wLHM9MCxyPXRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGg7czxyO3MrKylpKz10aGlzLl9jdXJyZW50TG9hZHNbc10ucHJvZ3Jlc3M7dCs9aS9lKihlL3RoaXMuX251bUl0ZW1zKX10aGlzLl9sYXN0UHJvZ3Jlc3MhPXQmJih0aGlzLl9zZW5kUHJvZ3Jlc3ModCksdGhpcy5fbGFzdFByb2dyZXNzPXQpfSxlLl9kaXNwb3NlSXRlbT1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fbG9hZGVkUmVzdWx0c1t0LmlkXSxkZWxldGUgdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1t0LmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlJZFt0LmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlTcmNbdC5zcmNdfSxlLl9zZW5kRmlsZVByb2dyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIGk7dGhpcy5faXNDYW5jZWxlZCgpfHx0aGlzLl9wYXVzZWR8fHRoaXMuaGFzRXZlbnRMaXN0ZW5lcihcImZpbGVwcm9ncmVzc1wiKSYmKChpPW5ldyBjcmVhdGVqcy5FdmVudChcImZpbGVwcm9ncmVzc1wiKSkucHJvZ3Jlc3M9ZSxpLmxvYWRlZD1lLGkudG90YWw9MSxpLml0ZW09dCx0aGlzLmRpc3BhdGNoRXZlbnQoaSkpfSxlLl9zZW5kRmlsZUNvbXBsZXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk7dGhpcy5faXNDYW5jZWxlZCgpfHx0aGlzLl9wYXVzZWR8fCgoaT1uZXcgY3JlYXRlanMuRXZlbnQoXCJmaWxlbG9hZFwiKSkubG9hZGVyPWUsaS5pdGVtPXQsaS5yZXN1bHQ9dGhpcy5fbG9hZGVkUmVzdWx0c1t0LmlkXSxpLnJhd1Jlc3VsdD10aGlzLl9sb2FkZWRSYXdSZXN1bHRzW3QuaWRdLHQuY29tcGxldGVIYW5kbGVyJiZ0LmNvbXBsZXRlSGFuZGxlcihpKSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoXCJmaWxlbG9hZFwiKSYmdGhpcy5kaXNwYXRjaEV2ZW50KGkpKX0sZS5fc2VuZEZpbGVTdGFydD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgY3JlYXRlanMuRXZlbnQoXCJmaWxlc3RhcnRcIik7ZS5pdGVtPXQsdGhpcy5oYXNFdmVudExpc3RlbmVyKFwiZmlsZXN0YXJ0XCIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoZSl9LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltQcmVsb2FkSlMgTG9hZFF1ZXVlXVwifSxjcmVhdGVqcy5Mb2FkUXVldWU9Y3JlYXRlanMucHJvbW90ZSh0LFwiQWJzdHJhY3RMb2FkZXJcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IodCwhMCxjcmVhdGVqcy5UeXBlcy5URVhUKX1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7dC5jYW5Mb2FkSXRlbT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlPT1jcmVhdGVqcy5UeXBlcy5URVhUfSxjcmVhdGVqcy5UZXh0TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0TG9hZGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKHQsITAsY3JlYXRlanMuVHlwZXMuQklOQVJZKSx0aGlzLm9uKFwiaW5pdGlhbGl6ZVwiLHRoaXMuX3VwZGF0ZVhIUix0aGlzKX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7dC5jYW5Mb2FkSXRlbT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlPT1jcmVhdGVqcy5UeXBlcy5CSU5BUll9LGUuX3VwZGF0ZVhIUj1mdW5jdGlvbih0KXt0LmxvYWRlci5zZXRSZXNwb25zZVR5cGUoXCJhcnJheWJ1ZmZlclwiKX0sY3JlYXRlanMuQmluYXJ5TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0TG9hZGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IodCxlLGNyZWF0ZWpzLlR5cGVzLkNTUyksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9dGhpcy5fZm9ybWF0UmVzdWx0LHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZT1cImhyZWZcIix0aGlzLl90YWc9ZT9jcmVhdGVqcy5FbGVtZW50cy5zdHlsZSgpOmNyZWF0ZWpzLkVsZW1lbnRzLmxpbmsoKSx0aGlzLl90YWcucmVsPVwic3R5bGVzaGVldFwiLHRoaXMuX3RhZy50eXBlPVwidGV4dC9jc3NcIn12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7dC5jYW5Mb2FkSXRlbT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlPT1jcmVhdGVqcy5UeXBlcy5DU1N9LGUuX2Zvcm1hdFJlc3VsdD1mdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiB0aGlzLl9wcmVmZXJYSFI/KGU9dC5nZXRUYWcoKSkuc3R5bGVTaGVldD9lLnN0eWxlU2hlZXQuY3NzVGV4dD10LmdldFJlc3VsdCghMCk6KGk9Y3JlYXRlanMuRWxlbWVudHMudGV4dCh0LmdldFJlc3VsdCghMCkpLGUuYXBwZW5kQ2hpbGQoaSkpOmU9dGhpcy5fdGFnLGNyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvSGVhZChlKSxlfSxjcmVhdGVqcy5DU1NMb2FkZXI9Y3JlYXRlanMucHJvbW90ZSh0LFwiQWJzdHJhY3RMb2FkZXJcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB1KHQsZSl7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3Rvcih0LGUsdC50eXBlKSx0aGlzLl9mYWNlcz17fSx0aGlzLl93YXRjaGVkPVtdLHRoaXMuX2NvdW50PTAsdGhpcy5fd2F0Y2hJbnRlcnZhbD1udWxsLHRoaXMuX2xvYWRUaW1lb3V0PW51bGwsdGhpcy5faW5qZWN0Q1NTPXZvaWQgMD09PXQuaW5qZWN0Q1NTfHx0LmluamVjdENTUyx0aGlzLmRpc3BhdGNoRXZlbnQoXCJpbml0aWFsaXplXCIpfXZhciB0PWNyZWF0ZWpzLmV4dGVuZCh1LGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTt1LmNhbkxvYWRJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkZPTlR8fHQudHlwZT09Y3JlYXRlanMuVHlwZXMuRk9OVENTU30sdS5zYW1wbGVUZXh0PVwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXogQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIix1Ll9jdHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIiksdS5fcmVmZXJlbmNlRm9udHM9W1wic2VyaWZcIixcIm1vbm9zcGFjZVwiXSx1LldFSUdIVF9SRUdFWD0vWy0gLl9dKih0aGlufG5vcm1hbHxib29rfHJlZ3VsYXJ8bWVkaXVtfGJsYWNrfGhlYXZ5fFsxLTldMDB8KD86ZXh0cmF8dWx0cmF8c2VtaXxkZW1pKT9bLSAuX10qKD86bGlnaHR8Ym9sZCkpWy0gLl9dKi9naSx1LlNUWUxFX1JFR0VYPS9bLSAuX10qKGl0YWxpY3xvYmxpcXVlKVstIC5fXSovZ2ksdS5GT05UX0ZPUk1BVD17d29mZjI6XCJ3b2ZmMlwiLHdvZmY6XCJ3b2ZmXCIsdHRmOlwidHJ1ZXR5cGVcIixvdGY6XCJ0cnVldHlwZVwifSx1LkZPTlRfV0VJR0hUPXt0aGluOjEwMCxleHRyYWxpZ2h0OjIwMCx1bHRyYWxpZ2h0OjIwMCxsaWdodDozMDAsc2VtaWxpZ2h0OjMwMCxkZW1pbGlnaHQ6MzAwLGJvb2s6XCJub3JtYWxcIixyZWd1bGFyOlwibm9ybWFsXCIsc2VtaWJvbGQ6NjAwLGRlbWlib2xkOjYwMCxleHRyYWJvbGQ6ODAwLHVsdHJhYm9sZDo4MDAsYmxhY2s6OTAwLGhlYXZ5OjkwMH0sdS5XQVRDSF9EVVJBVElPTj0xMCx0LmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkZPTlRDU1Mpe2lmKCF0aGlzLl93YXRjaENTUygpKXJldHVybiB2b2lkIHRoaXMuQWJzdHJhY3RMb2FkZXJfbG9hZCgpfWVsc2UgdGhpcy5faXRlbS5zcmMgaW5zdGFuY2VvZiBBcnJheT90aGlzLl93YXRjaEZvbnRBcnJheSgpOih0PXRoaXMuX2RlZkZyb21TcmModGhpcy5faXRlbS5zcmMpLHRoaXMuX3dhdGNoRm9udCh0KSx0aGlzLl9pbmplY3RTdHlsZVRhZyh0aGlzLl9jc3NGcm9tRGVmKHQpKSk7dGhpcy5fbG9hZFRpbWVvdXQ9c2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLHRoaXMuX2l0ZW0ubG9hZFRpbWVvdXQpLHRoaXMuZGlzcGF0Y2hFdmVudChcImxvYWRzdGFydFwiKX0sdC5faGFuZGxlVGltZW91dD1mdW5jdGlvbigpe3RoaXMuX3N0b3BXYXRjaGluZygpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlBSRUxPQURfVElNRU9VVFwiKSl9LHQuX2NyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVxdWVzdH0sdC5oYW5kbGVFdmVudD1mdW5jdGlvbih0KXtzd2l0Y2godC50eXBlKXtjYXNlXCJjb21wbGV0ZVwiOnRoaXMuX3Jhd1Jlc3VsdD10LnRhcmdldC5fcmVzcG9uc2UsdGhpcy5fcmVzdWx0PSEwLHRoaXMuX3BhcnNlQ1NTKHRoaXMuX3Jhd1Jlc3VsdCk7YnJlYWs7Y2FzZVwiZXJyb3JcIjp0aGlzLl9zdG9wV2F0Y2hpbmcoKSx0aGlzLkFic3RyYWN0TG9hZGVyX2hhbmRsZUV2ZW50KHQpfX0sdC5fd2F0Y2hDU1M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pdGVtLnNyYztyZXR1cm4gdCBpbnN0YW5jZW9mIEhUTUxTdHlsZUVsZW1lbnQmJih0aGlzLl9pbmplY3RDU1MmJiF0LnBhcmVudE5vZGUmJihkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0pLmFwcGVuZENoaWxkKHQpLHRoaXMuX2luamVjdENTUz0hMSx0PVwiXFxuXCIrdC50ZXh0Q29udGVudCksLTEhPT10LnNlYXJjaCgvXFxufFxccnxAZm9udC1mYWNlL2kpPyh0aGlzLl9wYXJzZUNTUyh0KSwhMCk6KHRoaXMuX3JlcXVlc3Q9bmV3IGNyZWF0ZWpzLlhIUlJlcXVlc3QodGhpcy5faXRlbSksITEpfSx0Ll9wYXJzZUNTUz1mdW5jdGlvbih0KXtmb3IodmFyIGU9L0Bmb250LWZhY2VcXHMqXFx7KFtefV0rKX0vZzs7KXt2YXIgaT1lLmV4ZWModCk7aWYoIWkpYnJlYWs7dGhpcy5fd2F0Y2hGb250KHRoaXMuX3BhcnNlRm9udEZhY2UoaVsxXSkpfXRoaXMuX2luamVjdFN0eWxlVGFnKHQpfSx0Ll93YXRjaEZvbnRBcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9pdGVtLnNyYyxlPVwiXCIsaT10Lmxlbmd0aC0xOzA8PWk7aS0tKXt2YXIgcz10W2ldLHI9XCJzdHJpbmdcIj09dHlwZW9mIHM/dGhpcy5fZGVmRnJvbVNyYyhzKTp0aGlzLl9kZWZGcm9tT2JqKHMpO3RoaXMuX3dhdGNoRm9udChyKSxlKz10aGlzLl9jc3NGcm9tRGVmKHIpK1wiXFxuXCJ9dGhpcy5faW5qZWN0U3R5bGVUYWcoZSl9LHQuX2luamVjdFN0eWxlVGFnPWZ1bmN0aW9uKHQpe3ZhciBlLGk7dGhpcy5faW5qZWN0Q1NTJiYoZT1kb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0sKGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpKS50eXBlPVwidGV4dC9jc3NcIixpLnN0eWxlU2hlZXQ/aS5zdHlsZVNoZWV0LmNzc1RleHQ9dDppLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKSxlLmFwcGVuZENoaWxkKGkpKX0sdC5fcGFyc2VGb250RmFjZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRDU1NWYWx1ZSh0LFwiZm9udC1mYW1pbHlcIiksaT10aGlzLl9nZXRDU1NWYWx1ZSh0LFwic3JjXCIpO3JldHVybiBlJiZpP3RoaXMuX2RlZkZyb21PYmooe2ZhbWlseTplLHNyYzppLHN0eWxlOnRoaXMuX2dldENTU1ZhbHVlKHQsXCJmb250LXN0eWxlXCIpLHdlaWdodDp0aGlzLl9nZXRDU1NWYWx1ZSh0LFwiZm9udC13ZWlnaHRcIil9KTpudWxsfSx0Ll93YXRjaEZvbnQ9ZnVuY3Rpb24odCl7dCYmIXRoaXMuX2ZhY2VzW3QuaWRdJiYodGhpcy5fZmFjZXNbdC5pZF09dCx0aGlzLl93YXRjaGVkLnB1c2godCksdGhpcy5fY291bnQrKyx0aGlzLl9jYWxjdWxhdGVSZWZlcmVuY2VTaXplcyh0KSx0aGlzLl9zdGFydFdhdGNoaW5nKCkpfSx0Ll9zdGFydFdhdGNoaW5nPWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5fd2F0Y2hJbnRlcnZhbCYmKHRoaXMuX3dhdGNoSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoY3JlYXRlanMucHJveHkodGhpcy5fd2F0Y2gsdGhpcyksdS5XQVRDSF9EVVJBVElPTikpfSx0Ll9zdG9wV2F0Y2hpbmc9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuX3dhdGNoSW50ZXJ2YWwpLGNsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksdGhpcy5fd2F0Y2hJbnRlcnZhbD1udWxsfSx0Ll93YXRjaD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl93YXRjaGVkLGU9dS5fcmVmZXJlbmNlRm9udHMsaT10Lmxlbmd0aCxzPWktMTswPD1zO3MtLSlmb3IodmFyIHI9dFtzXSxuPXIucmVmcyxhPW4ubGVuZ3RoLTE7MDw9YTthLS0pe2lmKHRoaXMuX2dldFRleHRXaWR0aChyLmZhbWlseStcIixcIitlW2FdLHIud2VpZ2h0LHIuc3R5bGUpIT1uW2FdKXt2YXIgbz1uZXcgY3JlYXRlanMuRXZlbnQoXCJmaWxlbG9hZFwiKTtyLnR5cGU9XCJmb250LWZhbWlseVwiLG8uaXRlbT1yLHRoaXMuZGlzcGF0Y2hFdmVudChvKSx0LnNwbGljZShzLDEpO2JyZWFrfX1pIT09dC5sZW5ndGgmJihvPW5ldyBjcmVhdGVqcy5Qcm9ncmVzc0V2ZW50KHRoaXMuX2NvdW50LXQubGVuZ3RoLHRoaXMuX2NvdW50KSx0aGlzLmRpc3BhdGNoRXZlbnQobykpLDA9PT1pJiYodGhpcy5fc3RvcFdhdGNoaW5nKCksdGhpcy5fc2VuZENvbXBsZXRlKCkpfSx0Ll9jYWxjdWxhdGVSZWZlcmVuY2VTaXplcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dS5fcmVmZXJlbmNlRm9udHMsaT10LnJlZnM9W10scz0wO3M8ZS5sZW5ndGg7cysrKWlbc109dGhpcy5fZ2V0VGV4dFdpZHRoKGVbc10sdC53ZWlnaHQsdC5zdHlsZSl9LHQuX2RlZkZyb21TcmM9ZnVuY3Rpb24odCl7dmFyIGU9L1stIC5fXSsvZyxpPXQscz1udWxsLHI9aS5zZWFyY2goL1s/I10vKTstMSE9PXImJihpPWkuc3Vic3RyKDAscikpLC0xIT09KHI9aS5sYXN0SW5kZXhPZihcIi5cIikpJiYocz1pLnN1YnN0cihyKzEpLGk9aS5zdWJzdHIoMCxyKSksLTEhPT0ocj1pLmxhc3RJbmRleE9mKFwiL1wiKSkmJihpPWkuc3Vic3RyKHIrMSkpO3ZhciBuPWksYT1uLm1hdGNoKHUuV0VJR0hUX1JFR0VYKTthJiYoYT1hWzBdLG49bi5yZXBsYWNlKGEsXCJcIiksYT1hLnJlcGxhY2UoZSxcIlwiKS50b0xvd2VyQ2FzZSgpKTt2YXIgbz1pLm1hdGNoKHUuU1RZTEVfUkVHRVgpO28mJihuPW4ucmVwbGFjZShvWzBdLFwiXCIpLG89XCJpdGFsaWNcIiksbj1uLnJlcGxhY2UoZSxcIlwiKTt2YXIgaD1cImxvY2FsKCdcIitpLnJlcGxhY2UoZSxcIiBcIikrXCInKSwgdXJsKCdcIit0K1wiJylcIixjPXUuRk9OVF9GT1JNQVRbc107cmV0dXJuIGMmJihoKz1cIiBmb3JtYXQoJ1wiK2MrXCInKVwiKSx0aGlzLl9kZWZGcm9tT2JqKHtmYW1pbHk6bix3ZWlnaHQ6dS5GT05UX1dFSUdIVFthXXx8YSxzdHlsZTpvLHNyYzpofSl9LHQuX2RlZkZyb21PYmo9ZnVuY3Rpb24odCl7dmFyIGU9e2ZhbWlseTp0LmZhbWlseSxzcmM6dC5zcmMsc3R5bGU6dC5zdHlsZXx8XCJub3JtYWxcIix3ZWlnaHQ6dC53ZWlnaHR8fFwibm9ybWFsXCJ9O3JldHVybiBlLmlkPWUuZmFtaWx5K1wiO1wiK2Uuc3R5bGUrXCI7XCIrZS53ZWlnaHQsZX0sdC5fY3NzRnJvbURlZj1mdW5jdGlvbih0KXtyZXR1cm5cIkBmb250LWZhY2Uge1xcblxcdGZvbnQtZmFtaWx5OiAnXCIrdC5mYW1pbHkrXCInO1xcblxcdGZvbnQtc3R5bGU6IFwiK3Quc3R5bGUrXCI7XFxuXFx0Zm9udC13ZWlnaHQ6IFwiK3Qud2VpZ2h0K1wiO1xcblxcdHNyYzogXCIrdC5zcmMrXCI7XFxufVwifSx0Ll9nZXRUZXh0V2lkdGg9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXUuX2N0eDtyZXR1cm4gcy5mb250PWkrXCIgXCIrZStcIiA3MnB4IFwiK3Qscy5tZWFzdXJlVGV4dCh1LnNhbXBsZVRleHQpLndpZHRofSx0Ll9nZXRDU1NWYWx1ZT1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBSZWdFeHAoZStcIjpzKihbXjt9XSs/KXMqWzt9XVwiKS5leGVjKHQpO3JldHVybiBpJiZpWzFdP2lbMV06bnVsbH0sY3JlYXRlanMuRm9udExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKHUsXCJBYnN0cmFjdExvYWRlclwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKHQsZSxjcmVhdGVqcy5UeXBlcy5JTUFHRSksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9dGhpcy5fZm9ybWF0UmVzdWx0LHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZT1cInNyY1wiLGNyZWF0ZWpzLkRvbVV0aWxzLmlzSW1hZ2VUYWcodCk/dGhpcy5fdGFnPXQ6Y3JlYXRlanMuRG9tVXRpbHMuaXNJbWFnZVRhZyh0LnNyYyk/dGhpcy5fdGFnPXQuc3JjOmNyZWF0ZWpzLkRvbVV0aWxzLmlzSW1hZ2VUYWcodC50YWcpJiYodGhpcy5fdGFnPXQudGFnKSxudWxsIT10aGlzLl90YWc/dGhpcy5fcHJlZmVyWEhSPSExOnRoaXMuX3RhZz1jcmVhdGVqcy5FbGVtZW50cy5pbWcoKSx0aGlzLm9uKFwiaW5pdGlhbGl6ZVwiLHRoaXMuX3VwZGF0ZVhIUix0aGlzKX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7dC5jYW5Mb2FkSXRlbT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlPT1jcmVhdGVqcy5UeXBlcy5JTUFHRX0sZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ7XCJcIiE9dGhpcy5fdGFnLnNyYyYmdGhpcy5fdGFnLmNvbXBsZXRlP3RoaXMuX3NlbmRDb21wbGV0ZSgpOigxPT0odD10aGlzLl9pdGVtLmNyb3NzT3JpZ2luKSYmKHQ9XCJBbm9ueW1vdXNcIiksbnVsbD09dHx8Y3JlYXRlanMuVVJMVXRpbHMuaXNMb2NhbCh0aGlzLl9pdGVtKXx8KHRoaXMuX3RhZy5jcm9zc09yaWdpbj10KSx0aGlzLkFic3RyYWN0TG9hZGVyX2xvYWQoKSl9LGUuX3VwZGF0ZVhIUj1mdW5jdGlvbih0KXt0LmxvYWRlci5taW1lVHlwZT1cInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQtYmluYXJ5XCIsdC5sb2FkZXIuc2V0UmVzcG9uc2VUeXBlJiZ0LmxvYWRlci5zZXRSZXNwb25zZVR5cGUoXCJibG9iXCIpfSxlLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2Zvcm1hdEltYWdlfSxlLl9mb3JtYXRJbWFnZT1mdW5jdGlvbih0LGUpe3ZhciBpLHM9dGhpcy5fdGFnLHI9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTDt0aGlzLl9wcmVmZXJYSFImJihyPyh0aGlzLmdldFJlc3VsdCghMCkmJihpPXIuY3JlYXRlT2JqZWN0VVJMKHRoaXMuZ2V0UmVzdWx0KCEwKSkscy5zcmM9aSkscy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHRoaXMuX2NsZWFuVXBVUkwsITEpLHMuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcy5fY2xlYW5VcFVSTCwhMSkpOnMuc3JjPXRoaXMuX2l0ZW0uc3JjKSxzLmNvbXBsZXRlP3Qocyk6KHMub25sb2FkPWNyZWF0ZWpzLnByb3h5KGZ1bmN0aW9uKCl7dCh0aGlzLl90YWcpLHMub25sb2FkPXMub25lcnJvcj1udWxsfSx0aGlzKSxzLm9uZXJyb3I9Y3JlYXRlanMucHJveHkoZnVuY3Rpb24odCl7ZShuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIklNQUdFX0ZPUk1BVFwiLG51bGwsdCkpLHMub25sb2FkPXMub25lcnJvcj1udWxsfSx0aGlzKSl9LGUuX2NsZWFuVXBVUkw9ZnVuY3Rpb24odCl7KHdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkwpLnJldm9rZU9iamVjdFVSTCh0LnRhcmdldC5zcmMpfSxjcmVhdGVqcy5JbWFnZUxvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKHQsXCJBYnN0cmFjdExvYWRlclwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKHQsZSxjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUKSx0aGlzLnJlc3VsdEZvcm1hdHRlcj10aGlzLl9mb3JtYXRSZXN1bHQsdGhpcy5fdGFnU3JjQXR0cmlidXRlPVwic3JjXCIsdGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMuc2NyaXB0KCkpfXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTt0LmNhbkxvYWRJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFR9LGUuX2Zvcm1hdFJlc3VsdD1mdW5jdGlvbih0KXt2YXIgZT10LmdldFRhZygpO3JldHVybiB0aGlzLl9wcmVmZXJYSFImJihlLnRleHQ9dC5nZXRSZXN1bHQoITApKSxlfSxjcmVhdGVqcy5KYXZhU2NyaXB0TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0TG9hZGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKHQsITAsY3JlYXRlanMuVHlwZXMuSlNPTiksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9dGhpcy5fZm9ybWF0UmVzdWx0fXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTt0LmNhbkxvYWRJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkpTT059LGUuX2Zvcm1hdFJlc3VsdD1mdW5jdGlvbih0KXt2YXIgZT1udWxsO3RyeXtlPWNyZWF0ZWpzLkRhdGFVdGlscy5wYXJzZUpTT04odC5nZXRSZXN1bHQoITApKX1jYXRjaCh0KXt2YXIgaT1uZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIkpTT05fRk9STUFUXCIsbnVsbCx0KTtyZXR1cm4gdGhpcy5fc2VuZEVycm9yKGkpLHR9cmV0dXJuIGV9LGNyZWF0ZWpzLkpTT05Mb2FkZXI9Y3JlYXRlanMucHJvbW90ZSh0LFwiQWJzdHJhY3RMb2FkZXJcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IodCwhMSxjcmVhdGVqcy5UeXBlcy5KU09OUCksdGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMuc2NyaXB0KCkpLHRoaXMuZ2V0VGFnKCkudHlwZT1cInRleHQvamF2YXNjcmlwdFwifXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTt0LmNhbkxvYWRJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkpTT05QfSxlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY2FuY2VsKCksdGhpcy5fZGlzcG9zZSgpfSxlLmxvYWQ9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLl9pdGVtLmNhbGxiYWNrKXRocm93IG5ldyBFcnJvcihcImNhbGxiYWNrIGlzIHJlcXVpcmVkIGZvciBsb2FkaW5nIEpTT05QIHJlcXVlc3RzLlwiKTtpZihudWxsIT13aW5kb3dbdGhpcy5faXRlbS5jYWxsYmFja10pdGhyb3cgbmV3IEVycm9yKFwiSlNPTlAgY2FsbGJhY2sgJ1wiK3RoaXMuX2l0ZW0uY2FsbGJhY2srXCInIGFscmVhZHkgZXhpc3RzIG9uIHdpbmRvdy4gWW91IG5lZWQgdG8gc3BlY2lmeSBhIGRpZmZlcmVudCBjYWxsYmFjayBvciByZS1uYW1lIHRoZSBjdXJyZW50IG9uZS5cIik7d2luZG93W3RoaXMuX2l0ZW0uY2FsbGJhY2tdPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUxvYWQsdGhpcyksY3JlYXRlanMuRG9tVXRpbHMuYXBwZW5kVG9Cb2R5KHRoaXMuX3RhZyksdGhpcy5fbG9hZFRpbWVvdXQ9c2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLHRoaXMuX2l0ZW0ubG9hZFRpbWVvdXQpLHRoaXMuX3RhZy5zcmM9dGhpcy5faXRlbS5zcmN9LGUuX2hhbmRsZUxvYWQ9ZnVuY3Rpb24odCl7dGhpcy5fcmVzdWx0PXRoaXMuX3Jhd1Jlc3VsdD10LHRoaXMuX3NlbmRDb21wbGV0ZSgpLHRoaXMuX2Rpc3Bvc2UoKX0sZS5faGFuZGxlVGltZW91dD1mdW5jdGlvbigpe3RoaXMuX2Rpc3Bvc2UoKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXCJ0aW1lb3V0XCIpKX0sZS5fZGlzcG9zZT1mdW5jdGlvbigpe2NyZWF0ZWpzLkRvbVV0aWxzLnJlbW92ZUNoaWxkKHRoaXMuX3RhZyksZGVsZXRlIHdpbmRvd1t0aGlzLl9pdGVtLmNhbGxiYWNrXSxjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpfSxjcmVhdGVqcy5KU09OUExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKHQsXCJBYnN0cmFjdExvYWRlclwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKHQsZSxjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVCksdGhpcy5wbHVnaW5zPW51bGwsdGhpcy5fbWFuaWZlc3RRdWV1ZT1udWxsfXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxpPXQ7aS5NQU5JRkVTVF9QUk9HUkVTUz0uMjUsaS5jYW5Mb2FkSXRlbT1mdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlPT1jcmVhdGVqcy5UeXBlcy5NQU5JRkVTVH0sZS5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5BYnN0cmFjdExvYWRlcl9sb2FkKCl9LGUuX2NyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pdGVtLmNhbGxiYWNrO3RoaXMuX3JlcXVlc3Q9bnVsbCE9dD9uZXcgY3JlYXRlanMuSlNPTlBMb2FkZXIodGhpcy5faXRlbSk6bmV3IGNyZWF0ZWpzLkpTT05Mb2FkZXIodGhpcy5faXRlbSl9LGUuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24odCl7c3dpdGNoKHQudHlwZSl7Y2FzZVwiY29tcGxldGVcIjpyZXR1cm4gdGhpcy5fcmF3UmVzdWx0PXQudGFyZ2V0LmdldFJlc3VsdCghMCksdGhpcy5fcmVzdWx0PXQudGFyZ2V0LmdldFJlc3VsdCgpLHRoaXMuX3NlbmRQcm9ncmVzcyhpLk1BTklGRVNUX1BST0dSRVNTKSx2b2lkIHRoaXMuX2xvYWRNYW5pZmVzdCh0aGlzLl9yZXN1bHQpO2Nhc2VcInByb2dyZXNzXCI6cmV0dXJuIHQubG9hZGVkKj1pLk1BTklGRVNUX1BST0dSRVNTLHRoaXMucHJvZ3Jlc3M9dC5sb2FkZWQvdC50b3RhbCwhaXNOYU4odGhpcy5wcm9ncmVzcykmJnRoaXMucHJvZ3Jlc3MhPTEvMHx8KHRoaXMucHJvZ3Jlc3M9MCksdm9pZCB0aGlzLl9zZW5kUHJvZ3Jlc3ModCl9dGhpcy5BYnN0cmFjdExvYWRlcl9oYW5kbGVFdmVudCh0KX0sZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5BYnN0cmFjdExvYWRlcl9kZXN0cm95KCksdGhpcy5fbWFuaWZlc3RRdWV1ZS5jbG9zZSgpfSxlLl9sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24odCl7aWYodCYmdC5tYW5pZmVzdCl7dmFyIGU9dGhpcy5fbWFuaWZlc3RRdWV1ZT1uZXcgY3JlYXRlanMuTG9hZFF1ZXVlKHRoaXMuX3ByZWZlclhIUik7ZS5vbihcImZpbGVsb2FkXCIsdGhpcy5faGFuZGxlTWFuaWZlc3RGaWxlTG9hZCx0aGlzKSxlLm9uKFwicHJvZ3Jlc3NcIix0aGlzLl9oYW5kbGVNYW5pZmVzdFByb2dyZXNzLHRoaXMpLGUub24oXCJjb21wbGV0ZVwiLHRoaXMuX2hhbmRsZU1hbmlmZXN0Q29tcGxldGUsdGhpcywhMCksZS5vbihcImVycm9yXCIsdGhpcy5faGFuZGxlTWFuaWZlc3RFcnJvcix0aGlzLCEwKTtmb3IodmFyIGk9MCxzPXRoaXMucGx1Z2lucy5sZW5ndGg7aTxzO2krKyllLmluc3RhbGxQbHVnaW4odGhpcy5wbHVnaW5zW2ldKTtlLmxvYWRNYW5pZmVzdCh0KX1lbHNlIHRoaXMuX3NlbmRDb21wbGV0ZSgpfSxlLl9oYW5kbGVNYW5pZmVzdEZpbGVMb2FkPWZ1bmN0aW9uKHQpe3QudGFyZ2V0PW51bGwsdGhpcy5kaXNwYXRjaEV2ZW50KHQpfSxlLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2xvYWRlZEl0ZW1zPXRoaXMuX21hbmlmZXN0UXVldWUuZ2V0SXRlbXMoITApLHRoaXMuX3NlbmRDb21wbGV0ZSgpfSxlLl9oYW5kbGVNYW5pZmVzdFByb2dyZXNzPWZ1bmN0aW9uKHQpe3RoaXMucHJvZ3Jlc3M9dC5wcm9ncmVzcyooMS1pLk1BTklGRVNUX1BST0dSRVNTKStpLk1BTklGRVNUX1BST0dSRVNTLHRoaXMuX3NlbmRQcm9ncmVzcyh0aGlzLnByb2dyZXNzKX0sZS5faGFuZGxlTWFuaWZlc3RFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgY3JlYXRlanMuRXZlbnQoXCJmaWxlZXJyb3JcIik7ZS5pdGVtPXQuZGF0YSx0aGlzLmRpc3BhdGNoRXZlbnQoZSl9LGNyZWF0ZWpzLk1hbmlmZXN0TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0TG9hZGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuQWJzdHJhY3RNZWRpYUxvYWRlcl9jb25zdHJ1Y3Rvcih0LGUsY3JlYXRlanMuVHlwZXMuU09VTkQpLGNyZWF0ZWpzLkRvbVV0aWxzLmlzQXVkaW9UYWcodCl8fGNyZWF0ZWpzLkRvbVV0aWxzLmlzQXVkaW9UYWcodC5zcmMpP3RoaXMuX3RhZz10OmNyZWF0ZWpzLkRvbVV0aWxzLmlzQXVkaW9UYWcodC50YWcpJiYodGhpcy5fdGFnPWNyZWF0ZWpzLkRvbVV0aWxzLmlzQXVkaW9UYWcodCk/dDp0LnNyYyksbnVsbCE9dGhpcy5fdGFnJiYodGhpcy5fcHJlZmVyWEhSPSExKX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5BYnN0cmFjdE1lZGlhTG9hZGVyKTt0LmNhbkxvYWRJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PWNyZWF0ZWpzLlR5cGVzLlNPVU5EfSxlLl9jcmVhdGVUYWc9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlanMuRWxlbWVudHMuYXVkaW8oKTtyZXR1cm4gZS5hdXRvcGxheT0hMSxlLnByZWxvYWQ9XCJub25lXCIsZS5zcmM9dCxlfSxjcmVhdGVqcy5Tb3VuZExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKHQsXCJBYnN0cmFjdE1lZGlhTG9hZGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuQWJzdHJhY3RNZWRpYUxvYWRlcl9jb25zdHJ1Y3Rvcih0LGUsY3JlYXRlanMuVHlwZXMuVklERU8pLGNyZWF0ZWpzLkRvbVV0aWxzLmlzVmlkZW9UYWcodCl8fGNyZWF0ZWpzLkRvbVV0aWxzLmlzVmlkZW9UYWcodC5zcmMpPyh0aGlzLnNldFRhZyhjcmVhdGVqcy5Eb21VdGlscy5pc1ZpZGVvVGFnKHQpP3Q6dC5zcmMpLHRoaXMuX3ByZWZlclhIUj0hMSk6dGhpcy5zZXRUYWcodGhpcy5fY3JlYXRlVGFnKCkpfXZhciBlPXQ7Y3JlYXRlanMuZXh0ZW5kKHQsY3JlYXRlanMuQWJzdHJhY3RNZWRpYUxvYWRlcikuX2NyZWF0ZVRhZz1mdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5FbGVtZW50cy52aWRlbygpfSxlLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PWNyZWF0ZWpzLlR5cGVzLlZJREVPfSxjcmVhdGVqcy5WaWRlb0xvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKHQsXCJBYnN0cmFjdE1lZGlhTG9hZGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IodCxlLGNyZWF0ZWpzLlR5cGVzLlNQUklURVNIRUVUKSx0aGlzLl9tYW5pZmVzdFF1ZXVlPW51bGx9dmFyIGU9Y3JlYXRlanMuZXh0ZW5kKHQsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLGk9dDtpLlNQUklURVNIRUVUX1BST0dSRVNTPS4yNSxpLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PWNyZWF0ZWpzLlR5cGVzLlNQUklURVNIRUVUfSxlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkFic3RyYWN0TG9hZGVyX2Rlc3Ryb3koKSx0aGlzLl9tYW5pZmVzdFF1ZXVlLmNsb3NlKCl9LGUuX2NyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pdGVtLmNhbGxiYWNrO3RoaXMuX3JlcXVlc3Q9bnVsbCE9dD9uZXcgY3JlYXRlanMuSlNPTlBMb2FkZXIodGhpcy5faXRlbSk6bmV3IGNyZWF0ZWpzLkpTT05Mb2FkZXIodGhpcy5faXRlbSl9LGUuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24odCl7c3dpdGNoKHQudHlwZSl7Y2FzZVwiY29tcGxldGVcIjpyZXR1cm4gdGhpcy5fcmF3UmVzdWx0PXQudGFyZ2V0LmdldFJlc3VsdCghMCksdGhpcy5fcmVzdWx0PXQudGFyZ2V0LmdldFJlc3VsdCgpLHRoaXMuX3NlbmRQcm9ncmVzcyhpLlNQUklURVNIRUVUX1BST0dSRVNTKSx2b2lkIHRoaXMuX2xvYWRNYW5pZmVzdCh0aGlzLl9yZXN1bHQpO2Nhc2VcInByb2dyZXNzXCI6cmV0dXJuIHQubG9hZGVkKj1pLlNQUklURVNIRUVUX1BST0dSRVNTLHRoaXMucHJvZ3Jlc3M9dC5sb2FkZWQvdC50b3RhbCwhaXNOYU4odGhpcy5wcm9ncmVzcykmJnRoaXMucHJvZ3Jlc3MhPTEvMHx8KHRoaXMucHJvZ3Jlc3M9MCksdm9pZCB0aGlzLl9zZW5kUHJvZ3Jlc3ModCl9dGhpcy5BYnN0cmFjdExvYWRlcl9oYW5kbGVFdmVudCh0KX0sZS5fbG9hZE1hbmlmZXN0PWZ1bmN0aW9uKHQpe3ZhciBlO3QmJnQuaW1hZ2VzJiYoKGU9dGhpcy5fbWFuaWZlc3RRdWV1ZT1uZXcgY3JlYXRlanMuTG9hZFF1ZXVlKHRoaXMuX3ByZWZlclhIUix0aGlzLl9pdGVtLnBhdGgsdGhpcy5faXRlbS5jcm9zc09yaWdpbikpLm9uKFwiY29tcGxldGVcIix0aGlzLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlLHRoaXMsITApLGUub24oXCJmaWxlbG9hZFwiLHRoaXMuX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWQsdGhpcyksZS5vbihcInByb2dyZXNzXCIsdGhpcy5faGFuZGxlTWFuaWZlc3RQcm9ncmVzcyx0aGlzKSxlLm9uKFwiZXJyb3JcIix0aGlzLl9oYW5kbGVNYW5pZmVzdEVycm9yLHRoaXMsITApLGUubG9hZE1hbmlmZXN0KHQuaW1hZ2VzKSl9LGUuX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWQ9ZnVuY3Rpb24odCl7dmFyIGUsaSxzPXQucmVzdWx0O251bGwhPXMmJihpPShlPXRoaXMuZ2V0UmVzdWx0KCkuaW1hZ2VzKS5pbmRleE9mKHQuaXRlbS5zcmMpLGVbaV09cyl9LGUuX2hhbmRsZU1hbmlmZXN0Q29tcGxldGU9ZnVuY3Rpb24odCl7dGhpcy5fcmVzdWx0PW5ldyBjcmVhdGVqcy5TcHJpdGVTaGVldCh0aGlzLl9yZXN1bHQpLHRoaXMuX2xvYWRlZEl0ZW1zPXRoaXMuX21hbmlmZXN0UXVldWUuZ2V0SXRlbXMoITApLHRoaXMuX3NlbmRDb21wbGV0ZSgpfSxlLl9oYW5kbGVNYW5pZmVzdFByb2dyZXNzPWZ1bmN0aW9uKHQpe3RoaXMucHJvZ3Jlc3M9dC5wcm9ncmVzcyooMS1pLlNQUklURVNIRUVUX1BST0dSRVNTKStpLlNQUklURVNIRUVUX1BST0dSRVNTLHRoaXMuX3NlbmRQcm9ncmVzcyh0aGlzLnByb2dyZXNzKX0sZS5faGFuZGxlTWFuaWZlc3RFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgY3JlYXRlanMuRXZlbnQoXCJmaWxlZXJyb3JcIik7ZS5pdGVtPXQuZGF0YSx0aGlzLmRpc3BhdGNoRXZlbnQoZSl9LGNyZWF0ZWpzLlNwcml0ZVNoZWV0TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0TG9hZGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IodCxlLGNyZWF0ZWpzLlR5cGVzLlNWRyksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9dGhpcy5fZm9ybWF0UmVzdWx0LHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZT1cImRhdGFcIixlP3RoaXMuc2V0VGFnKGNyZWF0ZWpzLkVsZW1lbnRzLnN2ZygpKToodGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMub2JqZWN0KCkpLHRoaXMuZ2V0VGFnKCkudHlwZT1cImltYWdlL3N2Zyt4bWxcIil9dmFyIGU9Y3JlYXRlanMuZXh0ZW5kKHQsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO3QuY2FuTG9hZEl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZT09Y3JlYXRlanMuVHlwZXMuU1ZHfSxlLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlanMuRGF0YVV0aWxzLnBhcnNlWE1MKHQuZ2V0UmVzdWx0KCEwKSksaT10LmdldFRhZygpO2lmKCF0aGlzLl9wcmVmZXJYSFImJmRvY3VtZW50LmJvZHkuY29udGFpbnMoaSkmJmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaSksbnVsbD09ZS5kb2N1bWVudEVsZW1lbnQpcmV0dXJuIGU7dmFyIHM9ZS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGRvY3VtZW50LmltcG9ydE5vZGUmJihzPWRvY3VtZW50LmltcG9ydE5vZGUocywhMCkpLGkuYXBwZW5kQ2hpbGQocyksaX0sY3JlYXRlanMuU1ZHTG9hZGVyPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0TG9hZGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKHQsITAsY3JlYXRlanMuVHlwZXMuWE1MKSx0aGlzLnJlc3VsdEZvcm1hdHRlcj10aGlzLl9mb3JtYXRSZXN1bHR9dmFyIGU9Y3JlYXRlanMuZXh0ZW5kKHQsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO3QuY2FuTG9hZEl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZT09Y3JlYXRlanMuVHlwZXMuWE1MfSxlLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGNyZWF0ZWpzLkRhdGFVdGlscy5wYXJzZVhNTCh0LmdldFJlc3VsdCghMCkpfSxjcmVhdGVqcy5YTUxMb2FkZXI9Y3JlYXRlanMucHJvbW90ZSh0LFwiQWJzdHJhY3RMb2FkZXJcIil9KCksZnVuY3Rpb24oKXt2YXIgdD1jcmVhdGVqcy5Tb3VuZEpTPWNyZWF0ZWpzLlNvdW5kSlN8fHt9O3QudmVyc2lvbj1cIk5FWFRcIix0LmJ1aWxkRGF0ZT1cIlRodSwgMTQgU2VwIDIwMTcgMjI6MTk6NDUgR01UXCJ9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7dGhyb3dcIkJyb3dzZXJEZXRlY3QgY2Fubm90IGJlIGluc3RhbnRpYXRlZFwifXZhciBlPXQuYWdlbnQ9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7dC5pc1dpbmRvd1Bob25lPS0xPGUuaW5kZXhPZihcIklFTW9iaWxlXCIpfHwtMTxlLmluZGV4T2YoXCJXaW5kb3dzIFBob25lXCIpLHQuaXNGaXJlZm94PS0xPGUuaW5kZXhPZihcIkZpcmVmb3hcIiksdC5pc09wZXJhPW51bGwhPXdpbmRvdy5vcGVyYSx0LmlzQ2hyb21lPS0xPGUuaW5kZXhPZihcIkNocm9tZVwiKSx0LmlzSU9TPSgtMTxlLmluZGV4T2YoXCJpUG9kXCIpfHwtMTxlLmluZGV4T2YoXCJpUGhvbmVcIil8fC0xPGUuaW5kZXhPZihcImlQYWRcIikpJiYhdC5pc1dpbmRvd1Bob25lLHQuaXNBbmRyb2lkPS0xPGUuaW5kZXhPZihcIkFuZHJvaWRcIikmJiF0LmlzV2luZG93UGhvbmUsdC5pc0JsYWNrYmVycnk9LTE8ZS5pbmRleE9mKFwiQmxhY2tiZXJyeVwiKSxjcmVhdGVqcy5Ccm93c2VyRGV0ZWN0PXR9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7dGhpcy5pbnRlcnJ1cHQ9bnVsbCx0aGlzLmRlbGF5PW51bGwsdGhpcy5vZmZzZXQ9bnVsbCx0aGlzLmxvb3A9bnVsbCx0aGlzLnZvbHVtZT1udWxsLHRoaXMucGFuPW51bGwsdGhpcy5zdGFydFRpbWU9bnVsbCx0aGlzLmR1cmF0aW9uPW51bGx9dmFyIGU9dC5wcm90b3R5cGU9e30saT10O2kuY3JlYXRlPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBjb25zb2xlJiYoY29uc29sZS53YXJufHxjb25zb2xlLmxvZykoXCJEZXByZWNhdGVkIGJlaGF2aW91ci4gU291bmQucGxheSB0YWtlcyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGluc3RlYWQgb2YgaW5kaXZpZHVhbCBhcmd1bWVudHMuIFNlZSBkb2NzIGZvciBpbmZvLlwiKSwobmV3IGNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZykuc2V0KHtpbnRlcnJ1cHQ6dH0pO2lmKG51bGw9PXR8fHQgaW5zdGFuY2VvZiBpfHx0IGluc3RhbmNlb2YgT2JqZWN0KXJldHVybihuZXcgY3JlYXRlanMuUGxheVByb3BzQ29uZmlnKS5zZXQodCk7aWYobnVsbD09dCl0aHJvdyBuZXcgRXJyb3IoXCJQbGF5UHJvcHMgY29uZmlndXJhdGlvbiBub3QgcmVjb2duaXplZC5cIil9LGUuc2V0PWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpZm9yKHZhciBlIGluIHQpdGhpc1tlXT10W2VdO3JldHVybiB0aGlzfSxlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbUGxheVByb3BzQ29uZmlnXVwifSxjcmVhdGVqcy5QbGF5UHJvcHNDb25maWc9aX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoKXt0aHJvd1wiU291bmQgY2Fubm90IGJlIGluc3RhbnRpYXRlZFwifXZhciBvPWE7ZnVuY3Rpb24gaCh0LGUpe3RoaXMuaW5pdCh0LGUpfW8uSU5URVJSVVBUX0FOWT1cImFueVwiLG8uSU5URVJSVVBUX0VBUkxZPVwiZWFybHlcIixvLklOVEVSUlVQVF9MQVRFPVwibGF0ZVwiLG8uSU5URVJSVVBUX05PTkU9XCJub25lXCIsby5QTEFZX0lOSVRFRD1cInBsYXlJbml0ZWRcIixvLlBMQVlfU1VDQ0VFREVEPVwicGxheVN1Y2NlZWRlZFwiLG8uUExBWV9JTlRFUlJVUFRFRD1cInBsYXlJbnRlcnJ1cHRlZFwiLG8uUExBWV9GSU5JU0hFRD1cInBsYXlGaW5pc2hlZFwiLG8uUExBWV9GQUlMRUQ9XCJwbGF5RmFpbGVkXCIsby5TVVBQT1JURURfRVhURU5TSU9OUz1bXCJtcDNcIixcIm9nZ1wiLFwib3B1c1wiLFwibXBlZ1wiLFwid2F2XCIsXCJtNGFcIixcIm1wNFwiLFwiYWlmZlwiLFwid21hXCIsXCJtaWRcIl0sby5FWFRFTlNJT05fTUFQPXttNGE6XCJtcDRcIn0sby5GSUxFX1BBVFRFUk49L14oPzooXFx3KzopXFwvezJ9KFxcdysoPzpcXC5cXHcrKSpcXC8/KSk/KFsvLl0qPyg/OlteP10rKT9cXC8pPygoPzpbXi8/XSspXFwuKFxcdyspKSg/OlxcPyhcXFMrKT8pPyQvLG8uZGVmYXVsdEludGVycnVwdEJlaGF2aW9yPW8uSU5URVJSVVBUX05PTkUsby5hbHRlcm5hdGVFeHRlbnNpb25zPVtdLG8uYWN0aXZlUGx1Z2luPW51bGwsby5fbWFzdGVyVm9sdW1lPTEsby5fZ2V0TWFzdGVyVm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc3RlclZvbHVtZX0sby5nZXRWb2x1bWU9Y3JlYXRlanMuZGVwcmVjYXRlKG8uX2dldE1hc3RlclZvbHVtZSxcIlNvdW5kLmdldFZvbHVtZVwiKSxvLl9zZXRNYXN0ZXJWb2x1bWU9ZnVuY3Rpb24odCl7aWYobnVsbCE9TnVtYmVyKHQpJiYodD1NYXRoLm1heCgwLE1hdGgubWluKDEsdCkpLG8uX21hc3RlclZvbHVtZT10LCF0aGlzLmFjdGl2ZVBsdWdpbnx8IXRoaXMuYWN0aXZlUGx1Z2luLnNldFZvbHVtZXx8IXRoaXMuYWN0aXZlUGx1Z2luLnNldFZvbHVtZSh0KSkpZm9yKHZhciBlPXRoaXMuX2luc3RhbmNlcyxpPTAscz1lLmxlbmd0aDtpPHM7aSsrKWVbaV0uc2V0TWFzdGVyVm9sdW1lKHQpfSxvLnNldFZvbHVtZT1jcmVhdGVqcy5kZXByZWNhdGUoby5fc2V0TWFzdGVyVm9sdW1lLFwiU291bmQuc2V0Vm9sdW1lXCIpLG8uX21hc3Rlck11dGU9ITEsby5fZ2V0TXV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXN0ZXJNdXRlfSxvLmdldE11dGU9Y3JlYXRlanMuZGVwcmVjYXRlKG8uX2dldE11dGUsXCJTb3VuZC5nZXRNdXRlXCIpLG8uX3NldE11dGU9ZnVuY3Rpb24odCl7aWYobnVsbCE9dCYmKHRoaXMuX21hc3Rlck11dGU9dCwhdGhpcy5hY3RpdmVQbHVnaW58fCF0aGlzLmFjdGl2ZVBsdWdpbi5zZXRNdXRlfHwhdGhpcy5hY3RpdmVQbHVnaW4uc2V0TXV0ZSh0KSkpZm9yKHZhciBlPXRoaXMuX2luc3RhbmNlcyxpPTAscz1lLmxlbmd0aDtpPHM7aSsrKWVbaV0uc2V0TWFzdGVyTXV0ZSh0KX0sby5zZXRNdXRlPWNyZWF0ZWpzLmRlcHJlY2F0ZShvLl9zZXRNdXRlLFwiU291bmQuc2V0TXV0ZVwiKSxvLl9nZXRDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09by5hY3RpdmVQbHVnaW4/bnVsbDpvLmFjdGl2ZVBsdWdpbi5fY2FwYWJpbGl0aWVzfSxvLmdldENhcGFiaWxpdGllcz1jcmVhdGVqcy5kZXByZWNhdGUoby5fZ2V0Q2FwYWJpbGl0aWVzLFwiU291bmQuZ2V0Q2FwYWJpbGl0aWVzXCIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8se3ZvbHVtZTp7Z2V0Om8uX2dldE1hc3RlclZvbHVtZSxzZXQ6by5fc2V0TWFzdGVyVm9sdW1lfSxtdXRlZDp7Z2V0Om8uX2dldE11dGUsc2V0Om8uX3NldE11dGV9LGNhcGFiaWxpdGllczp7Z2V0Om8uX2dldENhcGFiaWxpdGllc319KSxvLl9wbHVnaW5zUmVnaXN0ZXJlZD0hMSxvLl9sYXN0SUQ9MCxvLl9pbnN0YW5jZXM9W10sby5faWRIYXNoPXt9LG8uX3ByZWxvYWRIYXNoPXt9LG8uX2RlZmF1bHRQbGF5UHJvcHNIYXNoPXt9LG8uYWRkRXZlbnRMaXN0ZW5lcj1udWxsLG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1udWxsLG8ucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9bnVsbCxvLmRpc3BhdGNoRXZlbnQ9bnVsbCxvLmhhc0V2ZW50TGlzdGVuZXI9bnVsbCxvLl9saXN0ZW5lcnM9bnVsbCxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIuaW5pdGlhbGl6ZShvKSxvLmdldFByZWxvYWRIYW5kbGVycz1mdW5jdGlvbigpe3JldHVybntjYWxsYmFjazpjcmVhdGVqcy5wcm94eShvLmluaXRMb2FkLG8pLHR5cGVzOltcInNvdW5kXCJdLGV4dGVuc2lvbnM6by5TVVBQT1JURURfRVhURU5TSU9OU319LG8uX2hhbmRsZUxvYWRDb21wbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldC5nZXRJdGVtKCkuc3JjO2lmKG8uX3ByZWxvYWRIYXNoW2VdKWZvcih2YXIgaT0wLHM9by5fcHJlbG9hZEhhc2hbZV0ubGVuZ3RoO2k8cztpKyspe3ZhciByPW8uX3ByZWxvYWRIYXNoW2VdW2ldO28uX3ByZWxvYWRIYXNoW2VdW2ldPSEwLG8uaGFzRXZlbnRMaXN0ZW5lcihcImZpbGVsb2FkXCIpJiYoKHQ9bmV3IGNyZWF0ZWpzLkV2ZW50KFwiZmlsZWxvYWRcIikpLnNyYz1yLnNyYyx0LmlkPXIuaWQsdC5kYXRhPXIuZGF0YSx0LnNwcml0ZT1yLnNwcml0ZSxvLmRpc3BhdGNoRXZlbnQodCkpfX0sby5faGFuZGxlTG9hZEVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0LmdldEl0ZW0oKS5zcmM7aWYoby5fcHJlbG9hZEhhc2hbZV0pZm9yKHZhciBpPTAscz1vLl9wcmVsb2FkSGFzaFtlXS5sZW5ndGg7aTxzO2krKyl7dmFyIHI9by5fcHJlbG9hZEhhc2hbZV1baV07by5fcHJlbG9hZEhhc2hbZV1baV09ITEsby5oYXNFdmVudExpc3RlbmVyKFwiZmlsZWVycm9yXCIpJiYoKHQ9bmV3IGNyZWF0ZWpzLkV2ZW50KFwiZmlsZWVycm9yXCIpKS5zcmM9ci5zcmMsdC5pZD1yLmlkLHQuZGF0YT1yLmRhdGEsdC5zcHJpdGU9ci5zcHJpdGUsby5kaXNwYXRjaEV2ZW50KHQpKX19LG8uX3JlZ2lzdGVyUGx1Z2luPWZ1bmN0aW9uKHQpe3JldHVybiEhdC5pc1N1cHBvcnRlZCgpJiYoby5hY3RpdmVQbHVnaW49bmV3IHQsITApfSxvLnJlZ2lzdGVyUGx1Z2lucz1mdW5jdGlvbih0KXtvLl9wbHVnaW5zUmVnaXN0ZXJlZD0hMDtmb3IodmFyIGU9MCxpPXQubGVuZ3RoO2U8aTtlKyspaWYoby5fcmVnaXN0ZXJQbHVnaW4odFtlXSkpcmV0dXJuITA7cmV0dXJuITF9LG8uaW5pdGlhbGl6ZURlZmF1bHRQbHVnaW5zPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPW8uYWN0aXZlUGx1Z2lufHwhby5fcGx1Z2luc1JlZ2lzdGVyZWQmJiEhby5yZWdpc3RlclBsdWdpbnMoW2NyZWF0ZWpzLldlYkF1ZGlvUGx1Z2luLGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbl0pfSxvLmlzUmVhZHk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9by5hY3RpdmVQbHVnaW59LG8uaW5pdExvYWQ9ZnVuY3Rpb24odCl7cmV0dXJuXCJ2aWRlb1wiPT10LnR5cGV8fG8uX3JlZ2lzdGVyU291bmQodCl9LG8uX3JlZ2lzdGVyU291bmQ9ZnVuY3Rpb24odCl7aWYoIW8uaW5pdGlhbGl6ZURlZmF1bHRQbHVnaW5zKCkpcmV0dXJuITE7dmFyIGU7aWYodC5zcmMgaW5zdGFuY2VvZiBPYmplY3Q/KGU9by5fcGFyc2VTcmModC5zcmMpKS5zcmM9dC5wYXRoK2Uuc3JjOmU9by5fcGFyc2VQYXRoKHQuc3JjKSxudWxsPT1lKXJldHVybiExO3Quc3JjPWUuc3JjLHQudHlwZT1cInNvdW5kXCI7dmFyIGk9dC5kYXRhLHM9bnVsbDtpZihudWxsIT1pJiYoaXNOYU4oaS5jaGFubmVscyk/aXNOYU4oaSl8fChzPXBhcnNlSW50KGkpKTpzPXBhcnNlSW50KGkuY2hhbm5lbHMpLGkuYXVkaW9TcHJpdGUpKWZvcih2YXIgcixuPWkuYXVkaW9TcHJpdGUubGVuZ3RoO24tLTspcj1pLmF1ZGlvU3ByaXRlW25dLG8uX2lkSGFzaFtyLmlkXT17c3JjOnQuc3JjLHN0YXJ0VGltZTpwYXJzZUludChyLnN0YXJ0VGltZSksZHVyYXRpb246cGFyc2VJbnQoci5kdXJhdGlvbil9LHIuZGVmYXVsdFBsYXlQcm9wcyYmKG8uX2RlZmF1bHRQbGF5UHJvcHNIYXNoW3IuaWRdPWNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZy5jcmVhdGUoci5kZWZhdWx0UGxheVByb3BzKSk7bnVsbCE9dC5pZCYmKG8uX2lkSGFzaFt0LmlkXT17c3JjOnQuc3JjfSk7dmFyIGE9by5hY3RpdmVQbHVnaW4ucmVnaXN0ZXIodCk7cmV0dXJuIGguY3JlYXRlKHQuc3JjLHMpLG51bGwhPWkmJmlzTmFOKGkpP3QuZGF0YS5jaGFubmVscz1zfHxoLm1heFBlckNoYW5uZWwoKTp0LmRhdGE9c3x8aC5tYXhQZXJDaGFubmVsKCksYS50eXBlJiYodC50eXBlPWEudHlwZSksdC5kZWZhdWx0UGxheVByb3BzJiYoby5fZGVmYXVsdFBsYXlQcm9wc0hhc2hbdC5zcmNdPWNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZy5jcmVhdGUodC5kZWZhdWx0UGxheVByb3BzKSksYX0sby5yZWdpc3RlclNvdW5kPWZ1bmN0aW9uKHQsZSxpLHMscil7dmFyIG49e3NyYzp0LGlkOmUsZGF0YTppLGRlZmF1bHRQbGF5UHJvcHM6cn07dCBpbnN0YW5jZW9mIE9iamVjdCYmdC5zcmMmJihzPWUsbj10KSxudWxsPT0oKG49Y3JlYXRlanMuTG9hZEl0ZW0uY3JlYXRlKG4pKS5wYXRoPXMpfHxuLnNyYyBpbnN0YW5jZW9mIE9iamVjdHx8KG4uc3JjPXMrbi5zcmMpO3ZhciBhPW8uX3JlZ2lzdGVyU291bmQobik7aWYoIWEpcmV0dXJuITE7aWYoby5fcHJlbG9hZEhhc2hbbi5zcmNdfHwoby5fcHJlbG9hZEhhc2hbbi5zcmNdPVtdKSxvLl9wcmVsb2FkSGFzaFtuLnNyY10ucHVzaChuKSwxPT1vLl9wcmVsb2FkSGFzaFtuLnNyY10ubGVuZ3RoKWEub24oXCJjb21wbGV0ZVwiLHRoaXMuX2hhbmRsZUxvYWRDb21wbGV0ZSx0aGlzKSxhLm9uKFwiZXJyb3JcIix0aGlzLl9oYW5kbGVMb2FkRXJyb3IsdGhpcyksby5hY3RpdmVQbHVnaW4ucHJlbG9hZChhKTtlbHNlIGlmKDE9PW8uX3ByZWxvYWRIYXNoW24uc3JjXVswXSlyZXR1cm4hMDtyZXR1cm4gbn0sby5yZWdpc3RlclNvdW5kcz1mdW5jdGlvbih0LGUpe3ZhciBpPVtdO3QucGF0aCYmKGU/ZSs9dC5wYXRoOmU9dC5wYXRoLHQ9dC5tYW5pZmVzdCk7Zm9yKHZhciBzPTAscj10Lmxlbmd0aDtzPHI7cysrKWlbc109Y3JlYXRlanMuU291bmQucmVnaXN0ZXJTb3VuZCh0W3NdLnNyYyx0W3NdLmlkLHRbc10uZGF0YSxlLHRbc10uZGVmYXVsdFBsYXlQcm9wcyk7cmV0dXJuIGl9LG8ucmVtb3ZlU291bmQ9ZnVuY3Rpb24odCxlKXtpZihudWxsPT1vLmFjdGl2ZVBsdWdpbilyZXR1cm4hMTt2YXIgaTtpZih0IGluc3RhbmNlb2YgT2JqZWN0JiZ0LnNyYyYmKHQ9dC5zcmMpLG51bGw9PShpPXQgaW5zdGFuY2VvZiBPYmplY3Q/by5fcGFyc2VTcmModCk6KHQ9by5fZ2V0U3JjQnlJZCh0KS5zcmMsby5fcGFyc2VQYXRoKHQpKSkpcmV0dXJuITE7Zm9yKHZhciBzIGluIHQ9aS5zcmMsbnVsbCE9ZSYmKHQ9ZSt0KSxvLl9pZEhhc2gpby5faWRIYXNoW3NdLnNyYz09dCYmZGVsZXRlIG8uX2lkSGFzaFtzXTtyZXR1cm4gaC5yZW1vdmVTcmModCksZGVsZXRlIG8uX3ByZWxvYWRIYXNoW3RdLG8uYWN0aXZlUGx1Z2luLnJlbW92ZVNvdW5kKHQpLCEwfSxvLnJlbW92ZVNvdW5kcz1mdW5jdGlvbih0LGUpe3ZhciBpPVtdO3QucGF0aCYmKGU/ZSs9dC5wYXRoOmU9dC5wYXRoLHQ9dC5tYW5pZmVzdCk7Zm9yKHZhciBzPTAscj10Lmxlbmd0aDtzPHI7cysrKWlbc109Y3JlYXRlanMuU291bmQucmVtb3ZlU291bmQodFtzXS5zcmMsZSk7cmV0dXJuIGl9LG8ucmVtb3ZlQWxsU291bmRzPWZ1bmN0aW9uKCl7by5faWRIYXNoPXt9LG8uX3ByZWxvYWRIYXNoPXt9LGgucmVtb3ZlQWxsKCksby5hY3RpdmVQbHVnaW4mJm8uYWN0aXZlUGx1Z2luLnJlbW92ZUFsbFNvdW5kcygpfSxvLmxvYWRDb21wbGV0ZT1mdW5jdGlvbih0KXtpZighby5pc1JlYWR5KCkpcmV0dXJuITE7dmFyIGU9by5fcGFyc2VQYXRoKHQpO3JldHVybiB0PWU/by5fZ2V0U3JjQnlJZChlLnNyYykuc3JjOm8uX2dldFNyY0J5SWQodCkuc3JjLG51bGwhPW8uX3ByZWxvYWRIYXNoW3RdJiYxPT1vLl9wcmVsb2FkSGFzaFt0XVswXX0sby5fcGFyc2VQYXRoPWZ1bmN0aW9uKHQpe1wic3RyaW5nXCIhPXR5cGVvZiB0JiYodD10LnRvU3RyaW5nKCkpO3ZhciBlPXQubWF0Y2goby5GSUxFX1BBVFRFUk4pO2lmKG51bGw9PWUpcmV0dXJuITE7Zm9yKHZhciBpPWVbNF0scz1lWzVdLHI9by5jYXBhYmlsaXRpZXMsbj0wOyFyW3NdOylpZihzPW8uYWx0ZXJuYXRlRXh0ZW5zaW9uc1tuKytdLG4+by5hbHRlcm5hdGVFeHRlbnNpb25zLmxlbmd0aClyZXR1cm4gbnVsbDtyZXR1cm57bmFtZTppLHNyYzp0PXQucmVwbGFjZShcIi5cIitlWzVdLFwiLlwiK3MpLGV4dGVuc2lvbjpzfX0sby5fcGFyc2VTcmM9ZnVuY3Rpb24odCl7dmFyIGU9e25hbWU6dm9pZCAwLHNyYzp2b2lkIDAsZXh0ZW5zaW9uOnZvaWQgMH0saT1vLmNhcGFiaWxpdGllcztmb3IodmFyIHMgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHMpJiZpW3NdKXtlLnNyYz10W3NdLGUuZXh0ZW5zaW9uPXM7YnJlYWt9aWYoIWUuc3JjKXJldHVybiExO3ZhciByPWUuc3JjLmxhc3RJbmRleE9mKFwiL1wiKTtyZXR1cm4gZS5uYW1lPS0xIT1yP2Uuc3JjLnNsaWNlKHIrMSk6ZS5zcmMsZX0sby5wbGF5PWZ1bmN0aW9uKHQsZSl7dmFyIGk9Y3JlYXRlanMuUGxheVByb3BzQ29uZmlnLmNyZWF0ZShlKSxzPW8uY3JlYXRlSW5zdGFuY2UodCxpLnN0YXJ0VGltZSxpLmR1cmF0aW9uKTtyZXR1cm4gby5fcGxheUluc3RhbmNlKHMsaSl8fHMuX3BsYXlGYWlsZWQoKSxzfSxvLmNyZWF0ZUluc3RhbmNlPWZ1bmN0aW9uKHQsZSxpKXtpZighby5pbml0aWFsaXplRGVmYXVsdFBsdWdpbnMoKSlyZXR1cm4gbmV3IGNyZWF0ZWpzLkRlZmF1bHRTb3VuZEluc3RhbmNlKHQsZSxpKTt2YXIgcz1vLl9kZWZhdWx0UGxheVByb3BzSGFzaFt0XTt0PW8uX2dldFNyY0J5SWQodCk7dmFyIHI9by5fcGFyc2VQYXRoKHQuc3JjKSxuPW51bGw7cmV0dXJuIG51bGwhPXImJm51bGwhPXIuc3JjPyhoLmNyZWF0ZShyLnNyYyksbnVsbD09ZSYmKGU9dC5zdGFydFRpbWUpLG49by5hY3RpdmVQbHVnaW4uY3JlYXRlKHIuc3JjLGUsaXx8dC5kdXJhdGlvbiksKHM9c3x8by5fZGVmYXVsdFBsYXlQcm9wc0hhc2hbci5zcmNdKSYmbi5hcHBseVBsYXlQcm9wcyhzKSk6bj1uZXcgY3JlYXRlanMuRGVmYXVsdFNvdW5kSW5zdGFuY2UodCxlLGkpLG4udW5pcXVlSWQ9by5fbGFzdElEKyssbn0sby5zdG9wPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2luc3RhbmNlcyxlPXQubGVuZ3RoO2UtLTspdFtlXS5zdG9wKCl9LG8uc2V0RGVmYXVsdFBsYXlQcm9wcz1mdW5jdGlvbih0LGUpe3Q9by5fZ2V0U3JjQnlJZCh0KSxvLl9kZWZhdWx0UGxheVByb3BzSGFzaFtvLl9wYXJzZVBhdGgodC5zcmMpLnNyY109Y3JlYXRlanMuUGxheVByb3BzQ29uZmlnLmNyZWF0ZShlKX0sby5nZXREZWZhdWx0UGxheVByb3BzPWZ1bmN0aW9uKHQpe3JldHVybiB0PW8uX2dldFNyY0J5SWQodCksby5fZGVmYXVsdFBsYXlQcm9wc0hhc2hbby5fcGFyc2VQYXRoKHQuc3JjKS5zcmNdfSxvLl9wbGF5SW5zdGFuY2U9ZnVuY3Rpb24odCxlKXt2YXIgaT1vLl9kZWZhdWx0UGxheVByb3BzSGFzaFt0LnNyY118fHt9O2lmKG51bGw9PWUuaW50ZXJydXB0JiYoZS5pbnRlcnJ1cHQ9aS5pbnRlcnJ1cHR8fG8uZGVmYXVsdEludGVycnVwdEJlaGF2aW9yKSxudWxsPT1lLmRlbGF5JiYoZS5kZWxheT1pLmRlbGF5fHwwKSxudWxsPT1lLm9mZnNldCYmKGUub2Zmc2V0PXQucG9zaXRpb24pLG51bGw9PWUubG9vcCYmKGUubG9vcD10Lmxvb3ApLG51bGw9PWUudm9sdW1lJiYoZS52b2x1bWU9dC52b2x1bWUpLG51bGw9PWUucGFuJiYoZS5wYW49dC5wYW4pLDA9PWUuZGVsYXkpe2lmKCFvLl9iZWdpblBsYXlpbmcodCxlKSlyZXR1cm4hMX1lbHNle3ZhciBzPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLl9iZWdpblBsYXlpbmcodCxlKX0sZS5kZWxheSk7dC5kZWxheVRpbWVvdXRJZD1zfXJldHVybiB0aGlzLl9pbnN0YW5jZXMucHVzaCh0KSwhMH0sby5fYmVnaW5QbGF5aW5nPWZ1bmN0aW9uKHQsZSl7aWYoIWguYWRkKHQsZS5pbnRlcnJ1cHQpKXJldHVybiExO2lmKHQuX2JlZ2luUGxheWluZyhlKSlyZXR1cm4hMDt2YXIgaT1jcmVhdGVqcy5pbmRleE9mKHRoaXMuX2luc3RhbmNlcyx0KTtyZXR1cm4tMTxpJiZ0aGlzLl9pbnN0YW5jZXMuc3BsaWNlKGksMSksITF9LG8uX2dldFNyY0J5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG8uX2lkSGFzaFt0XXx8e3NyYzp0fX0sby5fcGxheUZpbmlzaGVkPWZ1bmN0aW9uKHQpe2gucmVtb3ZlKHQpO3ZhciBlPWNyZWF0ZWpzLmluZGV4T2YodGhpcy5faW5zdGFuY2VzLHQpOy0xPGUmJnRoaXMuX2luc3RhbmNlcy5zcGxpY2UoZSwxKX0sY3JlYXRlanMuU291bmQ9YSxoLmNoYW5uZWxzPXt9LGguY3JlYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PWguZ2V0KHQpJiYoaC5jaGFubmVsc1t0XT1uZXcgaCh0LGUpLCEwKX0saC5yZW1vdmVTcmM9ZnVuY3Rpb24odCl7dmFyIGU9aC5nZXQodCk7cmV0dXJuIG51bGwhPWUmJihlLl9yZW1vdmVBbGwoKSxkZWxldGUgaC5jaGFubmVsc1t0XSwhMCl9LGgucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIGguY2hhbm5lbHMpaC5jaGFubmVsc1t0XS5fcmVtb3ZlQWxsKCk7aC5jaGFubmVscz17fX0saC5hZGQ9ZnVuY3Rpb24odCxlKXt2YXIgaT1oLmdldCh0LnNyYyk7cmV0dXJuIG51bGwhPWkmJmkuX2FkZCh0LGUpfSxoLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT1oLmdldCh0LnNyYyk7cmV0dXJuIG51bGwhPWUmJihlLl9yZW1vdmUodCksITApfSxoLm1heFBlckNoYW5uZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXhEZWZhdWx0fSxoLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gaC5jaGFubmVsc1t0XX07dmFyIHQ9aC5wcm90b3R5cGU7dC5jb25zdHJ1Y3Rvcj1oLHQuc3JjPW51bGwsdC5tYXg9bnVsbCx0Lm1heERlZmF1bHQ9MTAwLHQubGVuZ3RoPTAsdC5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5zcmM9dCx0aGlzLm1heD1lfHx0aGlzLm1heERlZmF1bHQsLTE9PXRoaXMubWF4JiYodGhpcy5tYXg9dGhpcy5tYXhEZWZhdWx0KSx0aGlzLl9pbnN0YW5jZXM9W119LHQuX2dldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW5zdGFuY2VzW3RdfSx0Ll9hZGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXRoaXMuX2dldFNsb3QoZSx0KSYmKHRoaXMuX2luc3RhbmNlcy5wdXNoKHQpLHRoaXMubGVuZ3RoKyssITApfSx0Ll9yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlanMuaW5kZXhPZih0aGlzLl9pbnN0YW5jZXMsdCk7cmV0dXJuLTEhPWUmJih0aGlzLl9pbnN0YW5jZXMuc3BsaWNlKGUsMSksdGhpcy5sZW5ndGgtLSwhMCl9LHQuX3JlbW92ZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmxlbmd0aC0xOzA8PXQ7dC0tKXRoaXMuX2luc3RhbmNlc1t0XS5zdG9wKCl9LHQuX2dldFNsb3Q9ZnVuY3Rpb24odCxlKXt2YXIgaSxzO2lmKHQhPWEuSU5URVJSVVBUX05PTkUmJm51bGw9PShzPXRoaXMuX2dldCgwKSkpcmV0dXJuITA7Zm9yKHZhciByPTAsbj10aGlzLm1heDtyPG47cisrKXtpZihudWxsPT0oaT10aGlzLl9nZXQocikpKXJldHVybiEwO2lmKGkucGxheVN0YXRlPT1hLlBMQVlfRklOSVNIRUR8fGkucGxheVN0YXRlPT1hLlBMQVlfSU5URVJSVVBURUR8fGkucGxheVN0YXRlPT1hLlBMQVlfRkFJTEVEKXtzPWk7YnJlYWt9dCE9YS5JTlRFUlJVUFRfTk9ORSYmKHQ9PWEuSU5URVJSVVBUX0VBUkxZJiZpLnBvc2l0aW9uPHMucG9zaXRpb258fHQ9PWEuSU5URVJSVVBUX0xBVEUmJmkucG9zaXRpb24+cy5wb3NpdGlvbikmJihzPWkpfXJldHVybiBudWxsIT1zJiYocy5faW50ZXJydXB0KCksdGhpcy5fcmVtb3ZlKHMpLCEwKX0sdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1NvdW5kIFNvdW5kQ2hhbm5lbF1cIn19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSxpLHMpe3RoaXMuRXZlbnREaXNwYXRjaGVyX2NvbnN0cnVjdG9yKCksdGhpcy5zcmM9dCx0aGlzLnVuaXF1ZUlkPS0xLHRoaXMucGxheVN0YXRlPW51bGwsdGhpcy5kZWxheVRpbWVvdXRJZD1udWxsLHRoaXMuX3ZvbHVtZT0xLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidm9sdW1lXCIse2dldDp0aGlzLl9nZXRWb2x1bWUsc2V0OnRoaXMuX3NldFZvbHVtZX0pLHRoaXMuX3Bhbj0wLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGFuXCIse2dldDp0aGlzLl9nZXRQYW4sc2V0OnRoaXMuX3NldFBhbn0pLHRoaXMuX3N0YXJ0VGltZT1NYXRoLm1heCgwLGV8fDApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhcnRUaW1lXCIse2dldDp0aGlzLl9nZXRTdGFydFRpbWUsc2V0OnRoaXMuX3NldFN0YXJ0VGltZX0pLHRoaXMuX2R1cmF0aW9uPU1hdGgubWF4KDAsaXx8MCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJkdXJhdGlvblwiLHtnZXQ6dGhpcy5fZ2V0RHVyYXRpb24sc2V0OnRoaXMuX3NldER1cmF0aW9ufSksdGhpcy5fcGxheWJhY2tSZXNvdXJjZT1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGxheWJhY2tSZXNvdXJjZVwiLHtnZXQ6dGhpcy5fZ2V0UGxheWJhY2tSZXNvdXJjZSxzZXQ6dGhpcy5fc2V0UGxheWJhY2tSZXNvdXJjZX0pLCExIT09cyYmITAhPT1zJiZ0aGlzLl9zZXRQbGF5YmFja1Jlc291cmNlKHMpLHRoaXMuX3Bvc2l0aW9uPTAsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwb3NpdGlvblwiLHtnZXQ6dGhpcy5fZ2V0UG9zaXRpb24sc2V0OnRoaXMuX3NldFBvc2l0aW9ufSksdGhpcy5fbG9vcD0wLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibG9vcFwiLHtnZXQ6dGhpcy5fZ2V0TG9vcCxzZXQ6dGhpcy5fc2V0TG9vcH0pLHRoaXMuX211dGVkPSExLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibXV0ZWRcIix7Z2V0OnRoaXMuX2dldE11dGVkLHNldDp0aGlzLl9zZXRNdXRlZH0pLHRoaXMuX3BhdXNlZD0hMSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBhdXNlZFwiLHtnZXQ6dGhpcy5fZ2V0UGF1c2VkLHNldDp0aGlzLl9zZXRQYXVzZWR9KX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpO2UucGxheT1mdW5jdGlvbih0KXt2YXIgZT1jcmVhdGVqcy5QbGF5UHJvcHNDb25maWcuY3JlYXRlKHQpO3JldHVybiB0aGlzLnBsYXlTdGF0ZT09Y3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQ/KHRoaXMuYXBwbHlQbGF5UHJvcHMoZSksdm9pZCh0aGlzLl9wYXVzZWQmJnRoaXMuX3NldFBhdXNlZCghMSkpKToodGhpcy5fY2xlYW5VcCgpLGNyZWF0ZWpzLlNvdW5kLl9wbGF5SW5zdGFuY2UodGhpcyxlKSx0aGlzKX0sZS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uPTAsdGhpcy5fcGF1c2VkPSExLHRoaXMuX2hhbmRsZVN0b3AoKSx0aGlzLl9jbGVhblVwKCksdGhpcy5wbGF5U3RhdGU9Y3JlYXRlanMuU291bmQuUExBWV9GSU5JU0hFRCx0aGlzfSxlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhblVwKCksdGhpcy5zcmM9bnVsbCx0aGlzLnBsYXliYWNrUmVzb3VyY2U9bnVsbCx0aGlzLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCl9LGUuYXBwbHlQbGF5UHJvcHM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQub2Zmc2V0JiZ0aGlzLl9zZXRQb3NpdGlvbih0Lm9mZnNldCksbnVsbCE9dC5sb29wJiZ0aGlzLl9zZXRMb29wKHQubG9vcCksbnVsbCE9dC52b2x1bWUmJnRoaXMuX3NldFZvbHVtZSh0LnZvbHVtZSksbnVsbCE9dC5wYW4mJnRoaXMuX3NldFBhbih0LnBhbiksbnVsbCE9dC5zdGFydFRpbWUmJih0aGlzLl9zZXRTdGFydFRpbWUodC5zdGFydFRpbWUpLHRoaXMuX3NldER1cmF0aW9uKHQuZHVyYXRpb24pKSx0aGlzfSxlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbQWJzdHJhY3RTb3VuZEluc3RhbmNlXVwifSxlLl9nZXRQYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF1c2VkfSxlLl9zZXRQYXVzZWQ9ZnVuY3Rpb24odCl7aWYoISghMCE9PXQmJiExIT09dHx8dGhpcy5fcGF1c2VkPT10fHwxPT10JiZ0aGlzLnBsYXlTdGF0ZSE9Y3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQpKXJldHVybih0aGlzLl9wYXVzZWQ9dCk/dGhpcy5fcGF1c2UoKTp0aGlzLl9yZXN1bWUoKSxjbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVvdXRJZCksdGhpc30sZS5fc2V0Vm9sdW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0PT10aGlzLl92b2x1bWV8fCh0aGlzLl92b2x1bWU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHQpKSx0aGlzLl9tdXRlZHx8dGhpcy5fdXBkYXRlVm9sdW1lKCkpLHRoaXN9LGUuX2dldFZvbHVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92b2x1bWV9LGUuX3NldE11dGVkPWZ1bmN0aW9uKHQpe2lmKCEwPT09dHx8ITE9PT10KXJldHVybiB0aGlzLl9tdXRlZD10LHRoaXMuX3VwZGF0ZVZvbHVtZSgpLHRoaXN9LGUuX2dldE11dGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX211dGVkfSxlLl9zZXRQYW49ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PXRoaXMuX3Bhbnx8KHRoaXMuX3Bhbj1NYXRoLm1heCgtMSxNYXRoLm1pbigxLHQpKSx0aGlzLl91cGRhdGVQYW4oKSksdGhpc30sZS5fZ2V0UGFuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bhbn0sZS5fZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF1c2VkfHx0aGlzLnBsYXlTdGF0ZSE9Y3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUR8fCh0aGlzLl9wb3NpdGlvbj10aGlzLl9jYWxjdWxhdGVDdXJyZW50UG9zaXRpb24oKSksdGhpcy5fcG9zaXRpb259LGUuX3NldFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wb3NpdGlvbj1NYXRoLm1heCgwLHQpLHRoaXMucGxheVN0YXRlPT1jcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCYmdGhpcy5fdXBkYXRlUG9zaXRpb24oKSx0aGlzfSxlLl9nZXRTdGFydFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lfSxlLl9zZXRTdGFydFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PXRoaXMuX3N0YXJ0VGltZXx8KHRoaXMuX3N0YXJ0VGltZT1NYXRoLm1heCgwLHR8fDApLHRoaXMuX3VwZGF0ZVN0YXJ0VGltZSgpKSx0aGlzfSxlLl9nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kdXJhdGlvbn0sZS5fc2V0RHVyYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PXRoaXMuX2R1cmF0aW9ufHwodGhpcy5fZHVyYXRpb249TWF0aC5tYXgoMCx0fHwwKSx0aGlzLl91cGRhdGVEdXJhdGlvbigpKSx0aGlzfSxlLl9zZXRQbGF5YmFja1Jlc291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wbGF5YmFja1Jlc291cmNlPXQsMD09dGhpcy5fZHVyYXRpb24mJnRoaXMuX3BsYXliYWNrUmVzb3VyY2UmJnRoaXMuX3NldER1cmF0aW9uRnJvbVNvdXJjZSgpLHRoaXN9LGUuX2dldFBsYXliYWNrUmVzb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxheWJhY2tSZXNvdXJjZX0sZS5fZ2V0TG9vcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wfSxlLl9zZXRMb29wPWZ1bmN0aW9uKHQpe251bGwhPXRoaXMuX3BsYXliYWNrUmVzb3VyY2UmJigwIT10aGlzLl9sb29wJiYwPT10P3RoaXMuX3JlbW92ZUxvb3BpbmcodCk6MD09dGhpcy5fbG9vcCYmMCE9dCYmdGhpcy5fYWRkTG9vcGluZyh0KSksdGhpcy5fbG9vcD10fSxlLl9zZW5kRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGNyZWF0ZWpzLkV2ZW50KHQpO3RoaXMuZGlzcGF0Y2hFdmVudChlKX0sZS5fY2xlYW5VcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dElkKSx0aGlzLl9oYW5kbGVDbGVhblVwKCksdGhpcy5fcGF1c2VkPSExLGNyZWF0ZWpzLlNvdW5kLl9wbGF5RmluaXNoZWQodGhpcyl9LGUuX2ludGVycnVwdD1mdW5jdGlvbigpe3RoaXMuX2NsZWFuVXAoKSx0aGlzLnBsYXlTdGF0ZT1jcmVhdGVqcy5Tb3VuZC5QTEFZX0lOVEVSUlVQVEVELHRoaXMuX3NlbmRFdmVudChcImludGVycnVwdGVkXCIpfSxlLl9iZWdpblBsYXlpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3NldFBvc2l0aW9uKHQub2Zmc2V0KSx0aGlzLl9zZXRMb29wKHQubG9vcCksdGhpcy5fc2V0Vm9sdW1lKHQudm9sdW1lKSx0aGlzLl9zZXRQYW4odC5wYW4pLG51bGwhPXQuc3RhcnRUaW1lJiYodGhpcy5fc2V0U3RhcnRUaW1lKHQuc3RhcnRUaW1lKSx0aGlzLl9zZXREdXJhdGlvbih0LmR1cmF0aW9uKSksbnVsbCE9dGhpcy5fcGxheWJhY2tSZXNvdXJjZSYmdGhpcy5fcG9zaXRpb248dGhpcy5fZHVyYXRpb24/KHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9oYW5kbGVTb3VuZFJlYWR5KCksdGhpcy5wbGF5U3RhdGU9Y3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQsdGhpcy5fc2VuZEV2ZW50KFwic3VjY2VlZGVkXCIpLCEwKToodGhpcy5fcGxheUZhaWxlZCgpLCExKX0sZS5fcGxheUZhaWxlZD1mdW5jdGlvbigpe3RoaXMuX2NsZWFuVXAoKSx0aGlzLnBsYXlTdGF0ZT1jcmVhdGVqcy5Tb3VuZC5QTEFZX0ZBSUxFRCx0aGlzLl9zZW5kRXZlbnQoXCJmYWlsZWRcIil9LGUuX2hhbmRsZVNvdW5kQ29tcGxldGU9ZnVuY3Rpb24odCl7aWYoKHRoaXMuX3Bvc2l0aW9uPTApIT10aGlzLl9sb29wKXJldHVybiB0aGlzLl9sb29wLS0sdGhpcy5faGFuZGxlTG9vcCgpLHZvaWQgdGhpcy5fc2VuZEV2ZW50KFwibG9vcFwiKTt0aGlzLl9jbGVhblVwKCksdGhpcy5wbGF5U3RhdGU9Y3JlYXRlanMuU291bmQuUExBWV9GSU5JU0hFRCx0aGlzLl9zZW5kRXZlbnQoXCJjb21wbGV0ZVwiKX0sZS5faGFuZGxlU291bmRSZWFkeT1mdW5jdGlvbigpe30sZS5fdXBkYXRlVm9sdW1lPWZ1bmN0aW9uKCl7fSxlLl91cGRhdGVQYW49ZnVuY3Rpb24oKXt9LGUuX3VwZGF0ZVN0YXJ0VGltZT1mdW5jdGlvbigpe30sZS5fdXBkYXRlRHVyYXRpb249ZnVuY3Rpb24oKXt9LGUuX3NldER1cmF0aW9uRnJvbVNvdXJjZT1mdW5jdGlvbigpe30sZS5fY2FsY3VsYXRlQ3VycmVudFBvc2l0aW9uPWZ1bmN0aW9uKCl7fSxlLl91cGRhdGVQb3NpdGlvbj1mdW5jdGlvbigpe30sZS5fcmVtb3ZlTG9vcGluZz1mdW5jdGlvbih0KXt9LGUuX2FkZExvb3Bpbmc9ZnVuY3Rpb24odCl7fSxlLl9wYXVzZT1mdW5jdGlvbigpe30sZS5fcmVzdW1lPWZ1bmN0aW9uKCl7fSxlLl9oYW5kbGVTdG9wPWZ1bmN0aW9uKCl7fSxlLl9oYW5kbGVDbGVhblVwPWZ1bmN0aW9uKCl7fSxlLl9oYW5kbGVMb29wPWZ1bmN0aW9uKCl7fSxjcmVhdGVqcy5BYnN0cmFjdFNvdW5kSW5zdGFuY2U9Y3JlYXRlanMucHJvbW90ZSh0LFwiRXZlbnREaXNwYXRjaGVyXCIpLGNyZWF0ZWpzLkRlZmF1bHRTb3VuZEluc3RhbmNlPWNyZWF0ZWpzLkFic3RyYWN0U291bmRJbnN0YW5jZX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXt0aGlzLl9jYXBhYmlsaXRpZXM9bnVsbCx0aGlzLl9sb2FkZXJzPXt9LHRoaXMuX2F1ZGlvU291cmNlcz17fSx0aGlzLl9zb3VuZEluc3RhbmNlcz17fSx0aGlzLl92b2x1bWU9MSx0aGlzLl9sb2FkZXJDbGFzcyx0aGlzLl9zb3VuZEluc3RhbmNlQ2xhc3N9dmFyIGU9dC5wcm90b3R5cGU7dC5fY2FwYWJpbGl0aWVzPW51bGwsdC5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEwfSxlLnJlZ2lzdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2xvYWRlcnNbdC5zcmNdO3JldHVybiBlJiYhZS5jYW5jZWxlZD90aGlzLl9sb2FkZXJzW3Quc3JjXToodGhpcy5fYXVkaW9Tb3VyY2VzW3Quc3JjXT0hMCx0aGlzLl9zb3VuZEluc3RhbmNlc1t0LnNyY109W10sKGU9bmV3IHRoaXMuX2xvYWRlckNsYXNzKHQpKS5vbihcImNvbXBsZXRlXCIsdGhpcy5faGFuZGxlUHJlbG9hZENvbXBsZXRlLHRoaXMpLHRoaXMuX2xvYWRlcnNbdC5zcmNdPWUpfSxlLnByZWxvYWQ9ZnVuY3Rpb24odCl7dC5vbihcImVycm9yXCIsdGhpcy5faGFuZGxlUHJlbG9hZEVycm9yLHRoaXMpLHQubG9hZCgpfSxlLmlzUHJlbG9hZFN0YXJ0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXRoaXMuX2F1ZGlvU291cmNlc1t0XX0sZS5pc1ByZWxvYWRDb21wbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4hKG51bGw9PXRoaXMuX2F1ZGlvU291cmNlc1t0XXx8MT09dGhpcy5fYXVkaW9Tb3VyY2VzW3RdKX0sZS5yZW1vdmVTb3VuZD1mdW5jdGlvbih0KXtpZih0aGlzLl9zb3VuZEluc3RhbmNlc1t0XSl7Zm9yKHZhciBlPXRoaXMuX3NvdW5kSW5zdGFuY2VzW3RdLmxlbmd0aDtlLS07KXt0aGlzLl9zb3VuZEluc3RhbmNlc1t0XVtlXS5kZXN0cm95KCl9ZGVsZXRlIHRoaXMuX3NvdW5kSW5zdGFuY2VzW3RdLGRlbGV0ZSB0aGlzLl9hdWRpb1NvdXJjZXNbdF0sdGhpcy5fbG9hZGVyc1t0XSYmdGhpcy5fbG9hZGVyc1t0XS5kZXN0cm95KCksZGVsZXRlIHRoaXMuX2xvYWRlcnNbdF19fSxlLnJlbW92ZUFsbFNvdW5kcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9hdWRpb1NvdXJjZXMpdGhpcy5yZW1vdmVTb3VuZCh0KX0sZS5jcmVhdGU9ZnVuY3Rpb24odCxlLGkpe3RoaXMuaXNQcmVsb2FkU3RhcnRlZCh0KXx8dGhpcy5wcmVsb2FkKHRoaXMucmVnaXN0ZXIodCkpO3ZhciBzPW5ldyB0aGlzLl9zb3VuZEluc3RhbmNlQ2xhc3ModCxlLGksdGhpcy5fYXVkaW9Tb3VyY2VzW3RdKTtyZXR1cm4gdGhpcy5fc291bmRJbnN0YW5jZXNbdF0mJnRoaXMuX3NvdW5kSW5zdGFuY2VzW3RdLnB1c2gocykscy5zZXRNYXN0ZXJWb2x1bWUmJnMuc2V0TWFzdGVyVm9sdW1lKGNyZWF0ZWpzLlNvdW5kLnZvbHVtZSkscy5zZXRNYXN0ZXJNdXRlJiZzLnNldE1hc3Rlck11dGUoY3JlYXRlanMuU291bmQubXV0ZWQpLHN9LGUuc2V0Vm9sdW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92b2x1bWU9dCx0aGlzLl91cGRhdGVWb2x1bWUoKSwhMH0sZS5nZXRWb2x1bWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxlLnNldE11dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZVZvbHVtZSgpLCEwfSxlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbQWJzdHJhY3RQbHVnaW5dXCJ9LGUuX2hhbmRsZVByZWxvYWRDb21wbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldC5nZXRJdGVtKCkuc3JjO3RoaXMuX2F1ZGlvU291cmNlc1tlXT10LnJlc3VsdDtmb3IodmFyIGk9MCxzPXRoaXMuX3NvdW5kSW5zdGFuY2VzW2VdLmxlbmd0aDtpPHM7aSsrKXt0aGlzLl9zb3VuZEluc3RhbmNlc1tlXVtpXS5zZXRQbGF5YmFja1Jlc291cmNlKHRoaXMuX2F1ZGlvU291cmNlc1tlXSksdGhpcy5fc291bmRJbnN0YW5jZXNbZV09bnVsbH19LGUuX2hhbmRsZVByZWxvYWRFcnJvcj1mdW5jdGlvbih0KXt9LGUuX3VwZGF0ZVZvbHVtZT1mdW5jdGlvbigpe30sY3JlYXRlanMuQWJzdHJhY3RQbHVnaW49dH0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUodCl7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3Rvcih0LCEwLGNyZWF0ZWpzLlR5cGVzLlNPVU5EKX12YXIgdD1jcmVhdGVqcy5leHRlbmQoZSxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7ZS5jb250ZXh0PW51bGwsdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1dlYkF1ZGlvTG9hZGVyXVwifSx0Ll9jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKCl7dGhpcy5fcmVxdWVzdD1uZXcgY3JlYXRlanMuWEhSUmVxdWVzdCh0aGlzLl9pdGVtLCExKSx0aGlzLl9yZXF1ZXN0LnNldFJlc3BvbnNlVHlwZShcImFycmF5YnVmZmVyXCIpfSx0Ll9zZW5kQ29tcGxldGU9ZnVuY3Rpb24odCl7ZS5jb250ZXh0LmRlY29kZUF1ZGlvRGF0YSh0aGlzLl9yYXdSZXN1bHQsY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlQXVkaW9EZWNvZGVkLHRoaXMpLGNyZWF0ZWpzLnByb3h5KHRoaXMuX3NlbmRFcnJvcix0aGlzKSl9LHQuX2hhbmRsZUF1ZGlvRGVjb2RlZD1mdW5jdGlvbih0KXt0aGlzLl9yZXN1bHQ9dCx0aGlzLkFic3RyYWN0TG9hZGVyX19zZW5kQ29tcGxldGUoKX0sY3JlYXRlanMuV2ViQXVkaW9Mb2FkZXI9Y3JlYXRlanMucHJvbW90ZShlLFwiQWJzdHJhY3RMb2FkZXJcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSxpLHMpe3RoaXMuQWJzdHJhY3RTb3VuZEluc3RhbmNlX2NvbnN0cnVjdG9yKHQsZSxpLHMpLHRoaXMuZ2Fpbk5vZGU9ci5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLnBhbk5vZGU9ci5jb250ZXh0LmNyZWF0ZVBhbm5lcigpLHRoaXMucGFuTm9kZS5wYW5uaW5nTW9kZWw9ci5fcGFubmluZ01vZGVsLHRoaXMucGFuTm9kZS5jb25uZWN0KHRoaXMuZ2Fpbk5vZGUpLHRoaXMuX3VwZGF0ZVBhbigpLHRoaXMuc291cmNlTm9kZT1udWxsLHRoaXMuX3NvdW5kQ29tcGxldGVUaW1lb3V0PW51bGwsdGhpcy5fc291cmNlTm9kZU5leHQ9bnVsbCx0aGlzLl9wbGF5YmFja1N0YXJ0VGltZT0wLHRoaXMuX2VuZGVkSGFuZGxlcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTb3VuZENvbXBsZXRlLHRoaXMpfXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkFic3RyYWN0U291bmRJbnN0YW5jZSkscj10O3IuY29udGV4dD1udWxsLHIuX3NjcmF0Y2hCdWZmZXI9bnVsbCxyLmRlc3RpbmF0aW9uTm9kZT1udWxsLHIuX3Bhbm5pbmdNb2RlbD1cImVxdWFscG93ZXJcIixlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkFic3RyYWN0U291bmRJbnN0YW5jZV9kZXN0cm95KCksdGhpcy5wYW5Ob2RlLmRpc2Nvbm5lY3QoMCksdGhpcy5wYW5Ob2RlPW51bGwsdGhpcy5nYWluTm9kZS5kaXNjb25uZWN0KDApLHRoaXMuZ2Fpbk5vZGU9bnVsbH0sZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1dlYkF1ZGlvU291bmRJbnN0YW5jZV1cIn0sZS5fdXBkYXRlUGFuPWZ1bmN0aW9uKCl7dGhpcy5wYW5Ob2RlLnNldFBvc2l0aW9uKHRoaXMuX3BhbiwwLC0uNSl9LGUuX3JlbW92ZUxvb3Bpbmc9ZnVuY3Rpb24odCl7dGhpcy5fc291cmNlTm9kZU5leHQ9dGhpcy5fY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLl9zb3VyY2VOb2RlTmV4dCl9LGUuX2FkZExvb3Bpbmc9ZnVuY3Rpb24odCl7dGhpcy5wbGF5U3RhdGU9PWNyZWF0ZWpzLlNvdW5kLlBMQVlfU1VDQ0VFREVEJiYodGhpcy5fc291cmNlTm9kZU5leHQ9dGhpcy5fY3JlYXRlQW5kUGxheUF1ZGlvTm9kZSh0aGlzLl9wbGF5YmFja1N0YXJ0VGltZSwwKSl9LGUuX3NldER1cmF0aW9uRnJvbVNvdXJjZT1mdW5jdGlvbigpe3RoaXMuX2R1cmF0aW9uPTFlMyp0aGlzLnBsYXliYWNrUmVzb3VyY2UuZHVyYXRpb259LGUuX2hhbmRsZUNsZWFuVXA9ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZU5vZGUmJnRoaXMucGxheVN0YXRlPT1jcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCYmKHRoaXMuc291cmNlTm9kZT10aGlzLl9jbGVhblVwQXVkaW9Ob2RlKHRoaXMuc291cmNlTm9kZSksdGhpcy5fc291cmNlTm9kZU5leHQ9dGhpcy5fY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLl9zb3VyY2VOb2RlTmV4dCkpLDAhPXRoaXMuZ2Fpbk5vZGUubnVtYmVyT2ZPdXRwdXRzJiZ0aGlzLmdhaW5Ob2RlLmRpc2Nvbm5lY3QoMCksY2xlYXJUaW1lb3V0KHRoaXMuX3NvdW5kQ29tcGxldGVUaW1lb3V0KSx0aGlzLl9wbGF5YmFja1N0YXJ0VGltZT0wfSxlLl9jbGVhblVwQXVkaW9Ob2RlPWZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQuc3RvcCgwKSx0LmRpc2Nvbm5lY3QoMCksY3JlYXRlanMuQnJvd3NlckRldGVjdC5pc0lPUyl0cnl7dC5idWZmZXI9ci5fc2NyYXRjaEJ1ZmZlcn1jYXRjaCh0KXt9dD1udWxsfXJldHVybiB0fSxlLl9oYW5kbGVTb3VuZFJlYWR5PWZ1bmN0aW9uKHQpe3RoaXMuZ2Fpbk5vZGUuY29ubmVjdChyLmRlc3RpbmF0aW9uTm9kZSk7dmFyIGU9LjAwMSp0aGlzLl9kdXJhdGlvbixpPU1hdGgubWluKC4wMDEqTWF0aC5tYXgoMCx0aGlzLl9wb3NpdGlvbiksZSk7dGhpcy5zb3VyY2VOb2RlPXRoaXMuX2NyZWF0ZUFuZFBsYXlBdWRpb05vZGUoci5jb250ZXh0LmN1cnJlbnRUaW1lLWUsaSksdGhpcy5fcGxheWJhY2tTdGFydFRpbWU9dGhpcy5zb3VyY2VOb2RlLnN0YXJ0VGltZS1pLHRoaXMuX3NvdW5kQ29tcGxldGVUaW1lb3V0PXNldFRpbWVvdXQodGhpcy5fZW5kZWRIYW5kbGVyLDFlMyooZS1pKSksMCE9dGhpcy5fbG9vcCYmKHRoaXMuX3NvdXJjZU5vZGVOZXh0PXRoaXMuX2NyZWF0ZUFuZFBsYXlBdWRpb05vZGUodGhpcy5fcGxheWJhY2tTdGFydFRpbWUsMCkpfSxlLl9jcmVhdGVBbmRQbGF5QXVkaW9Ob2RlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ci5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO2kuYnVmZmVyPXRoaXMucGxheWJhY2tSZXNvdXJjZSxpLmNvbm5lY3QodGhpcy5wYW5Ob2RlKTt2YXIgcz0uMDAxKnRoaXMuX2R1cmF0aW9uO3JldHVybiBpLnN0YXJ0VGltZT10K3MsaS5zdGFydChpLnN0YXJ0VGltZSxlKy4wMDEqdGhpcy5fc3RhcnRUaW1lLHMtZSksaX0sZS5fcGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wb3NpdGlvbj0xZTMqKHIuY29udGV4dC5jdXJyZW50VGltZS10aGlzLl9wbGF5YmFja1N0YXJ0VGltZSksdGhpcy5zb3VyY2VOb2RlPXRoaXMuX2NsZWFuVXBBdWRpb05vZGUodGhpcy5zb3VyY2VOb2RlKSx0aGlzLl9zb3VyY2VOb2RlTmV4dD10aGlzLl9jbGVhblVwQXVkaW9Ob2RlKHRoaXMuX3NvdXJjZU5vZGVOZXh0KSwwIT10aGlzLmdhaW5Ob2RlLm51bWJlck9mT3V0cHV0cyYmdGhpcy5nYWluTm9kZS5kaXNjb25uZWN0KDApLGNsZWFyVGltZW91dCh0aGlzLl9zb3VuZENvbXBsZXRlVGltZW91dCl9LGUuX3Jlc3VtZT1mdW5jdGlvbigpe3RoaXMuX2hhbmRsZVNvdW5kUmVhZHkoKX0sZS5fdXBkYXRlVm9sdW1lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbXV0ZWQ/MDp0aGlzLl92b2x1bWU7dCE9dGhpcy5nYWluTm9kZS5nYWluLnZhbHVlJiYodGhpcy5nYWluTm9kZS5nYWluLnZhbHVlPXQpfSxlLl9jYWxjdWxhdGVDdXJyZW50UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gMWUzKihyLmNvbnRleHQuY3VycmVudFRpbWUtdGhpcy5fcGxheWJhY2tTdGFydFRpbWUpfSxlLl91cGRhdGVQb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuc291cmNlTm9kZT10aGlzLl9jbGVhblVwQXVkaW9Ob2RlKHRoaXMuc291cmNlTm9kZSksdGhpcy5fc291cmNlTm9kZU5leHQ9dGhpcy5fY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLl9zb3VyY2VOb2RlTmV4dCksY2xlYXJUaW1lb3V0KHRoaXMuX3NvdW5kQ29tcGxldGVUaW1lb3V0KSx0aGlzLl9wYXVzZWR8fHRoaXMuX2hhbmRsZVNvdW5kUmVhZHkoKX0sZS5faGFuZGxlTG9vcD1mdW5jdGlvbigpe3RoaXMuX2NsZWFuVXBBdWRpb05vZGUodGhpcy5zb3VyY2VOb2RlKSx0aGlzLnNvdXJjZU5vZGU9dGhpcy5fc291cmNlTm9kZU5leHQsdGhpcy5fcGxheWJhY2tTdGFydFRpbWU9dGhpcy5zb3VyY2VOb2RlLnN0YXJ0VGltZSx0aGlzLl9zb3VyY2VOb2RlTmV4dD10aGlzLl9jcmVhdGVBbmRQbGF5QXVkaW9Ob2RlKHRoaXMuX3BsYXliYWNrU3RhcnRUaW1lLDApLHRoaXMuX3NvdW5kQ29tcGxldGVUaW1lb3V0PXNldFRpbWVvdXQodGhpcy5fZW5kZWRIYW5kbGVyLHRoaXMuX2R1cmF0aW9uKX0sZS5fdXBkYXRlRHVyYXRpb249ZnVuY3Rpb24oKXt0aGlzLnBsYXlTdGF0ZT09Y3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQmJih0aGlzLl9wYXVzZSgpLHRoaXMuX3Jlc3VtZSgpKX0sY3JlYXRlanMuV2ViQXVkaW9Tb3VuZEluc3RhbmNlPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0U291bmRJbnN0YW5jZVwiKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXt0aGlzLkFic3RyYWN0UGx1Z2luX2NvbnN0cnVjdG9yKCksdGhpcy5fcGFubmluZ01vZGVsPW8uX3Bhbm5pbmdNb2RlbCx0aGlzLmNvbnRleHQ9by5jb250ZXh0LHRoaXMuZHluYW1pY3NDb21wcmVzc29yTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlRHluYW1pY3NDb21wcmVzc29yKCksdGhpcy5keW5hbWljc0NvbXByZXNzb3JOb2RlLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSx0aGlzLmdhaW5Ob2RlPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMuZHluYW1pY3NDb21wcmVzc29yTm9kZSksY3JlYXRlanMuV2ViQXVkaW9Tb3VuZEluc3RhbmNlLmRlc3RpbmF0aW9uTm9kZT10aGlzLmdhaW5Ob2RlLHRoaXMuX2NhcGFiaWxpdGllcz1vLl9jYXBhYmlsaXRpZXMsdGhpcy5fbG9hZGVyQ2xhc3M9Y3JlYXRlanMuV2ViQXVkaW9Mb2FkZXIsdGhpcy5fc291bmRJbnN0YW5jZUNsYXNzPWNyZWF0ZWpzLldlYkF1ZGlvU291bmRJbnN0YW5jZSx0aGlzLl9hZGRQcm9wc1RvQ2xhc3NlcygpfXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkFic3RyYWN0UGx1Z2luKSxvPXQ7by5fY2FwYWJpbGl0aWVzPW51bGwsby5fcGFubmluZ01vZGVsPVwiZXF1YWxwb3dlclwiLG8uY29udGV4dD1udWxsLG8uX3NjcmF0Y2hCdWZmZXI9bnVsbCxvLl91bmxvY2tlZD0hMSxvLkRFRkFVTFRfU0FNUExFX1JBVEU9NDQxMDAsby5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3ZhciB0PWNyZWF0ZWpzLkJyb3dzZXJEZXRlY3QuaXNJT1N8fGNyZWF0ZWpzLkJyb3dzZXJEZXRlY3QuaXNBbmRyb2lkfHxjcmVhdGVqcy5Ccm93c2VyRGV0ZWN0LmlzQmxhY2tiZXJyeTtyZXR1cm4hKFwiZmlsZTpcIj09bG9jYXRpb24ucHJvdG9jb2wmJiF0JiYhdGhpcy5faXNGaWxlWEhSU3VwcG9ydGVkKCkpJiYoby5fZ2VuZXJhdGVDYXBhYmlsaXRpZXMoKSxudWxsIT1vLmNvbnRleHQpfSxvLnBsYXlFbXB0eVNvdW5kPWZ1bmN0aW9uKCl7dmFyIHQ7bnVsbCE9by5jb250ZXh0JiYoKHQ9by5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpKS5idWZmZXI9by5fc2NyYXRjaEJ1ZmZlcix0LmNvbm5lY3Qoby5jb250ZXh0LmRlc3RpbmF0aW9uKSx0LnN0YXJ0KDAsMCwwKSl9LG8uX2lzRmlsZVhIUlN1cHBvcnRlZD1mdW5jdGlvbigpe3ZhciBlPSEwLHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3RyeXt0Lm9wZW4oXCJHRVRcIixcIldlYkF1ZGlvUGx1Z2luVGVzdC5mYWlsXCIsITEpfWNhdGNoKHQpe3JldHVybiBlPSExfXQub25lcnJvcj1mdW5jdGlvbigpe2U9ITF9LHQub25sb2FkPWZ1bmN0aW9uKCl7ZT00MDQ9PXRoaXMuc3RhdHVzfHwyMDA9PXRoaXMuc3RhdHVzfHwwPT10aGlzLnN0YXR1cyYmXCJcIiE9dGhpcy5yZXNwb25zZX07dHJ5e3Quc2VuZCgpfWNhdGNoKHQpe2U9ITF9cmV0dXJuIGV9LG8uX2dlbmVyYXRlQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7aWYobnVsbD09by5fY2FwYWJpbGl0aWVzKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7aWYobnVsbD09dC5jYW5QbGF5VHlwZSlyZXR1cm4gbnVsbDtpZihudWxsPT1vLmNvbnRleHQmJihvLmNvbnRleHQ9by5fY3JlYXRlQXVkaW9Db250ZXh0KCksbnVsbD09by5jb250ZXh0KSlyZXR1cm4gbnVsbDtudWxsPT1vLl9zY3JhdGNoQnVmZmVyJiYoby5fc2NyYXRjaEJ1ZmZlcj1vLmNvbnRleHQuY3JlYXRlQnVmZmVyKDEsMSwyMjA1MCkpLG8uX2NvbXBhdGliaWxpdHlTZXRVcCgpLFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3cmJlwicnVubmluZ1wiIT1vLmNvbnRleHQuc3RhdGUmJihvLl91bmxvY2soKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsby5fdW5sb2NrLCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLG8uX3VubG9jaywhMCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsby5fdW5sb2NrLCEwKSksby5fY2FwYWJpbGl0aWVzPXtwYW5uaW5nOiEwLHZvbHVtZTohMCx0cmFja3M6LTF9O2Zvcih2YXIgZT1jcmVhdGVqcy5Tb3VuZC5TVVBQT1JURURfRVhURU5TSU9OUyxpPWNyZWF0ZWpzLlNvdW5kLkVYVEVOU0lPTl9NQVAscz0wLHI9ZS5sZW5ndGg7czxyO3MrKyl7dmFyIG49ZVtzXSxhPWlbbl18fG47by5fY2FwYWJpbGl0aWVzW25dPVwibm9cIiE9dC5jYW5QbGF5VHlwZShcImF1ZGlvL1wiK24pJiZcIlwiIT10LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIrbil8fFwibm9cIiE9dC5jYW5QbGF5VHlwZShcImF1ZGlvL1wiK2EpJiZcIlwiIT10LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIrYSl9by5jb250ZXh0LmRlc3RpbmF0aW9uLm51bWJlck9mQ2hhbm5lbHM8MiYmKG8uX2NhcGFiaWxpdGllcy5wYW5uaW5nPSExKX19LG8uX2NyZWF0ZUF1ZGlvQ29udGV4dD1mdW5jdGlvbigpe3ZhciB0PXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7aWYobnVsbD09dClyZXR1cm4gbnVsbDt2YXIgZSxpLHM9bmV3IHQ7cmV0dXJuLyhpUGhvbmV8aVBhZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiZzLnNhbXBsZVJhdGUhPT1vLkRFRkFVTFRfU0FNUExFX1JBVEUmJihlPXMuY3JlYXRlQnVmZmVyKDEsMSxvLkRFRkFVTFRfU0FNUExFX1JBVEUpLChpPXMuY3JlYXRlQnVmZmVyU291cmNlKCkpLmJ1ZmZlcj1lLGkuY29ubmVjdChzLmRlc3RpbmF0aW9uKSxpLnN0YXJ0KDApLGkuZGlzY29ubmVjdCgpLHMuY2xvc2UoKSxzPW5ldyB0KSxzfSxvLl9jb21wYXRpYmlsaXR5U2V0VXA9ZnVuY3Rpb24oKXt2YXIgdDtvLl9wYW5uaW5nTW9kZWw9XCJlcXVhbHBvd2VyXCIsby5jb250ZXh0LmNyZWF0ZUdhaW58fChvLmNvbnRleHQuY3JlYXRlR2Fpbj1vLmNvbnRleHQuY3JlYXRlR2Fpbk5vZGUsKHQ9by5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpKS5fX3Byb3RvX18uc3RhcnQ9dC5fX3Byb3RvX18ubm90ZUdyYWluT24sdC5fX3Byb3RvX18uc3RvcD10Ll9fcHJvdG9fXy5ub3RlT2ZmLG8uX3Bhbm5pbmdNb2RlbD0wKX0sby5fdW5sb2NrPWZ1bmN0aW9uKCl7by5fdW5sb2NrZWR8fChvLnBsYXlFbXB0eVNvdW5kKCksXCJydW5uaW5nXCI9PW8uY29udGV4dC5zdGF0ZSYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixvLl91bmxvY2ssITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLG8uX3VubG9jaywhMCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixvLl91bmxvY2ssITApLG8uX3VubG9ja2VkPSEwKSl9LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltXZWJBdWRpb1BsdWdpbl1cIn0sZS5fYWRkUHJvcHNUb0NsYXNzZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zb3VuZEluc3RhbmNlQ2xhc3M7dC5jb250ZXh0PXRoaXMuY29udGV4dCx0Ll9zY3JhdGNoQnVmZmVyPW8uX3NjcmF0Y2hCdWZmZXIsdC5kZXN0aW5hdGlvbk5vZGU9dGhpcy5nYWluTm9kZSx0Ll9wYW5uaW5nTW9kZWw9dGhpcy5fcGFubmluZ01vZGVsLHRoaXMuX2xvYWRlckNsYXNzLmNvbnRleHQ9dGhpcy5jb250ZXh0fSxlLl91cGRhdGVWb2x1bWU9ZnVuY3Rpb24oKXt2YXIgdD1jcmVhdGVqcy5Tb3VuZC5fbWFzdGVyTXV0ZT8wOnRoaXMuX3ZvbHVtZTt0IT10aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUmJih0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWU9dCl9LGNyZWF0ZWpzLldlYkF1ZGlvUGx1Z2luPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0UGx1Z2luXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCgpe3Rocm93XCJIVE1MQXVkaW9UYWdQb29sIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWRcIn12YXIgaT10O2Z1bmN0aW9uIGUodCl7dGhpcy5fdGFncz1bXX1pLl90YWdzPXt9LGkuX3RhZ1Bvb2w9bmV3IGUsaS5fdGFnVXNlZD17fSxpLmdldD1mdW5jdGlvbih0KXt2YXIgZT1pLl90YWdzW3RdO3JldHVybiBudWxsPT1lPyhlPWkuX3RhZ3NbdF09aS5fdGFnUG9vbC5nZXQoKSkuc3JjPXQ6aS5fdGFnVXNlZFt0XT8oZT1pLl90YWdQb29sLmdldCgpKS5zcmM9dDppLl90YWdVc2VkW3RdPSEwLGV9LGkuc2V0PWZ1bmN0aW9uKHQsZSl7ZT09aS5fdGFnc1t0XT9pLl90YWdVc2VkW3RdPSExOmkuX3RhZ1Bvb2wuc2V0KGUpfSxpLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT1pLl90YWdzW3RdO3JldHVybiBudWxsIT1lJiYoaS5fdGFnUG9vbC5zZXQoZSksZGVsZXRlIGkuX3RhZ3NbdF0sZGVsZXRlIGkuX3RhZ1VzZWRbdF0sITApfSxpLmdldER1cmF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPWkuX3RhZ3NbdF07cmV0dXJuIG51bGwhPWUmJmUuZHVyYXRpb24/MWUzKmUuZHVyYXRpb246MH0sY3JlYXRlanMuSFRNTEF1ZGlvVGFnUG9vbD10O3ZhciBzPWUucHJvdG90eXBlO3MuY29uc3RydWN0b3I9ZSxzLmdldD1mdW5jdGlvbigpe3ZhciB0PTA9PXRoaXMuX3RhZ3MubGVuZ3RoP3RoaXMuX2NyZWF0ZVRhZygpOnRoaXMuX3RhZ3MucG9wKCk7cmV0dXJuIG51bGw9PXQucGFyZW50Tm9kZSYmZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSx0fSxzLnNldD1mdW5jdGlvbih0KXstMT09Y3JlYXRlanMuaW5kZXhPZih0aGlzLl90YWdzLHQpJiYodGhpcy5fdGFncy5zcmM9bnVsbCx0aGlzLl90YWdzLnB1c2godCkpfSxzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbVGFnUG9vbF1cIn0scy5fY3JlYXRlVGFnPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO3JldHVybiB0LmF1dG9wbGF5PSExLHQucHJlbG9hZD1cIm5vbmVcIix0fX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLGkscyl7dGhpcy5BYnN0cmFjdFNvdW5kSW5zdGFuY2VfY29uc3RydWN0b3IodCxlLGkscyksdGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZT1udWxsLHRoaXMuX2RlbGF5VGltZW91dElkPW51bGwsdGhpcy5fZW5kZWRIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVNvdW5kQ29tcGxldGUsdGhpcyksdGhpcy5fcmVhZHlIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRhZ1JlYWR5LHRoaXMpLHRoaXMuX3N0YWxsZWRIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuX3BsYXlGYWlsZWQsdGhpcyksdGhpcy5fYXVkaW9TcHJpdGVFbmRIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUF1ZGlvU3ByaXRlTG9vcCx0aGlzKSx0aGlzLl9sb29wSGFuZGxlcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTb3VuZENvbXBsZXRlLHRoaXMpLGk/dGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZT0uMDAxKihlK2kpOnRoaXMuX2R1cmF0aW9uPWNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wuZ2V0RHVyYXRpb24odGhpcy5zcmMpfXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkFic3RyYWN0U291bmRJbnN0YW5jZSk7ZS5zZXRNYXN0ZXJWb2x1bWU9ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlVm9sdW1lKCl9LGUuc2V0TWFzdGVyTXV0ZT1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGVWb2x1bWUoKX0sZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW0hUTUxBdWRpb1NvdW5kSW5zdGFuY2VdXCJ9LGUuX3JlbW92ZUxvb3Bpbmc9ZnVuY3Rpb24oKXtudWxsIT10aGlzLl9wbGF5YmFja1Jlc291cmNlJiYodGhpcy5fcGxheWJhY2tSZXNvdXJjZS5sb29wPSExLHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCx0aGlzLl9sb29wSGFuZGxlciwhMSkpfSxlLl9hZGRMb29waW5nPWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5fcGxheWJhY2tSZXNvdXJjZXx8dGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZXx8KHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCx0aGlzLl9sb29wSGFuZGxlciwhMSksdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5sb29wPSEwKX0sZS5faGFuZGxlQ2xlYW5VcD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BsYXliYWNrUmVzb3VyY2U7aWYobnVsbCE9dCl7dC5wYXVzZSgpLHQubG9vcD0hMSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19FTkRFRCx0aGlzLl9lbmRlZEhhbmRsZXIsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1JFQURZLHRoaXMuX3JlYWR5SGFuZGxlciwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU1RBTExFRCx0aGlzLl9zdGFsbGVkSGFuZGxlciwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELHRoaXMuX2xvb3BIYW5kbGVyLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9USU1FX1VQREFURSx0aGlzLl9hdWRpb1Nwcml0ZUVuZEhhbmRsZXIsITEpO3RyeXt0LmN1cnJlbnRUaW1lPXRoaXMuX3N0YXJ0VGltZX1jYXRjaCh0KXt9Y3JlYXRlanMuSFRNTEF1ZGlvVGFnUG9vbC5zZXQodGhpcy5zcmMsdCksdGhpcy5fcGxheWJhY2tSZXNvdXJjZT1udWxsfX0sZS5fYmVnaW5QbGF5aW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wbGF5YmFja1Jlc291cmNlPWNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wuZ2V0KHRoaXMuc3JjKSx0aGlzLkFic3RyYWN0U291bmRJbnN0YW5jZV9fYmVnaW5QbGF5aW5nKHQpfSxlLl9oYW5kbGVTb3VuZFJlYWR5PWZ1bmN0aW9uKHQpe2lmKDQhPT10aGlzLl9wbGF5YmFja1Jlc291cmNlLnJlYWR5U3RhdGUpe3ZhciBlPXRoaXMuX3BsYXliYWNrUmVzb3VyY2U7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1JFQURZLHRoaXMuX3JlYWR5SGFuZGxlciwhMSksZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU1RBTExFRCx0aGlzLl9zdGFsbGVkSGFuZGxlciwhMSksZS5wcmVsb2FkPVwiYXV0b1wiLHZvaWQgZS5sb2FkKCl9dGhpcy5fdXBkYXRlVm9sdW1lKCksdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5jdXJyZW50VGltZT0uMDAxKih0aGlzLl9zdGFydFRpbWUrdGhpcy5fcG9zaXRpb24pLHRoaXMuX2F1ZGlvU3ByaXRlU3RvcFRpbWU/dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fVElNRV9VUERBVEUsdGhpcy5fYXVkaW9TcHJpdGVFbmRIYW5kbGVyLCExKToodGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fRU5ERUQsdGhpcy5fZW5kZWRIYW5kbGVyLCExKSwwIT10aGlzLl9sb29wJiYodGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELHRoaXMuX2xvb3BIYW5kbGVyLCExKSx0aGlzLl9wbGF5YmFja1Jlc291cmNlLmxvb3A9ITApKSx0aGlzLl9wbGF5YmFja1Jlc291cmNlLnBsYXkoKX0sZS5faGFuZGxlVGFnUmVhZHk9ZnVuY3Rpb24odCl7dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fUkVBRFksdGhpcy5fcmVhZHlIYW5kbGVyLCExKSx0aGlzLl9wbGF5YmFja1Jlc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19TVEFMTEVELHRoaXMuX3N0YWxsZWRIYW5kbGVyLCExKSx0aGlzLl9oYW5kbGVTb3VuZFJlYWR5KCl9LGUuX3BhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5wYXVzZSgpfSxlLl9yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5YmFja1Jlc291cmNlLnBsYXkoKX0sZS5fdXBkYXRlVm9sdW1lPWZ1bmN0aW9uKCl7dmFyIHQ7bnVsbD09dGhpcy5fcGxheWJhY2tSZXNvdXJjZXx8KHQ9dGhpcy5fbXV0ZWR8fGNyZWF0ZWpzLlNvdW5kLl9tYXN0ZXJNdXRlPzA6dGhpcy5fdm9sdW1lKmNyZWF0ZWpzLlNvdW5kLl9tYXN0ZXJWb2x1bWUpIT10aGlzLl9wbGF5YmFja1Jlc291cmNlLnZvbHVtZSYmKHRoaXMuX3BsYXliYWNrUmVzb3VyY2Uudm9sdW1lPXQpfSxlLl9jYWxjdWxhdGVDdXJyZW50UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gMWUzKnRoaXMuX3BsYXliYWNrUmVzb3VyY2UuY3VycmVudFRpbWUtdGhpcy5fc3RhcnRUaW1lfSxlLl91cGRhdGVQb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCx0aGlzLl9sb29wSGFuZGxlciwhMSksdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELHRoaXMuX2hhbmRsZVNldFBvc2l0aW9uU2VlaywhMSk7dHJ5e3RoaXMuX3BsYXliYWNrUmVzb3VyY2UuY3VycmVudFRpbWU9LjAwMSoodGhpcy5fcG9zaXRpb24rdGhpcy5fc3RhcnRUaW1lKX1jYXRjaCh0KXt0aGlzLl9oYW5kbGVTZXRQb3NpdGlvblNlZWsobnVsbCl9fSxlLl9oYW5kbGVTZXRQb3NpdGlvblNlZWs9ZnVuY3Rpb24odCl7bnVsbCE9dGhpcy5fcGxheWJhY2tSZXNvdXJjZSYmKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCx0aGlzLl9oYW5kbGVTZXRQb3NpdGlvblNlZWssITEpLHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCx0aGlzLl9sb29wSGFuZGxlciwhMSkpfSxlLl9oYW5kbGVBdWRpb1Nwcml0ZUxvb3A9ZnVuY3Rpb24odCl7dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5jdXJyZW50VGltZTw9dGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZXx8KHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucGF1c2UoKSwwPT10aGlzLl9sb29wP3RoaXMuX2hhbmRsZVNvdW5kQ29tcGxldGUobnVsbCk6KHRoaXMuX3Bvc2l0aW9uPTAsdGhpcy5fbG9vcC0tLHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuY3VycmVudFRpbWU9LjAwMSp0aGlzLl9zdGFydFRpbWUsdGhpcy5fcGF1c2VkfHx0aGlzLl9wbGF5YmFja1Jlc291cmNlLnBsYXkoKSx0aGlzLl9zZW5kRXZlbnQoXCJsb29wXCIpKSl9LGUuX2hhbmRsZUxvb3A9ZnVuY3Rpb24odCl7MD09dGhpcy5fbG9vcCYmKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UubG9vcD0hMSx0aGlzLl9wbGF5YmFja1Jlc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19TRUVLRUQsdGhpcy5fbG9vcEhhbmRsZXIsITEpKX0sZS5fdXBkYXRlU3RhcnRUaW1lPWZ1bmN0aW9uKCl7dGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZT0uMDAxKih0aGlzLl9zdGFydFRpbWUrdGhpcy5fZHVyYXRpb24pLHRoaXMucGxheVN0YXRlPT1jcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCYmKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX0VOREVELHRoaXMuX2VuZGVkSGFuZGxlciwhMSksdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fVElNRV9VUERBVEUsdGhpcy5fYXVkaW9TcHJpdGVFbmRIYW5kbGVyLCExKSl9LGUuX3VwZGF0ZUR1cmF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZT0uMDAxKih0aGlzLl9zdGFydFRpbWUrdGhpcy5fZHVyYXRpb24pLHRoaXMucGxheVN0YXRlPT1jcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCYmKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX0VOREVELHRoaXMuX2VuZGVkSGFuZGxlciwhMSksdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fVElNRV9VUERBVEUsdGhpcy5fYXVkaW9TcHJpdGVFbmRIYW5kbGVyLCExKSl9LGUuX3NldER1cmF0aW9uRnJvbVNvdXJjZT1mdW5jdGlvbigpe3RoaXMuX2R1cmF0aW9uPWNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wuZ2V0RHVyYXRpb24odGhpcy5zcmMpLHRoaXMuX3BsYXliYWNrUmVzb3VyY2U9bnVsbH0sY3JlYXRlanMuSFRNTEF1ZGlvU291bmRJbnN0YW5jZT1jcmVhdGVqcy5wcm9tb3RlKHQsXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2VcIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7dGhpcy5BYnN0cmFjdFBsdWdpbl9jb25zdHJ1Y3RvcigpLHRoaXMuX2NhcGFiaWxpdGllcz1vLl9jYXBhYmlsaXRpZXMsdGhpcy5fbG9hZGVyQ2xhc3M9Y3JlYXRlanMuU291bmRMb2FkZXIsdGhpcy5fc291bmRJbnN0YW5jZUNsYXNzPWNyZWF0ZWpzLkhUTUxBdWRpb1NvdW5kSW5zdGFuY2V9dmFyIGU9Y3JlYXRlanMuZXh0ZW5kKHQsY3JlYXRlanMuQWJzdHJhY3RQbHVnaW4pLG89dDtvLk1BWF9JTlNUQU5DRVM9MzAsby5fQVVESU9fUkVBRFk9XCJjYW5wbGF5dGhyb3VnaFwiLG8uX0FVRElPX0VOREVEPVwiZW5kZWRcIixvLl9BVURJT19TRUVLRUQ9XCJzZWVrZWRcIixvLl9BVURJT19TVEFMTEVEPVwic3RhbGxlZFwiLG8uX1RJTUVfVVBEQVRFPVwidGltZXVwZGF0ZVwiLG8uX2NhcGFiaWxpdGllcz1udWxsLG8uaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gby5fZ2VuZXJhdGVDYXBhYmlsaXRpZXMoKSxudWxsIT1vLl9jYXBhYmlsaXRpZXN9LG8uX2dlbmVyYXRlQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7aWYobnVsbD09by5fY2FwYWJpbGl0aWVzKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7aWYobnVsbD09dC5jYW5QbGF5VHlwZSlyZXR1cm4gbnVsbDtvLl9jYXBhYmlsaXRpZXM9e3Bhbm5pbmc6ITEsdm9sdW1lOiEwLHRyYWNrczotMX07Zm9yKHZhciBlPWNyZWF0ZWpzLlNvdW5kLlNVUFBPUlRFRF9FWFRFTlNJT05TLGk9Y3JlYXRlanMuU291bmQuRVhURU5TSU9OX01BUCxzPTAscj1lLmxlbmd0aDtzPHI7cysrKXt2YXIgbj1lW3NdLGE9aVtuXXx8bjtvLl9jYXBhYmlsaXRpZXNbbl09XCJub1wiIT10LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIrbikmJlwiXCIhPXQuY2FuUGxheVR5cGUoXCJhdWRpby9cIituKXx8XCJub1wiIT10LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIrYSkmJlwiXCIhPXQuY2FuUGxheVR5cGUoXCJhdWRpby9cIithKX19fSxlLnJlZ2lzdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPWNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wuZ2V0KHQuc3JjKSxpPXRoaXMuQWJzdHJhY3RQbHVnaW5fcmVnaXN0ZXIodCk7cmV0dXJuIGkuc2V0VGFnKGUpLGl9LGUucmVtb3ZlU291bmQ9ZnVuY3Rpb24odCl7dGhpcy5BYnN0cmFjdFBsdWdpbl9yZW1vdmVTb3VuZCh0KSxjcmVhdGVqcy5IVE1MQXVkaW9UYWdQb29sLnJlbW92ZSh0KX0sZS5jcmVhdGU9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuQWJzdHJhY3RQbHVnaW5fY3JlYXRlKHQsZSxpKTtyZXR1cm4gcy5wbGF5YmFja1Jlc291cmNlPW51bGwsc30sZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW0hUTUxBdWRpb1BsdWdpbl1cIn0sZS5zZXRWb2x1bWU9ZS5nZXRWb2x1bWU9ZS5zZXRNdXRlPW51bGwsY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0UGx1Z2luXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt0aGlzLkV2ZW50RGlzcGF0Y2hlcl9jb25zdHJ1Y3RvcigpLHRoaXMuaWdub3JlR2xvYmFsUGF1c2U9ITEsdGhpcy5sb29wPTAsdGhpcy51c2VUaWNrcz0hMSx0aGlzLnJldmVyc2VkPSExLHRoaXMuYm91bmNlPSExLHRoaXMudGltZVNjYWxlPTEsdGhpcy5kdXJhdGlvbj0wLHRoaXMucG9zaXRpb249MCx0aGlzLnJhd1Bvc2l0aW9uPS0xLHRoaXMuX3BhdXNlZD0hMCx0aGlzLl9uZXh0PW51bGwsdGhpcy5fcHJldj1udWxsLHRoaXMuX3BhcmVudD1udWxsLHRoaXMuX2xhYmVscz1udWxsLHRoaXMuX2xhYmVsTGlzdD1udWxsLHRoaXMuX3N0YXR1cz0tMSx0aGlzLl9sYXN0VGljaz0wLHQmJih0aGlzLnVzZVRpY2tzPSEhdC51c2VUaWNrcyx0aGlzLmlnbm9yZUdsb2JhbFBhdXNlPSEhdC5pZ25vcmVHbG9iYWxQYXVzZSx0aGlzLmxvb3A9ITA9PT10Lmxvb3A/LTE6dC5sb29wfHwwLHRoaXMucmV2ZXJzZWQ9ISF0LnJldmVyc2VkLHRoaXMuYm91bmNlPSEhdC5ib3VuY2UsdGhpcy50aW1lU2NhbGU9dC50aW1lU2NhbGV8fDEsdC5vbkNoYW5nZSYmdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdC5vbkNoYW5nZSksdC5vbkNvbXBsZXRlJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wbGV0ZVwiLHQub25Db21wbGV0ZSkpfXZhciBlPWNyZWF0ZWpzLmV4dGVuZCh0LGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcik7ZS5fc2V0UGF1c2VkPWZ1bmN0aW9uKHQpe3JldHVybiBjcmVhdGVqcy5Ud2Vlbi5fcmVnaXN0ZXIodGhpcyx0KSx0aGlzfSxlLnNldFBhdXNlZD1jcmVhdGVqcy5kZXByZWNhdGUoZS5fc2V0UGF1c2VkLFwiQWJzdHJhY3RUd2Vlbi5zZXRQYXVzZWRcIiksZS5fZ2V0UGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdXNlZH0sZS5nZXRQYXVzZWQ9Y3JlYXRlanMuZGVwcmVjYXRlKGUuX2dldFBhdXNlZCxcIkFic3RhY3RUd2Vlbi5nZXRQYXVzZWRcIiksZS5fZ2V0Q3VycmVudExhYmVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TGFiZWxzKCk7bnVsbD09dCYmKHQ9dGhpcy5wb3NpdGlvbik7Zm9yKHZhciBpPTAscz1lLmxlbmd0aDtpPHMmJiEodDxlW2ldLnBvc2l0aW9uKTtpKyspO3JldHVybiAwPT09aT9udWxsOmVbaS0xXS5sYWJlbH0sZS5nZXRDdXJyZW50TGFiZWw9Y3JlYXRlanMuZGVwcmVjYXRlKGUuX2dldEN1cnJlbnRMYWJlbCxcIkFic3RyYWN0VHdlZW4uZ2V0Q3VycmVudExhYmVsXCIpO3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtwYXVzZWQ6e3NldDplLl9zZXRQYXVzZWQsZ2V0OmUuX2dldFBhdXNlZH0sY3VycmVudExhYmVsOntnZXQ6ZS5fZ2V0Q3VycmVudExhYmVsfX0pfWNhdGNoKHQpe31lLmFkdmFuY2U9ZnVuY3Rpb24odCxlKXt0aGlzLnNldFBvc2l0aW9uKHRoaXMucmF3UG9zaXRpb24rdCp0aGlzLnRpbWVTY2FsZSxlKX0sZS5zZXRQb3NpdGlvbj1mdW5jdGlvbih0LGUsaSxzKXt2YXIgcj10aGlzLmR1cmF0aW9uLG49dGhpcy5sb29wLGE9dGhpcy5yYXdQb3NpdGlvbixvPTAsaD0wLGM9ITE7aWYodDwwJiYodD0wKSwwPT09cil7aWYoYz0hMCwtMSE9PWEpcmV0dXJuIGN9ZWxzZXtpZihoPXQtKG89dC9yfDApKnIsKGM9LTEhPT1uJiZuKnIrcjw9dCkmJih0PShoPXIpKihvPW4pK3IpLHQ9PT1hKXJldHVybiBjOyF0aGlzLnJldmVyc2VkIT0hKHRoaXMuYm91bmNlJiZvJTIpJiYoaD1yLWgpfXRoaXMucG9zaXRpb249aCx0aGlzLnJhd1Bvc2l0aW9uPXQsdGhpcy5fdXBkYXRlUG9zaXRpb24oaSxjKSxjJiYodGhpcy5wYXVzZWQ9ITApLHMmJnModGhpcyksZXx8dGhpcy5fcnVuQWN0aW9ucyhhLHQsaSwhaSYmLTE9PT1hKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJjaGFuZ2VcIiksYyYmdGhpcy5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIil9LGUuY2FsY3VsYXRlUG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kdXJhdGlvbixpPXRoaXMubG9vcCxzPTAscj0wO3JldHVybiAwPT09ZT8wOigtMSE9PWkmJmkqZStlPD10PyhyPWUscz1pKTpyPXQ8MD8wOnQtKHM9dC9lfDApKmUsIXRoaXMucmV2ZXJzZWQhPSEodGhpcy5ib3VuY2UmJnMlMik/ZS1yOnIpfSxlLmdldExhYmVscz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xhYmVsTGlzdDtpZighdCl7dD10aGlzLl9sYWJlbExpc3Q9W107dmFyIGU9dGhpcy5fbGFiZWxzO2Zvcih2YXIgaSBpbiBlKXQucHVzaCh7bGFiZWw6aSxwb3NpdGlvbjplW2ldfSk7dC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucG9zaXRpb24tZS5wb3NpdGlvbn0pfXJldHVybiB0fSxlLnNldExhYmVscz1mdW5jdGlvbih0KXt0aGlzLl9sYWJlbHM9dCx0aGlzLl9sYWJlbExpc3Q9bnVsbH0sZS5hZGRMYWJlbD1mdW5jdGlvbih0LGUpe3RoaXMuX2xhYmVsc3x8KHRoaXMuX2xhYmVscz17fSksdGhpcy5fbGFiZWxzW3RdPWU7dmFyIGk9dGhpcy5fbGFiZWxMaXN0O2lmKGkpe2Zvcih2YXIgcz0wLHI9aS5sZW5ndGg7czxyJiYhKGU8aVtzXS5wb3NpdGlvbik7cysrKTtpLnNwbGljZShzLDAse2xhYmVsOnQscG9zaXRpb246ZX0pfX0sZS5nb3RvQW5kUGxheT1mdW5jdGlvbih0KXt0aGlzLnBhdXNlZD0hMSx0aGlzLl9nb3RvKHQpfSxlLmdvdG9BbmRTdG9wPWZ1bmN0aW9uKHQpe3RoaXMucGF1c2VkPSEwLHRoaXMuX2dvdG8odCl9LGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZT1OdW1iZXIodCk7cmV0dXJuIGlzTmFOKGUpJiYoZT10aGlzLl9sYWJlbHMmJnRoaXMuX2xhYmVsc1t0XSksZX0sZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW0Fic3RyYWN0VHdlZW5dXCJ9LGUuY2xvbmU9ZnVuY3Rpb24oKXt0aHJvd1wiQWJzdHJhY3RUd2VlbiBjYW4gbm90IGJlIGNsb25lZC5cIn0sZS5faW5pdD1mdW5jdGlvbih0KXt0JiZ0LnBhdXNlZHx8KHRoaXMucGF1c2VkPSExKSx0JiZudWxsIT10LnBvc2l0aW9uJiZ0aGlzLnNldFBvc2l0aW9uKHQucG9zaXRpb24pfSxlLl91cGRhdGVQb3NpdGlvbj1mdW5jdGlvbih0LGUpe30sZS5fZ290bz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlc29sdmUodCk7bnVsbCE9ZSYmdGhpcy5zZXRQb3NpdGlvbihlLCExLCEwKX0sZS5fcnVuQWN0aW9ucz1mdW5jdGlvbih0LGUsaSxzKXtpZih0aGlzLl9hY3Rpb25IZWFkfHx0aGlzLnR3ZWVucyl7dmFyIHIsbixhLG8saD10aGlzLmR1cmF0aW9uLGM9dGhpcy5yZXZlcnNlZCx1PXRoaXMuYm91bmNlLGw9dGhpcy5sb29wO2lmKDA9PT1oPyhyPW49YT1vPTAsYz11PSExKTooYT10LShyPXQvaHwwKSpoLG89ZS0obj1lL2h8MCkqaCksLTEhPT1sJiYobDxuJiYobz1oLG49bCksbDxyJiYoYT1oLHI9bCkpLGkpcmV0dXJuIHRoaXMuX3J1bkFjdGlvbnNSYW5nZShvLG8saSxzKTtpZihyIT09bnx8YSE9PW98fGl8fHMpey0xPT09ciYmKHI9YT0wKTt2YXIgZD10PD1lLF89cjtkb3t2YXIgcD1fPT09cj9hOmQ/MDpoLGY9Xz09PW4/bzpkP2g6MDtpZighYyE9ISh1JiZfJTIpJiYocD1oLXAsZj1oLWYpLCghdXx8Xz09PXJ8fHAhPT1mKSYmdGhpcy5fcnVuQWN0aW9uc1JhbmdlKHAsZixpLHN8fF8hPT1yJiYhdSkpcmV0dXJuITA7cz0hMX13aGlsZShkJiYrK188PW58fCFkJiYtLV8+PW4pfX19LGUuX3J1bkFjdGlvbnNSYW5nZT1mdW5jdGlvbih0LGUsaSxzKXt9LGNyZWF0ZWpzLkFic3RyYWN0VHdlZW49Y3JlYXRlanMucHJvbW90ZSh0LFwiRXZlbnREaXNwYXRjaGVyXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbSh0LGUpe3RoaXMuQWJzdHJhY3RUd2Vlbl9jb25zdHJ1Y3RvcihlKSx0aGlzLnBsdWdpbkRhdGE9bnVsbCx0aGlzLnRhcmdldD10LHRoaXMucGFzc2l2ZT0hMSx0aGlzLl9zdGVwSGVhZD1uZXcgbihudWxsLDAsMCx7fSxudWxsLCEwKSx0aGlzLl9zdGVwVGFpbD10aGlzLl9zdGVwSGVhZCx0aGlzLl9zdGVwUG9zaXRpb249MCx0aGlzLl9hY3Rpb25IZWFkPW51bGwsdGhpcy5fYWN0aW9uVGFpbD1udWxsLHRoaXMuX3BsdWdpbnM9bnVsbCx0aGlzLl9wbHVnaW5JZHM9bnVsbCx0aGlzLl9pbmplY3RlZD1udWxsLGUmJih0aGlzLnBsdWdpbkRhdGE9ZS5wbHVnaW5EYXRhLGUub3ZlcnJpZGUmJm0ucmVtb3ZlVHdlZW5zKHQpKSx0aGlzLnBsdWdpbkRhdGF8fCh0aGlzLnBsdWdpbkRhdGE9e30pLHRoaXMuX2luaXQoZSl9dmFyIHQ9Y3JlYXRlanMuZXh0ZW5kKG0sY3JlYXRlanMuQWJzdHJhY3RUd2Vlbik7ZnVuY3Rpb24gbih0LGUsaSxzLHIsbil7dGhpcy5uZXh0PW51bGwsdGhpcy5wcmV2PXQsdGhpcy50PWUsdGhpcy5kPWksdGhpcy5wcm9wcz1zLHRoaXMuZWFzZT1yLHRoaXMucGFzc2l2ZT1uLHRoaXMuaW5kZXg9dD90LmluZGV4KzE6MH1mdW5jdGlvbiByKHQsZSxpLHMscil7dGhpcy5uZXh0PW51bGwsdGhpcy5wcmV2PXQsdGhpcy50PWUsdGhpcy5kPTAsdGhpcy5zY29wZT1pLHRoaXMuZnVuY3Q9cyx0aGlzLnBhcmFtcz1yfW0uSUdOT1JFPXt9LG0uX3R3ZWVucz1bXSxtLl9wbHVnaW5zPW51bGwsbS5fdHdlZW5IZWFkPW51bGwsbS5fdHdlZW5UYWlsPW51bGwsbS5faW5UaWNrPTAsbS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG0odCxlKX0sbS50aWNrPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPW0uX3R3ZWVuSGVhZCxzPW0uX2luVGljaz1EYXRlLm5vdygpO2k7KXt2YXIgcj1pLl9uZXh0LG49aS5fc3RhdHVzO2kuX2xhc3RUaWNrPXMsMT09PW4/aS5fc3RhdHVzPTA6LTE9PT1uP20uX2RlbGlzdChpKTplJiYhaS5pZ25vcmVHbG9iYWxQYXVzZXx8aS5fcGF1c2VkfHxpLmFkdmFuY2UoaS51c2VUaWNrcz8xOnQpLGk9cn1tLl9pblRpY2s9MH0sbS5oYW5kbGVFdmVudD1mdW5jdGlvbih0KXtcInRpY2tcIj09PXQudHlwZSYmdGhpcy50aWNrKHQuZGVsdGEsdC5wYXVzZWQpfSxtLnJlbW92ZVR3ZWVucz1mdW5jdGlvbih0KXtpZih0LnR3ZWVuanNfY291bnQpe2Zvcih2YXIgZT1tLl90d2VlbkhlYWQ7ZTspe3ZhciBpPWUuX25leHQ7ZS50YXJnZXQ9PT10JiZtLl9yZWdpc3RlcihlLCEwKSxlPWl9dC50d2VlbmpzX2NvdW50PTB9fSxtLnJlbW92ZUFsbFR3ZWVucz1mdW5jdGlvbigpe2Zvcih2YXIgdD1tLl90d2VlbkhlYWQ7dDspe3ZhciBlPXQuX25leHQ7dC5fcGF1c2VkPSEwLHQudGFyZ2V0JiYodC50YXJnZXQudHdlZW5qc19jb3VudD0wKSx0Ll9uZXh0PXQuX3ByZXY9bnVsbCx0PWV9bS5fdHdlZW5IZWFkPW0uX3R3ZWVuVGFpbD1udWxsfSxtLmhhc0FjdGl2ZVR3ZWVucz1mdW5jdGlvbih0KXtyZXR1cm4gdD8hIXQudHdlZW5qc19jb3VudDohIW0uX3R3ZWVuSGVhZH0sbS5faW5zdGFsbFBsdWdpbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5wcmlvcml0eT10LnByaW9yaXR5fHwwLGk9bS5fcGx1Z2lucz1tLl9wbHVnaW5zfHxbXSxzPTAscj1pLmxlbmd0aDtzPHImJiEoZTxpW3NdLnByaW9yaXR5KTtzKyspO2kuc3BsaWNlKHMsMCx0KX0sbS5fcmVnaXN0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgaSxzPXQudGFyZ2V0OyFlJiZ0Ll9wYXVzZWQ/KHMmJihzLnR3ZWVuanNfY291bnQ9cy50d2VlbmpzX2NvdW50P3MudHdlZW5qc19jb3VudCsxOjEpLChpPW0uX3R3ZWVuVGFpbCk/KG0uX3R3ZWVuVGFpbD1pLl9uZXh0PXQsdC5fcHJldj1pKTptLl90d2VlbkhlYWQ9bS5fdHdlZW5UYWlsPXQsdC5fc3RhdHVzPW0uX2luVGljaz8xOjAsIW0uX2luaXRlZCYmY3JlYXRlanMuVGlja2VyJiYoY3JlYXRlanMuVGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aWNrXCIsbSksbS5faW5pdGVkPSEwKSk6ZSYmIXQuX3BhdXNlZCYmKHMmJnMudHdlZW5qc19jb3VudC0tLG0uX2luVGljayYmdC5fbGFzdFRpY2shPT1tLl9pblRpY2t8fG0uX2RlbGlzdCh0KSx0Ll9zdGF0dXM9LTEpLHQuX3BhdXNlZD1lfSxtLl9kZWxpc3Q9ZnVuY3Rpb24odCl7dmFyIGU9dC5fbmV4dCxpPXQuX3ByZXY7ZT9lLl9wcmV2PWk6bS5fdHdlZW5UYWlsPWksaT9pLl9uZXh0PWU6bS5fdHdlZW5IZWFkPWUsdC5fbmV4dD10Ll9wcmV2PW51bGx9LHQud2FpdD1mdW5jdGlvbih0LGUpe3JldHVybiAwPHQmJnRoaXMuX2FkZFN0ZXAoK3QsdGhpcy5fc3RlcFRhaWwucHJvcHMsbnVsbCxlKSx0aGlzfSx0LnRvPWZ1bmN0aW9uKHQsZSxpKXsobnVsbD09ZXx8ZTwwKSYmKGU9MCk7dmFyIHM9dGhpcy5fYWRkU3RlcCgrZSxudWxsLGkpO3JldHVybiB0aGlzLl9hcHBlbmRQcm9wcyh0LHMpLHRoaXN9LHQubGFiZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWRkTGFiZWwodCx0aGlzLmR1cmF0aW9uKSx0aGlzfSx0LmNhbGw9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9hZGRBY3Rpb24oaXx8dGhpcy50YXJnZXQsdCxlfHxbdGhpc10pfSx0LnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9hZGRBY3Rpb24oZXx8dGhpcy50YXJnZXQsdGhpcy5fc2V0LFt0XSl9LHQucGxheT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWRkQWN0aW9uKHR8fHRoaXMsdGhpcy5fc2V0LFt7cGF1c2VkOiExfV0pfSx0LnBhdXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGRBY3Rpb24odHx8dGhpcyx0aGlzLl9zZXQsW3twYXVzZWQ6ITB9XSl9LHQudz10LndhaXQsdC50PXQudG8sdC5jPXQuY2FsbCx0LnM9dC5zZXQsdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1R3ZWVuXVwifSx0LmNsb25lPWZ1bmN0aW9uKCl7dGhyb3dcIlR3ZWVuIGNhbiBub3QgYmUgY2xvbmVkLlwifSx0Ll9hZGRQbHVnaW49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGx1Z2luSWRzfHwodGhpcy5fcGx1Z2luSWRzPXt9KSxpPXQuSUQ7aWYoaSYmIWVbaV0pe2VbaV09ITA7Zm9yKHZhciBzPXRoaXMuX3BsdWdpbnN8fCh0aGlzLl9wbHVnaW5zPVtdKSxyPXQucHJpb3JpdHl8fDAsbj0wLGE9cy5sZW5ndGg7bjxhO24rKylpZihyPHNbbl0ucHJpb3JpdHkpcmV0dXJuIHZvaWQgcy5zcGxpY2UobiwwLHQpO3MucHVzaCh0KX19LHQuX3VwZGF0ZVBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fc3RlcEhlYWQubmV4dCxzPXRoaXMucG9zaXRpb24scj10aGlzLmR1cmF0aW9uO2lmKHRoaXMudGFyZ2V0JiZpKXtmb3IodmFyIG49aS5uZXh0O24mJm4udDw9czspbj0oaT1pLm5leHQpLm5leHQ7dmFyIGE9ZT8wPT09cj8xOnMvcjoocy1pLnQpL2kuZDt0aGlzLl91cGRhdGVUYXJnZXRQcm9wcyhpLGEsZSl9dGhpcy5fc3RlcFBvc2l0aW9uPWk/cy1pLnQ6MH0sdC5fdXBkYXRlVGFyZ2V0UHJvcHM9ZnVuY3Rpb24odCxlLGkpe2lmKCEodGhpcy5wYXNzaXZlPSEhdC5wYXNzaXZlKSl7dmFyIHMscixuLGEsbz10LnByZXYucHJvcHMsaD10LnByb3BzOyhhPXQuZWFzZSkmJihlPWEoZSwwLDEsMSkpO3ZhciBjPXRoaXMuX3BsdWdpbnM7dDpmb3IodmFyIHUgaW4gbyl7aWYocz0ocj1vW3VdKSE9PShuPWhbdV0pJiZcIm51bWJlclwiPT10eXBlb2Ygcj9yKyhuLXIpKmU6MTw9ZT9uOnIsYylmb3IodmFyIGw9MCxkPWMubGVuZ3RoO2w8ZDtsKyspe3ZhciBfPWNbbF0uY2hhbmdlKHRoaXMsdCx1LHMsZSxpKTtpZihfPT09bS5JR05PUkUpY29udGludWUgdDt2b2lkIDAhPT1fJiYocz1fKX10aGlzLnRhcmdldFt1XT1zfX19LHQuX3J1bkFjdGlvbnNSYW5nZT1mdW5jdGlvbih0LGUsaSxzKXt2YXIgcj1lPHQsbj1yP3RoaXMuX2FjdGlvblRhaWw6dGhpcy5fYWN0aW9uSGVhZCxhPWUsbz10O3ImJihhPXQsbz1lKTtmb3IodmFyIGg9dGhpcy5wb3NpdGlvbjtuOyl7dmFyIGM9bi50O2lmKChjPT09ZXx8bzxjJiZjPGF8fHMmJmM9PT10KSYmKG4uZnVuY3QuYXBwbHkobi5zY29wZSxuLnBhcmFtcyksaCE9PXRoaXMucG9zaXRpb24pKXJldHVybiEwO249cj9uLnByZXY6bi5uZXh0fX0sdC5fYXBwZW5kUHJvcHM9ZnVuY3Rpb24odCxlLGkpe3ZhciBzLHIsbixhLG8saD10aGlzLl9zdGVwSGVhZC5wcm9wcyxjPXRoaXMudGFyZ2V0LHU9bS5fcGx1Z2lucyxsPWUucHJldixkPWwucHJvcHMsXz1lLnByb3BzfHwoZS5wcm9wcz10aGlzLl9jbG9uZVByb3BzKGQpKSxwPXt9O2ZvcihzIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShzKSYmKHBbc109X1tzXT10W3NdLHZvaWQgMD09PWhbc10pKXtpZihhPXZvaWQgMCx1KWZvcihyPXUubGVuZ3RoLTE7MDw9cjtyLS0paWYodm9pZCAwIT09KG49dVtyXS5pbml0KHRoaXMscyxhKSkmJihhPW4pLGE9PT1tLklHTk9SRSl7ZGVsZXRlIF9bc10sZGVsZXRlIHBbc107YnJlYWt9YSE9PW0uSUdOT1JFJiYodm9pZCAwPT09YSYmKGE9Y1tzXSksZFtzXT12b2lkIDA9PT1hP251bGw6YSl9Zm9yKHMgaW4gcCl7bj10W3NdO2Zvcih2YXIgZixnPWw7KGY9ZykmJihnPWYucHJldik7KWlmKGcucHJvcHMhPT1mLnByb3BzKXtpZih2b2lkIDAhPT1nLnByb3BzW3NdKWJyZWFrO2cucHJvcHNbc109ZFtzXX19aWYoITEhPT1pJiYodT10aGlzLl9wbHVnaW5zKSlmb3Iocj11Lmxlbmd0aC0xOzA8PXI7ci0tKXVbcl0uc3RlcCh0aGlzLGUscCk7KG89dGhpcy5faW5qZWN0ZWQpJiYodGhpcy5faW5qZWN0ZWQ9bnVsbCx0aGlzLl9hcHBlbmRQcm9wcyhvLGUsITEpKSx0aGlzLnN0ZXA9ZX0sdC5faW5qZWN0UHJvcD1mdW5jdGlvbih0LGUpeyh0aGlzLl9pbmplY3RlZHx8KHRoaXMuX2luamVjdGVkPXt9KSlbdF09ZX0sdC5fYWRkU3RlcD1mdW5jdGlvbih0LGUsaSxzKXt2YXIgcj1uZXcgbih0aGlzLl9zdGVwVGFpbCx0aGlzLmR1cmF0aW9uLHQsZSxpLHN8fCExKTtyZXR1cm4gdGhpcy5kdXJhdGlvbis9dCx0aGlzLl9zdGVwVGFpbD10aGlzLl9zdGVwVGFpbC5uZXh0PXJ9LHQuX2FkZEFjdGlvbj1mdW5jdGlvbih0LGUsaSl7dmFyIHM9bmV3IHIodGhpcy5fYWN0aW9uVGFpbCx0aGlzLmR1cmF0aW9uLHQsZSxpKTtyZXR1cm4gdGhpcy5fYWN0aW9uVGFpbD90aGlzLl9hY3Rpb25UYWlsLm5leHQ9czp0aGlzLl9hY3Rpb25IZWFkPXMsdGhpcy5fYWN0aW9uVGFpbD1zLHRoaXN9LHQuX3NldD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl0aGlzW2VdPXRbZV19LHQuX2Nsb25lUHJvcHM9ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBpIGluIHQpZVtpXT10W2ldO3JldHVybiBlfSxjcmVhdGVqcy5Ud2Vlbj1jcmVhdGVqcy5wcm9tb3RlKG0sXCJBYnN0cmFjdFR3ZWVuXCIpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt2YXIgZSxpO3QgaW5zdGFuY2VvZiBBcnJheXx8bnVsbD09dCYmMTxhcmd1bWVudHMubGVuZ3RoPyhlPXQsaT1hcmd1bWVudHNbMV0sdD1hcmd1bWVudHNbMl0pOnQmJihlPXQudHdlZW5zLGk9dC5sYWJlbHMpLHRoaXMuQWJzdHJhY3RUd2Vlbl9jb25zdHJ1Y3Rvcih0KSx0aGlzLnR3ZWVucz1bXSxlJiZ0aGlzLmFkZFR3ZWVuLmFwcGx5KHRoaXMsZSksdGhpcy5zZXRMYWJlbHMoaSksdGhpcy5faW5pdCh0KX12YXIgZT1jcmVhdGVqcy5leHRlbmQodCxjcmVhdGVqcy5BYnN0cmFjdFR3ZWVuKTtlLmFkZFR3ZWVuPWZ1bmN0aW9uKHQpe3QuX3BhcmVudCYmdC5fcGFyZW50LnJlbW92ZVR3ZWVuKHQpO3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg7aWYoMTxlKXtmb3IodmFyIGk9MDtpPGU7aSsrKXRoaXMuYWRkVHdlZW4oYXJndW1lbnRzW2ldKTtyZXR1cm4gYXJndW1lbnRzW2UtMV19aWYoMD09PWUpcmV0dXJuIG51bGw7dGhpcy50d2VlbnMucHVzaCh0KSx0Ll9wYXJlbnQ9dGhpcyx0LnBhdXNlZD0hMDt2YXIgcz10LmR1cmF0aW9uO3JldHVybiAwPHQubG9vcCYmKHMqPXQubG9vcCsxKSxzPnRoaXMuZHVyYXRpb24mJih0aGlzLmR1cmF0aW9uPXMpLDA8PXRoaXMucmF3UG9zaXRpb24mJnQuc2V0UG9zaXRpb24odGhpcy5yYXdQb3NpdGlvbiksdH0sZS5yZW1vdmVUd2Vlbj1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKDE8ZSl7Zm9yKHZhciBpPSEwLHM9MDtzPGU7cysrKWk9aSYmdGhpcy5yZW1vdmVUd2Vlbihhcmd1bWVudHNbc10pO3JldHVybiBpfWlmKDA9PT1lKXJldHVybiEwO2Zvcih2YXIgcj10aGlzLnR3ZWVucyxzPXIubGVuZ3RoO3MtLTspaWYocltzXT09PXQpcmV0dXJuIHIuc3BsaWNlKHMsMSksdC5fcGFyZW50PW51bGwsdC5kdXJhdGlvbj49dGhpcy5kdXJhdGlvbiYmdGhpcy51cGRhdGVEdXJhdGlvbigpLCEwO3JldHVybiExfSxlLnVwZGF0ZUR1cmF0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZHVyYXRpb249MCxlPXRoaXMudHdlZW5zLmxlbmd0aDt0PGU7dCsrKXt2YXIgaT10aGlzLnR3ZWVuc1t0XSxzPWkuZHVyYXRpb247MDxpLmxvb3AmJihzKj1pLmxvb3ArMSkscz50aGlzLmR1cmF0aW9uJiYodGhpcy5kdXJhdGlvbj1zKX19LGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltUaW1lbGluZV1cIn0sZS5jbG9uZT1mdW5jdGlvbigpe3Rocm93XCJUaW1lbGluZSBjYW4gbm90IGJlIGNsb25lZC5cIn0sZS5fdXBkYXRlUG9zaXRpb249ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5wb3NpdGlvbixzPTAscj10aGlzLnR3ZWVucy5sZW5ndGg7czxyO3MrKyl0aGlzLnR3ZWVuc1tzXS5zZXRQb3NpdGlvbihpLCEwLHQpfSxlLl9ydW5BY3Rpb25zUmFuZ2U9ZnVuY3Rpb24odCxlLGkscyl7Zm9yKHZhciByPXRoaXMucG9zaXRpb24sbj0wLGE9dGhpcy50d2VlbnMubGVuZ3RoO248YTtuKyspaWYodGhpcy50d2VlbnNbbl0uX3J1bkFjdGlvbnModCxlLGkscyksciE9PXRoaXMucG9zaXRpb24pcmV0dXJuITB9LGNyZWF0ZWpzLlRpbWVsaW5lPWNyZWF0ZWpzLnByb21vdGUodCxcIkFic3RyYWN0VHdlZW5cIil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKCl7dGhyb3dcIkVhc2UgY2Fubm90IGJlIGluc3RhbnRpYXRlZC5cIn1lLm5vbmU9ZS5saW5lYXI9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBlPC0xP2U9LTE6MTxlJiYoZT0xKSxmdW5jdGlvbih0KXtyZXR1cm4gMD09ZT90OmU8MD90Kih0Ki1lKzErZSk6dCooKDItdCkqZSsoMS1lKSl9fSxlLmdldFBvd0luPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCxlKX19LGUuZ2V0UG93T3V0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLnBvdygxLXQsZSl9fSxlLmdldFBvd0luT3V0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSpNYXRoLnBvdyh0LGUpOjEtLjUqTWF0aC5hYnMoTWF0aC5wb3coMi10LGUpKX19LGUucXVhZEluPWUuZ2V0UG93SW4oMiksZS5xdWFkT3V0PWUuZ2V0UG93T3V0KDIpLGUucXVhZEluT3V0PWUuZ2V0UG93SW5PdXQoMiksZS5jdWJpY0luPWUuZ2V0UG93SW4oMyksZS5jdWJpY091dD1lLmdldFBvd091dCgzKSxlLmN1YmljSW5PdXQ9ZS5nZXRQb3dJbk91dCgzKSxlLnF1YXJ0SW49ZS5nZXRQb3dJbig0KSxlLnF1YXJ0T3V0PWUuZ2V0UG93T3V0KDQpLGUucXVhcnRJbk91dD1lLmdldFBvd0luT3V0KDQpLGUucXVpbnRJbj1lLmdldFBvd0luKDUpLGUucXVpbnRPdXQ9ZS5nZXRQb3dPdXQoNSksZS5xdWludEluT3V0PWUuZ2V0UG93SW5PdXQoNSksZS5zaW5lSW49ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5jb3ModCpNYXRoLlBJLzIpfSxlLnNpbmVPdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc2luKHQqTWF0aC5QSS8yKX0sZS5zaW5lSW5PdXQ9ZnVuY3Rpb24odCl7cmV0dXJuLS41KihNYXRoLmNvcyhNYXRoLlBJKnQpLTEpfSxlLmJhY2tJbj0oZS5nZXRCYWNrSW49ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0KnQqKChlKzEpKnQtZSl9fSkoMS43KSxlLmJhY2tPdXQ9KGUuZ2V0QmFja091dD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqKChlKzEpKnQrZSkrMX19KSgxLjcpLGUuYmFja0luT3V0PShlLmdldEJhY2tJbk91dD1mdW5jdGlvbihlKXtyZXR1cm4gZSo9MS41MjUsZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/dCp0KigoZSsxKSp0LWUpKi41Oi41KigodC09MikqdCooKGUrMSkqdCtlKSsyKX19KSgxLjcpLGUuY2lyY0luPWZ1bmN0aW9uKHQpe3JldHVybi0oTWF0aC5zcXJ0KDEtdCp0KS0xKX0sZS5jaXJjT3V0PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0gLS10KnQpfSxlLmNpcmNJbk91dD1mdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX0sZS5ib3VuY2VJbj1mdW5jdGlvbih0KXtyZXR1cm4gMS1lLmJvdW5jZU91dCgxLXQpfSxlLmJvdW5jZU91dD1mdW5jdGlvbih0KXtyZXR1cm4gdDwxLzIuNzU/Ny41NjI1KnQqdDp0PDIvMi43NT83LjU2MjUqKHQtPTEuNS8yLjc1KSp0Ky43NTp0PDIuNS8yLjc1PzcuNTYyNSoodC09Mi4yNS8yLjc1KSp0Ky45Mzc1OjcuNTYyNSoodC09Mi42MjUvMi43NSkqdCsuOTg0Mzc1fSxlLmJvdW5jZUluT3V0PWZ1bmN0aW9uKHQpe3JldHVybiB0PC41Py41KmUuYm91bmNlSW4oMip0KTouNSplLmJvdW5jZU91dCgyKnQtMSkrLjV9LGUuZWxhc3RpY0luPShlLmdldEVsYXN0aWNJbj1mdW5jdGlvbihpLHMpe3ZhciByPTIqTWF0aC5QSTtyZXR1cm4gZnVuY3Rpb24odCl7aWYoMD09dHx8MT09dClyZXR1cm4gdDt2YXIgZT1zL3IqTWF0aC5hc2luKDEvaSk7cmV0dXJuLShpKk1hdGgucG93KDIsMTAqLS10KSpNYXRoLnNpbigodC1lKSpyL3MpKX19KSgxLC4zKSxlLmVsYXN0aWNPdXQ9KGUuZ2V0RWxhc3RpY091dD1mdW5jdGlvbihpLHMpe3ZhciByPTIqTWF0aC5QSTtyZXR1cm4gZnVuY3Rpb24odCl7aWYoMD09dHx8MT09dClyZXR1cm4gdDt2YXIgZT1zL3IqTWF0aC5hc2luKDEvaSk7cmV0dXJuIGkqTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtZSkqci9zKSsxfX0pKDEsLjMpLGUuZWxhc3RpY0luT3V0PShlLmdldEVsYXN0aWNJbk91dD1mdW5jdGlvbihpLHMpe3ZhciByPTIqTWF0aC5QSTtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9cy9yKk1hdGguYXNpbigxL2kpO3JldHVybih0Kj0yKTwxP2kqTWF0aC5wb3coMiwxMCotLXQpKk1hdGguc2luKCh0LWUpKnIvcykqLS41OmkqTWF0aC5wb3coMiwtMTAqLS10KSpNYXRoLnNpbigodC1lKSpyL3MpKi41KzF9fSkoMSwuMyoxLjUpLGNyZWF0ZWpzLkVhc2U9ZX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXt0aHJvd1wiTW90aW9uR3VpZGVQbHVnaW4gY2Fubm90IGJlIGluc3RhbnRpYXRlZC5cIn12YXIgUz10O1MucHJpb3JpdHk9MCxTLklEPVwiTW90aW9uR3VpZGVcIixTLmluc3RhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHdlZW4uX2luc3RhbGxQbHVnaW4odCksY3JlYXRlanMuVHdlZW4uSUdOT1JFfSxTLmluaXQ9ZnVuY3Rpb24odCxlLGkpe1wiZ3VpZGVcIj09ZSYmdC5fYWRkUGx1Z2luKFMpfSxTLnN0ZXA9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcyBpbiBpKWlmKFwiZ3VpZGVcIj09PXMpe3ZhciByPWUucHJvcHMuZ3VpZGUsbj1TLl9zb2x2ZUd1aWRlRGF0YShpLmd1aWRlLHIpO3IudmFsaWQ9IW47dmFyIGE9ci5lbmREYXRhO2lmKHQuX2luamVjdFByb3AoXCJ4XCIsYS54KSx0Ll9pbmplY3RQcm9wKFwieVwiLGEueSksbnx8IXIub3JpZW50KWJyZWFrO3ZhciBvPXZvaWQgMD09PWUucHJldi5wcm9wcy5yb3RhdGlvbj90LnRhcmdldC5yb3RhdGlvbnx8MDplLnByZXYucHJvcHMucm90YXRpb247aWYoci5zdGFydE9mZnNldFJvdD1vLXIuc3RhcnREYXRhLnJvdGF0aW9uLFwiZml4ZWRcIj09ci5vcmllbnQpci5lbmRBYnNSb3Q9YS5yb3RhdGlvbityLnN0YXJ0T2Zmc2V0Um90LHIuZGVsdGFSb3RhdGlvbj0wO2Vsc2V7dmFyIGg9dm9pZCAwPT09aS5yb3RhdGlvbj90LnRhcmdldC5yb3RhdGlvbnx8MDppLnJvdGF0aW9uLGM9aC1yLmVuZERhdGEucm90YXRpb24tci5zdGFydE9mZnNldFJvdCx1PWMlMzYwO3N3aXRjaChyLmVuZEFic1JvdD1oLHIub3JpZW50KXtjYXNlXCJhdXRvXCI6ci5kZWx0YVJvdGF0aW9uPWM7YnJlYWs7Y2FzZVwiY3dcIjpyLmRlbHRhUm90YXRpb249KDM2MCt1KSUzNjArMzYwKk1hdGguYWJzKGMvMzYwfDApO2JyZWFrO2Nhc2VcImNjd1wiOnIuZGVsdGFSb3RhdGlvbj0odS0zNjApJTM2MCstMzYwKk1hdGguYWJzKGMvMzYwfDApfX10Ll9pbmplY3RQcm9wKFwicm90YXRpb25cIixyLmVuZEFic1JvdCl9fSxTLmNoYW5nZT1mdW5jdGlvbih0LGUsaSxzLHIsbil7dmFyIGE9ZS5wcm9wcy5ndWlkZTtpZihhJiZlLnByb3BzIT09ZS5wcmV2LnByb3BzJiZhIT09ZS5wcmV2LnByb3BzLmd1aWRlKXJldHVyblwiZ3VpZGVcIj09PWkmJiFhLnZhbGlkfHxcInhcIj09aXx8XCJ5XCI9PWl8fFwicm90YXRpb25cIj09PWkmJmEub3JpZW50P2NyZWF0ZWpzLlR3ZWVuLklHTk9SRTp2b2lkIFMuX3JhdGlvVG9Qb3NpdGlvbkRhdGEocixhLHQudGFyZ2V0KX0sUy5kZWJ1Zz1mdW5jdGlvbih0LGUsaSl7dD10Lmd1aWRlfHx0O3ZhciBzPVMuX2ZpbmRQYXRoUHJvYmxlbXModCk7aWYocyYmY29uc29sZS5lcnJvcihcIk1vdGlvbkd1aWRlUGx1Z2luIEVycm9yIGZvdW5kOiBcXG5cIitzKSwhZSlyZXR1cm4gczt2YXIgcj10LnBhdGgsbj1yLmxlbmd0aDtmb3IoZS5zYXZlKCksZS5saW5lQ2FwPVwicm91bmRcIixlLmxpbmVKb2luPVwibWl0ZXJcIixlLmJlZ2luUGF0aCgpLGUubW92ZVRvKHJbMF0sclsxXSksYz0yO2M8bjtjKz00KWUucXVhZHJhdGljQ3VydmVUbyhyW2NdLHJbYysxXSxyW2MrMl0scltjKzNdKTtlLnN0cm9rZVN0eWxlPVwiYmxhY2tcIixlLmxpbmVXaWR0aD00LjUsZS5zdHJva2UoKSxlLnN0cm9rZVN0eWxlPVwid2hpdGVcIixlLmxpbmVXaWR0aD0zLGUuc3Ryb2tlKCksZS5jbG9zZVBhdGgoKTt2YXIgYT1pLmxlbmd0aDtpZihpJiZhKXt2YXIgbz17fSxoPXt9O1MuX3NvbHZlR3VpZGVEYXRhKHQsbyk7Zm9yKHZhciBjPTA7YzxhO2MrKylvLm9yaWVudD1cImZpeGVkXCIsUy5fcmF0aW9Ub1Bvc2l0aW9uRGF0YShpW2NdLG8saCksZS5iZWdpblBhdGgoKSxlLm1vdmVUbyhoLngsaC55KSxlLmxpbmVUbyhoLngrOSpNYXRoLmNvcyguMDE3NDUzMypoLnJvdGF0aW9uKSxoLnkrOSpNYXRoLnNpbiguMDE3NDUzMypoLnJvdGF0aW9uKSksZS5zdHJva2VTdHlsZT1cImJsYWNrXCIsZS5saW5lV2lkdGg9NC41LGUuc3Ryb2tlKCksZS5zdHJva2VTdHlsZT1cInJlZFwiLGUubGluZVdpZHRoPTMsZS5zdHJva2UoKSxlLmNsb3NlUGF0aCgpfXJldHVybiBlLnJlc3RvcmUoKSxzfSxTLl9zb2x2ZUd1aWRlRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKGk9Uy5kZWJ1Zyh0KSlyZXR1cm4gaTt2YXIgcz1lLnBhdGg9dC5wYXRoO2Uub3JpZW50PXQub3JpZW50O2Uuc3ViTGluZXM9W10sZS50b3RhbExlbmd0aD0wLGUuc3RhcnRPZmZzZXRSb3Q9MCxlLmRlbHRhUm90YXRpb249MCxlLnN0YXJ0RGF0YT17cmF0aW86MH0sZS5lbmREYXRhPXtyYXRpbzoxfSxlLmFuaW1TcGFuPTE7Zm9yKHZhciByLG4sYSxvLGg9cy5sZW5ndGgsYz17fSx1PXNbMF0sbD1zWzFdLGQ9MjtkPGg7ZCs9NCl7cj1zW2RdLG49c1tkKzFdLGE9c1tkKzJdLG89c1tkKzNdO2Zvcih2YXIgXz17d2VpZ2h0aW5nczpbXSxlc3RMZW5ndGg6MCxwb3J0aW9uOjB9LHA9dSxmPWwsZz0xO2c8PTEwO2crKyl7Uy5fZ2V0UGFyYW1zRm9yQ3VydmUodSxsLHIsbixhLG8sZy8xMCwhMSxjKTt2YXIgbT1jLngtcCx2PWMueS1mLFQ9TWF0aC5zcXJ0KG0qbSt2KnYpO18ud2VpZ2h0aW5ncy5wdXNoKFQpLF8uZXN0TGVuZ3RoKz1ULHA9Yy54LGY9Yy55fWZvcihlLnRvdGFsTGVuZ3RoKz1fLmVzdExlbmd0aCxnPTA7ZzwxMDtnKyspVD1fLmVzdExlbmd0aCxfLndlaWdodGluZ3NbZ109Xy53ZWlnaHRpbmdzW2ddL1Q7ZS5zdWJMaW5lcy5wdXNoKF8pLHU9YSxsPW99VD1lLnRvdGFsTGVuZ3RoO3ZhciBiPWUuc3ViTGluZXMubGVuZ3RoO2ZvcihkPTA7ZDxiO2QrKyllLnN1YkxpbmVzW2RdLnBvcnRpb249ZS5zdWJMaW5lc1tkXS5lc3RMZW5ndGgvVDt2YXIgRT1pc05hTih0LnN0YXJ0KT8wOnQuc3RhcnQseT1pc05hTih0LmVuZCk/MTp0LmVuZDtTLl9yYXRpb1RvUG9zaXRpb25EYXRhKEUsZSxlLnN0YXJ0RGF0YSksUy5fcmF0aW9Ub1Bvc2l0aW9uRGF0YSh5LGUsZS5lbmREYXRhKSxlLnN0YXJ0RGF0YS5yYXRpbz1FLGUuZW5kRGF0YS5yYXRpbz15LGUuYW5pbVNwYW49ZS5lbmREYXRhLnJhdGlvLWUuc3RhcnREYXRhLnJhdGlvfSxTLl9yYXRpb1RvUG9zaXRpb25EYXRhPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHMscixuLGE9ZS5zdWJMaW5lcyxvPTAsaD10KmUuYW5pbVNwYW4rZS5zdGFydERhdGEucmF0aW8sYz1hLmxlbmd0aCx1PTA7dTxjO3UrKyl7aWYoaDw9bysocj1hW3VdLnBvcnRpb24pKXtuPXU7YnJlYWt9bys9cn12b2lkIDA9PT1uJiYobj1jLTEsby09cik7dmFyIGw9YVtuXS53ZWlnaHRpbmdzLGQ9cjtmb3IoYz1sLmxlbmd0aCx1PTA7dTxjJiYhKGg8PW8rKHI9bFt1XSpkKSk7dSsrKW8rPXI7bj00Km4rMixzPXUvMTArKGgtbykvciouMTt2YXIgXz1lLnBhdGg7cmV0dXJuIFMuX2dldFBhcmFtc0ZvckN1cnZlKF9bbi0yXSxfW24tMV0sX1tuXSxfW24rMV0sX1tuKzJdLF9bbiszXSxzLGUub3JpZW50LGkpLGUub3JpZW50JiYoLjk5OTk5PD10JiZ0PD0xLjAwMDAxJiZ2b2lkIDAhPT1lLmVuZEFic1JvdD9pLnJvdGF0aW9uPWUuZW5kQWJzUm90Omkucm90YXRpb24rPWUuc3RhcnRPZmZzZXRSb3QrdCplLmRlbHRhUm90YXRpb24pLGl9LFMuX2dldFBhcmFtc0ZvckN1cnZlPWZ1bmN0aW9uKHQsZSxpLHMscixuLGEsbyxoKXt2YXIgYz0xLWE7aC54PWMqYyp0KzIqYyphKmkrYSphKnIsaC55PWMqYyplKzIqYyphKnMrYSphKm4sbyYmKGgucm90YXRpb249NTcuMjk1Nzc5NSpNYXRoLmF0YW4yKChzLWUpKmMrKG4tcykqYSwoaS10KSpjKyhyLWkpKmEpKX0sUy5fZmluZFBhdGhQcm9ibGVtcz1mdW5jdGlvbih0KXt2YXIgZT10LnBhdGgsaT1lJiZlLmxlbmd0aHx8MDtpZihpPDZ8fChpLTIpJTQpe3ZhciBzPVwiXFx0Q2Fubm90IHBhcnNlICdwYXRoJyBhcnJheSBkdWUgdG8gaW52YWxpZCBudW1iZXIgb2YgZW50cmllcyBpbiBwYXRoLiBcIjtyZXR1cm4gcys9XCJUaGVyZSBzaG91bGQgYmUgYW4gb2RkIG51bWJlciBvZiBwb2ludHMsIGF0IGxlYXN0IDMgcG9pbnRzLCBhbmQgMiBlbnRyaWVzIHBlciBwb2ludCAoeCAmIHkpLiBcIixzKz1cIlNlZSAnQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnF1YWRyYXRpY0N1cnZlVG8nIGZvciBkZXRhaWxzIGFzICdwYXRoJyBtb2RlbHMgYSBxdWFkcmF0aWMgYmV6aWVyLlxcblxcblwiLHMrPVwiT25seSBbIFwiK2krXCIgXSB2YWx1ZXMgZm91bmQuIEV4cGVjdGVkOiBcIitNYXRoLm1heCg0Kk1hdGguY2VpbCgoaS0yKS80KSsyLDYpfWZvcih2YXIgcj0wO3I8aTtyKyspaWYoaXNOYU4oZVtyXSkpcmV0dXJuXCJBbGwgZGF0YSBpbiBwYXRoIGFycmF5IG11c3QgYmUgbnVtZXJpY1wiO3ZhciBuPXQuc3RhcnQ7aWYoaXNOYU4obikmJnZvaWQgMCE9PW4pcmV0dXJuXCInc3RhcnQnIG91dCBvZiBib3VuZHMuIEV4cGVjdGVkIDAgdG8gMSwgZ290OiBcIituO3ZhciBhPXQuZW5kO2lmKGlzTmFOKGEpJiZ2b2lkIDAhPT1hKXJldHVyblwiJ2VuZCcgb3V0IG9mIGJvdW5kcy4gRXhwZWN0ZWQgMCB0byAxLCBnb3Q6IFwiK2E7dmFyIG89dC5vcmllbnQ7cmV0dXJuIG8mJlwiZml4ZWRcIiE9byYmXCJhdXRvXCIhPW8mJlwiY3dcIiE9byYmXCJjY3dcIiE9bz8nSW52YWxpZCBvcmllbnRhdGlvbiB2YWx1ZS4gRXhwZWN0ZWQgW1wiZml4ZWRcIiwgXCJhdXRvXCIsIFwiY3dcIiwgXCJjY3dcIiwgdW5kZWZpbmVkXSwgZ290OiAnK286dm9pZCAwfSxjcmVhdGVqcy5Nb3Rpb25HdWlkZVBsdWdpbj10fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9Y3JlYXRlanMuVHdlZW5KUz1jcmVhdGVqcy5Ud2VlbkpTfHx7fTt0LnZlcnNpb249XCJORVhUXCIsdC5idWlsZERhdGU9XCJUaHUsIDE0IFNlcCAyMDE3IDIyOjE5OjQ1IEdNVFwifSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB1KCl7dGhyb3dcIkNTU1BsdWdpbiBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLlwifXZhciBsPXU7ZnVuY3Rpb24gZCh0LGUpe2Zvcih2YXIgaSxzLHIsbj1bITEsdF07aT1sLlRSQU5TRk9STV9SRS5leGVjKHQpOyl7XCIqXCIhPT1pWzNdPyhzPVtpWzFdXSxyPWUmJmVbbi5sZW5ndGhdLCFlfHxyJiZzWzBdPT09clswXXx8KGNvbnNvbGUubG9nKFwidHJhbnNmb3JtcyBkb24ndCBtYXRjaDogXCIsc1swXSxyJiZyWzBdKSxlPW51bGwpLGEoaVsyXSxyLHMpLG4ucHVzaChzKSk6bi5wdXNoKGVbbi5sZW5ndGhdKX1yZXR1cm4gblswXT0hIWUsbn1mdW5jdGlvbiBhKHQsZSxpKXtmb3IoOzspe3ZhciBzPWwuVFJBTlNGT1JNX1ZBTFVFX1JFLmV4ZWModCk7aWYoIXMpcmV0dXJuIGk7KGk9aXx8W10pLnB1c2goK3NbMV0sc1syXSksZSYmZVtpLmxlbmd0aC0xXSE9PXNbMl0mJihjb25zb2xlLmxvZyhcInRyYW5zZm9ybSB1bml0cyBkb24ndCBtYXRjaDogXCIsaVswXSxlW2kubGVuZ3RoLTFdLHNbMl0pLGU9bnVsbCl9fWwucHJpb3JpdHk9MTAwLGwuSUQ9XCJDU1NcIixsLlZBTFVFX1JFPS9eKC0/W1xcZC5dKykoW2EteiVdKikkLyxsLlRSQU5TRk9STV9WQUxVRV9SRT0vKD86XnwgfCwpKC0/W1xcZC5dKykoW2EteiVdKikvZyxsLlRSQU5TRk9STV9SRT0vKFxcdys/KVxcKChbXildKylcXCl8KD86XnwgKShcXCopKD86JHwgKS9nLGwuY29tcHV0ZT0hMSxsLmluc3RhbGw9ZnVuY3Rpb24oKXtjcmVhdGVqcy5Ud2Vlbi5faW5zdGFsbFBsdWdpbih1KX0sbC5pbml0PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10LnBsdWdpbkRhdGE7aWYoIXMuQ1NTX2Rpc2FibGVkJiZ0LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXt2YXIgcixuLGEsbz1pfHwocj10LnRhcmdldCxuPWUsKGE9cy5DU1NfY29tcHV0ZSl8fG51bGw9PWEmJmwuY29tcHV0ZT93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShyKVtuXTpyLnN0eWxlW25dKTtpZih2b2lkIDAhPT1vKXt0Ll9hZGRQbHVnaW4odSk7dmFyIGg9cy5DU1N8fChzLkNTUz17fSk7aWYoXCJ0cmFuc2Zvcm1cIj09PWUpcmV0dXJuIGhbZV09XCJfdFwiLGQobyk7dmFyIGM9bC5WQUxVRV9SRS5leGVjKG8pO3JldHVybiBudWxsPT09Yz8oaFtlXT1cIlwiLG8pOihoW2VdPWNbMl0scGFyc2VGbG9hdChjWzFdKSl9fX0sbC5zdGVwPWZ1bmN0aW9uKHQsZSxpKXtpLnRyYW5zZm9ybSYmKGUucHJvcHMudHJhbnNmb3JtPWQoZS5wcm9wcy50cmFuc2Zvcm0sZS5wcmV2LnByb3BzLnRyYW5zZm9ybSkpfSxsLmNoYW5nZT1mdW5jdGlvbih0LGUsaSxzLHIsbil7dmFyIGE9dC5wbHVnaW5EYXRhLkNTU1tpXTtpZih2b2lkIDAhPT1hKXJldHVyblwidHJhbnNmb3JtXCI9PT1pP3M9ZnVuY3Rpb24odCxlLGkpe2lmKDE9PT1pKXJldHVybiBlWzFdO2lmKDA9PT1pfHwhZVswXSlyZXR1cm4gdFsxXTtmb3IodmFyIHMscixuPVwiXCIsYT10Lmxlbmd0aCxvPTI7bzxhO28rKyl7dmFyIGg9dFtvXSxjPWVbb107Zm9yKG4rPWhbMF0rXCIoXCIscz0xLHI9aC5sZW5ndGg7czxyO3MrPTIpbis9aFtzXSsoY1tzXS1oW3NdKSppLG4rPWNbcysxXXx8aFtzKzFdLHM8ci0yJiYobis9XCIsIFwiKTtuKz1cIilcIixvPGEtMSYmKG4rPVwiIFwiKX1yZXR1cm4gbn0oZS5wcmV2LnByb3BzW2ldLGUucHJvcHNbaV0scik6cys9YSx0LnRhcmdldC5zdHlsZVtpXT1zLGNyZWF0ZWpzLlR3ZWVuLklHTk9SRX0sY3JlYXRlanMuQ1NTUGx1Z2luPWx9KCksY3JlYXRlanMuQ1NTUGx1Z2luLmluc3RhbGwoKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbCgpe3Rocm93XCJEb3RQbHVnaW4gY2Fubm90IGJlIGluc3RhbnRpYXRlZC5cIn12YXIgdD1sO3QucHJpb3JpdHk9MTAwLHQuSUQ9XCJEb3RcIix0Lmluc3RhbGw9ZnVuY3Rpb24oKXtjcmVhdGVqcy5Ud2Vlbi5faW5zdGFsbFBsdWdpbihsKX0sdC5pbml0PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10LnBsdWdpbkRhdGE7aWYoIXMuRG90X2Rpc2FibGVkJiZcIi5cIj09PWVbMF0pe3QuX2FkZFBsdWdpbihsKTtmb3IodmFyIHI9dC50YXJnZXQsbj1lLnNwbGl0KFwiLlwiKSxhPTEsbz1uLmxlbmd0aDthPG8tMTthKyspaWYoIShyPXJbblthXV0pKXJldHVybiBjcmVhdGVqcy5Ud2Vlbi5JR05PUkU7dmFyIGg9blthXSxjPXJbaF0sdT12b2lkIDA9PT1pP2M6aTtyZXR1cm4gcy5Eb3Q9cy5Eb3R8fHt9LHMuRG90W2VdPXt0OnIsbjpofSx1fX0sdC5zdGVwPWZ1bmN0aW9uKHQsZSxpKXt9LHQuY2hhbmdlPWZ1bmN0aW9uKHQsZSxpLHMscixuKXt2YXIgYSxvPXQucGx1Z2luRGF0YS5Eb3Q7aWYobyYmKGE9b1tpXSkpcmV0dXJuIGEudFthLm5dPXMsY3JlYXRlanMuVHdlZW4uSUdOT1JFfSxjcmVhdGVqcy5Eb3RQbHVnaW49dH0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCgpe3Rocm93XCJSZWxhdGl2ZVBsdWdpbiBwbHVnaW4gY2Fubm90IGJlIGluc3RhbnRpYXRlZC5cIn12YXIgcz10O3MuSUQ9XCJSZWxhdGl2ZVwiLHMuaW5zdGFsbD1mdW5jdGlvbigpe2NyZWF0ZWpzLlR3ZWVuLl9pbnN0YWxsUGx1Z2luKHQpfSxzLmluaXQ9ZnVuY3Rpb24odCxlLGkpe3QucGx1Z2luRGF0YS5SZWxhdGl2ZV9kaXNhYmxlZHx8dC5fYWRkUGx1Z2luKHMpfSxzLnN0ZXA9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcyBpbiBpKXt2YXIgcixuLGE9aVtzXTtcInN0cmluZ1wiPT10eXBlb2YgYSYmKHI9ZS5wcmV2LnByb3BzW3NdLFwiK1wiIT09KG49YVswXSkmJlwiLVwiIT09bnx8aXNOYU4oYT0rYStyKXx8KGUucHJvcHNbc109YSkpfX0scy5jaGFuZ2U9ZnVuY3Rpb24odCxlLGkscyxyLG4pe30sY3JlYXRlanMuUmVsYXRpdmVQbHVnaW49c30oKSxjcmVhdGVqcy5Eb3RQbHVnaW4uaW5zdGFsbCgpLGNyZWF0ZWpzLlJlbGF0aXZlUGx1Z2luLmluc3RhbGwoKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTt0LmlubmVySFRNTD1cImNhbnZhcyB7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDt9XCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KX0pO1xyXG5cclxud2luZG93LmNyZWF0ZWpzID0gY3JlYXRlanM7XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFrZUNyZWF0ZUpTKCkge1xyXG4gIHJldHVybiBjcmVhdGVqczsgLy8gYWx0aG91Z2ggZm9yIFpJTSwgbmVlZCBuYW1lc3BhY2Ugb24gdGhlIHdpbmRvd1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///a8is\n");

/***/ })

}]);