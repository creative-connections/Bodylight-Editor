(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~3b8a37eb"],{

/***/ "ONo/":
/*!*************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/attributes/watch-hash-core.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.WatchHashCore = void 0;\n\nvar _utils = __webpack_require__(/*! ./utils */ \"dLt8\");\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar WatchHashCore = /*#__PURE__*/function () {\n  function WatchHashCore() {\n    var _this = this;\n\n    this.params = '';\n    console.log('WatchhashCore'); //event listener function needs to be declared this way - they have access to 'this'\n\n    this.handleHashChange = function (e) {\n      console.log('WatchHashCore HandleHashChange e:', e);\n      var params = (0, _utils.parseHashParamString)(window.location.hash);\n      var args = [];\n      var index;\n\n      for (var i = 0; i < _this.paramname.length; i++) {\n        if (_this.paramindex[i]) index = params[_this.paramname[i]] ? params[_this.paramname[i]] : params[_this.paramindex[i]];else index = params[_this.paramname[i]];\n\n        if (index) {\n          //this.elementVM.changesrc(index, this.paramname[i]);\n          args.push(index); //this.changesrc(index, this.paramname[i]);\n        }\n      }\n\n      if (args.length > 0) _this.changesrc.apply(_this, args);\n    };\n  } //params atribute is used to define param name and optional index e.g. summary,1;index,2;base,3\n\n\n  var _proto = WatchHashCore.prototype;\n\n  _proto.bind = function bind() {\n    this.paramname = [];\n    this.paramindex = [];\n    if (!this.params) return;\n    console.log('watchhashcore.bind() params:', this.params);\n    var paramconfs = this.params.split(';');\n\n    for (var _iterator = _createForOfIteratorHelperLoose(paramconfs), _step; !(_step = _iterator()).done;) {\n      var paramitem = _step.value;\n\n      if (paramitem && paramitem.includes(',')) {\n        var paramconf = paramitem.split(',');\n        this.paramname.push(paramconf[0]);\n        this.paramindex.push(paramconf[1]);\n      } else {\n        this.paramname.push(paramitem);\n        this.paramindex.push(null);\n      }\n    } //register only if the customelement is readmd - contains specific function\n    //handle when hash has already some params to override default\n\n\n    this.handleHashChange(null); //register event listener\n\n    window.addEventListener('hashchange', this.handleHashChange);\n  };\n\n  _proto.changesrc = function changesrc() {//console.log('watchhashcore.changesrc()');\n  };\n\n  return WatchHashCore;\n}();\n\nexports.WatchHashCore = WatchHashCore;\n//# sourceMappingURL=watch-hash-core.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT05vLy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9hdHRyaWJ1dGVzL3dhdGNoLWhhc2gtY29yZS5qcz8zOGRhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5XYXRjaEhhc2hDb3JlID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHJldHVybiBmdW5jdGlvbiAoKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IHJldHVybiBpdC5uZXh0LmJpbmQoaXQpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxudmFyIFdhdGNoSGFzaENvcmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBXYXRjaEhhc2hDb3JlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLnBhcmFtcyA9ICcnO1xuICAgIGNvbnNvbGUubG9nKCdXYXRjaGhhc2hDb3JlJyk7IC8vZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gbmVlZHMgdG8gYmUgZGVjbGFyZWQgdGhpcyB3YXkgLSB0aGV5IGhhdmUgYWNjZXNzIHRvICd0aGlzJ1xuXG4gICAgdGhpcy5oYW5kbGVIYXNoQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdXYXRjaEhhc2hDb3JlIEhhbmRsZUhhc2hDaGFuZ2UgZTonLCBlKTtcbiAgICAgIHZhciBwYXJhbXMgPSAoMCwgX3V0aWxzLnBhcnNlSGFzaFBhcmFtU3RyaW5nKSh3aW5kb3cubG9jYXRpb24uaGFzaCk7XG4gICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgdmFyIGluZGV4O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLnBhcmFtbmFtZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoX3RoaXMucGFyYW1pbmRleFtpXSkgaW5kZXggPSBwYXJhbXNbX3RoaXMucGFyYW1uYW1lW2ldXSA/IHBhcmFtc1tfdGhpcy5wYXJhbW5hbWVbaV1dIDogcGFyYW1zW190aGlzLnBhcmFtaW5kZXhbaV1dO2Vsc2UgaW5kZXggPSBwYXJhbXNbX3RoaXMucGFyYW1uYW1lW2ldXTtcblxuICAgICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgICAvL3RoaXMuZWxlbWVudFZNLmNoYW5nZXNyYyhpbmRleCwgdGhpcy5wYXJhbW5hbWVbaV0pO1xuICAgICAgICAgIGFyZ3MucHVzaChpbmRleCk7IC8vdGhpcy5jaGFuZ2VzcmMoaW5kZXgsIHRoaXMucGFyYW1uYW1lW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSBfdGhpcy5jaGFuZ2VzcmMuYXBwbHkoX3RoaXMsIGFyZ3MpO1xuICAgIH07XG4gIH0gLy9wYXJhbXMgYXRyaWJ1dGUgaXMgdXNlZCB0byBkZWZpbmUgcGFyYW0gbmFtZSBhbmQgb3B0aW9uYWwgaW5kZXggZS5nLiBzdW1tYXJ5LDE7aW5kZXgsMjtiYXNlLDNcblxuXG4gIHZhciBfcHJvdG8gPSBXYXRjaEhhc2hDb3JlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYmluZCA9IGZ1bmN0aW9uIGJpbmQoKSB7XG4gICAgdGhpcy5wYXJhbW5hbWUgPSBbXTtcbiAgICB0aGlzLnBhcmFtaW5kZXggPSBbXTtcbiAgICBpZiAoIXRoaXMucGFyYW1zKSByZXR1cm47XG4gICAgY29uc29sZS5sb2coJ3dhdGNoaGFzaGNvcmUuYmluZCgpIHBhcmFtczonLCB0aGlzLnBhcmFtcyk7XG4gICAgdmFyIHBhcmFtY29uZnMgPSB0aGlzLnBhcmFtcy5zcGxpdCgnOycpO1xuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShwYXJhbWNvbmZzKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgIHZhciBwYXJhbWl0ZW0gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgaWYgKHBhcmFtaXRlbSAmJiBwYXJhbWl0ZW0uaW5jbHVkZXMoJywnKSkge1xuICAgICAgICB2YXIgcGFyYW1jb25mID0gcGFyYW1pdGVtLnNwbGl0KCcsJyk7XG4gICAgICAgIHRoaXMucGFyYW1uYW1lLnB1c2gocGFyYW1jb25mWzBdKTtcbiAgICAgICAgdGhpcy5wYXJhbWluZGV4LnB1c2gocGFyYW1jb25mWzFdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFyYW1uYW1lLnB1c2gocGFyYW1pdGVtKTtcbiAgICAgICAgdGhpcy5wYXJhbWluZGV4LnB1c2gobnVsbCk7XG4gICAgICB9XG4gICAgfSAvL3JlZ2lzdGVyIG9ubHkgaWYgdGhlIGN1c3RvbWVsZW1lbnQgaXMgcmVhZG1kIC0gY29udGFpbnMgc3BlY2lmaWMgZnVuY3Rpb25cbiAgICAvL2hhbmRsZSB3aGVuIGhhc2ggaGFzIGFscmVhZHkgc29tZSBwYXJhbXMgdG8gb3ZlcnJpZGUgZGVmYXVsdFxuXG5cbiAgICB0aGlzLmhhbmRsZUhhc2hDaGFuZ2UobnVsbCk7IC8vcmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXJcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5oYW5kbGVIYXNoQ2hhbmdlKTtcbiAgfTtcblxuICBfcHJvdG8uY2hhbmdlc3JjID0gZnVuY3Rpb24gY2hhbmdlc3JjKCkgey8vY29uc29sZS5sb2coJ3dhdGNoaGFzaGNvcmUuY2hhbmdlc3JjKCknKTtcbiAgfTtcblxuICByZXR1cm4gV2F0Y2hIYXNoQ29yZTtcbn0oKTtcblxuZXhwb3J0cy5XYXRjaEhhc2hDb3JlID0gV2F0Y2hIYXNoQ29yZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhdGNoLWhhc2gtY29yZS5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///ONo/\n");

/***/ }),

/***/ "aHrh":
/*!**********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/bind2animation.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.Bind2animation = void 0;\n\n/** Bind2animation class instance\n * keeps min and max values of FMU model simulation and calling\n *  convertf2a converts value to animation value between min-max\n * **/\nvar Bind2animation = /*#__PURE__*/function () {\n  //index of variable from FMU\n  //name of the animation object - should end by _anim\n  //min and max values for animation (usually 0-100)\n  //min and max values from FMU model simulation\n  //internal koefficients\n  function Bind2animation(_findex, _aname, _amin, _amax, _fmin, _fmax) {\n    this.findex = void 0;\n    this.aname = void 0;\n    this.amin = void 0;\n    this.amax = void 0;\n    this.fmin = void 0;\n    this.fmax = void 0;\n    this.k1 = void 0;\n    this.k2 = void 0;\n    this.k3 = void 0;\n    this.findex = _findex;\n    this.aname = _aname; //can be obtained by Object.keys(window.ani.lib).filter(name => name.endsWith('Celek'))\n\n    this.amin = _amin;\n    this.amax = _amax;\n    this.fmin = _fmin;\n    this.fmax = _fmax;\n    this.k1 = 1 / (this.fmax - this.fmin);\n    this.k2 = this.fmin / (this.fmax - this.fmin);\n    this.k3 = this.amax - this.amin;\n  }\n  /** convertf2a converts value to animation value between min-max\n  * uses linear approximation,\n  * values beyond limits are converted to min or max\n  **/\n\n\n  var _proto = Bind2animation.prototype;\n\n  _proto.convertf2a = function convertf2a(x) {\n    if (x < this.fmin) return this.amin;\n    if (x < this.fmax) return this.amin + (x * this.k1 - this.k2) * this.k3;\n    return this.amax;\n  };\n\n  return Bind2animation;\n}();\n\nexports.Bind2animation = Bind2animation;\n//# sourceMappingURL=bind2animation.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYUhyaC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9iaW5kMmFuaW1hdGlvbi5qcz82ODdhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5CaW5kMmFuaW1hdGlvbiA9IHZvaWQgMDtcblxuLyoqIEJpbmQyYW5pbWF0aW9uIGNsYXNzIGluc3RhbmNlXG4gKiBrZWVwcyBtaW4gYW5kIG1heCB2YWx1ZXMgb2YgRk1VIG1vZGVsIHNpbXVsYXRpb24gYW5kIGNhbGxpbmdcbiAqICBjb252ZXJ0ZjJhIGNvbnZlcnRzIHZhbHVlIHRvIGFuaW1hdGlvbiB2YWx1ZSBiZXR3ZWVuIG1pbi1tYXhcbiAqICoqL1xudmFyIEJpbmQyYW5pbWF0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy9pbmRleCBvZiB2YXJpYWJsZSBmcm9tIEZNVVxuICAvL25hbWUgb2YgdGhlIGFuaW1hdGlvbiBvYmplY3QgLSBzaG91bGQgZW5kIGJ5IF9hbmltXG4gIC8vbWluIGFuZCBtYXggdmFsdWVzIGZvciBhbmltYXRpb24gKHVzdWFsbHkgMC0xMDApXG4gIC8vbWluIGFuZCBtYXggdmFsdWVzIGZyb20gRk1VIG1vZGVsIHNpbXVsYXRpb25cbiAgLy9pbnRlcm5hbCBrb2VmZmljaWVudHNcbiAgZnVuY3Rpb24gQmluZDJhbmltYXRpb24oX2ZpbmRleCwgX2FuYW1lLCBfYW1pbiwgX2FtYXgsIF9mbWluLCBfZm1heCkge1xuICAgIHRoaXMuZmluZGV4ID0gdm9pZCAwO1xuICAgIHRoaXMuYW5hbWUgPSB2b2lkIDA7XG4gICAgdGhpcy5hbWluID0gdm9pZCAwO1xuICAgIHRoaXMuYW1heCA9IHZvaWQgMDtcbiAgICB0aGlzLmZtaW4gPSB2b2lkIDA7XG4gICAgdGhpcy5mbWF4ID0gdm9pZCAwO1xuICAgIHRoaXMuazEgPSB2b2lkIDA7XG4gICAgdGhpcy5rMiA9IHZvaWQgMDtcbiAgICB0aGlzLmszID0gdm9pZCAwO1xuICAgIHRoaXMuZmluZGV4ID0gX2ZpbmRleDtcbiAgICB0aGlzLmFuYW1lID0gX2FuYW1lOyAvL2NhbiBiZSBvYnRhaW5lZCBieSBPYmplY3Qua2V5cyh3aW5kb3cuYW5pLmxpYikuZmlsdGVyKG5hbWUgPT4gbmFtZS5lbmRzV2l0aCgnQ2VsZWsnKSlcblxuICAgIHRoaXMuYW1pbiA9IF9hbWluO1xuICAgIHRoaXMuYW1heCA9IF9hbWF4O1xuICAgIHRoaXMuZm1pbiA9IF9mbWluO1xuICAgIHRoaXMuZm1heCA9IF9mbWF4O1xuICAgIHRoaXMuazEgPSAxIC8gKHRoaXMuZm1heCAtIHRoaXMuZm1pbik7XG4gICAgdGhpcy5rMiA9IHRoaXMuZm1pbiAvICh0aGlzLmZtYXggLSB0aGlzLmZtaW4pO1xuICAgIHRoaXMuazMgPSB0aGlzLmFtYXggLSB0aGlzLmFtaW47XG4gIH1cbiAgLyoqIGNvbnZlcnRmMmEgY29udmVydHMgdmFsdWUgdG8gYW5pbWF0aW9uIHZhbHVlIGJldHdlZW4gbWluLW1heFxuICAqIHVzZXMgbGluZWFyIGFwcHJveGltYXRpb24sXG4gICogdmFsdWVzIGJleW9uZCBsaW1pdHMgYXJlIGNvbnZlcnRlZCB0byBtaW4gb3IgbWF4XG4gICoqL1xuXG5cbiAgdmFyIF9wcm90byA9IEJpbmQyYW5pbWF0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29udmVydGYyYSA9IGZ1bmN0aW9uIGNvbnZlcnRmMmEoeCkge1xuICAgIGlmICh4IDwgdGhpcy5mbWluKSByZXR1cm4gdGhpcy5hbWluO1xuICAgIGlmICh4IDwgdGhpcy5mbWF4KSByZXR1cm4gdGhpcy5hbWluICsgKHggKiB0aGlzLmsxIC0gdGhpcy5rMikgKiB0aGlzLmszO1xuICAgIHJldHVybiB0aGlzLmFtYXg7XG4gIH07XG5cbiAgcmV0dXJuIEJpbmQyYW5pbWF0aW9uO1xufSgpO1xuXG5leHBvcnRzLkJpbmQyYW5pbWF0aW9uID0gQmluZDJhbmltYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kMmFuaW1hdGlvbi5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///aHrh\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/attributes/watchhash":
/*!*******************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/attributes/watchhash.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.WatchhashCustomAttribute = void 0;\n\nvar _watchHashCore = __webpack_require__(/*! ./watch-hash-core */ \"ONo/\");\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/**\n * Custom Attribute\n * if added to an element, cause that param name of param1 or index of param2 send in hash parameters are interpretted\n * to change SRC of parent element - this.elementVM.changesrc(newindex) is called\n */\nvar WatchhashCustomAttribute = /*#__PURE__*/function (_WatchHashCore) {\n  _inheritsLoose(WatchhashCustomAttribute, _WatchHashCore);\n\n  function WatchhashCustomAttribute(element) {\n    var _this;\n\n    _this = _WatchHashCore.call(this) || this;\n    _this.element = element;\n    _this.isReadMDCustomElement = false;\n    console.log('watchhash check au controller');\n\n    if (element && element.au && element.au.controller) {\n      console.log('watchhash check au controller type:', typeof element.au.controller);\n      if (typeof element.au.controller === 'object') console.log('watchhash check au controller viewmodel:', element.au.controller.viewModel);\n\n      if (typeof element.au.controller === 'object' && element.au.controller.viewModel && typeof element.au.controller.viewModel === 'object') {\n        _this.elementVM = element.au.controller.viewModel; //check whether elementVM has changesrc function - to be called in event listener\n\n        _this.isReadMDCustomElement = typeof _this.elementVM.changesrc === 'function';\n      }\n    }\n\n    return _this;\n  }\n\n  var _proto = WatchhashCustomAttribute.prototype;\n\n  _proto.bind = function bind() {\n    this.params = this.value;\n\n    _WatchHashCore.prototype.bind.call(this);\n  };\n\n  _proto.changesrc = function changesrc() {\n    var _this$elementVM;\n\n    console.log('watchhash.changesrc()');\n    if (this.isReadMDCustomElement) (_this$elementVM = this.elementVM).changesrc.apply(_this$elementVM, arguments);\n  };\n\n  return WatchhashCustomAttribute;\n}(_watchHashCore.WatchHashCore);\n\nexports.WatchhashCustomAttribute = WatchhashCustomAttribute;\nWatchhashCustomAttribute.inject = [Element];\n//# sourceMappingURL=watchhash.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2F0dHJpYnV0ZXMvd2F0Y2hoYXNoLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2F0dHJpYnV0ZXMvd2F0Y2hoYXNoLmpzP2FjY2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLldhdGNoaGFzaEN1c3RvbUF0dHJpYnV0ZSA9IHZvaWQgMDtcblxudmFyIF93YXRjaEhhc2hDb3JlID0gcmVxdWlyZShcIi4vd2F0Y2gtaGFzaC1jb3JlXCIpO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBDdXN0b20gQXR0cmlidXRlXG4gKiBpZiBhZGRlZCB0byBhbiBlbGVtZW50LCBjYXVzZSB0aGF0IHBhcmFtIG5hbWUgb2YgcGFyYW0xIG9yIGluZGV4IG9mIHBhcmFtMiBzZW5kIGluIGhhc2ggcGFyYW1ldGVycyBhcmUgaW50ZXJwcmV0dGVkXG4gKiB0byBjaGFuZ2UgU1JDIG9mIHBhcmVudCBlbGVtZW50IC0gdGhpcy5lbGVtZW50Vk0uY2hhbmdlc3JjKG5ld2luZGV4KSBpcyBjYWxsZWRcbiAqL1xudmFyIFdhdGNoaGFzaEN1c3RvbUF0dHJpYnV0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1dhdGNoSGFzaENvcmUpIHtcbiAgX2luaGVyaXRzTG9vc2UoV2F0Y2hoYXNoQ3VzdG9tQXR0cmlidXRlLCBfV2F0Y2hIYXNoQ29yZSk7XG5cbiAgZnVuY3Rpb24gV2F0Y2hoYXNoQ3VzdG9tQXR0cmlidXRlKGVsZW1lbnQpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9XYXRjaEhhc2hDb3JlLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICBfdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICBfdGhpcy5pc1JlYWRNREN1c3RvbUVsZW1lbnQgPSBmYWxzZTtcbiAgICBjb25zb2xlLmxvZygnd2F0Y2hoYXNoIGNoZWNrIGF1IGNvbnRyb2xsZXInKTtcblxuICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuYXUgJiYgZWxlbWVudC5hdS5jb250cm9sbGVyKSB7XG4gICAgICBjb25zb2xlLmxvZygnd2F0Y2hoYXNoIGNoZWNrIGF1IGNvbnRyb2xsZXIgdHlwZTonLCB0eXBlb2YgZWxlbWVudC5hdS5jb250cm9sbGVyKTtcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5hdS5jb250cm9sbGVyID09PSAnb2JqZWN0JykgY29uc29sZS5sb2coJ3dhdGNoaGFzaCBjaGVjayBhdSBjb250cm9sbGVyIHZpZXdtb2RlbDonLCBlbGVtZW50LmF1LmNvbnRyb2xsZXIudmlld01vZGVsKTtcblxuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LmF1LmNvbnRyb2xsZXIgPT09ICdvYmplY3QnICYmIGVsZW1lbnQuYXUuY29udHJvbGxlci52aWV3TW9kZWwgJiYgdHlwZW9mIGVsZW1lbnQuYXUuY29udHJvbGxlci52aWV3TW9kZWwgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIF90aGlzLmVsZW1lbnRWTSA9IGVsZW1lbnQuYXUuY29udHJvbGxlci52aWV3TW9kZWw7IC8vY2hlY2sgd2hldGhlciBlbGVtZW50Vk0gaGFzIGNoYW5nZXNyYyBmdW5jdGlvbiAtIHRvIGJlIGNhbGxlZCBpbiBldmVudCBsaXN0ZW5lclxuXG4gICAgICAgIF90aGlzLmlzUmVhZE1EQ3VzdG9tRWxlbWVudCA9IHR5cGVvZiBfdGhpcy5lbGVtZW50Vk0uY2hhbmdlc3JjID09PSAnZnVuY3Rpb24nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBXYXRjaGhhc2hDdXN0b21BdHRyaWJ1dGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5iaW5kID0gZnVuY3Rpb24gYmluZCgpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHRoaXMudmFsdWU7XG5cbiAgICBfV2F0Y2hIYXNoQ29yZS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIF9wcm90by5jaGFuZ2VzcmMgPSBmdW5jdGlvbiBjaGFuZ2VzcmMoKSB7XG4gICAgdmFyIF90aGlzJGVsZW1lbnRWTTtcblxuICAgIGNvbnNvbGUubG9nKCd3YXRjaGhhc2guY2hhbmdlc3JjKCknKTtcbiAgICBpZiAodGhpcy5pc1JlYWRNREN1c3RvbUVsZW1lbnQpIChfdGhpcyRlbGVtZW50Vk0gPSB0aGlzLmVsZW1lbnRWTSkuY2hhbmdlc3JjLmFwcGx5KF90aGlzJGVsZW1lbnRWTSwgYXJndW1lbnRzKTtcbiAgfTtcblxuICByZXR1cm4gV2F0Y2hoYXNoQ3VzdG9tQXR0cmlidXRlO1xufShfd2F0Y2hIYXNoQ29yZS5XYXRjaEhhc2hDb3JlKTtcblxuZXhwb3J0cy5XYXRjaGhhc2hDdXN0b21BdHRyaWJ1dGUgPSBXYXRjaGhhc2hDdXN0b21BdHRyaWJ1dGU7XG5XYXRjaGhhc2hDdXN0b21BdHRyaWJ1dGUuaW5qZWN0ID0gW0VsZW1lbnRdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2F0Y2hoYXNoLmpzLm1hcFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/attributes/watchhash\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-adobe":
/*!*********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-adobe.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.AnimateAdobe = void 0;\n\nvar _aureliaFramework = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n\nvar createjs = _interopRequireWildcard(__webpack_require__(/*! createjs-module */ \"ZWlK\"));\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _temp;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n/**\n * Exposes animation exported from Adobe Animate to JS CreateJS\n *\n */\nvar AnimateAdobe = (_class = (_temp = /*#__PURE__*/function () {\n  //=\"ZelezoCelek\"\n  //=\"3CC81150E735AE4485D4B0DF526EB8B4\";\n  function AnimateAdobe() {\n    var _this = this;\n\n    _initializerDefineProperty(this, \"src\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"width\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"height\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"name\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"cid\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"fromid\", _descriptor6, this);\n\n    this.animationstarted = false;\n\n    //        console.log('animate-adobe constructor()');\n    this.handleValueChange = function (e) {\n      _this.handleData(e);\n    };\n  }\n  /**\n   * adds listeners to the component 'fromid' and listens to following\n   * 'animatestart' starts all animation\n   * 'animatestop' stops all animation\n   * 'fmidata' handles data and per bind2animation structure sets animation value\n   */\n\n\n  var _proto = AnimateAdobe.prototype;\n\n  _proto.bind = function bind() {\n    if (this.fromid) {\n      var fromel = document.getElementById(this.fromid);\n\n      if (fromel) {\n        fromel.addEventListener('animatestart', this.startAllAnimation);\n        fromel.addEventListener('animatestop', this.stopAllAnimation);\n        fromel.addEventListener('fmidata', this.handleValueChange);\n        fromel.addEventListener('fmistart', this.enableAnimation);\n        fromel.addEventListener('fmistop', this.disableAnimation);\n      } else {\n        console.error('adobe-animate component cannot find control element with id:', this.fromid);\n      }\n    }\n  };\n\n  _proto.attached = function attached() {\n    //this.adobecanvas = document.getElementById(\"canvas\");\n    //this.anim_container = document.getElementById(\"animation_container\");\n    //this.dom_overlay_container = document.getElementById(\"dom_overlay_container\");\n    //      console.log('animate-adobe attached() window.ani.adobecanvas,window.ani.anim_container,window.ani.dom_overlay_container',this.adobecanvas,this.anim_container,this.dom_overlay_container);\n    //set global instance of createjs\n    if (!window.createjs) window.createjs = createjs; //make this component global - due to further calls\n\n    this.bindings = [];\n    window.ani = this; //adds script in src attribute into DOM - so browser will load it, after that, initAdobe() will be called\n\n    this.getScript(this.src, this.initAdobe);\n    this.ratio = this.width / this.height; //window.addEventListener('resize', this.handleResize);\n  };\n\n  _proto.makeResponsive = function makeResponsive(isResp, respDim, isScale, scaleType, domContainers) {\n    //let lastW; let lastH; let lastS = 1;\n    window.addEventListener('resize', window.ani.handleResize);\n    window.ani.isResp = isResp;\n    window.ani.respDim = respDim;\n    window.ani.isScale = isScale;\n    window.ani.scaleType = scaleType;\n    window.ani.domContainers = domContainers;\n    window.ani.handleResize();\n  };\n\n  _proto.handleResize = function handleResize() {\n    var w = window.ani.lib.properties.width;\n    var h = window.ani.lib.properties.height;\n    var iw = window.innerWidth;\n    var ih = window.innerHeight;\n\n    if (window.ani.adobecanvas && window.ani.adobecanvas.parentElement && window.ani.adobecanvas.parentElement.parentElement && window.ani.adobecanvas.parentElement.parentElement.parentElement) {\n      iw = window.ani.adobecanvas.parentElement.parentElement.parentElement.offsetWidth;\n      ih = window.ani.adobecanvas.parentElement.parentElement.parentElement.offsetHeight;\n    }\n\n    ih = iw / (w / h); //let iw = window.innerWidth; let ih = window.innerHeight;\n\n    var pRatio = window.devicePixelRatio || 1;\n    var xRatio = iw / w;\n    var yRatio = ih / h;\n    var sRatio = 1;\n\n    if (window.ani.isResp) {\n      if (window.ani.respDim === 'width' && window.ani.lastW === iw || window.ani.respDim === 'height' && window.ani.lastH === ih) {\n        sRatio = window.ani.lastS;\n      } else if (!window.ani.isScale) {\n        if (iw < w || ih < h) {\n          sRatio = Math.min(xRatio, yRatio);\n        }\n      } else if (window.ani.scaleType === 1) {\n        sRatio = Math.min(xRatio, yRatio);\n      } else if (window.ani.scaleType === 2) {\n        sRatio = Math.max(xRatio, yRatio);\n      }\n    }\n\n    window.ani.domContainers[0].width = w * pRatio * sRatio;\n    window.ani.domContainers[0].height = h * pRatio * sRatio;\n    window.ani.domContainers.forEach(function (container) {\n      container.style.width = w * sRatio + 'px';\n      container.style.height = h * sRatio + 'px';\n    });\n    window.ani.stage.scaleX = pRatio * sRatio;\n    window.ani.stage.scaleY = pRatio * sRatio;\n    window.ani.lastW = iw;\n    window.ani.lastH = ih;\n    window.ani.lastS = sRatio;\n    window.ani.stage.tickOnUpdate = false;\n    window.ani.stage.update();\n    window.ani.stage.tickOnUpdate = true;\n  } //handleResize(); // First draw\n  ;\n\n  _proto.detached = function detached() {\n    //stop animation\n    this.disableAnimation(); //remove script\n\n    this.removeScript(this.src); //destroy bindings\n\n    this.bindings = []; //remove listeners\n\n    var fromel = document.getElementById(this.fromid);\n\n    if (fromel) {\n      fromel.removeEventListener('animatestart', this.startAllAnimation);\n      fromel.removeEventListener('animatestop', this.stopAllAnimation);\n      fromel.removeEventListener('fmidata', this.handleValueChange);\n      fromel.removeEventListener('fmistart', this.enableAnimation);\n      fromel.removeEventListener('fmistop', this.disableAnimation);\n    }\n  };\n\n  _proto.removeScript = function removeScript(source) {\n    var src = window.bdlBaseHref ? window.bdlBaseHref + source : source;\n    var tags = document.getElementsByTagName('script');\n\n    for (var i = tags.length; i >= 0; i--) {\n      //search backwards within nodelist for matching elements to remove\n      if (tags[i] && tags[i].getAttribute('src') !== null && tags[i].getAttribute('src').indexOf(src) !== -1) {\n        tags[i].parentNode.removeChild(tags[i]);\n      } //remove element by calling parentNode.removeChild()\n\n    }\n  } //get script element and registers 'onload' callback to be called when the script is loaded\n  ;\n\n  _proto.getScript = function getScript(source, callback) {\n    //check whether the script is not already there\n    if (Array.from(document.getElementsByTagName('script')).filter(function (x) {\n      return x.getAttribute('src') === source;\n    }).length > 0) {\n      console.log('AnimateAdobe.getScript() WARNING, script is already added into DOM:', source); //do callback?\n\n      if (callback) setTimeout(callback, 0);\n      return;\n    } //console.log('animateadobe getscript()');\n\n\n    var script = document.createElement('script');\n    var prior = document.getElementsByTagName('script')[0];\n    script.async = 1; //set that after onload a callback will be executed\n\n    script.onerror = function () {\n      if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n        script.onerror = script.onload = script.onreadystatechange = null;\n        script = undefined; // try to insert script by other app for previewing - scripts might be inserted into DOM\n\n        if (window.editorapi && typeof window.editorapi.insertScriptById === 'function') {\n          console.log('inserting script by thirdparty api');\n          window.editorapi.insertScriptById(source);\n        } // do callback after 1s\n\n\n        if (callback) setTimeout(callback, 1000);\n      }\n    };\n\n    script.onload = script.onreadystatechange = function (_, isAbort) {\n      if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {\n        script.onerror = script.onload = script.onreadystatechange = null;\n        script = undefined;\n        if (!isAbort && callback) setTimeout(callback, 0);\n      }\n    }; //set script source - if base url is defined then base is prefixed\n\n\n    script.src = window.bdlBaseHref ? window.bdlBaseHref + source : source; //add custom animate script into DOM - the onload will be called then\n\n    prior.parentNode.insertBefore(script, prior);\n  } //this is called after animate script is loaded into DOM, so global AdobeAn is available\n  ;\n\n  _proto.initAdobe = function initAdobe() {\n    //take the first composition\n    if (!window.ani.cid) {\n      window.ani.cid = Object.keys(window.AdobeAn.compositions)[0]; //get the first composition\n    }\n\n    window.ani.comp = window.AdobeAn.getComposition(window.ani.cid); //let lib=comp.getLibrary();\n    //get library to manipulate and other components\n\n    window.ani.lib = window.ani.comp.getLibrary();\n    window.ani.ss = window.ani.comp.getSpriteSheet();\n    window.ani.exportRoot = new window.ani.lib[window.ani.name](); //set stage to be bind into ref='adobecanvas' DOM element of this component\n\n    window.ani.stage = new window.ani.lib.Stage(window.ani.adobecanvas);\n    window.stage = window.ani.stage; //Registers the \"tick\" event listener.\n\n    var fnStartAnimation = function fnStartAnimation() {\n      window.ani.stage.addChild(window.ani.exportRoot); //by default ticker uses setTimeout API, force to use requestAnimationFrame API\n\n      window.createjs.Ticker.timingMode = window.createjs.Ticker.RAF_SYNCHED;\n      window.createjs.Ticker.framerate = window.ani.lib.properties.fps; //window.createjs.Ticker.addEventListener('tick', window.ani.stage);\n\n      window.ani.enableAnimation();\n    }; //Code to support hidpi screens and responsive scaling.\n    //window.AdobeAn.makeResponsive(true, 'both', true, 1, [window.ani.adobecanvas, window.ani.anim_container, window.ani.dom_overlay_container]);\n\n\n    window.ani.makeResponsive(true, 'both', true, 1, [window.ani.adobecanvas, window.ani.anim_container, window.ani.dom_overlay_container]);\n    window.AdobeAn.compositionLoaded(window.ani.lib.properties.id); //window.ani.handleResize();\n\n    fnStartAnimation();\n    setTimeout(function () {\n      //get all objects from animation\n      window.ani.objs = Object.keys(window.ani.exportRoot.children[0]); //filter objects by purpose - so it can be bind to model value\n\n      window.ani.animobjs = window.ani.objs.filter(function (name) {\n        return name.endsWith('_anim');\n      });\n      window.ani.textobjs = window.ani.objs.filter(function (name) {\n        return name.endsWith('_text');\n      });\n      window.ani.playobjs = window.ani.objs.filter(function (name) {\n        return name.endsWith('_play');\n      }); //stop all animation\n\n      window.ani.stopAllAnimation(); //disable animation ticker\n\n      window.ani.disableAnimation();\n    }, 1000);\n  }\n  /**\n   * starts animation of particular object\n   * @param objname\n   */\n  ;\n\n  _proto.startAnimation = function startAnimation(objname) {\n    if (this.exportRoot && this.exportRoot.children[0][objname]) {\n      this.exportRoot.children[0][objname].play();\n    } //this.timeline.addTween(cjs.Tween.get(this.instance).to({alpha:1},159).wait(1));\n\n  }\n  /**\n   * stops animation of particular object\n   * @param objname\n   */\n  ;\n\n  _proto.stopAnimation = function stopAnimation(objname) {\n    if (this.exportRoot && this.exportRoot.children[0][objname]) {\n      this.exportRoot.children[0][objname].stop();\n    }\n  }\n  /**\n   * set the animation value of the object objname\n   * @param objname\n   * @param value\n   */\n  ;\n\n  _proto.setAnimationValue = function setAnimationValue(objname, value) {\n    //console.log('adobe-animate() setting window.ani.exportRoot.children[0][' + objname + '].gotoAndStop(' + value + ')');\n    if (window.ani.exportRoot) {\n      //resolve path from string\n      var resolvePath = function resolvePath(object, path, defaultValue) {\n        return path.split('.').reduce(function (o, p) {\n          return o ? o[p] : defaultValue;\n        }, object);\n      };\n\n      var myobj = resolvePath(window.ani.exportRoot.children[0], objname, undefined);\n      if (myobj) myobj.gotoAndStop(Math.floor(value)); //window.ani.exportRoot.children[0][objname].gotoAndStop(value);\n    }\n  }\n  /**\n   * stops all animation\n   */\n  ;\n\n  _proto.stopAllAnimation = function stopAllAnimation() {\n    if (window.ani.stage) {\n      window.ani.stage.stop();\n    }\n  };\n\n  _proto.disableAnimation = function disableAnimation() {\n    window.ani.animationstarted = false;\n\n    if (window.ani.stage) {\n      window.createjs.Ticker.removeEventListener('tick', window.ani.stage);\n    }\n  };\n\n  _proto.enableAnimation = function enableAnimation() {\n    if (window.ani.stage) {\n      window.createjs.Ticker.addEventListener('tick', window.ani.stage);\n    }\n\n    window.ani.animationstarted = true;\n  }\n  /**\n   * starts all animation\n   */\n  ;\n\n  _proto.startAllAnimation = function startAllAnimation() {\n    if (window.ani.stage) {\n      //TODO call removeEventListener and refactor adding listener when animation should start\n      if (!window.ani.animationstarted) window.ani.enableAnimation(); //window.createjs.Ticker.addEventListener('tick', window.ani.stage);\n\n      window.ani.stage.play();\n    }\n  }\n  /**\n   * starts animation for 20 ms and stops it again\n   */\n  ;\n\n  _proto.stepAllAnimation = function stepAllAnimation() {\n    if (window.ani.stage) {\n      window.ani.stage.play();\n      setTimeout(function () {\n        window.ani.stage.stop();\n      }, 20);\n    }\n  }\n  /**\n   * Sets text content of object in Adobe Animate\n   * @param objname\n   * @param textvalue\n   */\n  ;\n\n  _proto.setText = function setText(objname, textvalue) {\n    if (window.ani.exportRoot) {\n      window.ani.exportRoot.children[0][objname].text = textvalue;\n    }\n  }\n  /**\n   * Uses values in e.detail.data and converts them to animation values\n   * @param e\n   */\n  ;\n\n  _proto.handleData = function handleData(e) {\n    var bindings = window.animatebindings;\n    if (!bindings) return;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(bindings), _step; !(_step = _iterator()).done;) {\n      var binding = _step.value;\n      //binding = {findex:findex,aname:aname,amin:amin,amax:amax,fmin:fmin,fmax:fmax}\n      var value = e.detail.data[binding.findex];\n\n      if (binding.aname.endsWith('_text')) {\n        this.setText(binding.aname, value);\n      } else if (binding.aname.endsWith('_anim')) {\n        var convertedvalue = binding.convertf2a(value);\n        this.setAnimationValue(binding.aname, convertedvalue);\n      }\n    }\n  };\n\n  return AnimateAdobe;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"src\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"width\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 800;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"height\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 600;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"name\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"cid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"fromid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class);\nexports.AnimateAdobe = AnimateAdobe;\n//# sourceMappingURL=animate-adobe.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtYWRvYmUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2Rpc3QvbmF0aXZlLW1vZHVsZXMvZWxlbWVudHMvYW5pbWF0ZS1hZG9iZS5qcz84ZmM1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5BbmltYXRlQWRvYmUgPSB2b2lkIDA7XG5cbnZhciBfYXVyZWxpYUZyYW1ld29yayA9IHJlcXVpcmUoXCJhdXJlbGlhLWZyYW1ld29ya1wiKTtcblxudmFyIGNyZWF0ZWpzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcImNyZWF0ZWpzLW1vZHVsZVwiKSk7XG5cbnZhciBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjUsIF9kZXNjcmlwdG9yNiwgX3RlbXA7XG5cbmZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpIHsgaWYgKHR5cGVvZiBXZWFrTWFwICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBudWxsOyB2YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpOyBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUgPSBmdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IHJldHVybiBjYWNoZTsgfTsgcmV0dXJuIGNhY2hlOyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIikgeyByZXR1cm4geyBcImRlZmF1bHRcIjogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCk7IGlmIChjYWNoZSAmJiBjYWNoZS5oYXMob2JqKSkgeyByZXR1cm4gY2FjaGUuZ2V0KG9iaik7IH0gdmFyIG5ld09iaiA9IHt9OyB2YXIgaGFzUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqW1wiZGVmYXVsdFwiXSA9IG9iajsgaWYgKGNhY2hlKSB7IGNhY2hlLnNldChvYmosIG5ld09iaik7IH0gcmV0dXJuIG5ld09iajsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdDsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyByZXR1cm4gZnVuY3Rpb24gKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyByZXR1cm4gaXQubmV4dC5iaW5kKGl0KTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuLyoqXG4gKiBFeHBvc2VzIGFuaW1hdGlvbiBleHBvcnRlZCBmcm9tIEFkb2JlIEFuaW1hdGUgdG8gSlMgQ3JlYXRlSlNcbiAqXG4gKi9cbnZhciBBbmltYXRlQWRvYmUgPSAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy89XCJaZWxlem9DZWxla1wiXG4gIC8vPVwiM0NDODExNTBFNzM1QUU0NDg1RDRCMERGNTI2RUI4QjRcIjtcbiAgZnVuY3Rpb24gQW5pbWF0ZUFkb2JlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNyY1wiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndpZHRoXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlaWdodFwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIF9kZXNjcmlwdG9yNCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNpZFwiLCBfZGVzY3JpcHRvcjUsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJmcm9taWRcIiwgX2Rlc2NyaXB0b3I2LCB0aGlzKTtcblxuICAgIHRoaXMuYW5pbWF0aW9uc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgLy8gICAgICAgIGNvbnNvbGUubG9nKCdhbmltYXRlLWFkb2JlIGNvbnN0cnVjdG9yKCknKTtcbiAgICB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLmhhbmRsZURhdGEoZSk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogYWRkcyBsaXN0ZW5lcnMgdG8gdGhlIGNvbXBvbmVudCAnZnJvbWlkJyBhbmQgbGlzdGVucyB0byBmb2xsb3dpbmdcbiAgICogJ2FuaW1hdGVzdGFydCcgc3RhcnRzIGFsbCBhbmltYXRpb25cbiAgICogJ2FuaW1hdGVzdG9wJyBzdG9wcyBhbGwgYW5pbWF0aW9uXG4gICAqICdmbWlkYXRhJyBoYW5kbGVzIGRhdGEgYW5kIHBlciBiaW5kMmFuaW1hdGlvbiBzdHJ1Y3R1cmUgc2V0cyBhbmltYXRpb24gdmFsdWVcbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gQW5pbWF0ZUFkb2JlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYmluZCA9IGZ1bmN0aW9uIGJpbmQoKSB7XG4gICAgaWYgKHRoaXMuZnJvbWlkKSB7XG4gICAgICB2YXIgZnJvbWVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mcm9taWQpO1xuXG4gICAgICBpZiAoZnJvbWVsKSB7XG4gICAgICAgIGZyb21lbC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRlc3RhcnQnLCB0aGlzLnN0YXJ0QWxsQW5pbWF0aW9uKTtcbiAgICAgICAgZnJvbWVsLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGVzdG9wJywgdGhpcy5zdG9wQWxsQW5pbWF0aW9uKTtcbiAgICAgICAgZnJvbWVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZtaWRhdGEnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTtcbiAgICAgICAgZnJvbWVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZtaXN0YXJ0JywgdGhpcy5lbmFibGVBbmltYXRpb24pO1xuICAgICAgICBmcm9tZWwuYWRkRXZlbnRMaXN0ZW5lcignZm1pc3RvcCcsIHRoaXMuZGlzYWJsZUFuaW1hdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdhZG9iZS1hbmltYXRlIGNvbXBvbmVudCBjYW5ub3QgZmluZCBjb250cm9sIGVsZW1lbnQgd2l0aCBpZDonLCB0aGlzLmZyb21pZCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5hdHRhY2hlZCA9IGZ1bmN0aW9uIGF0dGFjaGVkKCkge1xuICAgIC8vdGhpcy5hZG9iZWNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xuICAgIC8vdGhpcy5hbmltX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX2NvbnRhaW5lclwiKTtcbiAgICAvL3RoaXMuZG9tX292ZXJsYXlfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkb21fb3ZlcmxheV9jb250YWluZXJcIik7XG4gICAgLy8gICAgICBjb25zb2xlLmxvZygnYW5pbWF0ZS1hZG9iZSBhdHRhY2hlZCgpIHdpbmRvdy5hbmkuYWRvYmVjYW52YXMsd2luZG93LmFuaS5hbmltX2NvbnRhaW5lcix3aW5kb3cuYW5pLmRvbV9vdmVybGF5X2NvbnRhaW5lcicsdGhpcy5hZG9iZWNhbnZhcyx0aGlzLmFuaW1fY29udGFpbmVyLHRoaXMuZG9tX292ZXJsYXlfY29udGFpbmVyKTtcbiAgICAvL3NldCBnbG9iYWwgaW5zdGFuY2Ugb2YgY3JlYXRlanNcbiAgICBpZiAoIXdpbmRvdy5jcmVhdGVqcykgd2luZG93LmNyZWF0ZWpzID0gY3JlYXRlanM7IC8vbWFrZSB0aGlzIGNvbXBvbmVudCBnbG9iYWwgLSBkdWUgdG8gZnVydGhlciBjYWxsc1xuXG4gICAgdGhpcy5iaW5kaW5ncyA9IFtdO1xuICAgIHdpbmRvdy5hbmkgPSB0aGlzOyAvL2FkZHMgc2NyaXB0IGluIHNyYyBhdHRyaWJ1dGUgaW50byBET00gLSBzbyBicm93c2VyIHdpbGwgbG9hZCBpdCwgYWZ0ZXIgdGhhdCwgaW5pdEFkb2JlKCkgd2lsbCBiZSBjYWxsZWRcblxuICAgIHRoaXMuZ2V0U2NyaXB0KHRoaXMuc3JjLCB0aGlzLmluaXRBZG9iZSk7XG4gICAgdGhpcy5yYXRpbyA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDsgLy93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpO1xuICB9O1xuXG4gIF9wcm90by5tYWtlUmVzcG9uc2l2ZSA9IGZ1bmN0aW9uIG1ha2VSZXNwb25zaXZlKGlzUmVzcCwgcmVzcERpbSwgaXNTY2FsZSwgc2NhbGVUeXBlLCBkb21Db250YWluZXJzKSB7XG4gICAgLy9sZXQgbGFzdFc7IGxldCBsYXN0SDsgbGV0IGxhc3RTID0gMTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgd2luZG93LmFuaS5oYW5kbGVSZXNpemUpO1xuICAgIHdpbmRvdy5hbmkuaXNSZXNwID0gaXNSZXNwO1xuICAgIHdpbmRvdy5hbmkucmVzcERpbSA9IHJlc3BEaW07XG4gICAgd2luZG93LmFuaS5pc1NjYWxlID0gaXNTY2FsZTtcbiAgICB3aW5kb3cuYW5pLnNjYWxlVHlwZSA9IHNjYWxlVHlwZTtcbiAgICB3aW5kb3cuYW5pLmRvbUNvbnRhaW5lcnMgPSBkb21Db250YWluZXJzO1xuICAgIHdpbmRvdy5hbmkuaGFuZGxlUmVzaXplKCk7XG4gIH07XG5cbiAgX3Byb3RvLmhhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZSgpIHtcbiAgICB2YXIgdyA9IHdpbmRvdy5hbmkubGliLnByb3BlcnRpZXMud2lkdGg7XG4gICAgdmFyIGggPSB3aW5kb3cuYW5pLmxpYi5wcm9wZXJ0aWVzLmhlaWdodDtcbiAgICB2YXIgaXcgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB2YXIgaWggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICBpZiAod2luZG93LmFuaS5hZG9iZWNhbnZhcyAmJiB3aW5kb3cuYW5pLmFkb2JlY2FudmFzLnBhcmVudEVsZW1lbnQgJiYgd2luZG93LmFuaS5hZG9iZWNhbnZhcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQgJiYgd2luZG93LmFuaS5hZG9iZWNhbnZhcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgaXcgPSB3aW5kb3cuYW5pLmFkb2JlY2FudmFzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgaWggPSB3aW5kb3cuYW5pLmFkb2JlY2FudmFzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB9XG5cbiAgICBpaCA9IGl3IC8gKHcgLyBoKTsgLy9sZXQgaXcgPSB3aW5kb3cuaW5uZXJXaWR0aDsgbGV0IGloID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgdmFyIHBSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgdmFyIHhSYXRpbyA9IGl3IC8gdztcbiAgICB2YXIgeVJhdGlvID0gaWggLyBoO1xuICAgIHZhciBzUmF0aW8gPSAxO1xuXG4gICAgaWYgKHdpbmRvdy5hbmkuaXNSZXNwKSB7XG4gICAgICBpZiAod2luZG93LmFuaS5yZXNwRGltID09PSAnd2lkdGgnICYmIHdpbmRvdy5hbmkubGFzdFcgPT09IGl3IHx8IHdpbmRvdy5hbmkucmVzcERpbSA9PT0gJ2hlaWdodCcgJiYgd2luZG93LmFuaS5sYXN0SCA9PT0gaWgpIHtcbiAgICAgICAgc1JhdGlvID0gd2luZG93LmFuaS5sYXN0UztcbiAgICAgIH0gZWxzZSBpZiAoIXdpbmRvdy5hbmkuaXNTY2FsZSkge1xuICAgICAgICBpZiAoaXcgPCB3IHx8IGloIDwgaCkge1xuICAgICAgICAgIHNSYXRpbyA9IE1hdGgubWluKHhSYXRpbywgeVJhdGlvKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh3aW5kb3cuYW5pLnNjYWxlVHlwZSA9PT0gMSkge1xuICAgICAgICBzUmF0aW8gPSBNYXRoLm1pbih4UmF0aW8sIHlSYXRpbyk7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5hbmkuc2NhbGVUeXBlID09PSAyKSB7XG4gICAgICAgIHNSYXRpbyA9IE1hdGgubWF4KHhSYXRpbywgeVJhdGlvKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aW5kb3cuYW5pLmRvbUNvbnRhaW5lcnNbMF0ud2lkdGggPSB3ICogcFJhdGlvICogc1JhdGlvO1xuICAgIHdpbmRvdy5hbmkuZG9tQ29udGFpbmVyc1swXS5oZWlnaHQgPSBoICogcFJhdGlvICogc1JhdGlvO1xuICAgIHdpbmRvdy5hbmkuZG9tQ29udGFpbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHcgKiBzUmF0aW8gKyAncHgnO1xuICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGggKiBzUmF0aW8gKyAncHgnO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hbmkuc3RhZ2Uuc2NhbGVYID0gcFJhdGlvICogc1JhdGlvO1xuICAgIHdpbmRvdy5hbmkuc3RhZ2Uuc2NhbGVZID0gcFJhdGlvICogc1JhdGlvO1xuICAgIHdpbmRvdy5hbmkubGFzdFcgPSBpdztcbiAgICB3aW5kb3cuYW5pLmxhc3RIID0gaWg7XG4gICAgd2luZG93LmFuaS5sYXN0UyA9IHNSYXRpbztcbiAgICB3aW5kb3cuYW5pLnN0YWdlLnRpY2tPblVwZGF0ZSA9IGZhbHNlO1xuICAgIHdpbmRvdy5hbmkuc3RhZ2UudXBkYXRlKCk7XG4gICAgd2luZG93LmFuaS5zdGFnZS50aWNrT25VcGRhdGUgPSB0cnVlO1xuICB9IC8vaGFuZGxlUmVzaXplKCk7IC8vIEZpcnN0IGRyYXdcbiAgO1xuXG4gIF9wcm90by5kZXRhY2hlZCA9IGZ1bmN0aW9uIGRldGFjaGVkKCkge1xuICAgIC8vc3RvcCBhbmltYXRpb25cbiAgICB0aGlzLmRpc2FibGVBbmltYXRpb24oKTsgLy9yZW1vdmUgc2NyaXB0XG5cbiAgICB0aGlzLnJlbW92ZVNjcmlwdCh0aGlzLnNyYyk7IC8vZGVzdHJveSBiaW5kaW5nc1xuXG4gICAgdGhpcy5iaW5kaW5ncyA9IFtdOyAvL3JlbW92ZSBsaXN0ZW5lcnNcblxuICAgIHZhciBmcm9tZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCk7XG5cbiAgICBpZiAoZnJvbWVsKSB7XG4gICAgICBmcm9tZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0ZXN0YXJ0JywgdGhpcy5zdGFydEFsbEFuaW1hdGlvbik7XG4gICAgICBmcm9tZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0ZXN0b3AnLCB0aGlzLnN0b3BBbGxBbmltYXRpb24pO1xuICAgICAgZnJvbWVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZtaWRhdGEnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTtcbiAgICAgIGZyb21lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmbWlzdGFydCcsIHRoaXMuZW5hYmxlQW5pbWF0aW9uKTtcbiAgICAgIGZyb21lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmbWlzdG9wJywgdGhpcy5kaXNhYmxlQW5pbWF0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbW92ZVNjcmlwdCA9IGZ1bmN0aW9uIHJlbW92ZVNjcmlwdChzb3VyY2UpIHtcbiAgICB2YXIgc3JjID0gd2luZG93LmJkbEJhc2VIcmVmID8gd2luZG93LmJkbEJhc2VIcmVmICsgc291cmNlIDogc291cmNlO1xuICAgIHZhciB0YWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuXG4gICAgZm9yICh2YXIgaSA9IHRhZ3MubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgICAgLy9zZWFyY2ggYmFja3dhcmRzIHdpdGhpbiBub2RlbGlzdCBmb3IgbWF0Y2hpbmcgZWxlbWVudHMgdG8gcmVtb3ZlXG4gICAgICBpZiAodGFnc1tpXSAmJiB0YWdzW2ldLmdldEF0dHJpYnV0ZSgnc3JjJykgIT09IG51bGwgJiYgdGFnc1tpXS5nZXRBdHRyaWJ1dGUoJ3NyYycpLmluZGV4T2Yoc3JjKSAhPT0gLTEpIHtcbiAgICAgICAgdGFnc1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRhZ3NbaV0pO1xuICAgICAgfSAvL3JlbW92ZSBlbGVtZW50IGJ5IGNhbGxpbmcgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZCgpXG5cbiAgICB9XG4gIH0gLy9nZXQgc2NyaXB0IGVsZW1lbnQgYW5kIHJlZ2lzdGVycyAnb25sb2FkJyBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGUgc2NyaXB0IGlzIGxvYWRlZFxuICA7XG5cbiAgX3Byb3RvLmdldFNjcmlwdCA9IGZ1bmN0aW9uIGdldFNjcmlwdChzb3VyY2UsIGNhbGxiYWNrKSB7XG4gICAgLy9jaGVjayB3aGV0aGVyIHRoZSBzY3JpcHQgaXMgbm90IGFscmVhZHkgdGhlcmVcbiAgICBpZiAoQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JykpLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHguZ2V0QXR0cmlidXRlKCdzcmMnKSA9PT0gc291cmNlO1xuICAgIH0pLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBbmltYXRlQWRvYmUuZ2V0U2NyaXB0KCkgV0FSTklORywgc2NyaXB0IGlzIGFscmVhZHkgYWRkZWQgaW50byBET006Jywgc291cmNlKTsgLy9kbyBjYWxsYmFjaz9cblxuICAgICAgaWYgKGNhbGxiYWNrKSBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vY29uc29sZS5sb2coJ2FuaW1hdGVhZG9iZSBnZXRzY3JpcHQoKScpO1xuXG5cbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgdmFyIHByaW9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xuICAgIHNjcmlwdC5hc3luYyA9IDE7IC8vc2V0IHRoYXQgYWZ0ZXIgb25sb2FkIGEgY2FsbGJhY2sgd2lsbCBiZSBleGVjdXRlZFxuXG4gICAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXNjcmlwdC5yZWFkeVN0YXRlIHx8IC9sb2FkZWR8Y29tcGxldGUvLnRlc3Qoc2NyaXB0LnJlYWR5U3RhdGUpKSB7XG4gICAgICAgIHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICBzY3JpcHQgPSB1bmRlZmluZWQ7IC8vIHRyeSB0byBpbnNlcnQgc2NyaXB0IGJ5IG90aGVyIGFwcCBmb3IgcHJldmlld2luZyAtIHNjcmlwdHMgbWlnaHQgYmUgaW5zZXJ0ZWQgaW50byBET01cblxuICAgICAgICBpZiAod2luZG93LmVkaXRvcmFwaSAmJiB0eXBlb2Ygd2luZG93LmVkaXRvcmFwaS5pbnNlcnRTY3JpcHRCeUlkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2luc2VydGluZyBzY3JpcHQgYnkgdGhpcmRwYXJ0eSBhcGknKTtcbiAgICAgICAgICB3aW5kb3cuZWRpdG9yYXBpLmluc2VydFNjcmlwdEJ5SWQoc291cmNlKTtcbiAgICAgICAgfSAvLyBkbyBjYWxsYmFjayBhZnRlciAxc1xuXG5cbiAgICAgICAgaWYgKGNhbGxiYWNrKSBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoXywgaXNBYm9ydCkge1xuICAgICAgaWYgKGlzQWJvcnQgfHwgIXNjcmlwdC5yZWFkeVN0YXRlIHx8IC9sb2FkZWR8Y29tcGxldGUvLnRlc3Qoc2NyaXB0LnJlYWR5U3RhdGUpKSB7XG4gICAgICAgIHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICBzY3JpcHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghaXNBYm9ydCAmJiBjYWxsYmFjaykgc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG4gICAgICB9XG4gICAgfTsgLy9zZXQgc2NyaXB0IHNvdXJjZSAtIGlmIGJhc2UgdXJsIGlzIGRlZmluZWQgdGhlbiBiYXNlIGlzIHByZWZpeGVkXG5cblxuICAgIHNjcmlwdC5zcmMgPSB3aW5kb3cuYmRsQmFzZUhyZWYgPyB3aW5kb3cuYmRsQmFzZUhyZWYgKyBzb3VyY2UgOiBzb3VyY2U7IC8vYWRkIGN1c3RvbSBhbmltYXRlIHNjcmlwdCBpbnRvIERPTSAtIHRoZSBvbmxvYWQgd2lsbCBiZSBjYWxsZWQgdGhlblxuXG4gICAgcHJpb3IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc2NyaXB0LCBwcmlvcik7XG4gIH0gLy90aGlzIGlzIGNhbGxlZCBhZnRlciBhbmltYXRlIHNjcmlwdCBpcyBsb2FkZWQgaW50byBET00sIHNvIGdsb2JhbCBBZG9iZUFuIGlzIGF2YWlsYWJsZVxuICA7XG5cbiAgX3Byb3RvLmluaXRBZG9iZSA9IGZ1bmN0aW9uIGluaXRBZG9iZSgpIHtcbiAgICAvL3Rha2UgdGhlIGZpcnN0IGNvbXBvc2l0aW9uXG4gICAgaWYgKCF3aW5kb3cuYW5pLmNpZCkge1xuICAgICAgd2luZG93LmFuaS5jaWQgPSBPYmplY3Qua2V5cyh3aW5kb3cuQWRvYmVBbi5jb21wb3NpdGlvbnMpWzBdOyAvL2dldCB0aGUgZmlyc3QgY29tcG9zaXRpb25cbiAgICB9XG5cbiAgICB3aW5kb3cuYW5pLmNvbXAgPSB3aW5kb3cuQWRvYmVBbi5nZXRDb21wb3NpdGlvbih3aW5kb3cuYW5pLmNpZCk7IC8vbGV0IGxpYj1jb21wLmdldExpYnJhcnkoKTtcbiAgICAvL2dldCBsaWJyYXJ5IHRvIG1hbmlwdWxhdGUgYW5kIG90aGVyIGNvbXBvbmVudHNcblxuICAgIHdpbmRvdy5hbmkubGliID0gd2luZG93LmFuaS5jb21wLmdldExpYnJhcnkoKTtcbiAgICB3aW5kb3cuYW5pLnNzID0gd2luZG93LmFuaS5jb21wLmdldFNwcml0ZVNoZWV0KCk7XG4gICAgd2luZG93LmFuaS5leHBvcnRSb290ID0gbmV3IHdpbmRvdy5hbmkubGliW3dpbmRvdy5hbmkubmFtZV0oKTsgLy9zZXQgc3RhZ2UgdG8gYmUgYmluZCBpbnRvIHJlZj0nYWRvYmVjYW52YXMnIERPTSBlbGVtZW50IG9mIHRoaXMgY29tcG9uZW50XG5cbiAgICB3aW5kb3cuYW5pLnN0YWdlID0gbmV3IHdpbmRvdy5hbmkubGliLlN0YWdlKHdpbmRvdy5hbmkuYWRvYmVjYW52YXMpO1xuICAgIHdpbmRvdy5zdGFnZSA9IHdpbmRvdy5hbmkuc3RhZ2U7IC8vUmVnaXN0ZXJzIHRoZSBcInRpY2tcIiBldmVudCBsaXN0ZW5lci5cblxuICAgIHZhciBmblN0YXJ0QW5pbWF0aW9uID0gZnVuY3Rpb24gZm5TdGFydEFuaW1hdGlvbigpIHtcbiAgICAgIHdpbmRvdy5hbmkuc3RhZ2UuYWRkQ2hpbGQod2luZG93LmFuaS5leHBvcnRSb290KTsgLy9ieSBkZWZhdWx0IHRpY2tlciB1c2VzIHNldFRpbWVvdXQgQVBJLCBmb3JjZSB0byB1c2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIEFQSVxuXG4gICAgICB3aW5kb3cuY3JlYXRlanMuVGlja2VyLnRpbWluZ01vZGUgPSB3aW5kb3cuY3JlYXRlanMuVGlja2VyLlJBRl9TWU5DSEVEO1xuICAgICAgd2luZG93LmNyZWF0ZWpzLlRpY2tlci5mcmFtZXJhdGUgPSB3aW5kb3cuYW5pLmxpYi5wcm9wZXJ0aWVzLmZwczsgLy93aW5kb3cuY3JlYXRlanMuVGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpY2snLCB3aW5kb3cuYW5pLnN0YWdlKTtcblxuICAgICAgd2luZG93LmFuaS5lbmFibGVBbmltYXRpb24oKTtcbiAgICB9OyAvL0NvZGUgdG8gc3VwcG9ydCBoaWRwaSBzY3JlZW5zIGFuZCByZXNwb25zaXZlIHNjYWxpbmcuXG4gICAgLy93aW5kb3cuQWRvYmVBbi5tYWtlUmVzcG9uc2l2ZSh0cnVlLCAnYm90aCcsIHRydWUsIDEsIFt3aW5kb3cuYW5pLmFkb2JlY2FudmFzLCB3aW5kb3cuYW5pLmFuaW1fY29udGFpbmVyLCB3aW5kb3cuYW5pLmRvbV9vdmVybGF5X2NvbnRhaW5lcl0pO1xuXG5cbiAgICB3aW5kb3cuYW5pLm1ha2VSZXNwb25zaXZlKHRydWUsICdib3RoJywgdHJ1ZSwgMSwgW3dpbmRvdy5hbmkuYWRvYmVjYW52YXMsIHdpbmRvdy5hbmkuYW5pbV9jb250YWluZXIsIHdpbmRvdy5hbmkuZG9tX292ZXJsYXlfY29udGFpbmVyXSk7XG4gICAgd2luZG93LkFkb2JlQW4uY29tcG9zaXRpb25Mb2FkZWQod2luZG93LmFuaS5saWIucHJvcGVydGllcy5pZCk7IC8vd2luZG93LmFuaS5oYW5kbGVSZXNpemUoKTtcblxuICAgIGZuU3RhcnRBbmltYXRpb24oKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vZ2V0IGFsbCBvYmplY3RzIGZyb20gYW5pbWF0aW9uXG4gICAgICB3aW5kb3cuYW5pLm9ianMgPSBPYmplY3Qua2V5cyh3aW5kb3cuYW5pLmV4cG9ydFJvb3QuY2hpbGRyZW5bMF0pOyAvL2ZpbHRlciBvYmplY3RzIGJ5IHB1cnBvc2UgLSBzbyBpdCBjYW4gYmUgYmluZCB0byBtb2RlbCB2YWx1ZVxuXG4gICAgICB3aW5kb3cuYW5pLmFuaW1vYmpzID0gd2luZG93LmFuaS5vYmpzLmZpbHRlcihmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gbmFtZS5lbmRzV2l0aCgnX2FuaW0nKTtcbiAgICAgIH0pO1xuICAgICAgd2luZG93LmFuaS50ZXh0b2JqcyA9IHdpbmRvdy5hbmkub2Jqcy5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUuZW5kc1dpdGgoJ190ZXh0Jyk7XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5hbmkucGxheW9ianMgPSB3aW5kb3cuYW5pLm9ianMuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuYW1lLmVuZHNXaXRoKCdfcGxheScpO1xuICAgICAgfSk7IC8vc3RvcCBhbGwgYW5pbWF0aW9uXG5cbiAgICAgIHdpbmRvdy5hbmkuc3RvcEFsbEFuaW1hdGlvbigpOyAvL2Rpc2FibGUgYW5pbWF0aW9uIHRpY2tlclxuXG4gICAgICB3aW5kb3cuYW5pLmRpc2FibGVBbmltYXRpb24oKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxuICAvKipcbiAgICogc3RhcnRzIGFuaW1hdGlvbiBvZiBwYXJ0aWN1bGFyIG9iamVjdFxuICAgKiBAcGFyYW0gb2JqbmFtZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zdGFydEFuaW1hdGlvbiA9IGZ1bmN0aW9uIHN0YXJ0QW5pbWF0aW9uKG9iam5hbWUpIHtcbiAgICBpZiAodGhpcy5leHBvcnRSb290ICYmIHRoaXMuZXhwb3J0Um9vdC5jaGlsZHJlblswXVtvYmpuYW1lXSkge1xuICAgICAgdGhpcy5leHBvcnRSb290LmNoaWxkcmVuWzBdW29iam5hbWVdLnBsYXkoKTtcbiAgICB9IC8vdGhpcy50aW1lbGluZS5hZGRUd2VlbihjanMuVHdlZW4uZ2V0KHRoaXMuaW5zdGFuY2UpLnRvKHthbHBoYToxfSwxNTkpLndhaXQoMSkpO1xuXG4gIH1cbiAgLyoqXG4gICAqIHN0b3BzIGFuaW1hdGlvbiBvZiBwYXJ0aWN1bGFyIG9iamVjdFxuICAgKiBAcGFyYW0gb2JqbmFtZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zdG9wQW5pbWF0aW9uID0gZnVuY3Rpb24gc3RvcEFuaW1hdGlvbihvYmpuYW1lKSB7XG4gICAgaWYgKHRoaXMuZXhwb3J0Um9vdCAmJiB0aGlzLmV4cG9ydFJvb3QuY2hpbGRyZW5bMF1bb2JqbmFtZV0pIHtcbiAgICAgIHRoaXMuZXhwb3J0Um9vdC5jaGlsZHJlblswXVtvYmpuYW1lXS5zdG9wKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBzZXQgdGhlIGFuaW1hdGlvbiB2YWx1ZSBvZiB0aGUgb2JqZWN0IG9iam5hbWVcbiAgICogQHBhcmFtIG9iam5hbWVcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldEFuaW1hdGlvblZhbHVlID0gZnVuY3Rpb24gc2V0QW5pbWF0aW9uVmFsdWUob2JqbmFtZSwgdmFsdWUpIHtcbiAgICAvL2NvbnNvbGUubG9nKCdhZG9iZS1hbmltYXRlKCkgc2V0dGluZyB3aW5kb3cuYW5pLmV4cG9ydFJvb3QuY2hpbGRyZW5bMF1bJyArIG9iam5hbWUgKyAnXS5nb3RvQW5kU3RvcCgnICsgdmFsdWUgKyAnKScpO1xuICAgIGlmICh3aW5kb3cuYW5pLmV4cG9ydFJvb3QpIHtcbiAgICAgIC8vcmVzb2x2ZSBwYXRoIGZyb20gc3RyaW5nXG4gICAgICB2YXIgcmVzb2x2ZVBhdGggPSBmdW5jdGlvbiByZXNvbHZlUGF0aChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gcGF0aC5zcGxpdCgnLicpLnJlZHVjZShmdW5jdGlvbiAobywgcCkge1xuICAgICAgICAgIHJldHVybiBvID8gb1twXSA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfSwgb2JqZWN0KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBteW9iaiA9IHJlc29sdmVQYXRoKHdpbmRvdy5hbmkuZXhwb3J0Um9vdC5jaGlsZHJlblswXSwgb2JqbmFtZSwgdW5kZWZpbmVkKTtcbiAgICAgIGlmIChteW9iaikgbXlvYmouZ290b0FuZFN0b3AoTWF0aC5mbG9vcih2YWx1ZSkpOyAvL3dpbmRvdy5hbmkuZXhwb3J0Um9vdC5jaGlsZHJlblswXVtvYmpuYW1lXS5nb3RvQW5kU3RvcCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBzdG9wcyBhbGwgYW5pbWF0aW9uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnN0b3BBbGxBbmltYXRpb24gPSBmdW5jdGlvbiBzdG9wQWxsQW5pbWF0aW9uKCkge1xuICAgIGlmICh3aW5kb3cuYW5pLnN0YWdlKSB7XG4gICAgICB3aW5kb3cuYW5pLnN0YWdlLnN0b3AoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmRpc2FibGVBbmltYXRpb24gPSBmdW5jdGlvbiBkaXNhYmxlQW5pbWF0aW9uKCkge1xuICAgIHdpbmRvdy5hbmkuYW5pbWF0aW9uc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHdpbmRvdy5hbmkuc3RhZ2UpIHtcbiAgICAgIHdpbmRvdy5jcmVhdGVqcy5UaWNrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGljaycsIHdpbmRvdy5hbmkuc3RhZ2UpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZW5hYmxlQW5pbWF0aW9uID0gZnVuY3Rpb24gZW5hYmxlQW5pbWF0aW9uKCkge1xuICAgIGlmICh3aW5kb3cuYW5pLnN0YWdlKSB7XG4gICAgICB3aW5kb3cuY3JlYXRlanMuVGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpY2snLCB3aW5kb3cuYW5pLnN0YWdlKTtcbiAgICB9XG5cbiAgICB3aW5kb3cuYW5pLmFuaW1hdGlvbnN0YXJ0ZWQgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBzdGFydHMgYWxsIGFuaW1hdGlvblxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zdGFydEFsbEFuaW1hdGlvbiA9IGZ1bmN0aW9uIHN0YXJ0QWxsQW5pbWF0aW9uKCkge1xuICAgIGlmICh3aW5kb3cuYW5pLnN0YWdlKSB7XG4gICAgICAvL1RPRE8gY2FsbCByZW1vdmVFdmVudExpc3RlbmVyIGFuZCByZWZhY3RvciBhZGRpbmcgbGlzdGVuZXIgd2hlbiBhbmltYXRpb24gc2hvdWxkIHN0YXJ0XG4gICAgICBpZiAoIXdpbmRvdy5hbmkuYW5pbWF0aW9uc3RhcnRlZCkgd2luZG93LmFuaS5lbmFibGVBbmltYXRpb24oKTsgLy93aW5kb3cuY3JlYXRlanMuVGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpY2snLCB3aW5kb3cuYW5pLnN0YWdlKTtcblxuICAgICAgd2luZG93LmFuaS5zdGFnZS5wbGF5KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBzdGFydHMgYW5pbWF0aW9uIGZvciAyMCBtcyBhbmQgc3RvcHMgaXQgYWdhaW5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uc3RlcEFsbEFuaW1hdGlvbiA9IGZ1bmN0aW9uIHN0ZXBBbGxBbmltYXRpb24oKSB7XG4gICAgaWYgKHdpbmRvdy5hbmkuc3RhZ2UpIHtcbiAgICAgIHdpbmRvdy5hbmkuc3RhZ2UucGxheSgpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5hbmkuc3RhZ2Uuc3RvcCgpO1xuICAgICAgfSwgMjApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0cyB0ZXh0IGNvbnRlbnQgb2Ygb2JqZWN0IGluIEFkb2JlIEFuaW1hdGVcbiAgICogQHBhcmFtIG9iam5hbWVcbiAgICogQHBhcmFtIHRleHR2YWx1ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dChvYmpuYW1lLCB0ZXh0dmFsdWUpIHtcbiAgICBpZiAod2luZG93LmFuaS5leHBvcnRSb290KSB7XG4gICAgICB3aW5kb3cuYW5pLmV4cG9ydFJvb3QuY2hpbGRyZW5bMF1bb2JqbmFtZV0udGV4dCA9IHRleHR2YWx1ZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVzZXMgdmFsdWVzIGluIGUuZGV0YWlsLmRhdGEgYW5kIGNvbnZlcnRzIHRoZW0gdG8gYW5pbWF0aW9uIHZhbHVlc1xuICAgKiBAcGFyYW0gZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVEYXRhID0gZnVuY3Rpb24gaGFuZGxlRGF0YShlKSB7XG4gICAgdmFyIGJpbmRpbmdzID0gd2luZG93LmFuaW1hdGViaW5kaW5ncztcbiAgICBpZiAoIWJpbmRpbmdzKSByZXR1cm47XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKGJpbmRpbmdzKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgIHZhciBiaW5kaW5nID0gX3N0ZXAudmFsdWU7XG4gICAgICAvL2JpbmRpbmcgPSB7ZmluZGV4OmZpbmRleCxhbmFtZTphbmFtZSxhbWluOmFtaW4sYW1heDphbWF4LGZtaW46Zm1pbixmbWF4OmZtYXh9XG4gICAgICB2YXIgdmFsdWUgPSBlLmRldGFpbC5kYXRhW2JpbmRpbmcuZmluZGV4XTtcblxuICAgICAgaWYgKGJpbmRpbmcuYW5hbWUuZW5kc1dpdGgoJ190ZXh0JykpIHtcbiAgICAgICAgdGhpcy5zZXRUZXh0KGJpbmRpbmcuYW5hbWUsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYmluZGluZy5hbmFtZS5lbmRzV2l0aCgnX2FuaW0nKSkge1xuICAgICAgICB2YXIgY29udmVydGVkdmFsdWUgPSBiaW5kaW5nLmNvbnZlcnRmMmEodmFsdWUpO1xuICAgICAgICB0aGlzLnNldEFuaW1hdGlvblZhbHVlKGJpbmRpbmcuYW5hbWUsIGNvbnZlcnRlZHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEFuaW1hdGVBZG9iZTtcbn0oKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic3JjXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwid2lkdGhcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDgwMDtcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDYwMDtcbiAgfVxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJuYW1lXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjUgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2lkXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjYgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZnJvbWlkXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pKSwgX2NsYXNzKTtcbmV4cG9ydHMuQW5pbWF0ZUFkb2JlID0gQW5pbWF0ZUFkb2JlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0ZS1hZG9iZS5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-adobe\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-adobe-control":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-adobe-control.js ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.AnimateAdobeControl = void 0;\n\nvar _aureliaTemplating = __webpack_require__(/*! aurelia-templating */ \"SkM8\");\n\nvar _class, _descriptor, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nvar AnimateAdobeControl = (_class = (_temp = /*#__PURE__*/function () {\n  function AnimateAdobeControl() {\n    _initializerDefineProperty(this, \"id\", _descriptor, this);\n\n    this.animationstarted = false;\n    this.frame = 0;\n  }\n\n  var _proto = AnimateAdobeControl.prototype;\n\n  _proto.startstop = function startstop() {\n    console.log('animateadobecontrol startstop()', this);\n    this.animationstarted = !this.animationstarted;\n    var eventname;\n    if (this.animationstarted) eventname = 'animatestart';else eventname = 'animatestop';\n    var event = new CustomEvent(eventname, {\n      detail: {\n        time: this.frame\n      }\n    }); //send start signal on frame 0\n    //dispatch event - it should be listened by some other component\n\n    document.getElementById(this.id).dispatchEvent(event);\n  };\n\n  _proto.step = function step() {\n    var _this = this;\n\n    if (!this.animationstarted) this.startstop();\n    setTimeout(function () {\n      _this.startstop();\n    }, 50);\n  };\n\n  return AnimateAdobeControl;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"id\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class);\nexports.AnimateAdobeControl = AnimateAdobeControl;\n//# sourceMappingURL=animate-adobe-control.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtYWRvYmUtY29udHJvbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9hbmltYXRlLWFkb2JlLWNvbnRyb2wuanM/ZDRiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuQW5pbWF0ZUFkb2JlQ29udHJvbCA9IHZvaWQgMDtcblxudmFyIF9hdXJlbGlhVGVtcGxhdGluZyA9IHJlcXVpcmUoXCJhdXJlbGlhLXRlbXBsYXRpbmdcIik7XG5cbnZhciBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG52YXIgQW5pbWF0ZUFkb2JlQ29udHJvbCA9IChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBbmltYXRlQWRvYmVDb250cm9sKCkge1xuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWRcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgdGhpcy5hbmltYXRpb25zdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5mcmFtZSA9IDA7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQW5pbWF0ZUFkb2JlQ29udHJvbC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnN0YXJ0c3RvcCA9IGZ1bmN0aW9uIHN0YXJ0c3RvcCgpIHtcbiAgICBjb25zb2xlLmxvZygnYW5pbWF0ZWFkb2JlY29udHJvbCBzdGFydHN0b3AoKScsIHRoaXMpO1xuICAgIHRoaXMuYW5pbWF0aW9uc3RhcnRlZCA9ICF0aGlzLmFuaW1hdGlvbnN0YXJ0ZWQ7XG4gICAgdmFyIGV2ZW50bmFtZTtcbiAgICBpZiAodGhpcy5hbmltYXRpb25zdGFydGVkKSBldmVudG5hbWUgPSAnYW5pbWF0ZXN0YXJ0JztlbHNlIGV2ZW50bmFtZSA9ICdhbmltYXRlc3RvcCc7XG4gICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50bmFtZSwge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIHRpbWU6IHRoaXMuZnJhbWVcbiAgICAgIH1cbiAgICB9KTsgLy9zZW5kIHN0YXJ0IHNpZ25hbCBvbiBmcmFtZSAwXG4gICAgLy9kaXNwYXRjaCBldmVudCAtIGl0IHNob3VsZCBiZSBsaXN0ZW5lZCBieSBzb21lIG90aGVyIGNvbXBvbmVudFxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH07XG5cbiAgX3Byb3RvLnN0ZXAgPSBmdW5jdGlvbiBzdGVwKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoIXRoaXMuYW5pbWF0aW9uc3RhcnRlZCkgdGhpcy5zdGFydHN0b3AoKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnN0YXJ0c3RvcCgpO1xuICAgIH0sIDUwKTtcbiAgfTtcblxuICByZXR1cm4gQW5pbWF0ZUFkb2JlQ29udHJvbDtcbn0oKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaWRcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pKSwgX2NsYXNzKTtcbmV4cG9ydHMuQW5pbWF0ZUFkb2JlQ29udHJvbCA9IEFuaW1hdGVBZG9iZUNvbnRyb2w7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltYXRlLWFkb2JlLWNvbnRyb2wuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-adobe-control\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-adobe-control.html":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-adobe-control.html ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n    <button class=\\\"w3-button w3-theme\\\" click.delegate=\\\"startstop()\\\" title=\\\"Start/Stop simulation\\\"><i class.bind=\\\"animationstarted? 'fa fa-stop':'fa fa-play'\\\"></i> &nbsp;</button>\\n    <button class=\\\"w3-button w3-theme\\\" click.delegate=\\\"step()\\\" title=\\\"Do simulation step\\\"><i class=\\\"fa fa-step-forward\\\"></i> &nbsp;</button>\\n</template>\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtYWRvYmUtY29udHJvbC5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2FuaW1hdGUtYWRvYmUtY29udHJvbC5odG1sP2JjMmMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG4gICAgPGJ1dHRvbiBjbGFzcz1cXFwidzMtYnV0dG9uIHczLXRoZW1lXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwic3RhcnRzdG9wKClcXFwiIHRpdGxlPVxcXCJTdGFydC9TdG9wIHNpbXVsYXRpb25cXFwiPjxpIGNsYXNzLmJpbmQ9XFxcImFuaW1hdGlvbnN0YXJ0ZWQ/ICdmYSBmYS1zdG9wJzonZmEgZmEtcGxheSdcXFwiPjwvaT4gJm5ic3A7PC9idXR0b24+XFxuICAgIDxidXR0b24gY2xhc3M9XFxcInczLWJ1dHRvbiB3My10aGVtZVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInN0ZXAoKVxcXCIgdGl0bGU9XFxcIkRvIHNpbXVsYXRpb24gc3RlcFxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXN0ZXAtZm9yd2FyZFxcXCI+PC9pPiAmbmJzcDs8L2J1dHRvbj5cXG48L3RlbXBsYXRlPlwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-adobe-control.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-adobe.html":
/*!***********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-adobe.html ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template bindable=\\\"width,height\\\">\\n    <div ref=\\\"anim_container\\\" style=\\\"background-color:rgba(255, 255, 255, 1.00); width:${width}px; height:${height}px\\\"-->\\n        <canvas ref=\\\"adobecanvas\\\" width=\\\"${width}\\\" height=\\\"${height}\\\" style=\\\"display: block; background-color:rgba(255, 255, 255, 1.00);\\\"></canvas>\\n        <div ref=\\\"dom_overlay_container\\\" style=\\\"pointer-events:none; overflow:hidden; width:${width}px; height:${height}px; position: absolute; left: 0px; top: 0px; display: block;\\\">\\n        </div>\\n    </div>\\n</template>\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtYWRvYmUuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9hbmltYXRlLWFkb2JlLmh0bWw/YmFkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlIGJpbmRhYmxlPVxcXCJ3aWR0aCxoZWlnaHRcXFwiPlxcbiAgICA8ZGl2IHJlZj1cXFwiYW5pbV9jb250YWluZXJcXFwiIHN0eWxlPVxcXCJiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LCAyNTUsIDI1NSwgMS4wMCk7IHdpZHRoOiR7d2lkdGh9cHg7IGhlaWdodDoke2hlaWdodH1weFxcXCItLT5cXG4gICAgICAgIDxjYW52YXMgcmVmPVxcXCJhZG9iZWNhbnZhc1xcXCIgd2lkdGg9XFxcIiR7d2lkdGh9XFxcIiBoZWlnaHQ9XFxcIiR7aGVpZ2h0fVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrOyBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LCAyNTUsIDI1NSwgMS4wMCk7XFxcIj48L2NhbnZhcz5cXG4gICAgICAgIDxkaXYgcmVmPVxcXCJkb21fb3ZlcmxheV9jb250YWluZXJcXFwiIHN0eWxlPVxcXCJwb2ludGVyLWV2ZW50czpub25lOyBvdmVyZmxvdzpoaWRkZW47IHdpZHRoOiR7d2lkdGh9cHg7IGhlaWdodDoke2hlaWdodH1weDsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyBkaXNwbGF5OiBibG9jaztcXFwiPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbjwvdGVtcGxhdGU+XCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-adobe.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-control":
/*!***********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-control.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.AnimateControl = void 0;\n\nvar _aureliaFramework = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _temp;\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n/**\n * controls animation\n */\nvar AnimateControl = (_class = (_temp = /*#__PURE__*/function () {\n  //unique id of this component\n  //id of fmi - to listen if segmentcond is specified\n  //0-100\n  function AnimateControl() {\n    var _this = this;\n\n    _initializerDefineProperty(this, \"id\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"fromid\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"speedfactor\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"segments\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"simsegments\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"segmentlabels\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"controlfmi\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"segmentcond\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"allowcontinuous\", _descriptor9, this);\n\n    this.continuousanimation = false;\n    this.animationstarted = false;\n    this.frame = 0;\n    this.aframe = 0;\n    this.currentsegment = 0;\n    this.animationframe = 0;\n    this.playsegments = false;\n    this.currentsegmentlabel = '';\n\n    this.handleValueChange = function (e) {\n      //get data - what is\n      //console.log('bdlanimatecontrol handleValuechange', e);\n      var value = e.detail.data[_this.segmentconditions[_this.currentsegment].refid];\n\n      _this.processValue(value);\n    };\n  }\n\n  var _proto = AnimateControl.prototype;\n\n  _proto.bind = function bind() {\n    if (this.speedfactor) {\n      if (typeof this.speedfactor === 'string') this.speedfactor = parseInt(this.speedfactor, 10);\n      if (this.speedfactor <= 0 || this.speedfactor > 100) this.speedfactor = 100;\n    } //segments are int delimited by ;\n\n\n    if (this.segments) {\n      this.playsegments = true;\n      this.segmentitems = this.segments.split(';').map(function (yy) {\n        return parseInt(yy, 10);\n      });\n\n      if (this.simsegments) {\n        this.simsegmentitems = this.simsegments.split(';').map(function (y2) {\n          return parseInt(y2, 10);\n        });\n      }\n    }\n\n    if (this.segmentlabels) {\n      this.segmentlabelarray = this.segmentlabels.split(';');\n    }\n\n    var isgreater = function isgreater(a, b) {\n      return a > b;\n    };\n\n    var isequal = function isequal(a, b) {\n      return a === b;\n    };\n\n    var islower = function islower(a, b) {\n      return a < b;\n    }; //console.log('bdlanimatecontro segmentcond1:', this.segmentcond);\n\n\n    this.eventprefix = 'animate'; //segment condition is defined - then segments are determined by fmi data sent by 'fromid' component\n\n    if (this.segmentcond) {\n      this.eventprefix = 'fmi';\n      this.segmentconditions = [];\n      var scs = this.segmentcond.split(';');\n\n      for (var _iterator = _createForOfIteratorHelperLoose(scs), _step; !(_step = _iterator()).done;) {\n        var sc = _step.value;\n        var scitem = sc.split(','); // [0] is refid, [1] is gt,lt,eq [2] is value in real\n\n        var scf = islower;\n        if (scitem[1] === 'gt') scf = isgreater;else if (scitem[1] === 'eq') scf = isequal;\n        var scitem2 = {\n          refid: scitem[0],\n          relation: scf,\n          value: parseFloat(scitem[2])\n        };\n        this.segmentconditions.push(scitem2);\n      } //console.log('bdlanimatecontrol segmentcond', this.segmentconditions);\n      //console.log('bdlanimatecontrol fromid', this.fromid);\n      //  if (this.fromid) {document.getElementById(this.fromid).addEventListener('fmidata', this.handleValueChange);}\n\n    }\n\n    if (typeof this.allowcontinuous === 'string') {\n      this.allowcontinuous = this.allowcontinuous === 'true';\n    }\n  };\n\n  _proto.attached = function attached() {\n    //console.log('bdlanimatecontrol attached fromid', this.fromid);\n    if (this.fromid) {\n      document.getElementById(this.fromid).addEventListener('fmidata', this.handleValueChange);\n    }\n  };\n\n  _proto.detached = function detached() {\n    if (this.fromid && document.getElementById(this.fromid)) document.getElementById(this.fromid).removeEventListener('fmidata', this.handleValueChange);\n  } //fires fmistart/fmistop events and starts/stops continuous animation\n  ;\n\n  _proto.startstop = function startstop() {\n    this.animationstarted = !this.animationstarted;\n\n    if (!this.animationstarted) {\n      //stop animation\n      //this.animationstarted = false;\n      //console.log('Canceling animation, this, this.request:', this, this.request);\n      cancelAnimationFrame(this.request); //create custom event\n\n      var event = new CustomEvent(this.eventprefix + 'stop', {\n        detail: {\n          time: this.frame\n        }\n      }); //dispatch event - it should be listened by some other component\n\n      document.getElementById(this.id).dispatchEvent(event);\n    } else {\n      //this.animationstarted = true;\n      var that = this; //console.log('startstop() animate using requestAnimationFrame');\n      //animate using requestAnimationFrame\n\n      var performAnimation = function performAnimation() {\n        //send event to do animation\n        //console.log('performAnimation()');\n        that.step(); //decide whether and how to schedule next animation frame\n\n        if (that.playsegments && that.stopframe > 0 && that.frame > that.stopframe) that.stopsegment(that, performAnimation);else that.scheduleAnimation(that, performAnimation);\n      };\n\n      this.request = requestAnimationFrame(performAnimation);\n    }\n  };\n\n  _proto.stopsegment = function stopsegment(that, performAnimation) {\n    that.animationstarted = false;\n    that.currentsegment++; //if last segment reninit frame from begining\n\n    if (that.currentsegment >= that.segmentitems.length) {\n      that.currentsegment = 0;\n      that.frame = 0;\n    }\n\n    if (that.continuousanimation) that.scheduleAnimation(that, performAnimation);\n  };\n\n  _proto.scheduleAnimation = function scheduleAnimation(that, performAnimation) {\n    // speedfactor is defined - then requestAnimationFrame is scheduled for later\n    if (that.animationstarted) {\n      if (that.speedfactor) {\n        //requestAnimationFrame is scheduled for later\n        setTimeout(function () {\n          return that.request = requestAnimationFrame(performAnimation);\n        }, 1000 / (60 * that.speedfactor / 100)); //60fps is normal - calculated as 1000 ms / framespersecond\n      } else {\n        //requestAnimationFrame is scheduled immediately\n        that.request = requestAnimationFrame(performAnimation);\n      } //this.step();\n\n    }\n  } //creates customevent and sends time, relativetime: rt in segment, segment - number of segment\n  ;\n\n  _proto.step = function step() {\n    this.countrelativeframe(this.frame); //create custom event\n\n    var event = this.frame === 0 ? new CustomEvent(this.eventprefix + 'start', {\n      detail: {\n        time: this.frame,\n        relativetime: this.relativeframe,\n        segment: this.currentsegment\n      }\n    }) //send start signal on frame 0\n    : new CustomEvent(this.eventprefix + 'data', {\n      detail: {\n        time: this.frame,\n        relativetime: this.relativeframe,\n        segment: this.currentsegment\n      }\n    }); //send data signal - i.e. continue after pause\n    //dispatch event - it should be listened by some other component\n\n    document.getElementById(this.id).dispatchEvent(event);\n    this.frame++;\n  } //plays only one segment of the animation\n  ;\n\n  _proto.segment = function segment() {\n    if (!this.segmentcond) {\n      //play from current position up to the frame on the next segment\n      this.stopframe = this.segmentitems[this.currentsegment]; //position in segment\n\n      this.startrelativeframe(this.frame);\n      this.countrelativeframe(this.frame); //console.log('AnimateControl segment() stopframe,currentsegment:', this.stopframe, this.currentsegment);\n\n      this.currentsegmentlabel = this.segmentlabelarray[this.currentsegment]; //this.currentsegment++; moved to startstop - animationframe\n      //console.log('AnimateControl segment() nextsegment:', this.currentsegment);\n\n      this.startstop();\n    } else {\n      //if segmentcond is set - play until the condition is met\n      this.stopframe = this.segmentitems[this.currentsegment]; //do not know stopframe\n      //register handler\n      //send start signal to fmi\n\n      this.startrelativeframe(this.aframe);\n      this.countrelativeframe(this.aframe);\n      this.currentsegmentlabel = this.segmentlabelarray[this.currentsegment]; //console.log('bdlanimatecontrol segments with condition sending fmistart');\n      //this.frame=0;\n      //this.animationframe=0;\n      //compute frame and animationframe step\n\n      if (this.currentsegment === 0) {\n        this.astep = this.segmentitems[this.currentsegment] / this.simsegmentitems[this.currentsegment];\n      } else {\n        var adif = this.segmentitems[this.currentsegment] - this.segmentitems[this.currentsegment - 1];\n        var sdif = this.simsegmentitems[this.currentsegment] - this.simsegmentitems[this.currentsegment - 1];\n        this.astep = adif / sdif;\n      } //console.log('BdlAnimateControl segment() astep', this.astep);\n\n\n      var event = new CustomEvent(this.eventprefix + 'start', {\n        detail: {\n          time: this.frame\n        }\n      });\n      document.getElementById(this.id).dispatchEvent(event);\n    }\n  };\n\n  _proto.segmentcontinuous = function segmentcontinuous() {\n    this.continuousanimation = !this.continuousanimation;\n    if (this.continuousanimation && !this.animationstarted) this.segment();\n  };\n\n  _proto.startrelativeframe = function startrelativeframe(frame) {\n    this.startframe = frame;\n    this.framesinsegment = this.stopframe - this.startframe;\n  };\n\n  _proto.countrelativeframe = function countrelativeframe(frame) {\n    this.relativeframe = (frame - this.startframe) / this.framesinsegment;\n    return this.relativeframe;\n  };\n\n  _proto.nonstopsegment = function nonstopsegment() {};\n\n  _proto.processValue = function processValue(value) {\n    //compare with current segment condition\n    //do stop simulation if the condition in 'relation' is met - returns true\n    var referencevalue = this.segmentconditions[this.currentsegment].value;\n\n    if (this.segmentconditions[this.currentsegment].relation(value, referencevalue)) {\n      //set aframe to the boundary frame;\n      this.aframe = this.segmentitems[this.currentsegment];\n      this.floor_aframe = Math.floor(this.aframe);\n      var event = new CustomEvent('fmistop', {\n        detail: {\n          time: this.frame\n        }\n      });\n      document.getElementById(this.id).dispatchEvent(event);\n      this.countrelativeframe(this.aframe); //dispatch animate data\n\n      event = new CustomEvent('animatedata', {\n        detail: {\n          time: this.aframe,\n          relativetime: this.relativeframe,\n          segment: this.currentsegment\n        }\n      }); //send data signal - i.e. continue after pause\n      //dispatch event - it should be listened by some other component\n\n      document.getElementById(this.id).dispatchEvent(event); //dispatch addsection event - if somebody listens - it should add new section/segment into it's visualisation\n\n      this.currentsegment++;\n\n      if (this.currentsegment >= this.segmentitems.length) {\n        this.currentsegment = 0;\n        this.frame = 0;\n        this.aframe = 0;\n      }\n\n      this.startrelativeframe(this.aframe);\n      var event2 = new CustomEvent('addsection', {\n        detail: {\n          time: this.frame,\n          label: this.segmentlabelarray[this.currentsegment]\n        }\n      });\n      document.getElementById(this.id).dispatchEvent(event2); //if continuous is enabled - start immediatelly another segment\n\n      if (this.continuousanimation) this.segment();\n    } else {\n      //do step\n      this.frame++;\n      this.previous_aframe = this.floor_aframe;\n      this.aframe += this.astep;\n      this.floor_aframe = Math.floor(this.aframe); //if step - hits over a integer number\n\n      if (this.floor_aframe > this.previous_aframe) {\n        //fire animation event\n        //console.log('bdlanimatecontrol step, frame, aframe, floor aframe, floor prevousframe', this.astep, this.frame, this.aframe, this.floor_aframe, this.previous_aframe);\n        //do animation only if the aframe is lower than the prescribed boundary frame\n        if (this.floor_aframe <= this.segmentitems[this.currentsegment]) {\n          this.countrelativeframe(this.floor_aframe);\n\n          var _event = new CustomEvent('animatedata', {\n            detail: {\n              time: this.floor_aframe,\n              relativetime: this.relativeframe,\n              segment: this.currentsegment\n            }\n          }); //send data signal - i.e. continue after pause\n          //dispatch event - it should be listened by some other component\n\n\n          document.getElementById(this.id).dispatchEvent(_event);\n        }\n      }\n    } //console.log('bdlanimatecontrol processValue',value,referencevalue);\n    //compute animation frames\n\n  };\n\n  return AnimateControl;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"id\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"fromid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"speedfactor\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"segments\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"simsegments\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"segmentlabels\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"controlfmi\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"segmentcond\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"allowcontinuous\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n})), _class);\nexports.AnimateControl = AnimateControl;\n//# sourceMappingURL=animate-control.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtY29udHJvbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9hbmltYXRlLWNvbnRyb2wuanM/MTFkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuQW5pbWF0ZUNvbnRyb2wgPSB2b2lkIDA7XG5cbnZhciBfYXVyZWxpYUZyYW1ld29yayA9IHJlcXVpcmUoXCJhdXJlbGlhLWZyYW1ld29ya1wiKTtcblxudmFyIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfZGVzY3JpcHRvcjQsIF9kZXNjcmlwdG9yNSwgX2Rlc2NyaXB0b3I2LCBfZGVzY3JpcHRvcjcsIF9kZXNjcmlwdG9yOCwgX2Rlc2NyaXB0b3I5LCBfdGVtcDtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgcmV0dXJuIGl0Lm5leHQuYmluZChpdCk7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cbi8qKlxuICogY29udHJvbHMgYW5pbWF0aW9uXG4gKi9cbnZhciBBbmltYXRlQ29udHJvbCA9IChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvL3VuaXF1ZSBpZCBvZiB0aGlzIGNvbXBvbmVudFxuICAvL2lkIG9mIGZtaSAtIHRvIGxpc3RlbiBpZiBzZWdtZW50Y29uZCBpcyBzcGVjaWZpZWRcbiAgLy8wLTEwMFxuICBmdW5jdGlvbiBBbmltYXRlQ29udHJvbCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpZFwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyb21pZFwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzcGVlZGZhY3RvclwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzZWdtZW50c1wiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzaW1zZWdtZW50c1wiLCBfZGVzY3JpcHRvcjUsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzZWdtZW50bGFiZWxzXCIsIF9kZXNjcmlwdG9yNiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnRyb2xmbWlcIiwgX2Rlc2NyaXB0b3I3LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic2VnbWVudGNvbmRcIiwgX2Rlc2NyaXB0b3I4LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWxsb3djb250aW51b3VzXCIsIF9kZXNjcmlwdG9yOSwgdGhpcyk7XG5cbiAgICB0aGlzLmNvbnRpbnVvdXNhbmltYXRpb24gPSBmYWxzZTtcbiAgICB0aGlzLmFuaW1hdGlvbnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmZyYW1lID0gMDtcbiAgICB0aGlzLmFmcmFtZSA9IDA7XG4gICAgdGhpcy5jdXJyZW50c2VnbWVudCA9IDA7XG4gICAgdGhpcy5hbmltYXRpb25mcmFtZSA9IDA7XG4gICAgdGhpcy5wbGF5c2VnbWVudHMgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRzZWdtZW50bGFiZWwgPSAnJztcblxuICAgIHRoaXMuaGFuZGxlVmFsdWVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy9nZXQgZGF0YSAtIHdoYXQgaXNcbiAgICAgIC8vY29uc29sZS5sb2coJ2JkbGFuaW1hdGVjb250cm9sIGhhbmRsZVZhbHVlY2hhbmdlJywgZSk7XG4gICAgICB2YXIgdmFsdWUgPSBlLmRldGFpbC5kYXRhW190aGlzLnNlZ21lbnRjb25kaXRpb25zW190aGlzLmN1cnJlbnRzZWdtZW50XS5yZWZpZF07XG5cbiAgICAgIF90aGlzLnByb2Nlc3NWYWx1ZSh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBBbmltYXRlQ29udHJvbC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmJpbmQgPSBmdW5jdGlvbiBiaW5kKCkge1xuICAgIGlmICh0aGlzLnNwZWVkZmFjdG9yKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuc3BlZWRmYWN0b3IgPT09ICdzdHJpbmcnKSB0aGlzLnNwZWVkZmFjdG9yID0gcGFyc2VJbnQodGhpcy5zcGVlZGZhY3RvciwgMTApO1xuICAgICAgaWYgKHRoaXMuc3BlZWRmYWN0b3IgPD0gMCB8fCB0aGlzLnNwZWVkZmFjdG9yID4gMTAwKSB0aGlzLnNwZWVkZmFjdG9yID0gMTAwO1xuICAgIH0gLy9zZWdtZW50cyBhcmUgaW50IGRlbGltaXRlZCBieSA7XG5cblxuICAgIGlmICh0aGlzLnNlZ21lbnRzKSB7XG4gICAgICB0aGlzLnBsYXlzZWdtZW50cyA9IHRydWU7XG4gICAgICB0aGlzLnNlZ21lbnRpdGVtcyA9IHRoaXMuc2VnbWVudHMuc3BsaXQoJzsnKS5tYXAoZnVuY3Rpb24gKHl5KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh5eSwgMTApO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLnNpbXNlZ21lbnRzKSB7XG4gICAgICAgIHRoaXMuc2ltc2VnbWVudGl0ZW1zID0gdGhpcy5zaW1zZWdtZW50cy5zcGxpdCgnOycpLm1hcChmdW5jdGlvbiAoeTIpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoeTIsIDEwKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2VnbWVudGxhYmVscykge1xuICAgICAgdGhpcy5zZWdtZW50bGFiZWxhcnJheSA9IHRoaXMuc2VnbWVudGxhYmVscy5zcGxpdCgnOycpO1xuICAgIH1cblxuICAgIHZhciBpc2dyZWF0ZXIgPSBmdW5jdGlvbiBpc2dyZWF0ZXIoYSwgYikge1xuICAgICAgcmV0dXJuIGEgPiBiO1xuICAgIH07XG5cbiAgICB2YXIgaXNlcXVhbCA9IGZ1bmN0aW9uIGlzZXF1YWwoYSwgYikge1xuICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgfTtcblxuICAgIHZhciBpc2xvd2VyID0gZnVuY3Rpb24gaXNsb3dlcihhLCBiKSB7XG4gICAgICByZXR1cm4gYSA8IGI7XG4gICAgfTsgLy9jb25zb2xlLmxvZygnYmRsYW5pbWF0ZWNvbnRybyBzZWdtZW50Y29uZDE6JywgdGhpcy5zZWdtZW50Y29uZCk7XG5cblxuICAgIHRoaXMuZXZlbnRwcmVmaXggPSAnYW5pbWF0ZSc7IC8vc2VnbWVudCBjb25kaXRpb24gaXMgZGVmaW5lZCAtIHRoZW4gc2VnbWVudHMgYXJlIGRldGVybWluZWQgYnkgZm1pIGRhdGEgc2VudCBieSAnZnJvbWlkJyBjb21wb25lbnRcblxuICAgIGlmICh0aGlzLnNlZ21lbnRjb25kKSB7XG4gICAgICB0aGlzLmV2ZW50cHJlZml4ID0gJ2ZtaSc7XG4gICAgICB0aGlzLnNlZ21lbnRjb25kaXRpb25zID0gW107XG4gICAgICB2YXIgc2NzID0gdGhpcy5zZWdtZW50Y29uZC5zcGxpdCgnOycpO1xuXG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKHNjcyksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBzYyA9IF9zdGVwLnZhbHVlO1xuICAgICAgICB2YXIgc2NpdGVtID0gc2Muc3BsaXQoJywnKTsgLy8gWzBdIGlzIHJlZmlkLCBbMV0gaXMgZ3QsbHQsZXEgWzJdIGlzIHZhbHVlIGluIHJlYWxcblxuICAgICAgICB2YXIgc2NmID0gaXNsb3dlcjtcbiAgICAgICAgaWYgKHNjaXRlbVsxXSA9PT0gJ2d0Jykgc2NmID0gaXNncmVhdGVyO2Vsc2UgaWYgKHNjaXRlbVsxXSA9PT0gJ2VxJykgc2NmID0gaXNlcXVhbDtcbiAgICAgICAgdmFyIHNjaXRlbTIgPSB7XG4gICAgICAgICAgcmVmaWQ6IHNjaXRlbVswXSxcbiAgICAgICAgICByZWxhdGlvbjogc2NmLFxuICAgICAgICAgIHZhbHVlOiBwYXJzZUZsb2F0KHNjaXRlbVsyXSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZWdtZW50Y29uZGl0aW9ucy5wdXNoKHNjaXRlbTIpO1xuICAgICAgfSAvL2NvbnNvbGUubG9nKCdiZGxhbmltYXRlY29udHJvbCBzZWdtZW50Y29uZCcsIHRoaXMuc2VnbWVudGNvbmRpdGlvbnMpO1xuICAgICAgLy9jb25zb2xlLmxvZygnYmRsYW5pbWF0ZWNvbnRyb2wgZnJvbWlkJywgdGhpcy5mcm9taWQpO1xuICAgICAgLy8gIGlmICh0aGlzLmZyb21pZCkge2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnJvbWlkKS5hZGRFdmVudExpc3RlbmVyKCdmbWlkYXRhJywgdGhpcy5oYW5kbGVWYWx1ZUNoYW5nZSk7fVxuXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmFsbG93Y29udGludW91cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuYWxsb3djb250aW51b3VzID0gdGhpcy5hbGxvd2NvbnRpbnVvdXMgPT09ICd0cnVlJztcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmF0dGFjaGVkID0gZnVuY3Rpb24gYXR0YWNoZWQoKSB7XG4gICAgLy9jb25zb2xlLmxvZygnYmRsYW5pbWF0ZWNvbnRyb2wgYXR0YWNoZWQgZnJvbWlkJywgdGhpcy5mcm9taWQpO1xuICAgIGlmICh0aGlzLmZyb21pZCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mcm9taWQpLmFkZEV2ZW50TGlzdGVuZXIoJ2ZtaWRhdGEnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmRldGFjaGVkID0gZnVuY3Rpb24gZGV0YWNoZWQoKSB7XG4gICAgaWYgKHRoaXMuZnJvbWlkICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnJvbWlkKSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mcm9taWQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZtaWRhdGEnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTtcbiAgfSAvL2ZpcmVzIGZtaXN0YXJ0L2ZtaXN0b3AgZXZlbnRzIGFuZCBzdGFydHMvc3RvcHMgY29udGludW91cyBhbmltYXRpb25cbiAgO1xuXG4gIF9wcm90by5zdGFydHN0b3AgPSBmdW5jdGlvbiBzdGFydHN0b3AoKSB7XG4gICAgdGhpcy5hbmltYXRpb25zdGFydGVkID0gIXRoaXMuYW5pbWF0aW9uc3RhcnRlZDtcblxuICAgIGlmICghdGhpcy5hbmltYXRpb25zdGFydGVkKSB7XG4gICAgICAvL3N0b3AgYW5pbWF0aW9uXG4gICAgICAvL3RoaXMuYW5pbWF0aW9uc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgLy9jb25zb2xlLmxvZygnQ2FuY2VsaW5nIGFuaW1hdGlvbiwgdGhpcywgdGhpcy5yZXF1ZXN0OicsIHRoaXMsIHRoaXMucmVxdWVzdCk7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJlcXVlc3QpOyAvL2NyZWF0ZSBjdXN0b20gZXZlbnRcblxuICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHRoaXMuZXZlbnRwcmVmaXggKyAnc3RvcCcsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgdGltZTogdGhpcy5mcmFtZVxuICAgICAgICB9XG4gICAgICB9KTsgLy9kaXNwYXRjaCBldmVudCAtIGl0IHNob3VsZCBiZSBsaXN0ZW5lZCBieSBzb21lIG90aGVyIGNvbXBvbmVudFxuXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy90aGlzLmFuaW1hdGlvbnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgdmFyIHRoYXQgPSB0aGlzOyAvL2NvbnNvbGUubG9nKCdzdGFydHN0b3AoKSBhbmltYXRlIHVzaW5nIHJlcXVlc3RBbmltYXRpb25GcmFtZScpO1xuICAgICAgLy9hbmltYXRlIHVzaW5nIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuXG4gICAgICB2YXIgcGVyZm9ybUFuaW1hdGlvbiA9IGZ1bmN0aW9uIHBlcmZvcm1BbmltYXRpb24oKSB7XG4gICAgICAgIC8vc2VuZCBldmVudCB0byBkbyBhbmltYXRpb25cbiAgICAgICAgLy9jb25zb2xlLmxvZygncGVyZm9ybUFuaW1hdGlvbigpJyk7XG4gICAgICAgIHRoYXQuc3RlcCgpOyAvL2RlY2lkZSB3aGV0aGVyIGFuZCBob3cgdG8gc2NoZWR1bGUgbmV4dCBhbmltYXRpb24gZnJhbWVcblxuICAgICAgICBpZiAodGhhdC5wbGF5c2VnbWVudHMgJiYgdGhhdC5zdG9wZnJhbWUgPiAwICYmIHRoYXQuZnJhbWUgPiB0aGF0LnN0b3BmcmFtZSkgdGhhdC5zdG9wc2VnbWVudCh0aGF0LCBwZXJmb3JtQW5pbWF0aW9uKTtlbHNlIHRoYXQuc2NoZWR1bGVBbmltYXRpb24odGhhdCwgcGVyZm9ybUFuaW1hdGlvbik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocGVyZm9ybUFuaW1hdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5zdG9wc2VnbWVudCA9IGZ1bmN0aW9uIHN0b3BzZWdtZW50KHRoYXQsIHBlcmZvcm1BbmltYXRpb24pIHtcbiAgICB0aGF0LmFuaW1hdGlvbnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB0aGF0LmN1cnJlbnRzZWdtZW50Kys7IC8vaWYgbGFzdCBzZWdtZW50IHJlbmluaXQgZnJhbWUgZnJvbSBiZWdpbmluZ1xuXG4gICAgaWYgKHRoYXQuY3VycmVudHNlZ21lbnQgPj0gdGhhdC5zZWdtZW50aXRlbXMubGVuZ3RoKSB7XG4gICAgICB0aGF0LmN1cnJlbnRzZWdtZW50ID0gMDtcbiAgICAgIHRoYXQuZnJhbWUgPSAwO1xuICAgIH1cblxuICAgIGlmICh0aGF0LmNvbnRpbnVvdXNhbmltYXRpb24pIHRoYXQuc2NoZWR1bGVBbmltYXRpb24odGhhdCwgcGVyZm9ybUFuaW1hdGlvbik7XG4gIH07XG5cbiAgX3Byb3RvLnNjaGVkdWxlQW5pbWF0aW9uID0gZnVuY3Rpb24gc2NoZWR1bGVBbmltYXRpb24odGhhdCwgcGVyZm9ybUFuaW1hdGlvbikge1xuICAgIC8vIHNwZWVkZmFjdG9yIGlzIGRlZmluZWQgLSB0aGVuIHJlcXVlc3RBbmltYXRpb25GcmFtZSBpcyBzY2hlZHVsZWQgZm9yIGxhdGVyXG4gICAgaWYgKHRoYXQuYW5pbWF0aW9uc3RhcnRlZCkge1xuICAgICAgaWYgKHRoYXQuc3BlZWRmYWN0b3IpIHtcbiAgICAgICAgLy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXMgc2NoZWR1bGVkIGZvciBsYXRlclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhhdC5yZXF1ZXN0ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHBlcmZvcm1BbmltYXRpb24pO1xuICAgICAgICB9LCAxMDAwIC8gKDYwICogdGhhdC5zcGVlZGZhY3RvciAvIDEwMCkpOyAvLzYwZnBzIGlzIG5vcm1hbCAtIGNhbGN1bGF0ZWQgYXMgMTAwMCBtcyAvIGZyYW1lc3BlcnNlY29uZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXMgc2NoZWR1bGVkIGltbWVkaWF0ZWx5XG4gICAgICAgIHRoYXQucmVxdWVzdCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShwZXJmb3JtQW5pbWF0aW9uKTtcbiAgICAgIH0gLy90aGlzLnN0ZXAoKTtcblxuICAgIH1cbiAgfSAvL2NyZWF0ZXMgY3VzdG9tZXZlbnQgYW5kIHNlbmRzIHRpbWUsIHJlbGF0aXZldGltZTogcnQgaW4gc2VnbWVudCwgc2VnbWVudCAtIG51bWJlciBvZiBzZWdtZW50XG4gIDtcblxuICBfcHJvdG8uc3RlcCA9IGZ1bmN0aW9uIHN0ZXAoKSB7XG4gICAgdGhpcy5jb3VudHJlbGF0aXZlZnJhbWUodGhpcy5mcmFtZSk7IC8vY3JlYXRlIGN1c3RvbSBldmVudFxuXG4gICAgdmFyIGV2ZW50ID0gdGhpcy5mcmFtZSA9PT0gMCA/IG5ldyBDdXN0b21FdmVudCh0aGlzLmV2ZW50cHJlZml4ICsgJ3N0YXJ0Jywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIHRpbWU6IHRoaXMuZnJhbWUsXG4gICAgICAgIHJlbGF0aXZldGltZTogdGhpcy5yZWxhdGl2ZWZyYW1lLFxuICAgICAgICBzZWdtZW50OiB0aGlzLmN1cnJlbnRzZWdtZW50XG4gICAgICB9XG4gICAgfSkgLy9zZW5kIHN0YXJ0IHNpZ25hbCBvbiBmcmFtZSAwXG4gICAgOiBuZXcgQ3VzdG9tRXZlbnQodGhpcy5ldmVudHByZWZpeCArICdkYXRhJywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIHRpbWU6IHRoaXMuZnJhbWUsXG4gICAgICAgIHJlbGF0aXZldGltZTogdGhpcy5yZWxhdGl2ZWZyYW1lLFxuICAgICAgICBzZWdtZW50OiB0aGlzLmN1cnJlbnRzZWdtZW50XG4gICAgICB9XG4gICAgfSk7IC8vc2VuZCBkYXRhIHNpZ25hbCAtIGkuZS4gY29udGludWUgYWZ0ZXIgcGF1c2VcbiAgICAvL2Rpc3BhdGNoIGV2ZW50IC0gaXQgc2hvdWxkIGJlIGxpc3RlbmVkIGJ5IHNvbWUgb3RoZXIgY29tcG9uZW50XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB0aGlzLmZyYW1lKys7XG4gIH0gLy9wbGF5cyBvbmx5IG9uZSBzZWdtZW50IG9mIHRoZSBhbmltYXRpb25cbiAgO1xuXG4gIF9wcm90by5zZWdtZW50ID0gZnVuY3Rpb24gc2VnbWVudCgpIHtcbiAgICBpZiAoIXRoaXMuc2VnbWVudGNvbmQpIHtcbiAgICAgIC8vcGxheSBmcm9tIGN1cnJlbnQgcG9zaXRpb24gdXAgdG8gdGhlIGZyYW1lIG9uIHRoZSBuZXh0IHNlZ21lbnRcbiAgICAgIHRoaXMuc3RvcGZyYW1lID0gdGhpcy5zZWdtZW50aXRlbXNbdGhpcy5jdXJyZW50c2VnbWVudF07IC8vcG9zaXRpb24gaW4gc2VnbWVudFxuXG4gICAgICB0aGlzLnN0YXJ0cmVsYXRpdmVmcmFtZSh0aGlzLmZyYW1lKTtcbiAgICAgIHRoaXMuY291bnRyZWxhdGl2ZWZyYW1lKHRoaXMuZnJhbWUpOyAvL2NvbnNvbGUubG9nKCdBbmltYXRlQ29udHJvbCBzZWdtZW50KCkgc3RvcGZyYW1lLGN1cnJlbnRzZWdtZW50OicsIHRoaXMuc3RvcGZyYW1lLCB0aGlzLmN1cnJlbnRzZWdtZW50KTtcblxuICAgICAgdGhpcy5jdXJyZW50c2VnbWVudGxhYmVsID0gdGhpcy5zZWdtZW50bGFiZWxhcnJheVt0aGlzLmN1cnJlbnRzZWdtZW50XTsgLy90aGlzLmN1cnJlbnRzZWdtZW50Kys7IG1vdmVkIHRvIHN0YXJ0c3RvcCAtIGFuaW1hdGlvbmZyYW1lXG4gICAgICAvL2NvbnNvbGUubG9nKCdBbmltYXRlQ29udHJvbCBzZWdtZW50KCkgbmV4dHNlZ21lbnQ6JywgdGhpcy5jdXJyZW50c2VnbWVudCk7XG5cbiAgICAgIHRoaXMuc3RhcnRzdG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vaWYgc2VnbWVudGNvbmQgaXMgc2V0IC0gcGxheSB1bnRpbCB0aGUgY29uZGl0aW9uIGlzIG1ldFxuICAgICAgdGhpcy5zdG9wZnJhbWUgPSB0aGlzLnNlZ21lbnRpdGVtc1t0aGlzLmN1cnJlbnRzZWdtZW50XTsgLy9kbyBub3Qga25vdyBzdG9wZnJhbWVcbiAgICAgIC8vcmVnaXN0ZXIgaGFuZGxlclxuICAgICAgLy9zZW5kIHN0YXJ0IHNpZ25hbCB0byBmbWlcblxuICAgICAgdGhpcy5zdGFydHJlbGF0aXZlZnJhbWUodGhpcy5hZnJhbWUpO1xuICAgICAgdGhpcy5jb3VudHJlbGF0aXZlZnJhbWUodGhpcy5hZnJhbWUpO1xuICAgICAgdGhpcy5jdXJyZW50c2VnbWVudGxhYmVsID0gdGhpcy5zZWdtZW50bGFiZWxhcnJheVt0aGlzLmN1cnJlbnRzZWdtZW50XTsgLy9jb25zb2xlLmxvZygnYmRsYW5pbWF0ZWNvbnRyb2wgc2VnbWVudHMgd2l0aCBjb25kaXRpb24gc2VuZGluZyBmbWlzdGFydCcpO1xuICAgICAgLy90aGlzLmZyYW1lPTA7XG4gICAgICAvL3RoaXMuYW5pbWF0aW9uZnJhbWU9MDtcbiAgICAgIC8vY29tcHV0ZSBmcmFtZSBhbmQgYW5pbWF0aW9uZnJhbWUgc3RlcFxuXG4gICAgICBpZiAodGhpcy5jdXJyZW50c2VnbWVudCA9PT0gMCkge1xuICAgICAgICB0aGlzLmFzdGVwID0gdGhpcy5zZWdtZW50aXRlbXNbdGhpcy5jdXJyZW50c2VnbWVudF0gLyB0aGlzLnNpbXNlZ21lbnRpdGVtc1t0aGlzLmN1cnJlbnRzZWdtZW50XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBhZGlmID0gdGhpcy5zZWdtZW50aXRlbXNbdGhpcy5jdXJyZW50c2VnbWVudF0gLSB0aGlzLnNlZ21lbnRpdGVtc1t0aGlzLmN1cnJlbnRzZWdtZW50IC0gMV07XG4gICAgICAgIHZhciBzZGlmID0gdGhpcy5zaW1zZWdtZW50aXRlbXNbdGhpcy5jdXJyZW50c2VnbWVudF0gLSB0aGlzLnNpbXNlZ21lbnRpdGVtc1t0aGlzLmN1cnJlbnRzZWdtZW50IC0gMV07XG4gICAgICAgIHRoaXMuYXN0ZXAgPSBhZGlmIC8gc2RpZjtcbiAgICAgIH0gLy9jb25zb2xlLmxvZygnQmRsQW5pbWF0ZUNvbnRyb2wgc2VnbWVudCgpIGFzdGVwJywgdGhpcy5hc3RlcCk7XG5cblxuICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHRoaXMuZXZlbnRwcmVmaXggKyAnc3RhcnQnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHRpbWU6IHRoaXMuZnJhbWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnNlZ21lbnRjb250aW51b3VzID0gZnVuY3Rpb24gc2VnbWVudGNvbnRpbnVvdXMoKSB7XG4gICAgdGhpcy5jb250aW51b3VzYW5pbWF0aW9uID0gIXRoaXMuY29udGludW91c2FuaW1hdGlvbjtcbiAgICBpZiAodGhpcy5jb250aW51b3VzYW5pbWF0aW9uICYmICF0aGlzLmFuaW1hdGlvbnN0YXJ0ZWQpIHRoaXMuc2VnbWVudCgpO1xuICB9O1xuXG4gIF9wcm90by5zdGFydHJlbGF0aXZlZnJhbWUgPSBmdW5jdGlvbiBzdGFydHJlbGF0aXZlZnJhbWUoZnJhbWUpIHtcbiAgICB0aGlzLnN0YXJ0ZnJhbWUgPSBmcmFtZTtcbiAgICB0aGlzLmZyYW1lc2luc2VnbWVudCA9IHRoaXMuc3RvcGZyYW1lIC0gdGhpcy5zdGFydGZyYW1lO1xuICB9O1xuXG4gIF9wcm90by5jb3VudHJlbGF0aXZlZnJhbWUgPSBmdW5jdGlvbiBjb3VudHJlbGF0aXZlZnJhbWUoZnJhbWUpIHtcbiAgICB0aGlzLnJlbGF0aXZlZnJhbWUgPSAoZnJhbWUgLSB0aGlzLnN0YXJ0ZnJhbWUpIC8gdGhpcy5mcmFtZXNpbnNlZ21lbnQ7XG4gICAgcmV0dXJuIHRoaXMucmVsYXRpdmVmcmFtZTtcbiAgfTtcblxuICBfcHJvdG8ubm9uc3RvcHNlZ21lbnQgPSBmdW5jdGlvbiBub25zdG9wc2VnbWVudCgpIHt9O1xuXG4gIF9wcm90by5wcm9jZXNzVmFsdWUgPSBmdW5jdGlvbiBwcm9jZXNzVmFsdWUodmFsdWUpIHtcbiAgICAvL2NvbXBhcmUgd2l0aCBjdXJyZW50IHNlZ21lbnQgY29uZGl0aW9uXG4gICAgLy9kbyBzdG9wIHNpbXVsYXRpb24gaWYgdGhlIGNvbmRpdGlvbiBpbiAncmVsYXRpb24nIGlzIG1ldCAtIHJldHVybnMgdHJ1ZVxuICAgIHZhciByZWZlcmVuY2V2YWx1ZSA9IHRoaXMuc2VnbWVudGNvbmRpdGlvbnNbdGhpcy5jdXJyZW50c2VnbWVudF0udmFsdWU7XG5cbiAgICBpZiAodGhpcy5zZWdtZW50Y29uZGl0aW9uc1t0aGlzLmN1cnJlbnRzZWdtZW50XS5yZWxhdGlvbih2YWx1ZSwgcmVmZXJlbmNldmFsdWUpKSB7XG4gICAgICAvL3NldCBhZnJhbWUgdG8gdGhlIGJvdW5kYXJ5IGZyYW1lO1xuICAgICAgdGhpcy5hZnJhbWUgPSB0aGlzLnNlZ21lbnRpdGVtc1t0aGlzLmN1cnJlbnRzZWdtZW50XTtcbiAgICAgIHRoaXMuZmxvb3JfYWZyYW1lID0gTWF0aC5mbG9vcih0aGlzLmFmcmFtZSk7XG4gICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2ZtaXN0b3AnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHRpbWU6IHRoaXMuZnJhbWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMuY291bnRyZWxhdGl2ZWZyYW1lKHRoaXMuYWZyYW1lKTsgLy9kaXNwYXRjaCBhbmltYXRlIGRhdGFcblxuICAgICAgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2FuaW1hdGVkYXRhJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICB0aW1lOiB0aGlzLmFmcmFtZSxcbiAgICAgICAgICByZWxhdGl2ZXRpbWU6IHRoaXMucmVsYXRpdmVmcmFtZSxcbiAgICAgICAgICBzZWdtZW50OiB0aGlzLmN1cnJlbnRzZWdtZW50XG4gICAgICAgIH1cbiAgICAgIH0pOyAvL3NlbmQgZGF0YSBzaWduYWwgLSBpLmUuIGNvbnRpbnVlIGFmdGVyIHBhdXNlXG4gICAgICAvL2Rpc3BhdGNoIGV2ZW50IC0gaXQgc2hvdWxkIGJlIGxpc3RlbmVkIGJ5IHNvbWUgb3RoZXIgY29tcG9uZW50XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpLmRpc3BhdGNoRXZlbnQoZXZlbnQpOyAvL2Rpc3BhdGNoIGFkZHNlY3Rpb24gZXZlbnQgLSBpZiBzb21lYm9keSBsaXN0ZW5zIC0gaXQgc2hvdWxkIGFkZCBuZXcgc2VjdGlvbi9zZWdtZW50IGludG8gaXQncyB2aXN1YWxpc2F0aW9uXG5cbiAgICAgIHRoaXMuY3VycmVudHNlZ21lbnQrKztcblxuICAgICAgaWYgKHRoaXMuY3VycmVudHNlZ21lbnQgPj0gdGhpcy5zZWdtZW50aXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudHNlZ21lbnQgPSAwO1xuICAgICAgICB0aGlzLmZyYW1lID0gMDtcbiAgICAgICAgdGhpcy5hZnJhbWUgPSAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXJ0cmVsYXRpdmVmcmFtZSh0aGlzLmFmcmFtZSk7XG4gICAgICB2YXIgZXZlbnQyID0gbmV3IEN1c3RvbUV2ZW50KCdhZGRzZWN0aW9uJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICB0aW1lOiB0aGlzLmZyYW1lLFxuICAgICAgICAgIGxhYmVsOiB0aGlzLnNlZ21lbnRsYWJlbGFycmF5W3RoaXMuY3VycmVudHNlZ21lbnRdXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkuZGlzcGF0Y2hFdmVudChldmVudDIpOyAvL2lmIGNvbnRpbnVvdXMgaXMgZW5hYmxlZCAtIHN0YXJ0IGltbWVkaWF0ZWxseSBhbm90aGVyIHNlZ21lbnRcblxuICAgICAgaWYgKHRoaXMuY29udGludW91c2FuaW1hdGlvbikgdGhpcy5zZWdtZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vZG8gc3RlcFxuICAgICAgdGhpcy5mcmFtZSsrO1xuICAgICAgdGhpcy5wcmV2aW91c19hZnJhbWUgPSB0aGlzLmZsb29yX2FmcmFtZTtcbiAgICAgIHRoaXMuYWZyYW1lICs9IHRoaXMuYXN0ZXA7XG4gICAgICB0aGlzLmZsb29yX2FmcmFtZSA9IE1hdGguZmxvb3IodGhpcy5hZnJhbWUpOyAvL2lmIHN0ZXAgLSBoaXRzIG92ZXIgYSBpbnRlZ2VyIG51bWJlclxuXG4gICAgICBpZiAodGhpcy5mbG9vcl9hZnJhbWUgPiB0aGlzLnByZXZpb3VzX2FmcmFtZSkge1xuICAgICAgICAvL2ZpcmUgYW5pbWF0aW9uIGV2ZW50XG4gICAgICAgIC8vY29uc29sZS5sb2coJ2JkbGFuaW1hdGVjb250cm9sIHN0ZXAsIGZyYW1lLCBhZnJhbWUsIGZsb29yIGFmcmFtZSwgZmxvb3IgcHJldm91c2ZyYW1lJywgdGhpcy5hc3RlcCwgdGhpcy5mcmFtZSwgdGhpcy5hZnJhbWUsIHRoaXMuZmxvb3JfYWZyYW1lLCB0aGlzLnByZXZpb3VzX2FmcmFtZSk7XG4gICAgICAgIC8vZG8gYW5pbWF0aW9uIG9ubHkgaWYgdGhlIGFmcmFtZSBpcyBsb3dlciB0aGFuIHRoZSBwcmVzY3JpYmVkIGJvdW5kYXJ5IGZyYW1lXG4gICAgICAgIGlmICh0aGlzLmZsb29yX2FmcmFtZSA8PSB0aGlzLnNlZ21lbnRpdGVtc1t0aGlzLmN1cnJlbnRzZWdtZW50XSkge1xuICAgICAgICAgIHRoaXMuY291bnRyZWxhdGl2ZWZyYW1lKHRoaXMuZmxvb3JfYWZyYW1lKTtcblxuICAgICAgICAgIHZhciBfZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2FuaW1hdGVkYXRhJywge1xuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgIHRpbWU6IHRoaXMuZmxvb3JfYWZyYW1lLFxuICAgICAgICAgICAgICByZWxhdGl2ZXRpbWU6IHRoaXMucmVsYXRpdmVmcmFtZSxcbiAgICAgICAgICAgICAgc2VnbWVudDogdGhpcy5jdXJyZW50c2VnbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pOyAvL3NlbmQgZGF0YSBzaWduYWwgLSBpLmUuIGNvbnRpbnVlIGFmdGVyIHBhdXNlXG4gICAgICAgICAgLy9kaXNwYXRjaCBldmVudCAtIGl0IHNob3VsZCBiZSBsaXN0ZW5lZCBieSBzb21lIG90aGVyIGNvbXBvbmVudFxuXG5cbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5kaXNwYXRjaEV2ZW50KF9ldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vY29uc29sZS5sb2coJ2JkbGFuaW1hdGVjb250cm9sIHByb2Nlc3NWYWx1ZScsdmFsdWUscmVmZXJlbmNldmFsdWUpO1xuICAgIC8vY29tcHV0ZSBhbmltYXRpb24gZnJhbWVzXG5cbiAgfTtcblxuICByZXR1cm4gQW5pbWF0ZUNvbnRyb2w7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlkXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZnJvbWlkXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic3BlZWRmYWN0b3JcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZWdtZW50c1wiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNpbXNlZ21lbnRzXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjYgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2VnbWVudGxhYmVsc1wiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNvbnRyb2xmbWlcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I4ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNlZ21lbnRjb25kXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjkgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWxsb3djb250aW51b3VzXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkpLCBfY2xhc3MpO1xuZXhwb3J0cy5BbmltYXRlQ29udHJvbCA9IEFuaW1hdGVDb250cm9sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0ZS1jb250cm9sLmpzLm1hcFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-control\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-control.html":
/*!*************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-control.html ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <span show.bind=\\\"!playsegments\\\">\\n  <button class=\\\"w3-button w3-theme\\\" click.delegate=\\\"startstop()\\\" title=\\\"Start/Stop simulation\\\"><i class.bind=\\\"animationstarted? 'fa fa-stop':'fa fa-play'\\\"></i> &nbsp;</button>\\n  <button class=\\\"w3-button w3-theme\\\" click.delegate=\\\"step()\\\" title=\\\"Do simulation step\\\"><i class=\\\"fa fa-step-forward\\\"></i> &nbsp;</button>\\n    </span>\\n  <span show.bind=\\\"playsegments\\\">\\n    <button class=\\\"w3-button w3-theme\\\" click.delegate=\\\"segment()\\\" title=\\\"Play and stop segment\\\"><i class=\\\"fa fa-step-forward\\\"></i> &nbsp;</button>\\n    <button show.bind=\\\"allowcontinuous\\\" class=\\\"w3-button w3-theme\\\" click.delegate=\\\"segmentcontinuous()\\\" title=\\\"Play continuously\\\"><i class.bind=\\\"animationstarted? 'fa fa-stop':'fa fa-play'\\\"></i> &nbsp;</button>\\n    <label class=\\\"w3-medium\\\">${currentsegmentlabel}</label>\\n    <!--button class=\\\"w3-button\\\" click.delegate=\\\"nonstopsegment()\\\" title=\\\"Play non-stop segment\\\"><i class.bind=\\\"animationstarted? 'fa fa-stop':'fa fa-play'\\\"></i> &nbsp;</button-->\\n  </span>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtY29udHJvbC5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2FuaW1hdGUtY29udHJvbC5odG1sPzEzZTEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG4gIDxzcGFuIHNob3cuYmluZD1cXFwiIXBsYXlzZWdtZW50c1xcXCI+XFxuICA8YnV0dG9uIGNsYXNzPVxcXCJ3My1idXR0b24gdzMtdGhlbWVcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzdGFydHN0b3AoKVxcXCIgdGl0bGU9XFxcIlN0YXJ0L1N0b3Agc2ltdWxhdGlvblxcXCI+PGkgY2xhc3MuYmluZD1cXFwiYW5pbWF0aW9uc3RhcnRlZD8gJ2ZhIGZhLXN0b3AnOidmYSBmYS1wbGF5J1xcXCI+PC9pPiAmbmJzcDs8L2J1dHRvbj5cXG4gIDxidXR0b24gY2xhc3M9XFxcInczLWJ1dHRvbiB3My10aGVtZVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInN0ZXAoKVxcXCIgdGl0bGU9XFxcIkRvIHNpbXVsYXRpb24gc3RlcFxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXN0ZXAtZm9yd2FyZFxcXCI+PC9pPiAmbmJzcDs8L2J1dHRvbj5cXG4gICAgPC9zcGFuPlxcbiAgPHNwYW4gc2hvdy5iaW5kPVxcXCJwbGF5c2VnbWVudHNcXFwiPlxcbiAgICA8YnV0dG9uIGNsYXNzPVxcXCJ3My1idXR0b24gdzMtdGhlbWVcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzZWdtZW50KClcXFwiIHRpdGxlPVxcXCJQbGF5IGFuZCBzdG9wIHNlZ21lbnRcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGVwLWZvcndhcmRcXFwiPjwvaT4gJm5ic3A7PC9idXR0b24+XFxuICAgIDxidXR0b24gc2hvdy5iaW5kPVxcXCJhbGxvd2NvbnRpbnVvdXNcXFwiIGNsYXNzPVxcXCJ3My1idXR0b24gdzMtdGhlbWVcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzZWdtZW50Y29udGludW91cygpXFxcIiB0aXRsZT1cXFwiUGxheSBjb250aW51b3VzbHlcXFwiPjxpIGNsYXNzLmJpbmQ9XFxcImFuaW1hdGlvbnN0YXJ0ZWQ/ICdmYSBmYS1zdG9wJzonZmEgZmEtcGxheSdcXFwiPjwvaT4gJm5ic3A7PC9idXR0b24+XFxuICAgIDxsYWJlbCBjbGFzcz1cXFwidzMtbWVkaXVtXFxcIj4ke2N1cnJlbnRzZWdtZW50bGFiZWx9PC9sYWJlbD5cXG4gICAgPCEtLWJ1dHRvbiBjbGFzcz1cXFwidzMtYnV0dG9uXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwibm9uc3RvcHNlZ21lbnQoKVxcXCIgdGl0bGU9XFxcIlBsYXkgbm9uLXN0b3Agc2VnbWVudFxcXCI+PGkgY2xhc3MuYmluZD1cXFwiYW5pbWF0aW9uc3RhcnRlZD8gJ2ZhIGZhLXN0b3AnOidmYSBmYS1wbGF5J1xcXCI+PC9pPiAmbmJzcDs8L2J1dHRvbi0tPlxcbiAgPC9zcGFuPlxcbjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-control.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-gif":
/*!*******************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-gif.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.AnimateGif = void 0;\n\nvar _libgif = _interopRequireDefault(__webpack_require__(/*! libgif */ \"8OGi\"));\n\nvar _aureliaTemplating = __webpack_require__(/*! aurelia-templating */ \"SkM8\");\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _temp;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n//animates gif, plays frame on each simulation tick, event fmidata\nvar AnimateGif = (_class = (_temp = /*#__PURE__*/function () {\n  function AnimateGif() {\n    var _this = this;\n\n    _initializerDefineProperty(this, \"fromid\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"src\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"width\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"height\", _descriptor4, this);\n\n    this.isstopped = true;\n\n    this.handleStart = function (e) {\n      //console.log('AnimatedHeart start event gif length:', this.gif.get_length());\n      //this.gif.play();\n      if (!_this.gif.get_loading()) _this.gif.move_to(0);\n    };\n\n    this.handleStep = function (e) {\n      //console.log('BdlAnimateGif step event from frame ' + this.gif.get_current_frame() + ' to frame ' + e.detail.time);\n      //this.gif.play();\n      if (!_this.gif.get_loading()) {\n        //move to frame\n        if (e.detail.time < _this.gif.get_length()) _this.gif.move_to(e.detail.time); //outside - move relative\n        else _this.gif.move_relative(1);\n      }\n    };\n\n    this.handleStop = function (e) {\n      //console.log('AnimatedHeart stop event');\n      //this.gif.move_relative(1);\n      if (!_this.gif.get_loading()) _this.gif.pause();\n    };\n  }\n\n  var _proto = AnimateGif.prototype;\n\n  _proto.attached = function attached() {\n    //this.imgel - is referenced from view (HTML)\n    //console.log('animatedheart2 imgel, width,height', this.imgel, this.width, this.height);\n    this.gif = new _libgif[\"default\"]({\n      gif: this.imgel,\n      auto_play: false,\n      rubbable: true,\n      max_width: this.width\n    }); //console.log('animatedheart2 gif', this.gif);\n\n    this.gif.load();\n    document.getElementById(this.fromid).addEventListener('animatestart', this.handleStart);\n    document.getElementById(this.fromid).addEventListener('animatedata', this.handleStep);\n    document.getElementById(this.fromid).addEventListener('animatestop', this.handleStop);\n  };\n\n  return AnimateGif;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"fromid\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"src\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"width\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 400;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"height\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 300;\n  }\n})), _class);\nexports.AnimateGif = AnimateGif;\n//# sourceMappingURL=animate-gif.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtZ2lmLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2FuaW1hdGUtZ2lmLmpzPzAwY2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkFuaW1hdGVHaWYgPSB2b2lkIDA7XG5cbnZhciBfbGliZ2lmID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwibGliZ2lmXCIpKTtcblxudmFyIF9hdXJlbGlhVGVtcGxhdGluZyA9IHJlcXVpcmUoXCJhdXJlbGlhLXRlbXBsYXRpbmdcIik7XG5cbnZhciBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfdGVtcDtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuLy9hbmltYXRlcyBnaWYsIHBsYXlzIGZyYW1lIG9uIGVhY2ggc2ltdWxhdGlvbiB0aWNrLCBldmVudCBmbWlkYXRhXG52YXIgQW5pbWF0ZUdpZiA9IChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBbmltYXRlR2lmKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyb21pZFwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNyY1wiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aWR0aFwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJoZWlnaHRcIiwgX2Rlc2NyaXB0b3I0LCB0aGlzKTtcblxuICAgIHRoaXMuaXNzdG9wcGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuaGFuZGxlU3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy9jb25zb2xlLmxvZygnQW5pbWF0ZWRIZWFydCBzdGFydCBldmVudCBnaWYgbGVuZ3RoOicsIHRoaXMuZ2lmLmdldF9sZW5ndGgoKSk7XG4gICAgICAvL3RoaXMuZ2lmLnBsYXkoKTtcbiAgICAgIGlmICghX3RoaXMuZ2lmLmdldF9sb2FkaW5nKCkpIF90aGlzLmdpZi5tb3ZlX3RvKDApO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZVN0ZXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy9jb25zb2xlLmxvZygnQmRsQW5pbWF0ZUdpZiBzdGVwIGV2ZW50IGZyb20gZnJhbWUgJyArIHRoaXMuZ2lmLmdldF9jdXJyZW50X2ZyYW1lKCkgKyAnIHRvIGZyYW1lICcgKyBlLmRldGFpbC50aW1lKTtcbiAgICAgIC8vdGhpcy5naWYucGxheSgpO1xuICAgICAgaWYgKCFfdGhpcy5naWYuZ2V0X2xvYWRpbmcoKSkge1xuICAgICAgICAvL21vdmUgdG8gZnJhbWVcbiAgICAgICAgaWYgKGUuZGV0YWlsLnRpbWUgPCBfdGhpcy5naWYuZ2V0X2xlbmd0aCgpKSBfdGhpcy5naWYubW92ZV90byhlLmRldGFpbC50aW1lKTsgLy9vdXRzaWRlIC0gbW92ZSByZWxhdGl2ZVxuICAgICAgICBlbHNlIF90aGlzLmdpZi5tb3ZlX3JlbGF0aXZlKDEpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZVN0b3AgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy9jb25zb2xlLmxvZygnQW5pbWF0ZWRIZWFydCBzdG9wIGV2ZW50Jyk7XG4gICAgICAvL3RoaXMuZ2lmLm1vdmVfcmVsYXRpdmUoMSk7XG4gICAgICBpZiAoIV90aGlzLmdpZi5nZXRfbG9hZGluZygpKSBfdGhpcy5naWYucGF1c2UoKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEFuaW1hdGVHaWYucHJvdG90eXBlO1xuXG4gIF9wcm90by5hdHRhY2hlZCA9IGZ1bmN0aW9uIGF0dGFjaGVkKCkge1xuICAgIC8vdGhpcy5pbWdlbCAtIGlzIHJlZmVyZW5jZWQgZnJvbSB2aWV3IChIVE1MKVxuICAgIC8vY29uc29sZS5sb2coJ2FuaW1hdGVkaGVhcnQyIGltZ2VsLCB3aWR0aCxoZWlnaHQnLCB0aGlzLmltZ2VsLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgdGhpcy5naWYgPSBuZXcgX2xpYmdpZltcImRlZmF1bHRcIl0oe1xuICAgICAgZ2lmOiB0aGlzLmltZ2VsLFxuICAgICAgYXV0b19wbGF5OiBmYWxzZSxcbiAgICAgIHJ1YmJhYmxlOiB0cnVlLFxuICAgICAgbWF4X3dpZHRoOiB0aGlzLndpZHRoXG4gICAgfSk7IC8vY29uc29sZS5sb2coJ2FuaW1hdGVkaGVhcnQyIGdpZicsIHRoaXMuZ2lmKTtcblxuICAgIHRoaXMuZ2lmLmxvYWQoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCkuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0ZXN0YXJ0JywgdGhpcy5oYW5kbGVTdGFydCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mcm9taWQpLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGVkYXRhJywgdGhpcy5oYW5kbGVTdGVwKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCkuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0ZXN0b3AnLCB0aGlzLmhhbmRsZVN0b3ApO1xuICB9O1xuXG4gIHJldHVybiBBbmltYXRlR2lmO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmcm9taWRcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic3JjXCIsIFtfYXVyZWxpYVRlbXBsYXRpbmcuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIndpZHRoXCIsIFtfYXVyZWxpYVRlbXBsYXRpbmcuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gNDAwO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhlaWdodFwiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDMwMDtcbiAgfVxufSkpLCBfY2xhc3MpO1xuZXhwb3J0cy5BbmltYXRlR2lmID0gQW5pbWF0ZUdpZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaW1hdGUtZ2lmLmpzLm1hcFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-gif\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-gif.html":
/*!*********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-gif.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template bindable=\\\"src\\\">\\n    <img ref=\\\"imgel\\\" src=\\\"${src}\\\" width=\\\"360\\\" height=\\\"360\\\" rel:auto_play=\\\"0\\\" rel:/>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtZ2lmLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2Rpc3QvbmF0aXZlLW1vZHVsZXMvZWxlbWVudHMvYW5pbWF0ZS1naWYuaHRtbD83NzIzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8dGVtcGxhdGUgYmluZGFibGU9XFxcInNyY1xcXCI+XFxuICAgIDxpbWcgcmVmPVxcXCJpbWdlbFxcXCIgc3JjPVxcXCIke3NyY31cXFwiIHdpZHRoPVxcXCIzNjBcXFwiIGhlaWdodD1cXFwiMzYwXFxcIiByZWw6YXV0b19wbGF5PVxcXCIwXFxcIiByZWw6Lz5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-gif.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-sync-gif":
/*!************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-sync-gif.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.AnimateSyncGif = void 0;\n\nvar _libgif = _interopRequireDefault(__webpack_require__(/*! libgif */ \"8OGi\"));\n\nvar _aureliaTemplating = __webpack_require__(/*! aurelia-templating */ \"SkM8\");\n\nvar _triggerOnIncrease = __webpack_require__(/*! ./trigger-on-increase */ \"aurelia-bodylight-plugin/elements/trigger-on-increase\");\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _temp;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nvar AnimateSyncGif = (_class = (_temp = /*#__PURE__*/function (_TriggerOnIncrease) {\n  _inheritsLoose(AnimateSyncGif, _TriggerOnIncrease);\n\n  function AnimateSyncGif() {\n    var _this;\n\n    _this = _TriggerOnIncrease.call(this) || this;\n\n    _initializerDefineProperty(_this, \"fromid\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"src\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"simulationstepsize\", _descriptor3, _assertThisInitialized(_this));\n\n    _this.loaded = false;\n    _this.isstopped = true;\n\n    _this.handleStart = function (e) {\n      //console.log('AnimatedHeart start event');\n      //this.gif.play();\n      _this.gifframespersimframe = _this.gif.get_frames().length / (1 / _this.simulationstepsize);\n\n      if (!_this.gif.get_loading()) {\n        _this.gif.move_to(0); //console.log('handlestart simulationstepsize, frames:',this.simulationstepsize,this.gif.get_frames().length);\n\n      }\n    };\n\n    _this.handleStop = function (e) {\n      //console.log('AnimatedHeart stop event');\n      //this.gif.move_relative(1);\n      if (!_this.gif.get_loading()) _this.gif.pause();\n    };\n\n    return _this;\n  }\n\n  var _proto = AnimateSyncGif.prototype;\n\n  _proto.attached = function attached() {\n    _TriggerOnIncrease.prototype.attached.call(this); //this.imgel - is referenced from view (HTML)\n    //console.log('animatedheart2 imgel', this.imgel);\n\n\n    this.gif = new _libgif[\"default\"]({\n      gif: this.imgel,\n      auto_play: false,\n      rubbable: true\n    }); //console.log('animatedheart2 gif', this.gif);\n\n    this.gif.load();\n    document.getElementById(this.fromid).addEventListener('fmistart', this.handleStart); //document.getElementById(this.fromid).addEventListener('fmidata', this.handleStart);\n\n    document.getElementById(this.fromid).addEventListener('fmistop', this.handleStop);\n    this.currentframereal = 0;\n    if (typeof this.simulationstepsize === ' string') this.simulationstepsize = parseFloat(this.simulationstepsize);\n  };\n\n  _proto.normalAction = function normalAction() {\n    this.currentframereal += this.gifframespersimframe; //increase gif frame - based on how many frames are ther per simulation frame\n\n    this.currentframe = Math.round(this.currentframereal);\n    if (!this.gif.get_loading()) this.gif.move_to(this.currentframe);\n  };\n\n  _proto.trigger = function trigger() {\n    this.currentframereal = 0;\n    if (!this.gif.get_loading()) this.gif.move_to(0); // set to frame 0\n  };\n\n  return AnimateSyncGif;\n}(_triggerOnIncrease.TriggerOnIncrease), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"fromid\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"src\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"simulationstepsize\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0.01;\n  }\n})), _class);\nexports.AnimateSyncGif = AnimateSyncGif;\n//# sourceMappingURL=animate-sync-gif.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtc3luYy1naWYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2Rpc3QvbmF0aXZlLW1vZHVsZXMvZWxlbWVudHMvYW5pbWF0ZS1zeW5jLWdpZi5qcz9kNWUyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5BbmltYXRlU3luY0dpZiA9IHZvaWQgMDtcblxudmFyIF9saWJnaWYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJsaWJnaWZcIikpO1xuXG52YXIgX2F1cmVsaWFUZW1wbGF0aW5nID0gcmVxdWlyZShcImF1cmVsaWEtdGVtcGxhdGluZ1wiKTtcblxudmFyIF90cmlnZ2VyT25JbmNyZWFzZSA9IHJlcXVpcmUoXCIuL3RyaWdnZXItb24taW5jcmVhc2VcIik7XG5cbnZhciBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX3RlbXA7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxudmFyIEFuaW1hdGVTeW5jR2lmID0gKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1RyaWdnZXJPbkluY3JlYXNlKSB7XG4gIF9pbmhlcml0c0xvb3NlKEFuaW1hdGVTeW5jR2lmLCBfVHJpZ2dlck9uSW5jcmVhc2UpO1xuXG4gIGZ1bmN0aW9uIEFuaW1hdGVTeW5jR2lmKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1RyaWdnZXJPbkluY3JlYXNlLmNhbGwodGhpcykgfHwgdGhpcztcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCBcImZyb21pZFwiLCBfZGVzY3JpcHRvciwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsIFwic3JjXCIsIF9kZXNjcmlwdG9yMiwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsIFwic2ltdWxhdGlvbnN0ZXBzaXplXCIsIF9kZXNjcmlwdG9yMywgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX3RoaXMubG9hZGVkID0gZmFsc2U7XG4gICAgX3RoaXMuaXNzdG9wcGVkID0gdHJ1ZTtcblxuICAgIF90aGlzLmhhbmRsZVN0YXJ0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vY29uc29sZS5sb2coJ0FuaW1hdGVkSGVhcnQgc3RhcnQgZXZlbnQnKTtcbiAgICAgIC8vdGhpcy5naWYucGxheSgpO1xuICAgICAgX3RoaXMuZ2lmZnJhbWVzcGVyc2ltZnJhbWUgPSBfdGhpcy5naWYuZ2V0X2ZyYW1lcygpLmxlbmd0aCAvICgxIC8gX3RoaXMuc2ltdWxhdGlvbnN0ZXBzaXplKTtcblxuICAgICAgaWYgKCFfdGhpcy5naWYuZ2V0X2xvYWRpbmcoKSkge1xuICAgICAgICBfdGhpcy5naWYubW92ZV90bygwKTsgLy9jb25zb2xlLmxvZygnaGFuZGxlc3RhcnQgc2ltdWxhdGlvbnN0ZXBzaXplLCBmcmFtZXM6Jyx0aGlzLnNpbXVsYXRpb25zdGVwc2l6ZSx0aGlzLmdpZi5nZXRfZnJhbWVzKCkubGVuZ3RoKTtcblxuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTdG9wID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vY29uc29sZS5sb2coJ0FuaW1hdGVkSGVhcnQgc3RvcCBldmVudCcpO1xuICAgICAgLy90aGlzLmdpZi5tb3ZlX3JlbGF0aXZlKDEpO1xuICAgICAgaWYgKCFfdGhpcy5naWYuZ2V0X2xvYWRpbmcoKSkgX3RoaXMuZ2lmLnBhdXNlKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBBbmltYXRlU3luY0dpZi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmF0dGFjaGVkID0gZnVuY3Rpb24gYXR0YWNoZWQoKSB7XG4gICAgX1RyaWdnZXJPbkluY3JlYXNlLnByb3RvdHlwZS5hdHRhY2hlZC5jYWxsKHRoaXMpOyAvL3RoaXMuaW1nZWwgLSBpcyByZWZlcmVuY2VkIGZyb20gdmlldyAoSFRNTClcbiAgICAvL2NvbnNvbGUubG9nKCdhbmltYXRlZGhlYXJ0MiBpbWdlbCcsIHRoaXMuaW1nZWwpO1xuXG5cbiAgICB0aGlzLmdpZiA9IG5ldyBfbGliZ2lmW1wiZGVmYXVsdFwiXSh7XG4gICAgICBnaWY6IHRoaXMuaW1nZWwsXG4gICAgICBhdXRvX3BsYXk6IGZhbHNlLFxuICAgICAgcnViYmFibGU6IHRydWVcbiAgICB9KTsgLy9jb25zb2xlLmxvZygnYW5pbWF0ZWRoZWFydDIgZ2lmJywgdGhpcy5naWYpO1xuXG4gICAgdGhpcy5naWYubG9hZCgpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnJvbWlkKS5hZGRFdmVudExpc3RlbmVyKCdmbWlzdGFydCcsIHRoaXMuaGFuZGxlU3RhcnQpOyAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnJvbWlkKS5hZGRFdmVudExpc3RlbmVyKCdmbWlkYXRhJywgdGhpcy5oYW5kbGVTdGFydCk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCkuYWRkRXZlbnRMaXN0ZW5lcignZm1pc3RvcCcsIHRoaXMuaGFuZGxlU3RvcCk7XG4gICAgdGhpcy5jdXJyZW50ZnJhbWVyZWFsID0gMDtcbiAgICBpZiAodHlwZW9mIHRoaXMuc2ltdWxhdGlvbnN0ZXBzaXplID09PSAnIHN0cmluZycpIHRoaXMuc2ltdWxhdGlvbnN0ZXBzaXplID0gcGFyc2VGbG9hdCh0aGlzLnNpbXVsYXRpb25zdGVwc2l6ZSk7XG4gIH07XG5cbiAgX3Byb3RvLm5vcm1hbEFjdGlvbiA9IGZ1bmN0aW9uIG5vcm1hbEFjdGlvbigpIHtcbiAgICB0aGlzLmN1cnJlbnRmcmFtZXJlYWwgKz0gdGhpcy5naWZmcmFtZXNwZXJzaW1mcmFtZTsgLy9pbmNyZWFzZSBnaWYgZnJhbWUgLSBiYXNlZCBvbiBob3cgbWFueSBmcmFtZXMgYXJlIHRoZXIgcGVyIHNpbXVsYXRpb24gZnJhbWVcblxuICAgIHRoaXMuY3VycmVudGZyYW1lID0gTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRmcmFtZXJlYWwpO1xuICAgIGlmICghdGhpcy5naWYuZ2V0X2xvYWRpbmcoKSkgdGhpcy5naWYubW92ZV90byh0aGlzLmN1cnJlbnRmcmFtZSk7XG4gIH07XG5cbiAgX3Byb3RvLnRyaWdnZXIgPSBmdW5jdGlvbiB0cmlnZ2VyKCkge1xuICAgIHRoaXMuY3VycmVudGZyYW1lcmVhbCA9IDA7XG4gICAgaWYgKCF0aGlzLmdpZi5nZXRfbG9hZGluZygpKSB0aGlzLmdpZi5tb3ZlX3RvKDApOyAvLyBzZXQgdG8gZnJhbWUgMFxuICB9O1xuXG4gIHJldHVybiBBbmltYXRlU3luY0dpZjtcbn0oX3RyaWdnZXJPbkluY3JlYXNlLlRyaWdnZXJPbkluY3JlYXNlKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZnJvbWlkXCIsIFtfYXVyZWxpYVRlbXBsYXRpbmcuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNyY1wiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzaW11bGF0aW9uc3RlcHNpemVcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAwLjAxO1xuICB9XG59KSksIF9jbGFzcyk7XG5leHBvcnRzLkFuaW1hdGVTeW5jR2lmID0gQW5pbWF0ZVN5bmNHaWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltYXRlLXN5bmMtZ2lmLmpzLm1hcFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-sync-gif\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/animate-sync-gif.html":
/*!**************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/animate-sync-gif.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template bindable=\\\"src\\\">\\n  <img ref=\\\"imgel\\\" src=\\\"${src}\\\" width=\\\"360\\\" height=\\\"360\\\" rel:auto_play=\\\"0\\\" rel:/>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2FuaW1hdGUtc3luYy1naWYuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9hbmltYXRlLXN5bmMtZ2lmLmh0bWw/N2YyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlIGJpbmRhYmxlPVxcXCJzcmNcXFwiPlxcbiAgPGltZyByZWY9XFxcImltZ2VsXFxcIiBzcmM9XFxcIiR7c3JjfVxcXCIgd2lkdGg9XFxcIjM2MFxcXCIgaGVpZ2h0PVxcXCIzNjBcXFwiIHJlbDphdXRvX3BsYXk9XFxcIjBcXFwiIHJlbDovPlxcbjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/animate-sync-gif.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/audio-on-decrease":
/*!*************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/audio-on-decrease.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.AudioOnDecreaseCustomElement = void 0;\n\nvar _aureliaTemplating = __webpack_require__(/*! aurelia-templating */ \"SkM8\");\n\nvar _audioOnIncrease = __webpack_require__(/*! ./audio-on-increase */ \"aurelia-bodylight-plugin/elements/audio-on-increase\");\n\nvar _dec, _class, _class2, _descriptor, _descriptor2, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n//import {PLATFORM} from 'aurelia-pal';\n//@customElement\n//@useView(PLATFORM.moduleName('./audio-on-increase.html'))\nvar AudioOnDecreaseCustomElement = (_dec = (0, _aureliaTemplating.useView)('./audio-on-increase.html'), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_AudioOnIncrease) {\n  _inheritsLoose(AudioOnDecreaseCustomElement, _AudioOnIncrease);\n\n  function AudioOnDecreaseCustomElement() {\n    var _this;\n\n    _this = _AudioOnIncrease.call(this) || this; //create lambda function which is added as listener later\n\n    _initializerDefineProperty(_this, \"thresholdvalue\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"src\", _descriptor2, _assertThisInitialized(_this));\n\n    _this.handleValueChange = function (e) {\n      _this.value = e.detail.data[_this.refindex] * _this.numerator / _this.denominator;\n\n      if (_this.value < _this.thresholdvalue) {\n        if (!_this.triggered) _this.trigger();\n      } else {\n        if (_this.triggered) {\n          _this.triggered = false;\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  return AudioOnDecreaseCustomElement;\n}(_audioOnIncrease.AudioOnIncrease), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"thresholdvalue\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"src\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.AudioOnDecreaseCustomElement = AudioOnDecreaseCustomElement;\n//# sourceMappingURL=audio-on-decrease.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2F1ZGlvLW9uLWRlY3JlYXNlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2F1ZGlvLW9uLWRlY3JlYXNlLmpzPzMyZDgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkF1ZGlvT25EZWNyZWFzZUN1c3RvbUVsZW1lbnQgPSB2b2lkIDA7XG5cbnZhciBfYXVyZWxpYVRlbXBsYXRpbmcgPSByZXF1aXJlKFwiYXVyZWxpYS10ZW1wbGF0aW5nXCIpO1xuXG52YXIgX2F1ZGlvT25JbmNyZWFzZSA9IHJlcXVpcmUoXCIuL2F1ZGlvLW9uLWluY3JlYXNlXCIpO1xuXG52YXIgX2RlYywgX2NsYXNzLCBfY2xhc3MyLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cbi8vaW1wb3J0IHtQTEFURk9STX0gZnJvbSAnYXVyZWxpYS1wYWwnO1xuLy9AY3VzdG9tRWxlbWVudFxuLy9AdXNlVmlldyhQTEFURk9STS5tb2R1bGVOYW1lKCcuL2F1ZGlvLW9uLWluY3JlYXNlLmh0bWwnKSlcbnZhciBBdWRpb09uRGVjcmVhc2VDdXN0b21FbGVtZW50ID0gKF9kZWMgPSAoMCwgX2F1cmVsaWFUZW1wbGF0aW5nLnVzZVZpZXcpKCcuL2F1ZGlvLW9uLWluY3JlYXNlLmh0bWwnKSwgX2RlYyhfY2xhc3MgPSAoX2NsYXNzMiA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0F1ZGlvT25JbmNyZWFzZSkge1xuICBfaW5oZXJpdHNMb29zZShBdWRpb09uRGVjcmVhc2VDdXN0b21FbGVtZW50LCBfQXVkaW9PbkluY3JlYXNlKTtcblxuICBmdW5jdGlvbiBBdWRpb09uRGVjcmVhc2VDdXN0b21FbGVtZW50KCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0F1ZGlvT25JbmNyZWFzZS5jYWxsKHRoaXMpIHx8IHRoaXM7IC8vY3JlYXRlIGxhbWJkYSBmdW5jdGlvbiB3aGljaCBpcyBhZGRlZCBhcyBsaXN0ZW5lciBsYXRlclxuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsIFwidGhyZXNob2xkdmFsdWVcIiwgX2Rlc2NyaXB0b3IsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCBcInNyY1wiLCBfZGVzY3JpcHRvcjIsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIF90aGlzLmhhbmRsZVZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnZhbHVlID0gZS5kZXRhaWwuZGF0YVtfdGhpcy5yZWZpbmRleF0gKiBfdGhpcy5udW1lcmF0b3IgLyBfdGhpcy5kZW5vbWluYXRvcjtcblxuICAgICAgaWYgKF90aGlzLnZhbHVlIDwgX3RoaXMudGhyZXNob2xkdmFsdWUpIHtcbiAgICAgICAgaWYgKCFfdGhpcy50cmlnZ2VyZWQpIF90aGlzLnRyaWdnZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChfdGhpcy50cmlnZ2VyZWQpIHtcbiAgICAgICAgICBfdGhpcy50cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gQXVkaW9PbkRlY3JlYXNlQ3VzdG9tRWxlbWVudDtcbn0oX2F1ZGlvT25JbmNyZWFzZS5BdWRpb09uSW5jcmVhc2UpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsIFwidGhyZXNob2xkdmFsdWVcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzczIucHJvdG90eXBlLCBcInNyY1wiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSkpLCBfY2xhc3MyKSkgfHwgX2NsYXNzKTtcbmV4cG9ydHMuQXVkaW9PbkRlY3JlYXNlQ3VzdG9tRWxlbWVudCA9IEF1ZGlvT25EZWNyZWFzZUN1c3RvbUVsZW1lbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1vbi1kZWNyZWFzZS5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/audio-on-decrease\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/audio-on-decrease.html":
/*!***************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/audio-on-decrease.html ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template><!--not rendered, inherited from bdl-audio-on-increase VIEW in JS code--></template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2F1ZGlvLW9uLWRlY3JlYXNlLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2Rpc3QvbmF0aXZlLW1vZHVsZXMvZWxlbWVudHMvYXVkaW8tb24tZGVjcmVhc2UuaHRtbD81ODU5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8dGVtcGxhdGU+PCEtLW5vdCByZW5kZXJlZCwgaW5oZXJpdGVkIGZyb20gYmRsLWF1ZGlvLW9uLWluY3JlYXNlIFZJRVcgaW4gSlMgY29kZS0tPjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/audio-on-decrease.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/audio-on-increase":
/*!*************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/audio-on-increase.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.AudioOnIncrease = void 0;\n\nvar _aureliaTemplating = __webpack_require__(/*! aurelia-templating */ \"SkM8\");\n\nvar _triggerOnIncrease = __webpack_require__(/*! ./trigger-on-increase */ \"aurelia-bodylight-plugin/elements/trigger-on-increase\");\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nvar AudioOnIncrease = (_class = (_temp = /*#__PURE__*/function (_TriggerOnIncrease) {\n  _inheritsLoose(AudioOnIncrease, _TriggerOnIncrease);\n\n  function AudioOnIncrease() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _TriggerOnIncrease.call.apply(_TriggerOnIncrease, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_this, \"thresholdvalue\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"src\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"controls\", _descriptor3, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  var _proto = AudioOnIncrease.prototype;\n\n  _proto.attached = function attached() {\n    _TriggerOnIncrease.prototype.attached.call(this);\n\n    console.log('audioonincrease attached');\n    this.played = false;\n  };\n\n  _proto.trigger = function trigger() {\n    //console.log('triggered');\n    //this.triggered = true;\n    if (!this.played || this.audioctl.ended) {\n      this.audioctl.play();\n      this.played = true;\n    }\n  };\n\n  return AudioOnIncrease;\n}(_triggerOnIncrease.TriggerOnIncrease), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"thresholdvalue\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"src\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"controls\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n})), _class);\nexports.AudioOnIncrease = AudioOnIncrease;\n//# sourceMappingURL=audio-on-increase.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2F1ZGlvLW9uLWluY3JlYXNlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2F1ZGlvLW9uLWluY3JlYXNlLmpzPzkxOWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkF1ZGlvT25JbmNyZWFzZSA9IHZvaWQgMDtcblxudmFyIF9hdXJlbGlhVGVtcGxhdGluZyA9IHJlcXVpcmUoXCJhdXJlbGlhLXRlbXBsYXRpbmdcIik7XG5cbnZhciBfdHJpZ2dlck9uSW5jcmVhc2UgPSByZXF1aXJlKFwiLi90cmlnZ2VyLW9uLWluY3JlYXNlXCIpO1xuXG52YXIgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF90ZW1wO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxudmFyIEF1ZGlvT25JbmNyZWFzZSA9IChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9UcmlnZ2VyT25JbmNyZWFzZSkge1xuICBfaW5oZXJpdHNMb29zZShBdWRpb09uSW5jcmVhc2UsIF9UcmlnZ2VyT25JbmNyZWFzZSk7XG5cbiAgZnVuY3Rpb24gQXVkaW9PbkluY3JlYXNlKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9UcmlnZ2VyT25JbmNyZWFzZS5jYWxsLmFwcGx5KF9UcmlnZ2VyT25JbmNyZWFzZSwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCBcInRocmVzaG9sZHZhbHVlXCIsIF9kZXNjcmlwdG9yLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgXCJzcmNcIiwgX2Rlc2NyaXB0b3IyLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgXCJjb250cm9sc1wiLCBfZGVzY3JpcHRvcjMsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBBdWRpb09uSW5jcmVhc2UucHJvdG90eXBlO1xuXG4gIF9wcm90by5hdHRhY2hlZCA9IGZ1bmN0aW9uIGF0dGFjaGVkKCkge1xuICAgIF9UcmlnZ2VyT25JbmNyZWFzZS5wcm90b3R5cGUuYXR0YWNoZWQuY2FsbCh0aGlzKTtcblxuICAgIGNvbnNvbGUubG9nKCdhdWRpb29uaW5jcmVhc2UgYXR0YWNoZWQnKTtcbiAgICB0aGlzLnBsYXllZCA9IGZhbHNlO1xuICB9O1xuXG4gIF9wcm90by50cmlnZ2VyID0gZnVuY3Rpb24gdHJpZ2dlcigpIHtcbiAgICAvL2NvbnNvbGUubG9nKCd0cmlnZ2VyZWQnKTtcbiAgICAvL3RoaXMudHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICBpZiAoIXRoaXMucGxheWVkIHx8IHRoaXMuYXVkaW9jdGwuZW5kZWQpIHtcbiAgICAgIHRoaXMuYXVkaW9jdGwucGxheSgpO1xuICAgICAgdGhpcy5wbGF5ZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQXVkaW9PbkluY3JlYXNlO1xufShfdHJpZ2dlck9uSW5jcmVhc2UuVHJpZ2dlck9uSW5jcmVhc2UpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0aHJlc2hvbGR2YWx1ZVwiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzcmNcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY29udHJvbHNcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkpLCBfY2xhc3MpO1xuZXhwb3J0cy5BdWRpb09uSW5jcmVhc2UgPSBBdWRpb09uSW5jcmVhc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby1vbi1pbmNyZWFzZS5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/audio-on-increase\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/audio-on-increase.html":
/*!***************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/audio-on-increase.html ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template bindable=\\\"src,controls\\\">\\n  <audio ref=\\\"audioctl\\\" controls.bind=\\\"controls\\\">\\n      <source src.bind=\\\"src\\\" type=\\\"audio/mpeg\\\">\\n      Your browser does not support the audio element.\\n  </audio>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2F1ZGlvLW9uLWluY3JlYXNlLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2Rpc3QvbmF0aXZlLW1vZHVsZXMvZWxlbWVudHMvYXVkaW8tb24taW5jcmVhc2UuaHRtbD9hNjIxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8dGVtcGxhdGUgYmluZGFibGU9XFxcInNyYyxjb250cm9sc1xcXCI+XFxuICA8YXVkaW8gcmVmPVxcXCJhdWRpb2N0bFxcXCIgY29udHJvbHMuYmluZD1cXFwiY29udHJvbHNcXFwiPlxcbiAgICAgIDxzb3VyY2Ugc3JjLmJpbmQ9XFxcInNyY1xcXCIgdHlwZT1cXFwiYXVkaW8vbXBlZ1xcXCI+XFxuICAgICAgWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGF1ZGlvIGVsZW1lbnQuXFxuICA8L2F1ZGlvPlxcbjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/audio-on-increase.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/beaker.html":
/*!****************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/beaker.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template bindable=\\\"bwidth,bheight,width,height,color\\\">\\n    <svg version=\\\"1.1\\\" id=\\\"kadinka\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n         xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0\\\" y=\\\"0\\\"\\n         viewBox=\\\"0 0 210.36 258\\\" xml:space=\\\"preserve\\\" width=\\\"${width}\\\" height=\\\"${height}\\\">\\n        <g id=\\\"kadinka\\\" style=\\\"transform:scaleX(${bwidth/100})\\\">\\n            <g id=\\\"kadinkaUvnitr\\\" clip-path=\\\"url(#SVGID_2_)\\\">\\n                <defs>\\n                    <path id=\\\"SVGID_1_\\\" d=\\\"M192.18 251.11h-173c-8.94 0-16.18-7.24-16.18-16.18V21.29c0-8.94 7.24-16.18 16.18-16.18h173c8.94 0 16.18 7.24 16.18 16.18v213.64c0 8.94-7.24 16.18-16.18 16.18z\\\"/></defs>\\n                <clipPath id=\\\"SVGID_2_\\\">\\n                    <use xlink:href=\\\"#SVGID_1_\\\" overflow=\\\"hidden\\\"/>\\n                </clipPath>\\n                <path id=\\\"kadinkaPozadi\\\" fill=\\\"#d4ecf8\\\" d=\\\"M3 13.11h205.36v238H3z\\\"/>\\n                <path id=\\\"kadinkaTekutina\\\" fill=\\\"${color}\\\" d=\\\"M3 13.11h205.36v238H3z\\\" style=\\\"transform:matrix(1,0,0,${bheight/100},0,${251-bheight*2.5})\\\"/>\\n            </g>\\n            <path id=\\\"kadinkaTah\\\" d=\\\"M208.36 4.29v230.64c0 8.94-7.24 16.18-16.18 16.18h-173c-8.94 0-16.18-7.24-16.18-16.18V4.29\\\" fill=\\\"none\\\" stroke=\\\"#000000\\\" stroke-miterlimit=\\\"10\\\"/>\\n        </g>\\n    </svg>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2JlYWtlci5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2JlYWtlci5odG1sP2JkODEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZSBiaW5kYWJsZT1cXFwiYndpZHRoLGJoZWlnaHQsd2lkdGgsaGVpZ2h0LGNvbG9yXFxcIj5cXG4gICAgPHN2ZyB2ZXJzaW9uPVxcXCIxLjFcXFwiIGlkPVxcXCJrYWRpbmthXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiXFxuICAgICAgICAgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHg9XFxcIjBcXFwiIHk9XFxcIjBcXFwiXFxuICAgICAgICAgdmlld0JveD1cXFwiMCAwIDIxMC4zNiAyNThcXFwiIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiIHdpZHRoPVxcXCIke3dpZHRofVxcXCIgaGVpZ2h0PVxcXCIke2hlaWdodH1cXFwiPlxcbiAgICAgICAgPGcgaWQ9XFxcImthZGlua2FcXFwiIHN0eWxlPVxcXCJ0cmFuc2Zvcm06c2NhbGVYKCR7YndpZHRoLzEwMH0pXFxcIj5cXG4gICAgICAgICAgICA8ZyBpZD1cXFwia2FkaW5rYVV2bml0clxcXCIgY2xpcC1wYXRoPVxcXCJ1cmwoI1NWR0lEXzJfKVxcXCI+XFxuICAgICAgICAgICAgICAgIDxkZWZzPlxcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggaWQ9XFxcIlNWR0lEXzFfXFxcIiBkPVxcXCJNMTkyLjE4IDI1MS4xMWgtMTczYy04Ljk0IDAtMTYuMTgtNy4yNC0xNi4xOC0xNi4xOFYyMS4yOWMwLTguOTQgNy4yNC0xNi4xOCAxNi4xOC0xNi4xOGgxNzNjOC45NCAwIDE2LjE4IDcuMjQgMTYuMTggMTYuMTh2MjEzLjY0YzAgOC45NC03LjI0IDE2LjE4LTE2LjE4IDE2LjE4elxcXCIvPjwvZGVmcz5cXG4gICAgICAgICAgICAgICAgPGNsaXBQYXRoIGlkPVxcXCJTVkdJRF8yX1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNTVkdJRF8xX1xcXCIgb3ZlcmZsb3c9XFxcImhpZGRlblxcXCIvPlxcbiAgICAgICAgICAgICAgICA8L2NsaXBQYXRoPlxcbiAgICAgICAgICAgICAgICA8cGF0aCBpZD1cXFwia2FkaW5rYVBvemFkaVxcXCIgZmlsbD1cXFwiI2Q0ZWNmOFxcXCIgZD1cXFwiTTMgMTMuMTFoMjA1LjM2djIzOEgzelxcXCIvPlxcbiAgICAgICAgICAgICAgICA8cGF0aCBpZD1cXFwia2FkaW5rYVRla3V0aW5hXFxcIiBmaWxsPVxcXCIke2NvbG9yfVxcXCIgZD1cXFwiTTMgMTMuMTFoMjA1LjM2djIzOEgzelxcXCIgc3R5bGU9XFxcInRyYW5zZm9ybTptYXRyaXgoMSwwLDAsJHtiaGVpZ2h0LzEwMH0sMCwkezI1MS1iaGVpZ2h0KjIuNX0pXFxcIi8+XFxuICAgICAgICAgICAgPC9nPlxcbiAgICAgICAgICAgIDxwYXRoIGlkPVxcXCJrYWRpbmthVGFoXFxcIiBkPVxcXCJNMjA4LjM2IDQuMjl2MjMwLjY0YzAgOC45NC03LjI0IDE2LjE4LTE2LjE4IDE2LjE4aC0xNzNjLTguOTQgMC0xNi4xOC03LjI0LTE2LjE4LTE2LjE4VjQuMjlcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHN0cm9rZT1cXFwiIzAwMDAwMFxcXCIgc3Ryb2tlLW1pdGVybGltaXQ9XFxcIjEwXFxcIi8+XFxuICAgICAgICA8L2c+XFxuICAgIDwvc3ZnPlxcblxcbjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/beaker.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/beakercontrols.html":
/*!************************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/beakercontrols.html ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = \"<template bindable=\\\"bwidth,bwidthmin,bwidthmax,bheight,bheightmin,bheightmax,id,color\\\">\\n    <require from=\\\"./range.html\\\"></require>\\n    <require from=\\\"./beaker.html\\\"></require>\\n\\n    <range id=\\\"${id}-ranges\\\" min=\\\"${bwidthmin}\\\" max=\\\"${bwidthmax}\\\" default=\\\"${bwidth}\\\" title=\\\"ka\\\" value.two-way=\\\"mybwidth\\\"></range>\\n    <range id=\\\"${id}-rangev\\\" min=\\\"${bheightmin}\\\" max=\\\"${bheightmax}\\\" default=\\\"${bheight}\\\" title=\\\"Vka\\\" value.two-way=\\\"mybheight\\\"></range>\\n    <beaker id=\\\"${id}-beaker\\\" bwidth.bind=\\\"mybwidth\\\" bheight.bind=\\\"mybheight\\\" width=\\\"400\\\" height=\\\"400\\\" color=\\\"${color}\\\"></beaker>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2JlYWtlcmNvbnRyb2xzLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2Rpc3QvbmF0aXZlLW1vZHVsZXMvZWxlbWVudHMvYmVha2VyY29udHJvbHMuaHRtbD8zZjVjIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8dGVtcGxhdGUgYmluZGFibGU9XFxcImJ3aWR0aCxid2lkdGhtaW4sYndpZHRobWF4LGJoZWlnaHQsYmhlaWdodG1pbixiaGVpZ2h0bWF4LGlkLGNvbG9yXFxcIj5cXG4gICAgPHJlcXVpcmUgZnJvbT1cXFwiLi9yYW5nZS5odG1sXFxcIj48L3JlcXVpcmU+XFxuICAgIDxyZXF1aXJlIGZyb209XFxcIi4vYmVha2VyLmh0bWxcXFwiPjwvcmVxdWlyZT5cXG5cXG4gICAgPHJhbmdlIGlkPVxcXCIke2lkfS1yYW5nZXNcXFwiIG1pbj1cXFwiJHtid2lkdGhtaW59XFxcIiBtYXg9XFxcIiR7YndpZHRobWF4fVxcXCIgZGVmYXVsdD1cXFwiJHtid2lkdGh9XFxcIiB0aXRsZT1cXFwixaDDrcWZa2FcXFwiIHZhbHVlLnR3by13YXk9XFxcIm15YndpZHRoXFxcIj48L3JhbmdlPlxcbiAgICA8cmFuZ2UgaWQ9XFxcIiR7aWR9LXJhbmdldlxcXCIgbWluPVxcXCIke2JoZWlnaHRtaW59XFxcIiBtYXg9XFxcIiR7YmhlaWdodG1heH1cXFwiIGRlZmF1bHQ9XFxcIiR7YmhlaWdodH1cXFwiIHRpdGxlPVxcXCJWw73FoWthXFxcIiB2YWx1ZS50d28td2F5PVxcXCJteWJoZWlnaHRcXFwiPjwvcmFuZ2U+XFxuICAgIDxiZWFrZXIgaWQ9XFxcIiR7aWR9LWJlYWtlclxcXCIgYndpZHRoLmJpbmQ9XFxcIm15YndpZHRoXFxcIiBiaGVpZ2h0LmJpbmQ9XFxcIm15YmhlaWdodFxcXCIgd2lkdGg9XFxcIjQwMFxcXCIgaGVpZ2h0PVxcXCI0MDBcXFwiIGNvbG9yPVxcXCIke2NvbG9yfVxcXCI+PC9iZWFrZXI+XFxuPC90ZW1wbGF0ZT5cXG5cIjsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/beakercontrols.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/bind2a":
/*!**************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/bind2a.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.Bind2a = void 0;\n\nvar _aureliaTemplating = __webpack_require__(/*! aurelia-templating */ \"SkM8\");\n\nvar _bind2animation = __webpack_require__(/*! ./bind2animation */ \"aHrh\");\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n/**\n * component used to define binding between Adobe Animation object and FMU model simulation\n */\nvar Bind2a = (_class = (_temp = /*#__PURE__*/function () {\n  //id of animate - optionall, g\n  //id of fmu component -optional\n  //name of animation component in AA\n  //index of variable in fmu array\n  //minimal value in animate component\n  //maximal value in animate component\n  //minimal value of variable from fmu model\n  //maximal value of variable from fmu model\n  function Bind2a() {\n    _initializerDefineProperty(this, \"aid\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"fid\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"aname\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"findex\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"amin\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"amax\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"fmin\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"fmax\", _descriptor8, this);\n\n    this.index = 0;\n  } //it is called when all bindable properties are set to class instance;\n\n\n  var _proto = Bind2a.prototype;\n\n  _proto.bind = function bind() {\n    //push into array\n    this.amin = parseFloat(this.amin);\n    this.amax = parseFloat(this.amax);\n    this.fmin = parseFloat(this.fmin);\n    this.fmax = parseFloat(this.fmax); //create bind2animation structure\n\n    var binding = new _bind2animation.Bind2animation(this.findex, this.aname, this.amin, this.amax, this.fmin, this.fmax); //create global bind2animation array - it is used then by animate-adobe instance\n\n    if (!window.animatebindings) window.animatebindings = []; //keep index within the array, will be used when detaching\n\n    this.index = window.animatebindings.push(binding) - 1;\n  };\n\n  _proto.unbind = function unbind() {\n    //remove binding structure from global array - using index position\n    window.animatebindings.splice(this.index, 1);\n  };\n\n  return Bind2a;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"aid\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"fid\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"aname\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"findex\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"amin\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"amax\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 100;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"fmin\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"fmax\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 100;\n  }\n})), _class);\nexports.Bind2a = Bind2a;\n//# sourceMappingURL=bind2a.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2JpbmQyYS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9iaW5kMmEuanM/OGVlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuQmluZDJhID0gdm9pZCAwO1xuXG52YXIgX2F1cmVsaWFUZW1wbGF0aW5nID0gcmVxdWlyZShcImF1cmVsaWEtdGVtcGxhdGluZ1wiKTtcblxudmFyIF9iaW5kMmFuaW1hdGlvbiA9IHJlcXVpcmUoXCIuL2JpbmQyYW5pbWF0aW9uXCIpO1xuXG52YXIgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfZGVzY3JpcHRvcjYsIF9kZXNjcmlwdG9yNywgX2Rlc2NyaXB0b3I4LCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG4vKipcbiAqIGNvbXBvbmVudCB1c2VkIHRvIGRlZmluZSBiaW5kaW5nIGJldHdlZW4gQWRvYmUgQW5pbWF0aW9uIG9iamVjdCBhbmQgRk1VIG1vZGVsIHNpbXVsYXRpb25cbiAqL1xudmFyIEJpbmQyYSA9IChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvL2lkIG9mIGFuaW1hdGUgLSBvcHRpb25hbGwsIGdcbiAgLy9pZCBvZiBmbXUgY29tcG9uZW50IC1vcHRpb25hbFxuICAvL25hbWUgb2YgYW5pbWF0aW9uIGNvbXBvbmVudCBpbiBBQVxuICAvL2luZGV4IG9mIHZhcmlhYmxlIGluIGZtdSBhcnJheVxuICAvL21pbmltYWwgdmFsdWUgaW4gYW5pbWF0ZSBjb21wb25lbnRcbiAgLy9tYXhpbWFsIHZhbHVlIGluIGFuaW1hdGUgY29tcG9uZW50XG4gIC8vbWluaW1hbCB2YWx1ZSBvZiB2YXJpYWJsZSBmcm9tIGZtdSBtb2RlbFxuICAvL21heGltYWwgdmFsdWUgb2YgdmFyaWFibGUgZnJvbSBmbXUgbW9kZWxcbiAgZnVuY3Rpb24gQmluZDJhKCkge1xuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWlkXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZmlkXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFuYW1lXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZpbmRleFwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJhbWluXCIsIF9kZXNjcmlwdG9yNSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFtYXhcIiwgX2Rlc2NyaXB0b3I2LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZm1pblwiLCBfZGVzY3JpcHRvcjcsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJmbWF4XCIsIF9kZXNjcmlwdG9yOCwgdGhpcyk7XG5cbiAgICB0aGlzLmluZGV4ID0gMDtcbiAgfSAvL2l0IGlzIGNhbGxlZCB3aGVuIGFsbCBiaW5kYWJsZSBwcm9wZXJ0aWVzIGFyZSBzZXQgdG8gY2xhc3MgaW5zdGFuY2U7XG5cblxuICB2YXIgX3Byb3RvID0gQmluZDJhLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYmluZCA9IGZ1bmN0aW9uIGJpbmQoKSB7XG4gICAgLy9wdXNoIGludG8gYXJyYXlcbiAgICB0aGlzLmFtaW4gPSBwYXJzZUZsb2F0KHRoaXMuYW1pbik7XG4gICAgdGhpcy5hbWF4ID0gcGFyc2VGbG9hdCh0aGlzLmFtYXgpO1xuICAgIHRoaXMuZm1pbiA9IHBhcnNlRmxvYXQodGhpcy5mbWluKTtcbiAgICB0aGlzLmZtYXggPSBwYXJzZUZsb2F0KHRoaXMuZm1heCk7IC8vY3JlYXRlIGJpbmQyYW5pbWF0aW9uIHN0cnVjdHVyZVxuXG4gICAgdmFyIGJpbmRpbmcgPSBuZXcgX2JpbmQyYW5pbWF0aW9uLkJpbmQyYW5pbWF0aW9uKHRoaXMuZmluZGV4LCB0aGlzLmFuYW1lLCB0aGlzLmFtaW4sIHRoaXMuYW1heCwgdGhpcy5mbWluLCB0aGlzLmZtYXgpOyAvL2NyZWF0ZSBnbG9iYWwgYmluZDJhbmltYXRpb24gYXJyYXkgLSBpdCBpcyB1c2VkIHRoZW4gYnkgYW5pbWF0ZS1hZG9iZSBpbnN0YW5jZVxuXG4gICAgaWYgKCF3aW5kb3cuYW5pbWF0ZWJpbmRpbmdzKSB3aW5kb3cuYW5pbWF0ZWJpbmRpbmdzID0gW107IC8va2VlcCBpbmRleCB3aXRoaW4gdGhlIGFycmF5LCB3aWxsIGJlIHVzZWQgd2hlbiBkZXRhY2hpbmdcblxuICAgIHRoaXMuaW5kZXggPSB3aW5kb3cuYW5pbWF0ZWJpbmRpbmdzLnB1c2goYmluZGluZykgLSAxO1xuICB9O1xuXG4gIF9wcm90by51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQoKSB7XG4gICAgLy9yZW1vdmUgYmluZGluZyBzdHJ1Y3R1cmUgZnJvbSBnbG9iYWwgYXJyYXkgLSB1c2luZyBpbmRleCBwb3NpdGlvblxuICAgIHdpbmRvdy5hbmltYXRlYmluZGluZ3Muc3BsaWNlKHRoaXMuaW5kZXgsIDEpO1xuICB9O1xuXG4gIHJldHVybiBCaW5kMmE7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFpZFwiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmaWRcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYW5hbWVcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZmluZGV4XCIsIFtfYXVyZWxpYVRlbXBsYXRpbmcuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFtaW5cIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAwO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I2ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFtYXhcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAxMDA7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjcgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZm1pblwiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjggPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZm1heFwiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDEwMDtcbiAgfVxufSkpLCBfY2xhc3MpO1xuZXhwb3J0cy5CaW5kMmEgPSBCaW5kMmE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kMmEuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/bind2a\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/bind2a.html":
/*!****************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/bind2a.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template></template>\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2JpbmQyYS5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2JpbmQyYS5odG1sPzEzZjgiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT48L3RlbXBsYXRlPlwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/bind2a.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/bind2previous":
/*!*********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/bind2previous.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.Bind2previous = void 0;\n\nvar _aureliaFramework = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n/**\n * Bind2Previous binds two components identified by \"fromid\" and \"toid\" it changes the 'value' attribute of the 'toid' element\n * <bind2previous fromid=\"id1\" toid=\"id2\"></bind2previous>\n *\n * <bdl-fmi id=\"id4\" inputs=\"id4,id1,id6,...\"></bdl-fmi> fmi component registers event listener and change the value on behalf of it\n *\n */\nvar Bind2previous = (_class = (_temp = /*#__PURE__*/function () {\n  function Bind2previous() {\n    var _this = this;\n\n    _initializerDefineProperty(this, \"fromid\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"toid\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"toattribute\", _descriptor3, this);\n\n    //document.getElementById(\"id${window.ids - 2}\").addEventListener(\"change\", myfun${window.ids});\n\n    /*function myfun${window.ids}(event){\n        document.getElementById(\"id${window.ids - 1}\").value = event.target.value;\n    }*/\n    this.handleValueChange = function (e) {\n      //console.log('handleValueChange, e,fromid,toid', e);\n      if (_this.toattribute) document.getElementById(_this.toid)[_this.toattribute] = e.target.value;else document.getElementById(_this.toid).value = e.target.value;\n    };\n  }\n\n  var _proto = Bind2previous.prototype;\n\n  _proto.attached = function attached() {\n    document.getElementById(this.fromid).addEventListener('input', this.handleValueChange);\n  };\n\n  _proto.detached = function detached() {\n    if (document.getElementById(this.fromid)) document.getElementById(this.fromid).removeEventListener('input', this.handleValueChange);\n  };\n\n  return Bind2previous;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"fromid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"toid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"toattribute\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class);\nexports.Bind2previous = Bind2previous;\n//# sourceMappingURL=bind2previous.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2JpbmQycHJldmlvdXMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2Rpc3QvbmF0aXZlLW1vZHVsZXMvZWxlbWVudHMvYmluZDJwcmV2aW91cy5qcz8xNzNkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5CaW5kMnByZXZpb3VzID0gdm9pZCAwO1xuXG52YXIgX2F1cmVsaWFGcmFtZXdvcmsgPSByZXF1aXJlKFwiYXVyZWxpYS1mcmFtZXdvcmtcIik7XG5cbnZhciBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX3RlbXA7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuLyoqXG4gKiBCaW5kMlByZXZpb3VzIGJpbmRzIHR3byBjb21wb25lbnRzIGlkZW50aWZpZWQgYnkgXCJmcm9taWRcIiBhbmQgXCJ0b2lkXCIgaXQgY2hhbmdlcyB0aGUgJ3ZhbHVlJyBhdHRyaWJ1dGUgb2YgdGhlICd0b2lkJyBlbGVtZW50XG4gKiA8YmluZDJwcmV2aW91cyBmcm9taWQ9XCJpZDFcIiB0b2lkPVwiaWQyXCI+PC9iaW5kMnByZXZpb3VzPlxuICpcbiAqIDxiZGwtZm1pIGlkPVwiaWQ0XCIgaW5wdXRzPVwiaWQ0LGlkMSxpZDYsLi4uXCI+PC9iZGwtZm1pPiBmbWkgY29tcG9uZW50IHJlZ2lzdGVycyBldmVudCBsaXN0ZW5lciBhbmQgY2hhbmdlIHRoZSB2YWx1ZSBvbiBiZWhhbGYgb2YgaXRcbiAqXG4gKi9cbnZhciBCaW5kMnByZXZpb3VzID0gKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJpbmQycHJldmlvdXMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZnJvbWlkXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9pZFwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b2F0dHJpYnV0ZVwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkJHt3aW5kb3cuaWRzIC0gMn1cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBteWZ1biR7d2luZG93Lmlkc30pO1xuXG4gICAgLypmdW5jdGlvbiBteWZ1biR7d2luZG93Lmlkc30oZXZlbnQpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkJHt3aW5kb3cuaWRzIC0gMX1cIikudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgfSovXG4gICAgdGhpcy5oYW5kbGVWYWx1ZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKCdoYW5kbGVWYWx1ZUNoYW5nZSwgZSxmcm9taWQsdG9pZCcsIGUpO1xuICAgICAgaWYgKF90aGlzLnRvYXR0cmlidXRlKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfdGhpcy50b2lkKVtfdGhpcy50b2F0dHJpYnV0ZV0gPSBlLnRhcmdldC52YWx1ZTtlbHNlIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLnRvaWQpLnZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBCaW5kMnByZXZpb3VzLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYXR0YWNoZWQgPSBmdW5jdGlvbiBhdHRhY2hlZCgpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCkuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTtcbiAgfTtcblxuICBfcHJvdG8uZGV0YWNoZWQgPSBmdW5jdGlvbiBkZXRhY2hlZCgpIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mcm9taWQpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCkucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTtcbiAgfTtcblxuICByZXR1cm4gQmluZDJwcmV2aW91cztcbn0oKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZnJvbWlkXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidG9pZFwiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRvYXR0cmlidXRlXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pKSwgX2NsYXNzKTtcbmV4cG9ydHMuQmluZDJwcmV2aW91cyA9IEJpbmQycHJldmlvdXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kMnByZXZpb3VzLmpzLm1hcFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/bind2previous\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/bind2previous.html":
/*!***********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/bind2previous.html ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template></template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2JpbmQycHJldmlvdXMuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9iaW5kMnByZXZpb3VzLmh0bWw/MDNlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/bind2previous.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/capillary.html":
/*!*******************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/capillary.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template bindable=\\\"color,strokew,width,height\\\">\\n<svg version=\\\"1.1\\\" id=\\\"Vrstva_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 316 331\\\" style=\\\"enable-background:new 0 0 316 331;\\\" xml:space=\\\"preserve\\\" width=\\\"${width}\\\" height=\\\"${height}\\\">\\n    <path class=\\\"st0\\\" stroke-width=\\\"${strokew*6}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  d=\\\"M316,322.5c-86.43,0-156.5-70.07-156.5-156.5S229.57,9.5,316,9.5\\\"/>\\n    <line class=\\\"st1\\\" stroke-width=\\\"${strokew*12}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  x1=\\\"159.5\\\" y1=\\\"165.5\\\" x2=\\\"0.5\\\" y2=\\\"165.5\\\"/>\\n    <path class=\\\"st2\\\" stroke-width=\\\"${strokew*3}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  d=\\\"M229.26,75.82c4.51-2.07,9.2-4.09,14.06-6c22.17-8.72,47.77-15.28,74.68-15.28\\\"/>\\n    <path class=\\\"st0\\\" stroke-width=\\\"${strokew*6}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  d=\\\"M168.65,113.19c0,0,24.17-20.59,60.62-37.37\\\"/>\\n    <path class=\\\"st2\\\" stroke-width=\\\"${strokew*3}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  d=\\\"M317.5,98.24c-58,0-88.45-22.31-88.45-22.31\\\"/>\\n    <path class=\\\"st2\\\" stroke-width=\\\"${strokew*3}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  d=\\\"M159.61,165.38l88.89,0.12c0,0,5-29.49,69.5-29.49\\\"/>\\n    <path class=\\\"st2\\\" stroke-width=\\\"${strokew*3}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"   d=\\\"M227.78,254.17c5.09,2.4,10.41,4.72,15.93,6.9c22.17,8.72,47.77,15.28,74.68,15.28\\\"/>\\n    <path class=\\\"st0\\\" stroke-width=\\\"${strokew*6}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  d=\\\"M168.03,216.69c0,0,24.13,20.67,59.75,37.48\\\"/>\\n    <path class=\\\"st2\\\" stroke-width=\\\"${strokew*3}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  d=\\\"M317.89,232.64c-58,0-88.45,22.31-88.45,22.31\\\"/>\\n    <path class=\\\"st2\\\" stroke-width=\\\"${strokew*3}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  d=\\\"M248.89,165.38c0,0,5,29.49,69.5,29.49\\\"/>\\n    <line class=\\\"st0\\\" stroke-width=\\\"${strokew*6}\\\" stroke=\\\"${color}\\\" fill=\\\"none\\\"  x1=\\\"160\\\" y1=\\\"165.5\\\" x2=\\\"248.89\\\" y2=\\\"165.38\\\"/>\\n</svg>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2NhcGlsbGFyeS5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2NhcGlsbGFyeS5odG1sPzM2NzMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZSBiaW5kYWJsZT1cXFwiY29sb3Isc3Ryb2tldyx3aWR0aCxoZWlnaHRcXFwiPlxcbjxzdmcgdmVyc2lvbj1cXFwiMS4xXFxcIiBpZD1cXFwiVnJzdHZhXzFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHg9XFxcIjBweFxcXCIgeT1cXFwiMHB4XFxcIlxcblxcdCB2aWV3Qm94PVxcXCIwIDAgMzE2IDMzMVxcXCIgc3R5bGU9XFxcImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzE2IDMzMTtcXFwiIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiIHdpZHRoPVxcXCIke3dpZHRofVxcXCIgaGVpZ2h0PVxcXCIke2hlaWdodH1cXFwiPlxcbiAgICA8cGF0aCBjbGFzcz1cXFwic3QwXFxcIiBzdHJva2Utd2lkdGg9XFxcIiR7c3Ryb2tldyo2fVxcXCIgc3Ryb2tlPVxcXCIke2NvbG9yfVxcXCIgZmlsbD1cXFwibm9uZVxcXCIgIGQ9XFxcIk0zMTYsMzIyLjVjLTg2LjQzLDAtMTU2LjUtNzAuMDctMTU2LjUtMTU2LjVTMjI5LjU3LDkuNSwzMTYsOS41XFxcIi8+XFxuICAgIDxsaW5lIGNsYXNzPVxcXCJzdDFcXFwiIHN0cm9rZS13aWR0aD1cXFwiJHtzdHJva2V3KjEyfVxcXCIgc3Ryb2tlPVxcXCIke2NvbG9yfVxcXCIgZmlsbD1cXFwibm9uZVxcXCIgIHgxPVxcXCIxNTkuNVxcXCIgeTE9XFxcIjE2NS41XFxcIiB4Mj1cXFwiMC41XFxcIiB5Mj1cXFwiMTY1LjVcXFwiLz5cXG4gICAgPHBhdGggY2xhc3M9XFxcInN0MlxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIke3N0cm9rZXcqM31cXFwiIHN0cm9rZT1cXFwiJHtjb2xvcn1cXFwiIGZpbGw9XFxcIm5vbmVcXFwiICBkPVxcXCJNMjI5LjI2LDc1LjgyYzQuNTEtMi4wNyw5LjItNC4wOSwxNC4wNi02YzIyLjE3LTguNzIsNDcuNzctMTUuMjgsNzQuNjgtMTUuMjhcXFwiLz5cXG4gICAgPHBhdGggY2xhc3M9XFxcInN0MFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIke3N0cm9rZXcqNn1cXFwiIHN0cm9rZT1cXFwiJHtjb2xvcn1cXFwiIGZpbGw9XFxcIm5vbmVcXFwiICBkPVxcXCJNMTY4LjY1LDExMy4xOWMwLDAsMjQuMTctMjAuNTksNjAuNjItMzcuMzdcXFwiLz5cXG4gICAgPHBhdGggY2xhc3M9XFxcInN0MlxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIke3N0cm9rZXcqM31cXFwiIHN0cm9rZT1cXFwiJHtjb2xvcn1cXFwiIGZpbGw9XFxcIm5vbmVcXFwiICBkPVxcXCJNMzE3LjUsOTguMjRjLTU4LDAtODguNDUtMjIuMzEtODguNDUtMjIuMzFcXFwiLz5cXG4gICAgPHBhdGggY2xhc3M9XFxcInN0MlxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIke3N0cm9rZXcqM31cXFwiIHN0cm9rZT1cXFwiJHtjb2xvcn1cXFwiIGZpbGw9XFxcIm5vbmVcXFwiICBkPVxcXCJNMTU5LjYxLDE2NS4zOGw4OC44OSwwLjEyYzAsMCw1LTI5LjQ5LDY5LjUtMjkuNDlcXFwiLz5cXG4gICAgPHBhdGggY2xhc3M9XFxcInN0MlxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIke3N0cm9rZXcqM31cXFwiIHN0cm9rZT1cXFwiJHtjb2xvcn1cXFwiIGZpbGw9XFxcIm5vbmVcXFwiICAgZD1cXFwiTTIyNy43OCwyNTQuMTdjNS4wOSwyLjQsMTAuNDEsNC43MiwxNS45Myw2LjljMjIuMTcsOC43Miw0Ny43NywxNS4yOCw3NC42OCwxNS4yOFxcXCIvPlxcbiAgICA8cGF0aCBjbGFzcz1cXFwic3QwXFxcIiBzdHJva2Utd2lkdGg9XFxcIiR7c3Ryb2tldyo2fVxcXCIgc3Ryb2tlPVxcXCIke2NvbG9yfVxcXCIgZmlsbD1cXFwibm9uZVxcXCIgIGQ9XFxcIk0xNjguMDMsMjE2LjY5YzAsMCwyNC4xMywyMC42Nyw1OS43NSwzNy40OFxcXCIvPlxcbiAgICA8cGF0aCBjbGFzcz1cXFwic3QyXFxcIiBzdHJva2Utd2lkdGg9XFxcIiR7c3Ryb2tldyozfVxcXCIgc3Ryb2tlPVxcXCIke2NvbG9yfVxcXCIgZmlsbD1cXFwibm9uZVxcXCIgIGQ9XFxcIk0zMTcuODksMjMyLjY0Yy01OCwwLTg4LjQ1LDIyLjMxLTg4LjQ1LDIyLjMxXFxcIi8+XFxuICAgIDxwYXRoIGNsYXNzPVxcXCJzdDJcXFwiIHN0cm9rZS13aWR0aD1cXFwiJHtzdHJva2V3KjN9XFxcIiBzdHJva2U9XFxcIiR7Y29sb3J9XFxcIiBmaWxsPVxcXCJub25lXFxcIiAgZD1cXFwiTTI0OC44OSwxNjUuMzhjMCwwLDUsMjkuNDksNjkuNSwyOS40OVxcXCIvPlxcbiAgICA8bGluZSBjbGFzcz1cXFwic3QwXFxcIiBzdHJva2Utd2lkdGg9XFxcIiR7c3Ryb2tldyo2fVxcXCIgc3Ryb2tlPVxcXCIke2NvbG9yfVxcXCIgZmlsbD1cXFwibm9uZVxcXCIgIHgxPVxcXCIxNjBcXFwiIHkxPVxcXCIxNjUuNVxcXCIgeDI9XFxcIjI0OC44OVxcXCIgeTI9XFxcIjE2NS4zOFxcXCIvPlxcbjwvc3ZnPlxcblxcbjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/capillary.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/chartjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/chartjs.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.Chartjs = void 0;\n\nvar _chart = _interopRequireDefault(__webpack_require__(/*! chart.js */ \"MO+k\"));\n\nvar _aureliaFramework = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _temp;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nvar Chartjs = (_class = (_temp = /*#__PURE__*/function () {\n  //id to listen addsection event\n  //may be configured by subclasses\n\n  /**\n   * initializes handlers for event processing - this is recommended way\n   */\n  function Chartjs() {\n    var _this = this;\n\n    _initializerDefineProperty(this, \"fromid\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"labels\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"refindex\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"refvalues\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"type\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"maxdata\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"initialdata\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"width\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"height\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"animate\", _descriptor10, this);\n\n    _initializerDefineProperty(this, \"id\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"ylabel\", _descriptor12, this);\n\n    _initializerDefineProperty(this, \"xlabel\", _descriptor13, this);\n\n    _initializerDefineProperty(this, \"convertors\", _descriptor14, this);\n\n    _initializerDefineProperty(this, \"verticalline\", _descriptor15, this);\n\n    _initializerDefineProperty(this, \"sectionid\", _descriptor16, this);\n\n    this.indexsection = 0;\n    this.datalabels = false;\n\n    this.handleValueChange = function (e) {\n      //sets data to dataset\n      //apply value convert among all data\n      var rawdata = e.detail.data.slice(_this.refindex, _this.refendindex); //if convert operation is defined as array\n\n      if (_this.operation) {\n        for (var i = 0; i < rawdata.length; i++) {\n          //if particular operation is defined\n          if (_this.operation[i]) rawdata[i] = _this.operation[i](rawdata[i]);\n        }\n      }\n\n      _this.chart.data.datasets[0].data = rawdata;\n\n      _this.chart.update();\n    };\n\n    this.handleReset = function (e) {\n      //console.log('handlereset');\n      _this.resetdata();\n\n      _this.chart.update();\n    };\n\n    this.handleAddSection = function (e) {\n      _this.addSection(e.detail.label);\n    };\n  }\n  /**\n   * empties data in every dataset and empties section\n   */\n\n\n  var _proto = Chartjs.prototype;\n\n  _proto.resetdata = function resetdata() {\n    for (var _iterator = _createForOfIteratorHelperLoose(this.chart.data.dataset), _step; !(_step = _iterator()).done;) {\n      var dataset = _step.value;\n      dataset.data = [];\n    }\n\n    if (this.sectionid) this.chart.config.options.section = [];\n  }\n  /**\n   * Returns unique color per index- neighbouring colors are different using golden angle approximation\n   * @param index\n   * @returns {string} usable by CSS or DOM elements\n   */\n  //  const hue = (i - 1) * 137.508; // use golden angle approximation\n  //  var color = `hsl(${hue},85%,91%)`;\n  ;\n\n  _proto.selectColor = function selectColor(index, saturation, lightness) {\n    if (saturation === void 0) {\n      saturation = 55;\n    }\n\n    if (lightness === void 0) {\n      lightness = 55;\n    }\n\n    var hue = (index - 1) * 137.508; // use golden angle approximation\n\n    return \"hsl(\" + hue + \",\" + saturation + \"%,\" + lightness + \"%)\";\n  }\n  /**\n   * process all attributes of <bdl-chart> component and sets appropriate settings of subesquent chartjs\n   */\n  ;\n\n  _proto.bind = function bind() {\n    var _this2 = this;\n\n    this.refindex = parseInt(this.refindex, 10);\n    this.refvalues = parseInt(this.refvalues, 10);\n    this.refendindex = this.refindex + this.refvalues; //configure convertors - used to convert units received from fmi\n\n    if (this.convertors) {\n      var convertvalues = this.convertors.split(';');\n\n      var identity = function identity(x) {\n        return x;\n      };\n\n      this.operation = [];\n\n      for (var i = 0; i < convertvalues.length; i++) {\n        if (convertvalues[i].includes(',')) {\n          //convert values are in form numerator,denominator contains comma ','\n          var convertitems = convertvalues[i].split(',');\n          if (convertitems[0] === '1' && convertitems[1] === '1') this.operation.push(identity);else {\n            (function () {\n              var numerator = parseFloat(convertitems[0]);\n              var denominator = parseFloat(convertitems[1]);\n\n              _this2.operation.push(function (x) {\n                return x * numerator / denominator;\n              });\n            })();\n          }\n        } else {\n          //convert values are in form of expression, do not contain comma\n          if (convertvalues === '1/x') this.operation.push(function (x) {\n            return 1 / x;\n          });else {\n            (function () {\n              //filter only allowed characters: algebraic, digits, e, dot, modulo, parenthesis and 'x' is allowed\n              var expression = convertvalues[i].replace(/[^-\\d/*+.()%xe]/g, '');\n              console.log('chartjs bind(), evaluating expression:' + convertvalues[i] + ' securely filtered to :' + expression); // eslint-disable-next-line no-eval\n\n              _this2.operation.push(function (x) {\n                return eval(expression);\n              });\n            })();\n          }\n        }\n      }\n    } //sets color of each dataset as different as possible\n    //and set initial data in chart\n    //set labels - separated by comma\n\n\n    if (this.labels) this.chlabels = this.labels.split(','); //else generate labels as 'variable 1' ...\n    else {\n        this.chlabels = [].concat(Array(this.refvalues)).map(function (_, i) {\n          return \"variable \" + i;\n        });\n      }\n    this.colors = [];\n    var mydatastr = this.initialdata.split(',');\n    this.mydata = mydatastr.map(function (x) {\n      return parseFloat(x);\n    });\n\n    for (var _i = 0; _i < this.refvalues; _i++) {\n      if (!this.mydata[_i]) {//this.mydata.push(0);\n        //console.log('chartjs no data');\n      }\n\n      this.colors.push(this.selectColor(_i));\n    }\n\n    var datasets = [{\n      data: this.mydata,\n      backgroundColor: this.colors\n    }];\n    this.data = {\n      labels: this.chlabels,\n      datasets: datasets\n    }; //bind - string value to boolean\n\n    if (typeof this.animate === 'string') {\n      this.animate = this.animate === 'true';\n    } //set animation options\n\n\n    var animopts1 = {\n      animateScale: true,\n      animateRotate: true,\n      duration: 500\n    };\n    var animopts2 = {\n      duration: 0\n    }; //select options based on attribute value - whether to animate or not\n\n    var animopts = this.animate ? animopts1 : animopts2; //set labels for axes in chartjs opts\n\n    var axisopts = {};\n\n    if (this.ylabel) {\n      axisopts.yAxes = [{\n        scaleLabel: {\n          display: true,\n          labelString: this.ylabel\n        }\n      }];\n    }\n\n    if (this.xlabel) {\n      axisopts.xAxes = [{\n        scaleLabel: {\n          display: true,\n          labelString: this.xlabel\n        }\n      }];\n    } //initialize options - used later by chartjs instance\n\n\n    this.options = {\n      responsive: true,\n      legend: {\n        //display: false,\n        position: 'top'\n      },\n      animation: animopts,\n      tooltips: {\n        position: 'nearest',\n        mode: 'x-axis',\n        intersect: false\n      },\n      scales: axisopts\n    }; //sets boolean value - if verticalline attribute is set\n\n    if (typeof this.verticalline === 'string') {\n      this.verticalline = this.verticalline === 'true';\n    }\n\n    if (typeof this.maxdata === 'string') {\n      this.maxdata = parseInt(this.maxdata, 10);\n    } //if sections are requested - define chartjs plugin to draw it in background\n\n\n    if (this.sectionid) {\n      this.options.section = [];\n    }\n  }\n  /**\n   * this is called when the DOM is attached to view - instantiate the chartjs and sets all necesary binding\n   */\n  ;\n\n  _proto.attached = function attached() {\n    //listening to custom event fmidata and fmireset\n    var fromel = document.getElementById(this.fromid);\n\n    if (fromel) {\n      fromel.addEventListener('fmidata', this.handleValueChange);\n      fromel.addEventListener('fmireset', this.handleReset);\n    } else {\n      console.log('chartjs WARNING, null fromid element');\n    }\n\n    if (this.sectionid) {\n      var sectionel = document.getElementById(this.sectionid);\n      if (sectionel) sectionel.addEventListener('addsection', this.handleAddSection);else console.log('chartjs WARNING, null sectionid element');\n    } //for verticalline option - register controller for BdlChartjs\n\n\n    if (this.verticalline) {\n      _chart[\"default\"].defaults.LineWithLine = _chart[\"default\"].defaults.line;\n      _chart[\"default\"].controllers.LineWithLine = _chart[\"default\"].controllers.line.extend({\n        draw: function draw(ease) {\n          _chart[\"default\"].controllers.line.prototype.draw.call(this, ease);\n\n          if (this.chart.tooltip._active && this.chart.tooltip._active.length) {\n            var activePoint = this.chart.tooltip._active[0];\n            var _ctx = this.chart.ctx;\n            var x = activePoint.tooltipPosition().x;\n            var topY = this.chart.legend.bottom;\n            var bottomY = this.chart.chartArea.bottom; // draw line\n\n            _ctx.save();\n\n            _ctx.beginPath();\n\n            _ctx.moveTo(x, topY);\n\n            _ctx.lineTo(x, bottomY);\n\n            _ctx.lineWidth = 1;\n            _ctx.strokeStyle = '#555';\n\n            _ctx.stroke();\n\n            _ctx.restore();\n          }\n        }\n      });\n    } //for sections register chartjs plugin\n\n\n    if (this.sectionid) {\n      _chart[\"default\"].pluginService.register({\n        beforeDraw: function beforeDraw(chart, easing) {\n          if (chart.config.options.section && chart.config.options.section.length > 0) {\n            var _ctx2 = chart.chart.ctx;\n            var chartArea = chart.chartArea;\n            var meta = chart.getDatasetMeta(0);\n            var i;\n\n            _ctx2.save(); //console.log('chartjs sections', chart.config.options.section);\n\n\n            for (i = 1; i < chart.config.options.section.length; i++) {\n              //console.log('chartjs sectionplugin:i, section[i-1], section[1],start,stop)', i, chart.config.options.section[i - 1],chart.config.options.section[i]);\n              var start = meta.data[chart.config.options.section[i - 1].index]._model.x;\n              var stop = meta.data[chart.config.options.section[i].index]._model.x;\n              /*const hue = (i - 1) * 137.508; // use golden angle approximation\n              ctx.fillStyle = `hsl(${hue},85%,91%)`;\n               */\n              //bar\n\n              _ctx2.fillStyle = chart.config.options.section[i - 1].color;\n\n              _ctx2.fillRect(start, chartArea.top, stop - start, chartArea.bottom - chartArea.top); //label\n              //ctx.translate(start, chartArea.top);\n              //ctx.rotate(Math.PI / 2);\n\n\n              _ctx2.save();\n\n              _ctx2.translate(start, chartArea.top);\n\n              _ctx2.rotate(90 * Math.PI / 180);\n\n              _ctx2.fillStyle = '#aaa';\n              _ctx2.font = '12px Helvetica';\n\n              _ctx2.fillText(chart.config.options.section[i - 1].label, 5, -5); //start, chartArea.top);\n\n\n              _ctx2.restore();\n            }\n\n            _ctx2.restore(); //console.log('last i',i);\n            //last section\n\n\n            i = chart.config.options.section.length;\n\n            if (i > 0 && chart.config.options.section[i - 1].index < meta.data.length - 1) {\n              //draw last section\n              var _start = meta.data[chart.config.options.section[i - 1].index]._model.x;\n              var _stop = meta.data[meta.data.length - 1]._model.x; //console.log (start,stop);\n\n              /*\n              const hue = (i - 1) * 137.508; // use golden angle approximation\n              var color = `hsl(${hue},85%,91%)`;\n               */\n\n              _ctx2.fillStyle = chart.config.options.section[i - 1].color; //console.log (chartArea);\n\n              _ctx2.fillRect(_start, chartArea.top, _stop - _start, chartArea.bottom - chartArea.top);\n\n              _ctx2.save();\n\n              _ctx2.translate(_start, chartArea.top);\n\n              _ctx2.rotate(90 * Math.PI / 180);\n\n              _ctx2.fillStyle = '#aaa';\n              _ctx2.font = '12px Helvetica';\n\n              _ctx2.fillText(chart.config.options.section[i - 1].label, 5, -5); //start, chartArea.top);\n\n\n              _ctx2.restore();\n            }\n          }\n        }\n      });\n    }\n\n    if (this.datalabels) {\n      console.log('datalabels true ,setting plugin', this.datalabels);\n\n      _chart[\"default\"].pluginService.register({\n        afterDatasetsDraw: function afterDatasetsDraw(chartInstance, easing) {\n          // To only draw at the end of animation, check for easing === 1\n          //if (dataset && dataset.datalabels) {\n          var ctx = chartInstance.chart.ctx;\n          chartInstance.data.datasets.forEach(function (dataset, i) {\n            if (dataset && dataset.datalabels) {\n              var meta = chartInstance.getDatasetMeta(i);\n\n              if (!meta.hidden) {\n                meta.data.forEach(function (element, index) {\n                  if (dataset.datalabels[index].length > 0) {\n                    // Draw the text in black, with the specified font\n                    ctx.fillStyle = '#aaa';\n                    ctx.font = '12px Helvetica'; // Just naively convert to string for now\n\n                    var dataString = dataset.datalabels[index]; // Make sure alignment settings are correct\n\n                    ctx.textAlign = 'center';\n                    ctx.textBaseline = 'middle';\n                    var padding = 5;\n                    var position = element.tooltipPosition();\n                    ctx.fillText(dataString, position.x, position.y - 12 / 2 - padding);\n                  }\n                });\n              }\n            }\n          });\n        }\n      });\n    }\n\n    var ctx = this.chartcanvas.getContext('2d');\n    this.chart = new _chart[\"default\"](ctx, {\n      type: this.type,\n      data: this.data,\n      options: this.options,\n      tooltipEvents: ['mousemove', 'touchstart', 'touchmove', 'click']\n    });\n  }\n  /**\n   * called when component is detached from view - remove event listeners - no need to update chart\n   */\n  ;\n\n  _proto.detached = function detached() {\n    if (document.getElementById(this.fromid)) {\n      document.getElementById(this.fromid).removeEventListener('fmidata', this.handleValueChange);\n      document.getElementById(this.fromid).removeEventListener('fmireset', this.handleReset);\n\n      if (this.sectionid) {\n        document.getElementById(this.sectionid).removeEventListener('addsection', this.handleAddSection);\n      }\n    }\n  }\n  /**\n   * asks for filename and creates blob with CSV data from chart which initiates web browser download dialog.\n   * CSV -  time point per row\n   */\n  ;\n\n  _proto.download = function download() {\n    //ask for filename\n    var filename = prompt('File name (*.csv):', 'data.csv');\n\n    if (filename) {\n      //adds csv as extension\n      if (!filename.endsWith('.csv')) filename = filename.concat('.csv'); //labels first row\n\n      var content = 'Time,' + this.labels + '\\n'; //transpose each row = variable in specific time\n\n      for (var i = 0; i < this.chart.data.labels.length; i++) {\n        var row = this.chart.data.labels[i];\n\n        for (var j = 0; j < this.chart.data.datasets.length; j++) {\n          row += ',' + this.chart.data.datasets[j].data[i];\n        }\n\n        content += row + '\\n';\n      }\n\n      var blob = new Blob([content], {\n        type: 'text/csv;charset=utf-8;'\n      });\n      saveAs(blob, filename);\n    }\n  }\n  /**\n   * asks for filename and creates blob with CSV data from chart which initiates web browser download dialog\n   * CSV - variable values per row\n   */\n  ;\n\n  _proto.downloadflat = function downloadflat() {\n    //ask for filename\n    var filename = prompt('File name (*.csv):', 'data.csv');\n\n    if (filename) {\n      //adds csv as extension\n      if (!filename.endsWith('.csv')) filename = filename.concat('.csv'); //labels first row - each row is then all data per variable - transposition might be needed\n\n      var content = 'variable name,values ...' + '\\n';\n      var labels = this.labels.split(','); // variable per row\n      //chart labels - usually time\n\n      content = content + 'Time,' + this.chart.data.labels.join(',') + '\\n'; //dataset data on other rows\n\n      for (var i = 0; i < this.chart.data.datasets.length; i++) {\n        content = content + labels[i] + ',' + this.chart.data.datasets[i].data.join(',') + '\\n';\n      }\n\n      var blob = new Blob([content], {\n        type: 'text/csv;charset=utf-8;'\n      });\n      saveAs(blob, filename);\n    }\n  }\n  /**\n   * Adds new section in chartarea - current last data in dataset\n   */\n  ;\n\n  _proto.addSection = function addSection(label) {\n    if (label === void 0) {\n      label = '';\n    }\n\n    this.indexsection++;\n    if (!label) label = '';\n    console.log('chartjs.addsection()', this.chart.data.labels.length - 1);\n    this.chart.config.options.section.push({\n      index: this.chart.data.labels.length - 1,\n      color: this.selectColor(this.indexsection, 85, 91),\n      label: label\n    });\n  };\n\n  return Chartjs;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"fromid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"labels\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"refindex\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"refvalues\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"type\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'doughnut';\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"maxdata\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 256;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"initialdata\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"width\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 600;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"height\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 300;\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"animate\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"id\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"ylabel\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"xlabel\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"convertors\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"verticalline\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"sectionid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class);\nexports.Chartjs = Chartjs;\n//# sourceMappingURL=chartjs.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2NoYXJ0anMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2Rpc3QvbmF0aXZlLW1vZHVsZXMvZWxlbWVudHMvY2hhcnRqcy5qcz9lOWFmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5DaGFydGpzID0gdm9pZCAwO1xuXG52YXIgX2NoYXJ0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiY2hhcnQuanNcIikpO1xuXG52YXIgX2F1cmVsaWFGcmFtZXdvcmsgPSByZXF1aXJlKFwiYXVyZWxpYS1mcmFtZXdvcmtcIik7XG5cbnZhciBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjUsIF9kZXNjcmlwdG9yNiwgX2Rlc2NyaXB0b3I3LCBfZGVzY3JpcHRvcjgsIF9kZXNjcmlwdG9yOSwgX2Rlc2NyaXB0b3IxMCwgX2Rlc2NyaXB0b3IxMSwgX2Rlc2NyaXB0b3IxMiwgX2Rlc2NyaXB0b3IxMywgX2Rlc2NyaXB0b3IxNCwgX2Rlc2NyaXB0b3IxNSwgX2Rlc2NyaXB0b3IxNiwgX3RlbXA7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdDsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyByZXR1cm4gZnVuY3Rpb24gKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyByZXR1cm4gaXQubmV4dC5iaW5kKGl0KTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxudmFyIENoYXJ0anMgPSAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy9pZCB0byBsaXN0ZW4gYWRkc2VjdGlvbiBldmVudFxuICAvL21heSBiZSBjb25maWd1cmVkIGJ5IHN1YmNsYXNzZXNcblxuICAvKipcbiAgICogaW5pdGlhbGl6ZXMgaGFuZGxlcnMgZm9yIGV2ZW50IHByb2Nlc3NpbmcgLSB0aGlzIGlzIHJlY29tbWVuZGVkIHdheVxuICAgKi9cbiAgZnVuY3Rpb24gQ2hhcnRqcygpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJmcm9taWRcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJsYWJlbHNcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVmaW5kZXhcIiwgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVmdmFsdWVzXCIsIF9kZXNjcmlwdG9yNCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR5cGVcIiwgX2Rlc2NyaXB0b3I1LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4ZGF0YVwiLCBfZGVzY3JpcHRvcjYsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0aWFsZGF0YVwiLCBfZGVzY3JpcHRvcjcsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aWR0aFwiLCBfZGVzY3JpcHRvcjgsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJoZWlnaHRcIiwgX2Rlc2NyaXB0b3I5LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYW5pbWF0ZVwiLCBfZGVzY3JpcHRvcjEwLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWRcIiwgX2Rlc2NyaXB0b3IxMSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlsYWJlbFwiLCBfZGVzY3JpcHRvcjEyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwieGxhYmVsXCIsIF9kZXNjcmlwdG9yMTMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjb252ZXJ0b3JzXCIsIF9kZXNjcmlwdG9yMTQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZXJ0aWNhbGxpbmVcIiwgX2Rlc2NyaXB0b3IxNSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlY3Rpb25pZFwiLCBfZGVzY3JpcHRvcjE2LCB0aGlzKTtcblxuICAgIHRoaXMuaW5kZXhzZWN0aW9uID0gMDtcbiAgICB0aGlzLmRhdGFsYWJlbHMgPSBmYWxzZTtcblxuICAgIHRoaXMuaGFuZGxlVmFsdWVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy9zZXRzIGRhdGEgdG8gZGF0YXNldFxuICAgICAgLy9hcHBseSB2YWx1ZSBjb252ZXJ0IGFtb25nIGFsbCBkYXRhXG4gICAgICB2YXIgcmF3ZGF0YSA9IGUuZGV0YWlsLmRhdGEuc2xpY2UoX3RoaXMucmVmaW5kZXgsIF90aGlzLnJlZmVuZGluZGV4KTsgLy9pZiBjb252ZXJ0IG9wZXJhdGlvbiBpcyBkZWZpbmVkIGFzIGFycmF5XG5cbiAgICAgIGlmIChfdGhpcy5vcGVyYXRpb24pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy9pZiBwYXJ0aWN1bGFyIG9wZXJhdGlvbiBpcyBkZWZpbmVkXG4gICAgICAgICAgaWYgKF90aGlzLm9wZXJhdGlvbltpXSkgcmF3ZGF0YVtpXSA9IF90aGlzLm9wZXJhdGlvbltpXShyYXdkYXRhW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzWzBdLmRhdGEgPSByYXdkYXRhO1xuXG4gICAgICBfdGhpcy5jaGFydC51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVSZXNldCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKCdoYW5kbGVyZXNldCcpO1xuICAgICAgX3RoaXMucmVzZXRkYXRhKCk7XG5cbiAgICAgIF90aGlzLmNoYXJ0LnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZUFkZFNlY3Rpb24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuYWRkU2VjdGlvbihlLmRldGFpbC5sYWJlbCk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogZW1wdGllcyBkYXRhIGluIGV2ZXJ5IGRhdGFzZXQgYW5kIGVtcHRpZXMgc2VjdGlvblxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBDaGFydGpzLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVzZXRkYXRhID0gZnVuY3Rpb24gcmVzZXRkYXRhKCkge1xuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UodGhpcy5jaGFydC5kYXRhLmRhdGFzZXQpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgdmFyIGRhdGFzZXQgPSBfc3RlcC52YWx1ZTtcbiAgICAgIGRhdGFzZXQuZGF0YSA9IFtdO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNlY3Rpb25pZCkgdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zZWN0aW9uID0gW107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdW5pcXVlIGNvbG9yIHBlciBpbmRleC0gbmVpZ2hib3VyaW5nIGNvbG9ycyBhcmUgZGlmZmVyZW50IHVzaW5nIGdvbGRlbiBhbmdsZSBhcHByb3hpbWF0aW9uXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB1c2FibGUgYnkgQ1NTIG9yIERPTSBlbGVtZW50c1xuICAgKi9cbiAgLy8gIGNvbnN0IGh1ZSA9IChpIC0gMSkgKiAxMzcuNTA4OyAvLyB1c2UgZ29sZGVuIGFuZ2xlIGFwcHJveGltYXRpb25cbiAgLy8gIHZhciBjb2xvciA9IGBoc2woJHtodWV9LDg1JSw5MSUpYDtcbiAgO1xuXG4gIF9wcm90by5zZWxlY3RDb2xvciA9IGZ1bmN0aW9uIHNlbGVjdENvbG9yKGluZGV4LCBzYXR1cmF0aW9uLCBsaWdodG5lc3MpIHtcbiAgICBpZiAoc2F0dXJhdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICBzYXR1cmF0aW9uID0gNTU7XG4gICAgfVxuXG4gICAgaWYgKGxpZ2h0bmVzcyA9PT0gdm9pZCAwKSB7XG4gICAgICBsaWdodG5lc3MgPSA1NTtcbiAgICB9XG5cbiAgICB2YXIgaHVlID0gKGluZGV4IC0gMSkgKiAxMzcuNTA4OyAvLyB1c2UgZ29sZGVuIGFuZ2xlIGFwcHJveGltYXRpb25cblxuICAgIHJldHVybiBcImhzbChcIiArIGh1ZSArIFwiLFwiICsgc2F0dXJhdGlvbiArIFwiJSxcIiArIGxpZ2h0bmVzcyArIFwiJSlcIjtcbiAgfVxuICAvKipcbiAgICogcHJvY2VzcyBhbGwgYXR0cmlidXRlcyBvZiA8YmRsLWNoYXJ0PiBjb21wb25lbnQgYW5kIHNldHMgYXBwcm9wcmlhdGUgc2V0dGluZ3Mgb2Ygc3ViZXNxdWVudCBjaGFydGpzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJpbmQgPSBmdW5jdGlvbiBiaW5kKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdGhpcy5yZWZpbmRleCA9IHBhcnNlSW50KHRoaXMucmVmaW5kZXgsIDEwKTtcbiAgICB0aGlzLnJlZnZhbHVlcyA9IHBhcnNlSW50KHRoaXMucmVmdmFsdWVzLCAxMCk7XG4gICAgdGhpcy5yZWZlbmRpbmRleCA9IHRoaXMucmVmaW5kZXggKyB0aGlzLnJlZnZhbHVlczsgLy9jb25maWd1cmUgY29udmVydG9ycyAtIHVzZWQgdG8gY29udmVydCB1bml0cyByZWNlaXZlZCBmcm9tIGZtaVxuXG4gICAgaWYgKHRoaXMuY29udmVydG9ycykge1xuICAgICAgdmFyIGNvbnZlcnR2YWx1ZXMgPSB0aGlzLmNvbnZlcnRvcnMuc3BsaXQoJzsnKTtcblxuICAgICAgdmFyIGlkZW50aXR5ID0gZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgICAgICByZXR1cm4geDtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMub3BlcmF0aW9uID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udmVydHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY29udmVydHZhbHVlc1tpXS5pbmNsdWRlcygnLCcpKSB7XG4gICAgICAgICAgLy9jb252ZXJ0IHZhbHVlcyBhcmUgaW4gZm9ybSBudW1lcmF0b3IsZGVub21pbmF0b3IgY29udGFpbnMgY29tbWEgJywnXG4gICAgICAgICAgdmFyIGNvbnZlcnRpdGVtcyA9IGNvbnZlcnR2YWx1ZXNbaV0uc3BsaXQoJywnKTtcbiAgICAgICAgICBpZiAoY29udmVydGl0ZW1zWzBdID09PSAnMScgJiYgY29udmVydGl0ZW1zWzFdID09PSAnMScpIHRoaXMub3BlcmF0aW9uLnB1c2goaWRlbnRpdHkpO2Vsc2Uge1xuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIG51bWVyYXRvciA9IHBhcnNlRmxvYXQoY29udmVydGl0ZW1zWzBdKTtcbiAgICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gcGFyc2VGbG9hdChjb252ZXJ0aXRlbXNbMV0pO1xuXG4gICAgICAgICAgICAgIF90aGlzMi5vcGVyYXRpb24ucHVzaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4ICogbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9jb252ZXJ0IHZhbHVlcyBhcmUgaW4gZm9ybSBvZiBleHByZXNzaW9uLCBkbyBub3QgY29udGFpbiBjb21tYVxuICAgICAgICAgIGlmIChjb252ZXJ0dmFsdWVzID09PSAnMS94JykgdGhpcy5vcGVyYXRpb24ucHVzaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIDEgLyB4O1xuICAgICAgICAgIH0pO2Vsc2Uge1xuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy9maWx0ZXIgb25seSBhbGxvd2VkIGNoYXJhY3RlcnM6IGFsZ2VicmFpYywgZGlnaXRzLCBlLCBkb3QsIG1vZHVsbywgcGFyZW50aGVzaXMgYW5kICd4JyBpcyBhbGxvd2VkXG4gICAgICAgICAgICAgIHZhciBleHByZXNzaW9uID0gY29udmVydHZhbHVlc1tpXS5yZXBsYWNlKC9bXi1cXGQvKisuKCkleGVdL2csICcnKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NoYXJ0anMgYmluZCgpLCBldmFsdWF0aW5nIGV4cHJlc3Npb246JyArIGNvbnZlcnR2YWx1ZXNbaV0gKyAnIHNlY3VyZWx5IGZpbHRlcmVkIHRvIDonICsgZXhwcmVzc2lvbik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsXG5cbiAgICAgICAgICAgICAgX3RoaXMyLm9wZXJhdGlvbi5wdXNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2YWwoZXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vc2V0cyBjb2xvciBvZiBlYWNoIGRhdGFzZXQgYXMgZGlmZmVyZW50IGFzIHBvc3NpYmxlXG4gICAgLy9hbmQgc2V0IGluaXRpYWwgZGF0YSBpbiBjaGFydFxuICAgIC8vc2V0IGxhYmVscyAtIHNlcGFyYXRlZCBieSBjb21tYVxuXG5cbiAgICBpZiAodGhpcy5sYWJlbHMpIHRoaXMuY2hsYWJlbHMgPSB0aGlzLmxhYmVscy5zcGxpdCgnLCcpOyAvL2Vsc2UgZ2VuZXJhdGUgbGFiZWxzIGFzICd2YXJpYWJsZSAxJyAuLi5cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5jaGxhYmVscyA9IFtdLmNvbmNhdChBcnJheSh0aGlzLnJlZnZhbHVlcykpLm1hcChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgIHJldHVybiBcInZhcmlhYmxlIFwiICsgaTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgdGhpcy5jb2xvcnMgPSBbXTtcbiAgICB2YXIgbXlkYXRhc3RyID0gdGhpcy5pbml0aWFsZGF0YS5zcGxpdCgnLCcpO1xuICAgIHRoaXMubXlkYXRhID0gbXlkYXRhc3RyLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoeCk7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5yZWZ2YWx1ZXM7IF9pKyspIHtcbiAgICAgIGlmICghdGhpcy5teWRhdGFbX2ldKSB7Ly90aGlzLm15ZGF0YS5wdXNoKDApO1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdjaGFydGpzIG5vIGRhdGEnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb2xvcnMucHVzaCh0aGlzLnNlbGVjdENvbG9yKF9pKSk7XG4gICAgfVxuXG4gICAgdmFyIGRhdGFzZXRzID0gW3tcbiAgICAgIGRhdGE6IHRoaXMubXlkYXRhLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLmNvbG9yc1xuICAgIH1dO1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIGxhYmVsczogdGhpcy5jaGxhYmVscyxcbiAgICAgIGRhdGFzZXRzOiBkYXRhc2V0c1xuICAgIH07IC8vYmluZCAtIHN0cmluZyB2YWx1ZSB0byBib29sZWFuXG5cbiAgICBpZiAodHlwZW9mIHRoaXMuYW5pbWF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuYW5pbWF0ZSA9IHRoaXMuYW5pbWF0ZSA9PT0gJ3RydWUnO1xuICAgIH0gLy9zZXQgYW5pbWF0aW9uIG9wdGlvbnNcblxuXG4gICAgdmFyIGFuaW1vcHRzMSA9IHtcbiAgICAgIGFuaW1hdGVTY2FsZTogdHJ1ZSxcbiAgICAgIGFuaW1hdGVSb3RhdGU6IHRydWUsXG4gICAgICBkdXJhdGlvbjogNTAwXG4gICAgfTtcbiAgICB2YXIgYW5pbW9wdHMyID0ge1xuICAgICAgZHVyYXRpb246IDBcbiAgICB9OyAvL3NlbGVjdCBvcHRpb25zIGJhc2VkIG9uIGF0dHJpYnV0ZSB2YWx1ZSAtIHdoZXRoZXIgdG8gYW5pbWF0ZSBvciBub3RcblxuICAgIHZhciBhbmltb3B0cyA9IHRoaXMuYW5pbWF0ZSA/IGFuaW1vcHRzMSA6IGFuaW1vcHRzMjsgLy9zZXQgbGFiZWxzIGZvciBheGVzIGluIGNoYXJ0anMgb3B0c1xuXG4gICAgdmFyIGF4aXNvcHRzID0ge307XG5cbiAgICBpZiAodGhpcy55bGFiZWwpIHtcbiAgICAgIGF4aXNvcHRzLnlBeGVzID0gW3tcbiAgICAgICAgc2NhbGVMYWJlbDoge1xuICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgbGFiZWxTdHJpbmc6IHRoaXMueWxhYmVsXG4gICAgICAgIH1cbiAgICAgIH1dO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnhsYWJlbCkge1xuICAgICAgYXhpc29wdHMueEF4ZXMgPSBbe1xuICAgICAgICBzY2FsZUxhYmVsOiB7XG4gICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICBsYWJlbFN0cmluZzogdGhpcy54bGFiZWxcbiAgICAgICAgfVxuICAgICAgfV07XG4gICAgfSAvL2luaXRpYWxpemUgb3B0aW9ucyAtIHVzZWQgbGF0ZXIgYnkgY2hhcnRqcyBpbnN0YW5jZVxuXG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgbGVnZW5kOiB7XG4gICAgICAgIC8vZGlzcGxheTogZmFsc2UsXG4gICAgICAgIHBvc2l0aW9uOiAndG9wJ1xuICAgICAgfSxcbiAgICAgIGFuaW1hdGlvbjogYW5pbW9wdHMsXG4gICAgICB0b29sdGlwczoge1xuICAgICAgICBwb3NpdGlvbjogJ25lYXJlc3QnLFxuICAgICAgICBtb2RlOiAneC1heGlzJyxcbiAgICAgICAgaW50ZXJzZWN0OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHNjYWxlczogYXhpc29wdHNcbiAgICB9OyAvL3NldHMgYm9vbGVhbiB2YWx1ZSAtIGlmIHZlcnRpY2FsbGluZSBhdHRyaWJ1dGUgaXMgc2V0XG5cbiAgICBpZiAodHlwZW9mIHRoaXMudmVydGljYWxsaW5lID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy52ZXJ0aWNhbGxpbmUgPSB0aGlzLnZlcnRpY2FsbGluZSA9PT0gJ3RydWUnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5tYXhkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5tYXhkYXRhID0gcGFyc2VJbnQodGhpcy5tYXhkYXRhLCAxMCk7XG4gICAgfSAvL2lmIHNlY3Rpb25zIGFyZSByZXF1ZXN0ZWQgLSBkZWZpbmUgY2hhcnRqcyBwbHVnaW4gdG8gZHJhdyBpdCBpbiBiYWNrZ3JvdW5kXG5cblxuICAgIGlmICh0aGlzLnNlY3Rpb25pZCkge1xuICAgICAgdGhpcy5vcHRpb25zLnNlY3Rpb24gPSBbXTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIHRoaXMgaXMgY2FsbGVkIHdoZW4gdGhlIERPTSBpcyBhdHRhY2hlZCB0byB2aWV3IC0gaW5zdGFudGlhdGUgdGhlIGNoYXJ0anMgYW5kIHNldHMgYWxsIG5lY2VzYXJ5IGJpbmRpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8uYXR0YWNoZWQgPSBmdW5jdGlvbiBhdHRhY2hlZCgpIHtcbiAgICAvL2xpc3RlbmluZyB0byBjdXN0b20gZXZlbnQgZm1pZGF0YSBhbmQgZm1pcmVzZXRcbiAgICB2YXIgZnJvbWVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mcm9taWQpO1xuXG4gICAgaWYgKGZyb21lbCkge1xuICAgICAgZnJvbWVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZtaWRhdGEnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTtcbiAgICAgIGZyb21lbC5hZGRFdmVudExpc3RlbmVyKCdmbWlyZXNldCcsIHRoaXMuaGFuZGxlUmVzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnY2hhcnRqcyBXQVJOSU5HLCBudWxsIGZyb21pZCBlbGVtZW50Jyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2VjdGlvbmlkKSB7XG4gICAgICB2YXIgc2VjdGlvbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZWN0aW9uaWQpO1xuICAgICAgaWYgKHNlY3Rpb25lbCkgc2VjdGlvbmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHNlY3Rpb24nLCB0aGlzLmhhbmRsZUFkZFNlY3Rpb24pO2Vsc2UgY29uc29sZS5sb2coJ2NoYXJ0anMgV0FSTklORywgbnVsbCBzZWN0aW9uaWQgZWxlbWVudCcpO1xuICAgIH0gLy9mb3IgdmVydGljYWxsaW5lIG9wdGlvbiAtIHJlZ2lzdGVyIGNvbnRyb2xsZXIgZm9yIEJkbENoYXJ0anNcblxuXG4gICAgaWYgKHRoaXMudmVydGljYWxsaW5lKSB7XG4gICAgICBfY2hhcnRbXCJkZWZhdWx0XCJdLmRlZmF1bHRzLkxpbmVXaXRoTGluZSA9IF9jaGFydFtcImRlZmF1bHRcIl0uZGVmYXVsdHMubGluZTtcbiAgICAgIF9jaGFydFtcImRlZmF1bHRcIl0uY29udHJvbGxlcnMuTGluZVdpdGhMaW5lID0gX2NoYXJ0W1wiZGVmYXVsdFwiXS5jb250cm9sbGVycy5saW5lLmV4dGVuZCh7XG4gICAgICAgIGRyYXc6IGZ1bmN0aW9uIGRyYXcoZWFzZSkge1xuICAgICAgICAgIF9jaGFydFtcImRlZmF1bHRcIl0uY29udHJvbGxlcnMubGluZS5wcm90b3R5cGUuZHJhdy5jYWxsKHRoaXMsIGVhc2UpO1xuXG4gICAgICAgICAgaWYgKHRoaXMuY2hhcnQudG9vbHRpcC5fYWN0aXZlICYmIHRoaXMuY2hhcnQudG9vbHRpcC5fYWN0aXZlLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZVBvaW50ID0gdGhpcy5jaGFydC50b29sdGlwLl9hY3RpdmVbMF07XG4gICAgICAgICAgICB2YXIgX2N0eCA9IHRoaXMuY2hhcnQuY3R4O1xuICAgICAgICAgICAgdmFyIHggPSBhY3RpdmVQb2ludC50b29sdGlwUG9zaXRpb24oKS54O1xuICAgICAgICAgICAgdmFyIHRvcFkgPSB0aGlzLmNoYXJ0LmxlZ2VuZC5ib3R0b207XG4gICAgICAgICAgICB2YXIgYm90dG9tWSA9IHRoaXMuY2hhcnQuY2hhcnRBcmVhLmJvdHRvbTsgLy8gZHJhdyBsaW5lXG5cbiAgICAgICAgICAgIF9jdHguc2F2ZSgpO1xuXG4gICAgICAgICAgICBfY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBfY3R4Lm1vdmVUbyh4LCB0b3BZKTtcblxuICAgICAgICAgICAgX2N0eC5saW5lVG8oeCwgYm90dG9tWSk7XG5cbiAgICAgICAgICAgIF9jdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgIF9jdHguc3Ryb2tlU3R5bGUgPSAnIzU1NSc7XG5cbiAgICAgICAgICAgIF9jdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgIF9jdHgucmVzdG9yZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSAvL2ZvciBzZWN0aW9ucyByZWdpc3RlciBjaGFydGpzIHBsdWdpblxuXG5cbiAgICBpZiAodGhpcy5zZWN0aW9uaWQpIHtcbiAgICAgIF9jaGFydFtcImRlZmF1bHRcIl0ucGx1Z2luU2VydmljZS5yZWdpc3Rlcih7XG4gICAgICAgIGJlZm9yZURyYXc6IGZ1bmN0aW9uIGJlZm9yZURyYXcoY2hhcnQsIGVhc2luZykge1xuICAgICAgICAgIGlmIChjaGFydC5jb25maWcub3B0aW9ucy5zZWN0aW9uICYmIGNoYXJ0LmNvbmZpZy5vcHRpb25zLnNlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIF9jdHgyID0gY2hhcnQuY2hhcnQuY3R4O1xuICAgICAgICAgICAgdmFyIGNoYXJ0QXJlYSA9IGNoYXJ0LmNoYXJ0QXJlYTtcbiAgICAgICAgICAgIHZhciBtZXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoMCk7XG4gICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgX2N0eDIuc2F2ZSgpOyAvL2NvbnNvbGUubG9nKCdjaGFydGpzIHNlY3Rpb25zJywgY2hhcnQuY29uZmlnLm9wdGlvbnMuc2VjdGlvbik7XG5cblxuICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IGNoYXJ0LmNvbmZpZy5vcHRpb25zLnNlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnY2hhcnRqcyBzZWN0aW9ucGx1Z2luOmksIHNlY3Rpb25baS0xXSwgc2VjdGlvblsxXSxzdGFydCxzdG9wKScsIGksIGNoYXJ0LmNvbmZpZy5vcHRpb25zLnNlY3Rpb25baSAtIDFdLGNoYXJ0LmNvbmZpZy5vcHRpb25zLnNlY3Rpb25baV0pO1xuICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBtZXRhLmRhdGFbY2hhcnQuY29uZmlnLm9wdGlvbnMuc2VjdGlvbltpIC0gMV0uaW5kZXhdLl9tb2RlbC54O1xuICAgICAgICAgICAgICB2YXIgc3RvcCA9IG1ldGEuZGF0YVtjaGFydC5jb25maWcub3B0aW9ucy5zZWN0aW9uW2ldLmluZGV4XS5fbW9kZWwueDtcbiAgICAgICAgICAgICAgLypjb25zdCBodWUgPSAoaSAtIDEpICogMTM3LjUwODsgLy8gdXNlIGdvbGRlbiBhbmdsZSBhcHByb3hpbWF0aW9uXG4gICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBgaHNsKCR7aHVlfSw4NSUsOTElKWA7XG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAvL2JhclxuXG4gICAgICAgICAgICAgIF9jdHgyLmZpbGxTdHlsZSA9IGNoYXJ0LmNvbmZpZy5vcHRpb25zLnNlY3Rpb25baSAtIDFdLmNvbG9yO1xuXG4gICAgICAgICAgICAgIF9jdHgyLmZpbGxSZWN0KHN0YXJ0LCBjaGFydEFyZWEudG9wLCBzdG9wIC0gc3RhcnQsIGNoYXJ0QXJlYS5ib3R0b20gLSBjaGFydEFyZWEudG9wKTsgLy9sYWJlbFxuICAgICAgICAgICAgICAvL2N0eC50cmFuc2xhdGUoc3RhcnQsIGNoYXJ0QXJlYS50b3ApO1xuICAgICAgICAgICAgICAvL2N0eC5yb3RhdGUoTWF0aC5QSSAvIDIpO1xuXG5cbiAgICAgICAgICAgICAgX2N0eDIuc2F2ZSgpO1xuXG4gICAgICAgICAgICAgIF9jdHgyLnRyYW5zbGF0ZShzdGFydCwgY2hhcnRBcmVhLnRvcCk7XG5cbiAgICAgICAgICAgICAgX2N0eDIucm90YXRlKDkwICogTWF0aC5QSSAvIDE4MCk7XG5cbiAgICAgICAgICAgICAgX2N0eDIuZmlsbFN0eWxlID0gJyNhYWEnO1xuICAgICAgICAgICAgICBfY3R4Mi5mb250ID0gJzEycHggSGVsdmV0aWNhJztcblxuICAgICAgICAgICAgICBfY3R4Mi5maWxsVGV4dChjaGFydC5jb25maWcub3B0aW9ucy5zZWN0aW9uW2kgLSAxXS5sYWJlbCwgNSwgLTUpOyAvL3N0YXJ0LCBjaGFydEFyZWEudG9wKTtcblxuXG4gICAgICAgICAgICAgIF9jdHgyLnJlc3RvcmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2N0eDIucmVzdG9yZSgpOyAvL2NvbnNvbGUubG9nKCdsYXN0IGknLGkpO1xuICAgICAgICAgICAgLy9sYXN0IHNlY3Rpb25cblxuXG4gICAgICAgICAgICBpID0gY2hhcnQuY29uZmlnLm9wdGlvbnMuc2VjdGlvbi5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChpID4gMCAmJiBjaGFydC5jb25maWcub3B0aW9ucy5zZWN0aW9uW2kgLSAxXS5pbmRleCA8IG1ldGEuZGF0YS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgIC8vZHJhdyBsYXN0IHNlY3Rpb25cbiAgICAgICAgICAgICAgdmFyIF9zdGFydCA9IG1ldGEuZGF0YVtjaGFydC5jb25maWcub3B0aW9ucy5zZWN0aW9uW2kgLSAxXS5pbmRleF0uX21vZGVsLng7XG4gICAgICAgICAgICAgIHZhciBfc3RvcCA9IG1ldGEuZGF0YVttZXRhLmRhdGEubGVuZ3RoIC0gMV0uX21vZGVsLng7IC8vY29uc29sZS5sb2cgKHN0YXJ0LHN0b3ApO1xuXG4gICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgIGNvbnN0IGh1ZSA9IChpIC0gMSkgKiAxMzcuNTA4OyAvLyB1c2UgZ29sZGVuIGFuZ2xlIGFwcHJveGltYXRpb25cbiAgICAgICAgICAgICAgdmFyIGNvbG9yID0gYGhzbCgke2h1ZX0sODUlLDkxJSlgO1xuICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICBfY3R4Mi5maWxsU3R5bGUgPSBjaGFydC5jb25maWcub3B0aW9ucy5zZWN0aW9uW2kgLSAxXS5jb2xvcjsgLy9jb25zb2xlLmxvZyAoY2hhcnRBcmVhKTtcblxuICAgICAgICAgICAgICBfY3R4Mi5maWxsUmVjdChfc3RhcnQsIGNoYXJ0QXJlYS50b3AsIF9zdG9wIC0gX3N0YXJ0LCBjaGFydEFyZWEuYm90dG9tIC0gY2hhcnRBcmVhLnRvcCk7XG5cbiAgICAgICAgICAgICAgX2N0eDIuc2F2ZSgpO1xuXG4gICAgICAgICAgICAgIF9jdHgyLnRyYW5zbGF0ZShfc3RhcnQsIGNoYXJ0QXJlYS50b3ApO1xuXG4gICAgICAgICAgICAgIF9jdHgyLnJvdGF0ZSg5MCAqIE1hdGguUEkgLyAxODApO1xuXG4gICAgICAgICAgICAgIF9jdHgyLmZpbGxTdHlsZSA9ICcjYWFhJztcbiAgICAgICAgICAgICAgX2N0eDIuZm9udCA9ICcxMnB4IEhlbHZldGljYSc7XG5cbiAgICAgICAgICAgICAgX2N0eDIuZmlsbFRleHQoY2hhcnQuY29uZmlnLm9wdGlvbnMuc2VjdGlvbltpIC0gMV0ubGFiZWwsIDUsIC01KTsgLy9zdGFydCwgY2hhcnRBcmVhLnRvcCk7XG5cblxuICAgICAgICAgICAgICBfY3R4Mi5yZXN0b3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhbGFiZWxzKSB7XG4gICAgICBjb25zb2xlLmxvZygnZGF0YWxhYmVscyB0cnVlICxzZXR0aW5nIHBsdWdpbicsIHRoaXMuZGF0YWxhYmVscyk7XG5cbiAgICAgIF9jaGFydFtcImRlZmF1bHRcIl0ucGx1Z2luU2VydmljZS5yZWdpc3Rlcih7XG4gICAgICAgIGFmdGVyRGF0YXNldHNEcmF3OiBmdW5jdGlvbiBhZnRlckRhdGFzZXRzRHJhdyhjaGFydEluc3RhbmNlLCBlYXNpbmcpIHtcbiAgICAgICAgICAvLyBUbyBvbmx5IGRyYXcgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24sIGNoZWNrIGZvciBlYXNpbmcgPT09IDFcbiAgICAgICAgICAvL2lmIChkYXRhc2V0ICYmIGRhdGFzZXQuZGF0YWxhYmVscykge1xuICAgICAgICAgIHZhciBjdHggPSBjaGFydEluc3RhbmNlLmNoYXJ0LmN0eDtcbiAgICAgICAgICBjaGFydEluc3RhbmNlLmRhdGEuZGF0YXNldHMuZm9yRWFjaChmdW5jdGlvbiAoZGF0YXNldCwgaSkge1xuICAgICAgICAgICAgaWYgKGRhdGFzZXQgJiYgZGF0YXNldC5kYXRhbGFiZWxzKSB7XG4gICAgICAgICAgICAgIHZhciBtZXRhID0gY2hhcnRJbnN0YW5jZS5nZXREYXRhc2V0TWV0YShpKTtcblxuICAgICAgICAgICAgICBpZiAoIW1ldGEuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZGF0YXNldC5kYXRhbGFiZWxzW2luZGV4XS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERyYXcgdGhlIHRleHQgaW4gYmxhY2ssIHdpdGggdGhlIHNwZWNpZmllZCBmb250XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2FhYSc7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5mb250ID0gJzEycHggSGVsdmV0aWNhJzsgLy8gSnVzdCBuYWl2ZWx5IGNvbnZlcnQgdG8gc3RyaW5nIGZvciBub3dcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVN0cmluZyA9IGRhdGFzZXQuZGF0YWxhYmVsc1tpbmRleF07IC8vIE1ha2Ugc3VyZSBhbGlnbm1lbnQgc2V0dGluZ3MgYXJlIGNvcnJlY3RcblxuICAgICAgICAgICAgICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgICAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSA1O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBlbGVtZW50LnRvb2x0aXBQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoZGF0YVN0cmluZywgcG9zaXRpb24ueCwgcG9zaXRpb24ueSAtIDEyIC8gMiAtIHBhZGRpbmcpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBjdHggPSB0aGlzLmNoYXJ0Y2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdGhpcy5jaGFydCA9IG5ldyBfY2hhcnRbXCJkZWZhdWx0XCJdKGN0eCwge1xuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgZGF0YTogdGhpcy5kYXRhLFxuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgdG9vbHRpcEV2ZW50czogWydtb3VzZW1vdmUnLCAndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAnY2xpY2snXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBjYWxsZWQgd2hlbiBjb21wb25lbnQgaXMgZGV0YWNoZWQgZnJvbSB2aWV3IC0gcmVtb3ZlIGV2ZW50IGxpc3RlbmVycyAtIG5vIG5lZWQgdG8gdXBkYXRlIGNoYXJ0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRldGFjaGVkID0gZnVuY3Rpb24gZGV0YWNoZWQoKSB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnJvbWlkKSkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mcm9taWQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZtaWRhdGEnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnJvbWlkKS5yZW1vdmVFdmVudExpc3RlbmVyKCdmbWlyZXNldCcsIHRoaXMuaGFuZGxlUmVzZXQpO1xuXG4gICAgICBpZiAodGhpcy5zZWN0aW9uaWQpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZWN0aW9uaWQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZHNlY3Rpb24nLCB0aGlzLmhhbmRsZUFkZFNlY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogYXNrcyBmb3IgZmlsZW5hbWUgYW5kIGNyZWF0ZXMgYmxvYiB3aXRoIENTViBkYXRhIGZyb20gY2hhcnQgd2hpY2ggaW5pdGlhdGVzIHdlYiBicm93c2VyIGRvd25sb2FkIGRpYWxvZy5cbiAgICogQ1NWIC0gIHRpbWUgcG9pbnQgcGVyIHJvd1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kb3dubG9hZCA9IGZ1bmN0aW9uIGRvd25sb2FkKCkge1xuICAgIC8vYXNrIGZvciBmaWxlbmFtZVxuICAgIHZhciBmaWxlbmFtZSA9IHByb21wdCgnRmlsZSBuYW1lICgqLmNzdik6JywgJ2RhdGEuY3N2Jyk7XG5cbiAgICBpZiAoZmlsZW5hbWUpIHtcbiAgICAgIC8vYWRkcyBjc3YgYXMgZXh0ZW5zaW9uXG4gICAgICBpZiAoIWZpbGVuYW1lLmVuZHNXaXRoKCcuY3N2JykpIGZpbGVuYW1lID0gZmlsZW5hbWUuY29uY2F0KCcuY3N2Jyk7IC8vbGFiZWxzIGZpcnN0IHJvd1xuXG4gICAgICB2YXIgY29udGVudCA9ICdUaW1lLCcgKyB0aGlzLmxhYmVscyArICdcXG4nOyAvL3RyYW5zcG9zZSBlYWNoIHJvdyA9IHZhcmlhYmxlIGluIHNwZWNpZmljIHRpbWVcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLmNoYXJ0LmRhdGEubGFiZWxzW2ldO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgcm93ICs9ICcsJyArIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tqXS5kYXRhW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGVudCArPSByb3cgKyAnXFxuJztcbiAgICAgIH1cblxuICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0sIHtcbiAgICAgICAgdHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTg7J1xuICAgICAgfSk7XG4gICAgICBzYXZlQXMoYmxvYiwgZmlsZW5hbWUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogYXNrcyBmb3IgZmlsZW5hbWUgYW5kIGNyZWF0ZXMgYmxvYiB3aXRoIENTViBkYXRhIGZyb20gY2hhcnQgd2hpY2ggaW5pdGlhdGVzIHdlYiBicm93c2VyIGRvd25sb2FkIGRpYWxvZ1xuICAgKiBDU1YgLSB2YXJpYWJsZSB2YWx1ZXMgcGVyIHJvd1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kb3dubG9hZGZsYXQgPSBmdW5jdGlvbiBkb3dubG9hZGZsYXQoKSB7XG4gICAgLy9hc2sgZm9yIGZpbGVuYW1lXG4gICAgdmFyIGZpbGVuYW1lID0gcHJvbXB0KCdGaWxlIG5hbWUgKCouY3N2KTonLCAnZGF0YS5jc3YnKTtcblxuICAgIGlmIChmaWxlbmFtZSkge1xuICAgICAgLy9hZGRzIGNzdiBhcyBleHRlbnNpb25cbiAgICAgIGlmICghZmlsZW5hbWUuZW5kc1dpdGgoJy5jc3YnKSkgZmlsZW5hbWUgPSBmaWxlbmFtZS5jb25jYXQoJy5jc3YnKTsgLy9sYWJlbHMgZmlyc3Qgcm93IC0gZWFjaCByb3cgaXMgdGhlbiBhbGwgZGF0YSBwZXIgdmFyaWFibGUgLSB0cmFuc3Bvc2l0aW9uIG1pZ2h0IGJlIG5lZWRlZFxuXG4gICAgICB2YXIgY29udGVudCA9ICd2YXJpYWJsZSBuYW1lLHZhbHVlcyAuLi4nICsgJ1xcbic7XG4gICAgICB2YXIgbGFiZWxzID0gdGhpcy5sYWJlbHMuc3BsaXQoJywnKTsgLy8gdmFyaWFibGUgcGVyIHJvd1xuICAgICAgLy9jaGFydCBsYWJlbHMgLSB1c3VhbGx5IHRpbWVcblxuICAgICAgY29udGVudCA9IGNvbnRlbnQgKyAnVGltZSwnICsgdGhpcy5jaGFydC5kYXRhLmxhYmVscy5qb2luKCcsJykgKyAnXFxuJzsgLy9kYXRhc2V0IGRhdGEgb24gb3RoZXIgcm93c1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb250ZW50ID0gY29udGVudCArIGxhYmVsc1tpXSArICcsJyArIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tpXS5kYXRhLmpvaW4oJywnKSArICdcXG4nO1xuICAgICAgfVxuXG4gICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtjb250ZW50XSwge1xuICAgICAgICB0eXBlOiAndGV4dC9jc3Y7Y2hhcnNldD11dGYtODsnXG4gICAgICB9KTtcbiAgICAgIHNhdmVBcyhibG9iLCBmaWxlbmFtZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBZGRzIG5ldyBzZWN0aW9uIGluIGNoYXJ0YXJlYSAtIGN1cnJlbnQgbGFzdCBkYXRhIGluIGRhdGFzZXRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uYWRkU2VjdGlvbiA9IGZ1bmN0aW9uIGFkZFNlY3Rpb24obGFiZWwpIHtcbiAgICBpZiAobGFiZWwgPT09IHZvaWQgMCkge1xuICAgICAgbGFiZWwgPSAnJztcbiAgICB9XG5cbiAgICB0aGlzLmluZGV4c2VjdGlvbisrO1xuICAgIGlmICghbGFiZWwpIGxhYmVsID0gJyc7XG4gICAgY29uc29sZS5sb2coJ2NoYXJ0anMuYWRkc2VjdGlvbigpJywgdGhpcy5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGggLSAxKTtcbiAgICB0aGlzLmNoYXJ0LmNvbmZpZy5vcHRpb25zLnNlY3Rpb24ucHVzaCh7XG4gICAgICBpbmRleDogdGhpcy5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGggLSAxLFxuICAgICAgY29sb3I6IHRoaXMuc2VsZWN0Q29sb3IodGhpcy5pbmRleHNlY3Rpb24sIDg1LCA5MSksXG4gICAgICBsYWJlbDogbGFiZWxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gQ2hhcnRqcztcbn0oKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZnJvbWlkXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibGFiZWxzXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVmaW5kZXhcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZWZ2YWx1ZXNcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0eXBlXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnZG91Z2hudXQnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I2ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm1heGRhdGFcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDI1NjtcbiAgfVxufSksIF9kZXNjcmlwdG9yNyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpbml0aWFsZGF0YVwiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjggPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwid2lkdGhcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDYwMDtcbiAgfVxufSksIF9kZXNjcmlwdG9yOSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDMwMDtcbiAgfVxufSksIF9kZXNjcmlwdG9yMTAgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYW5pbWF0ZVwiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjExID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlkXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjEyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInlsYWJlbFwiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IxMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ4bGFiZWxcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMTQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY29udmVydG9yc1wiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IxNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ2ZXJ0aWNhbGxpbmVcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IxNiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZWN0aW9uaWRcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSkpLCBfY2xhc3MpO1xuZXhwb3J0cy5DaGFydGpzID0gQ2hhcnRqcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXJ0anMuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/chartjs\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/chartjs-time":
/*!********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/chartjs-time.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.ChartjsTime = void 0;\n\nvar _aureliaTemplating = __webpack_require__(/*! aurelia-templating */ \"SkM8\");\n\nvar _chartjs = __webpack_require__(/*! ./chartjs */ \"aurelia-bodylight-plugin/elements/chartjs\");\n\nvar _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n//import {PLATFORM} from 'aurelia-pal';\n//@customElement\n//@useView(PLATFORM.moduleName('./bdl-chartjs.html'))\nvar ChartjsTime = (_dec = (0, _aureliaTemplating.useView)('./chartjs.html'), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Chartjs) {\n  _inheritsLoose(ChartjsTime, _Chartjs);\n\n  function ChartjsTime() {\n    var _this;\n\n    _this = _Chartjs.call(this) || this; //this.type = 'line';\n\n    _initializerDefineProperty(_this, \"fromid\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"labels\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"refindex\", _descriptor3, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"refvalues\", _descriptor4, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"type\", _descriptor5, _assertThisInitialized(_this));\n\n    _this.handleValueChange = function (e) {\n      //e.detail do not reallocate - using same buffer, thus slicing to append to data array\n      //let datapoints =e.detail.data.slice(this.refindex, this.refendindex);\n      var j = 0;\n\n      for (var i = _this.refindex; i < _this.refindex + _this.refvalues; i++) {\n        //adds data to datasets\n        //if convert operation is defined as array then convert\n        if (_this.operation && _this.operation[j]) _this.chart.data.datasets[j].data.push(_this.operation[j](e.detail.data[i])); //else push data directly\n        else _this.chart.data.datasets[j].data.push(e.detail.data[i]);\n\n        if (_this.chart.data.datasets[j].data.length > _this.maxdata) {\n          //console.log('shifting dataset chartjs-time', this.chart.data.datasets[j].data);\n          _this.chart.data.datasets[j].data.shift();\n        }\n\n        j++;\n      }\n\n      _this.chart.data.labels.push(e.detail.time);\n\n      if (_this.chart.data.labels.length > _this.maxdata) {\n        _this.chart.data.labels.shift();\n\n        if (_this.sectionid) {\n          //shift sections\n          if (_this.chart.config.options.section[0].index === 0) _this.chart.config.options.section.shift(); //decrement all indices in sections\n\n          for (var _i = 0; _i < _this.chart.config.options.section.length; _i++) {\n            _this.chart.config.options.section[_i].index -= 1;\n          }\n        }\n      } //shift - remove first element if data is too big\n      //console.log('chartjs handlevaluechange() chart.data.datasets[0].data', this.chart.data.datasets[0].data);\n\n\n      _this.chart.update();\n    };\n\n    return _this;\n  }\n  /**\n   * sets all tim-series specific options for chartjs\n   */\n\n\n  var _proto = ChartjsTime.prototype;\n\n  _proto.bind = function bind() {\n    _Chartjs.prototype.bind.call(this); //done in super\n    //this.chlabels = this.labels.split(','); //labels for each dataset\n    //this.colors = [];\n\n\n    var datasets = [];\n    var mydata1 = this.initialdata.split(';');\n\n    for (var i = 0; i < this.refvalues + 1; i++) {\n      //mydata[0] == timelabels in x axis, mydata[1..n] ar in y axis\n      var mydata2 = mydata1[i] ? mydata1[i].split(',') : [];\n      this.mydata[i] = mydata2.map(function (x) {\n        return parseFloat(x);\n      }); //console.log('chartjstime mydata i',this.mydata[i]);\n    } //initialize colors for each dataset\n\n\n    for (var _i2 = 0; _i2 < this.refvalues; _i2++) {\n      //this.colors.push(this.selectColor(i));\n      datasets.push({\n        data: this.mydata[_i2 + 1],\n        label: this.chlabels[_i2],\n        backgroundColor: this.selectColor(_i2),\n        borderColor: this.selectColor(_i2),\n        borderWidth: 1,\n        pointRadius: 1,\n        fill: false\n      }); //timelabels.push(i);\n    }\n\n    this.data = {\n      labels: this.mydata[0],\n      datasets: datasets\n    };\n    if (this.verticalline) this.type = 'LineWithLine';else this.type = 'line';\n  };\n\n  _proto.resetdata = function resetdata() {\n    //super.resetdata();\n    for (var j = 0; j < this.refvalues; j++) {\n      this.chart.data.datasets[j].data = [];\n    }\n\n    this.chart.data.labels = [];\n    this.chart.update();\n  };\n\n  return ChartjsTime;\n}(_chartjs.Chartjs), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"fromid\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"labels\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"refindex\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"refvalues\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, \"type\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.ChartjsTime = ChartjsTime;\n//# sourceMappingURL=chartjs-time.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2NoYXJ0anMtdGltZS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9jaGFydGpzLXRpbWUuanM/MTg4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuQ2hhcnRqc1RpbWUgPSB2b2lkIDA7XG5cbnZhciBfYXVyZWxpYVRlbXBsYXRpbmcgPSByZXF1aXJlKFwiYXVyZWxpYS10ZW1wbGF0aW5nXCIpO1xuXG52YXIgX2NoYXJ0anMgPSByZXF1aXJlKFwiLi9jaGFydGpzXCIpO1xuXG52YXIgX2RlYywgX2NsYXNzLCBfY2xhc3MyLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cbi8vaW1wb3J0IHtQTEFURk9STX0gZnJvbSAnYXVyZWxpYS1wYWwnO1xuLy9AY3VzdG9tRWxlbWVudFxuLy9AdXNlVmlldyhQTEFURk9STS5tb2R1bGVOYW1lKCcuL2JkbC1jaGFydGpzLmh0bWwnKSlcbnZhciBDaGFydGpzVGltZSA9IChfZGVjID0gKDAsIF9hdXJlbGlhVGVtcGxhdGluZy51c2VWaWV3KSgnLi9jaGFydGpzLmh0bWwnKSwgX2RlYyhfY2xhc3MgPSAoX2NsYXNzMiA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NoYXJ0anMpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ2hhcnRqc1RpbWUsIF9DaGFydGpzKTtcblxuICBmdW5jdGlvbiBDaGFydGpzVGltZSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9DaGFydGpzLmNhbGwodGhpcykgfHwgdGhpczsgLy90aGlzLnR5cGUgPSAnbGluZSc7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgXCJmcm9taWRcIiwgX2Rlc2NyaXB0b3IsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCBcImxhYmVsc1wiLCBfZGVzY3JpcHRvcjIsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCBcInJlZmluZGV4XCIsIF9kZXNjcmlwdG9yMywgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsIFwicmVmdmFsdWVzXCIsIF9kZXNjcmlwdG9yNCwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsIFwidHlwZVwiLCBfZGVzY3JpcHRvcjUsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIF90aGlzLmhhbmRsZVZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vZS5kZXRhaWwgZG8gbm90IHJlYWxsb2NhdGUgLSB1c2luZyBzYW1lIGJ1ZmZlciwgdGh1cyBzbGljaW5nIHRvIGFwcGVuZCB0byBkYXRhIGFycmF5XG4gICAgICAvL2xldCBkYXRhcG9pbnRzID1lLmRldGFpbC5kYXRhLnNsaWNlKHRoaXMucmVmaW5kZXgsIHRoaXMucmVmZW5kaW5kZXgpO1xuICAgICAgdmFyIGogPSAwO1xuXG4gICAgICBmb3IgKHZhciBpID0gX3RoaXMucmVmaW5kZXg7IGkgPCBfdGhpcy5yZWZpbmRleCArIF90aGlzLnJlZnZhbHVlczsgaSsrKSB7XG4gICAgICAgIC8vYWRkcyBkYXRhIHRvIGRhdGFzZXRzXG4gICAgICAgIC8vaWYgY29udmVydCBvcGVyYXRpb24gaXMgZGVmaW5lZCBhcyBhcnJheSB0aGVuIGNvbnZlcnRcbiAgICAgICAgaWYgKF90aGlzLm9wZXJhdGlvbiAmJiBfdGhpcy5vcGVyYXRpb25bal0pIF90aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbal0uZGF0YS5wdXNoKF90aGlzLm9wZXJhdGlvbltqXShlLmRldGFpbC5kYXRhW2ldKSk7IC8vZWxzZSBwdXNoIGRhdGEgZGlyZWN0bHlcbiAgICAgICAgZWxzZSBfdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW2pdLmRhdGEucHVzaChlLmRldGFpbC5kYXRhW2ldKTtcblxuICAgICAgICBpZiAoX3RoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tqXS5kYXRhLmxlbmd0aCA+IF90aGlzLm1heGRhdGEpIHtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdzaGlmdGluZyBkYXRhc2V0IGNoYXJ0anMtdGltZScsIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tqXS5kYXRhKTtcbiAgICAgICAgICBfdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW2pdLmRhdGEuc2hpZnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgX3RoaXMuY2hhcnQuZGF0YS5sYWJlbHMucHVzaChlLmRldGFpbC50aW1lKTtcblxuICAgICAgaWYgKF90aGlzLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aCA+IF90aGlzLm1heGRhdGEpIHtcbiAgICAgICAgX3RoaXMuY2hhcnQuZGF0YS5sYWJlbHMuc2hpZnQoKTtcblxuICAgICAgICBpZiAoX3RoaXMuc2VjdGlvbmlkKSB7XG4gICAgICAgICAgLy9zaGlmdCBzZWN0aW9uc1xuICAgICAgICAgIGlmIChfdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zZWN0aW9uWzBdLmluZGV4ID09PSAwKSBfdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zZWN0aW9uLnNoaWZ0KCk7IC8vZGVjcmVtZW50IGFsbCBpbmRpY2VzIGluIHNlY3Rpb25zXG5cbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX3RoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2VjdGlvbi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIF90aGlzLmNoYXJ0LmNvbmZpZy5vcHRpb25zLnNlY3Rpb25bX2ldLmluZGV4IC09IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vc2hpZnQgLSByZW1vdmUgZmlyc3QgZWxlbWVudCBpZiBkYXRhIGlzIHRvbyBiaWdcbiAgICAgIC8vY29uc29sZS5sb2coJ2NoYXJ0anMgaGFuZGxldmFsdWVjaGFuZ2UoKSBjaGFydC5kYXRhLmRhdGFzZXRzWzBdLmRhdGEnLCB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YSk7XG5cblxuICAgICAgX3RoaXMuY2hhcnQudXBkYXRlKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogc2V0cyBhbGwgdGltLXNlcmllcyBzcGVjaWZpYyBvcHRpb25zIGZvciBjaGFydGpzXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IENoYXJ0anNUaW1lLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYmluZCA9IGZ1bmN0aW9uIGJpbmQoKSB7XG4gICAgX0NoYXJ0anMucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzKTsgLy9kb25lIGluIHN1cGVyXG4gICAgLy90aGlzLmNobGFiZWxzID0gdGhpcy5sYWJlbHMuc3BsaXQoJywnKTsgLy9sYWJlbHMgZm9yIGVhY2ggZGF0YXNldFxuICAgIC8vdGhpcy5jb2xvcnMgPSBbXTtcblxuXG4gICAgdmFyIGRhdGFzZXRzID0gW107XG4gICAgdmFyIG15ZGF0YTEgPSB0aGlzLmluaXRpYWxkYXRhLnNwbGl0KCc7Jyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVmdmFsdWVzICsgMTsgaSsrKSB7XG4gICAgICAvL215ZGF0YVswXSA9PSB0aW1lbGFiZWxzIGluIHggYXhpcywgbXlkYXRhWzEuLm5dIGFyIGluIHkgYXhpc1xuICAgICAgdmFyIG15ZGF0YTIgPSBteWRhdGExW2ldID8gbXlkYXRhMVtpXS5zcGxpdCgnLCcpIDogW107XG4gICAgICB0aGlzLm15ZGF0YVtpXSA9IG15ZGF0YTIubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHgpO1xuICAgICAgfSk7IC8vY29uc29sZS5sb2coJ2NoYXJ0anN0aW1lIG15ZGF0YSBpJyx0aGlzLm15ZGF0YVtpXSk7XG4gICAgfSAvL2luaXRpYWxpemUgY29sb3JzIGZvciBlYWNoIGRhdGFzZXRcblxuXG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdGhpcy5yZWZ2YWx1ZXM7IF9pMisrKSB7XG4gICAgICAvL3RoaXMuY29sb3JzLnB1c2godGhpcy5zZWxlY3RDb2xvcihpKSk7XG4gICAgICBkYXRhc2V0cy5wdXNoKHtcbiAgICAgICAgZGF0YTogdGhpcy5teWRhdGFbX2kyICsgMV0sXG4gICAgICAgIGxhYmVsOiB0aGlzLmNobGFiZWxzW19pMl0sXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5zZWxlY3RDb2xvcihfaTIpLFxuICAgICAgICBib3JkZXJDb2xvcjogdGhpcy5zZWxlY3RDb2xvcihfaTIpLFxuICAgICAgICBib3JkZXJXaWR0aDogMSxcbiAgICAgICAgcG9pbnRSYWRpdXM6IDEsXG4gICAgICAgIGZpbGw6IGZhbHNlXG4gICAgICB9KTsgLy90aW1lbGFiZWxzLnB1c2goaSk7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhID0ge1xuICAgICAgbGFiZWxzOiB0aGlzLm15ZGF0YVswXSxcbiAgICAgIGRhdGFzZXRzOiBkYXRhc2V0c1xuICAgIH07XG4gICAgaWYgKHRoaXMudmVydGljYWxsaW5lKSB0aGlzLnR5cGUgPSAnTGluZVdpdGhMaW5lJztlbHNlIHRoaXMudHlwZSA9ICdsaW5lJztcbiAgfTtcblxuICBfcHJvdG8ucmVzZXRkYXRhID0gZnVuY3Rpb24gcmVzZXRkYXRhKCkge1xuICAgIC8vc3VwZXIucmVzZXRkYXRhKCk7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLnJlZnZhbHVlczsgaisrKSB7XG4gICAgICB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbal0uZGF0YSA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMuY2hhcnQuZGF0YS5sYWJlbHMgPSBbXTtcbiAgICB0aGlzLmNoYXJ0LnVwZGF0ZSgpO1xuICB9O1xuXG4gIHJldHVybiBDaGFydGpzVGltZTtcbn0oX2NoYXJ0anMuQ2hhcnRqcyksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgXCJmcm9taWRcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzczIucHJvdG90eXBlLCBcImxhYmVsc1wiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsIFwicmVmaW5kZXhcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzczIucHJvdG90eXBlLCBcInJlZnZhbHVlc1wiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsIFwidHlwZVwiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSkpLCBfY2xhc3MyKSkgfHwgX2NsYXNzKTtcbmV4cG9ydHMuQ2hhcnRqc1RpbWUgPSBDaGFydGpzVGltZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXJ0anMtdGltZS5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/chartjs-time\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/chartjs-time.html":
/*!**********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/chartjs-time.html ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template><!-- not used, inherited from chartjs--></template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2NoYXJ0anMtdGltZS5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2NoYXJ0anMtdGltZS5odG1sPzZjNzIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT48IS0tIG5vdCB1c2VkLCBpbmhlcml0ZWQgZnJvbSBjaGFydGpzLS0+PC90ZW1wbGF0ZT5cXG5cIjsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/chartjs-time.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/chartjs-xy":
/*!******************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/chartjs-xy.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.ChartjsXy = void 0;\n\nvar _chartjsTime = __webpack_require__(/*! ./chartjs-time */ \"aurelia-bodylight-plugin/elements/chartjs-time\");\n\nvar _aureliaTemplating = __webpack_require__(/*! aurelia-templating */ \"SkM8\");\n\nvar _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n//import {PLATFORM} from 'aurelia-pal';\n//@useView(PLATFORM.moduleName('./bdl-chartjs.html'))\nvar ChartjsXy = (_dec = (0, _aureliaTemplating.useView)('./chartjs.html'), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_ChartjsTime) {\n  _inheritsLoose(ChartjsXy, _ChartjsTime);\n\n  function ChartjsXy() {\n    var _this;\n\n    _this = _ChartjsTime.call(this) || this;\n\n    _initializerDefineProperty(_this, \"fromid\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"labels\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"refindex\", _descriptor3, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"refvalues\", _descriptor4, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"type\", _descriptor5, _assertThisInitialized(_this));\n\n    _this.handleValueChange = function (e) {\n      //e.detail do not reallocate - using same buffer, thus slicing to append to data array\n      //let datapoints =e.detail.data.slice(this.refindex, this.refendindex);\n      var j = 0; //put first value on x axis, others on y axis other values\n\n      for (var i = _this.refindex + 1; i < _this.refindex + _this.refvalues; i++) {\n        _this.chart.data.datasets[j].data.push({\n          x: e.detail.data[_this.refindex],\n          y: e.detail.data[i]\n        }); //console.log('adding from data[], i, data[i]', e.detail.data, i, e.detail.data[i]);\n\n\n        if (_this.chart.data.datasets[j].data.length > _this.maxdata) {\n          //console.log('shifting dataset chartjs-xy', this.chart.data.datasets[j].data);\n          _this.chart.data.datasets[j].data.shift();\n        }\n\n        j++;\n      } //console.log('chartjs-xy handlevaluechange datasets, e.detail.data',this.chart.data.datasets, e.detail.data);\n\n\n      _this.chart.update();\n    };\n\n    return _this;\n  }\n\n  var _proto = ChartjsXy.prototype;\n\n  _proto.bind = function bind() {\n    var _this2 = this;\n\n    _ChartjsTime.prototype.bind.call(this);\n\n    var datasets = [];\n    var mydata1 = this.initialdata.split(';'); //initialize x and y, x is first dataset, y is al the rest\n\n    this.mydata = [];\n\n    for (var i = 0; i < this.refvalues; i++) {\n      var mydata2 = mydata1[i] ? mydata1[i].split(',') : [];\n\n      if (i === 0) {\n        //parse x\n        this.mydata[0] = mydata2.map(function (x, index) {\n          return parseFloat(x);\n        });\n      } else {\n        //parse all y\n        this.mydata[i] = mydata2.map(function (yy, index) {\n          return {\n            x: _this2.mydata[0][index],\n            y: parseFloat(yy)\n          };\n        });\n      }\n    } //this.colors already set in super()\n\n\n    for (var _i = 1; _i < this.refvalues; _i++) {\n      datasets.push({\n        data: this.mydata[_i],\n        label: this.chlabels[_i],\n        backgroundColor: this.colors[_i],\n        borderColor: this.colors[_i],\n        fill: false,\n        showLine: true,\n        borderWidth: 1,\n        refvalues: this.refvalues\n      });\n    } //add additional data, all after ; is taken as x values separated by , of initial curve,\n    // after ; is y values of initial curve separated by ,\n    // if more curves then another ;. E.g. initialdata=\";;0,0.00015;0,28000;0,0.00015;0,1400\"\n    // -> line from 0 0 to 0.0015 28000 and from 0 0 to 00015 1400\n\n\n    if (mydata1.length > this.refvalues) {\n      var j = this.refvalues;\n\n      var _loop = function _loop(_i2) {\n        var mydata2 = mydata1[_i2].split(',');\n\n        var mydata3 = mydata1[_i2 + 1].split(',');\n\n        _this2.mydata[j] = mydata3.map(function (yy, index) {\n          return {\n            x: parseFloat(mydata2[index]),\n            y: parseFloat(yy)\n          };\n        });\n        datasets.push({\n          data: _this2.mydata[j],\n          backgroundColor: _this2.selectColor(_i2),\n          borderColor: _this2.selectColor(_i2),\n          fill: false,\n          showLine: true\n        });\n        j++;\n      };\n\n      for (var _i2 = this.refvalues; _i2 < mydata1.length; _i2 += 2) {\n        _loop(_i2);\n      }\n    }\n\n    this.data = {\n      datasets: datasets\n    };\n    this.type = 'scatter';\n    this.options.tooltips.mode = 'nearest';\n    this.options.elements = {\n      point: {\n        radius: this.customRadius,\n        display: true\n      }\n    };\n  };\n\n  _proto.customRadius = function customRadius(context) {\n    var last = context.dataIndex === context.dataset.data.length - 1;\n    var inrefvalues = context.datasetIndex < context.dataset.refvalues; //dataset is in refvalues - changed by simulator\n\n    if (inrefvalues) return last ? 3 : 1;\n    return 1; //dataset is fixed - background borders\n  };\n\n  _proto.resetdata = function resetdata() {\n    var j = 0;\n\n    for (var i = this.refindex + 1; i < this.refindex + this.refvalues; i++) {\n      this.chart.data.datasets[j].data = [];\n      j++;\n    }\n  };\n\n  return ChartjsXy;\n}(_chartjsTime.ChartjsTime), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"fromid\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"labels\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"refindex\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"refvalues\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, \"type\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexports.ChartjsXy = ChartjsXy;\n//# sourceMappingURL=chartjs-xy.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2NoYXJ0anMteHkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2Rpc3QvbmF0aXZlLW1vZHVsZXMvZWxlbWVudHMvY2hhcnRqcy14eS5qcz84OGMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5DaGFydGpzWHkgPSB2b2lkIDA7XG5cbnZhciBfY2hhcnRqc1RpbWUgPSByZXF1aXJlKFwiLi9jaGFydGpzLXRpbWVcIik7XG5cbnZhciBfYXVyZWxpYVRlbXBsYXRpbmcgPSByZXF1aXJlKFwiYXVyZWxpYS10ZW1wbGF0aW5nXCIpO1xuXG52YXIgX2RlYywgX2NsYXNzLCBfY2xhc3MyLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cbi8vaW1wb3J0IHtQTEFURk9STX0gZnJvbSAnYXVyZWxpYS1wYWwnO1xuLy9AdXNlVmlldyhQTEFURk9STS5tb2R1bGVOYW1lKCcuL2JkbC1jaGFydGpzLmh0bWwnKSlcbnZhciBDaGFydGpzWHkgPSAoX2RlYyA9ICgwLCBfYXVyZWxpYVRlbXBsYXRpbmcudXNlVmlldykoJy4vY2hhcnRqcy5odG1sJyksIF9kZWMoX2NsYXNzID0gKF9jbGFzczIgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9DaGFydGpzVGltZSkge1xuICBfaW5oZXJpdHNMb29zZShDaGFydGpzWHksIF9DaGFydGpzVGltZSk7XG5cbiAgZnVuY3Rpb24gQ2hhcnRqc1h5KCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NoYXJ0anNUaW1lLmNhbGwodGhpcykgfHwgdGhpcztcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCBcImZyb21pZFwiLCBfZGVzY3JpcHRvciwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsIFwibGFiZWxzXCIsIF9kZXNjcmlwdG9yMiwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsIFwicmVmaW5kZXhcIiwgX2Rlc2NyaXB0b3IzLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgXCJyZWZ2YWx1ZXNcIiwgX2Rlc2NyaXB0b3I0LCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgXCJ0eXBlXCIsIF9kZXNjcmlwdG9yNSwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX3RoaXMuaGFuZGxlVmFsdWVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy9lLmRldGFpbCBkbyBub3QgcmVhbGxvY2F0ZSAtIHVzaW5nIHNhbWUgYnVmZmVyLCB0aHVzIHNsaWNpbmcgdG8gYXBwZW5kIHRvIGRhdGEgYXJyYXlcbiAgICAgIC8vbGV0IGRhdGFwb2ludHMgPWUuZGV0YWlsLmRhdGEuc2xpY2UodGhpcy5yZWZpbmRleCwgdGhpcy5yZWZlbmRpbmRleCk7XG4gICAgICB2YXIgaiA9IDA7IC8vcHV0IGZpcnN0IHZhbHVlIG9uIHggYXhpcywgb3RoZXJzIG9uIHkgYXhpcyBvdGhlciB2YWx1ZXNcblxuICAgICAgZm9yICh2YXIgaSA9IF90aGlzLnJlZmluZGV4ICsgMTsgaSA8IF90aGlzLnJlZmluZGV4ICsgX3RoaXMucmVmdmFsdWVzOyBpKyspIHtcbiAgICAgICAgX3RoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tqXS5kYXRhLnB1c2goe1xuICAgICAgICAgIHg6IGUuZGV0YWlsLmRhdGFbX3RoaXMucmVmaW5kZXhdLFxuICAgICAgICAgIHk6IGUuZGV0YWlsLmRhdGFbaV1cbiAgICAgICAgfSk7IC8vY29uc29sZS5sb2coJ2FkZGluZyBmcm9tIGRhdGFbXSwgaSwgZGF0YVtpXScsIGUuZGV0YWlsLmRhdGEsIGksIGUuZGV0YWlsLmRhdGFbaV0pO1xuXG5cbiAgICAgICAgaWYgKF90aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbal0uZGF0YS5sZW5ndGggPiBfdGhpcy5tYXhkYXRhKSB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZygnc2hpZnRpbmcgZGF0YXNldCBjaGFydGpzLXh5JywgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW2pdLmRhdGEpO1xuICAgICAgICAgIF90aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbal0uZGF0YS5zaGlmdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaisrO1xuICAgICAgfSAvL2NvbnNvbGUubG9nKCdjaGFydGpzLXh5IGhhbmRsZXZhbHVlY2hhbmdlIGRhdGFzZXRzLCBlLmRldGFpbC5kYXRhJyx0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMsIGUuZGV0YWlsLmRhdGEpO1xuXG5cbiAgICAgIF90aGlzLmNoYXJ0LnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ2hhcnRqc1h5LnByb3RvdHlwZTtcblxuICBfcHJvdG8uYmluZCA9IGZ1bmN0aW9uIGJpbmQoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBfQ2hhcnRqc1RpbWUucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzKTtcblxuICAgIHZhciBkYXRhc2V0cyA9IFtdO1xuICAgIHZhciBteWRhdGExID0gdGhpcy5pbml0aWFsZGF0YS5zcGxpdCgnOycpOyAvL2luaXRpYWxpemUgeCBhbmQgeSwgeCBpcyBmaXJzdCBkYXRhc2V0LCB5IGlzIGFsIHRoZSByZXN0XG5cbiAgICB0aGlzLm15ZGF0YSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlZnZhbHVlczsgaSsrKSB7XG4gICAgICB2YXIgbXlkYXRhMiA9IG15ZGF0YTFbaV0gPyBteWRhdGExW2ldLnNwbGl0KCcsJykgOiBbXTtcblxuICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgLy9wYXJzZSB4XG4gICAgICAgIHRoaXMubXlkYXRhWzBdID0gbXlkYXRhMi5tYXAoZnVuY3Rpb24gKHgsIGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoeCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9wYXJzZSBhbGwgeVxuICAgICAgICB0aGlzLm15ZGF0YVtpXSA9IG15ZGF0YTIubWFwKGZ1bmN0aW9uICh5eSwgaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogX3RoaXMyLm15ZGF0YVswXVtpbmRleF0sXG4gICAgICAgICAgICB5OiBwYXJzZUZsb2F0KHl5KVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gLy90aGlzLmNvbG9ycyBhbHJlYWR5IHNldCBpbiBzdXBlcigpXG5cblxuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCB0aGlzLnJlZnZhbHVlczsgX2krKykge1xuICAgICAgZGF0YXNldHMucHVzaCh7XG4gICAgICAgIGRhdGE6IHRoaXMubXlkYXRhW19pXSxcbiAgICAgICAgbGFiZWw6IHRoaXMuY2hsYWJlbHNbX2ldLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuY29sb3JzW19pXSxcbiAgICAgICAgYm9yZGVyQ29sb3I6IHRoaXMuY29sb3JzW19pXSxcbiAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgIHNob3dMaW5lOiB0cnVlLFxuICAgICAgICBib3JkZXJXaWR0aDogMSxcbiAgICAgICAgcmVmdmFsdWVzOiB0aGlzLnJlZnZhbHVlc1xuICAgICAgfSk7XG4gICAgfSAvL2FkZCBhZGRpdGlvbmFsIGRhdGEsIGFsbCBhZnRlciA7IGlzIHRha2VuIGFzIHggdmFsdWVzIHNlcGFyYXRlZCBieSAsIG9mIGluaXRpYWwgY3VydmUsXG4gICAgLy8gYWZ0ZXIgOyBpcyB5IHZhbHVlcyBvZiBpbml0aWFsIGN1cnZlIHNlcGFyYXRlZCBieSAsXG4gICAgLy8gaWYgbW9yZSBjdXJ2ZXMgdGhlbiBhbm90aGVyIDsuIEUuZy4gaW5pdGlhbGRhdGE9XCI7OzAsMC4wMDAxNTswLDI4MDAwOzAsMC4wMDAxNTswLDE0MDBcIlxuICAgIC8vIC0+IGxpbmUgZnJvbSAwIDAgdG8gMC4wMDE1IDI4MDAwIGFuZCBmcm9tIDAgMCB0byAwMDAxNSAxNDAwXG5cblxuICAgIGlmIChteWRhdGExLmxlbmd0aCA+IHRoaXMucmVmdmFsdWVzKSB7XG4gICAgICB2YXIgaiA9IHRoaXMucmVmdmFsdWVzO1xuXG4gICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChfaTIpIHtcbiAgICAgICAgdmFyIG15ZGF0YTIgPSBteWRhdGExW19pMl0uc3BsaXQoJywnKTtcblxuICAgICAgICB2YXIgbXlkYXRhMyA9IG15ZGF0YTFbX2kyICsgMV0uc3BsaXQoJywnKTtcblxuICAgICAgICBfdGhpczIubXlkYXRhW2pdID0gbXlkYXRhMy5tYXAoZnVuY3Rpb24gKHl5LCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBwYXJzZUZsb2F0KG15ZGF0YTJbaW5kZXhdKSxcbiAgICAgICAgICAgIHk6IHBhcnNlRmxvYXQoeXkpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRhdGFzZXRzLnB1c2goe1xuICAgICAgICAgIGRhdGE6IF90aGlzMi5teWRhdGFbal0sXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBfdGhpczIuc2VsZWN0Q29sb3IoX2kyKSxcbiAgICAgICAgICBib3JkZXJDb2xvcjogX3RoaXMyLnNlbGVjdENvbG9yKF9pMiksXG4gICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgc2hvd0xpbmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGorKztcbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IHRoaXMucmVmdmFsdWVzOyBfaTIgPCBteWRhdGExLmxlbmd0aDsgX2kyICs9IDIpIHtcbiAgICAgICAgX2xvb3AoX2kyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRhdGEgPSB7XG4gICAgICBkYXRhc2V0czogZGF0YXNldHNcbiAgICB9O1xuICAgIHRoaXMudHlwZSA9ICdzY2F0dGVyJztcbiAgICB0aGlzLm9wdGlvbnMudG9vbHRpcHMubW9kZSA9ICduZWFyZXN0JztcbiAgICB0aGlzLm9wdGlvbnMuZWxlbWVudHMgPSB7XG4gICAgICBwb2ludDoge1xuICAgICAgICByYWRpdXM6IHRoaXMuY3VzdG9tUmFkaXVzLFxuICAgICAgICBkaXNwbGF5OiB0cnVlXG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBfcHJvdG8uY3VzdG9tUmFkaXVzID0gZnVuY3Rpb24gY3VzdG9tUmFkaXVzKGNvbnRleHQpIHtcbiAgICB2YXIgbGFzdCA9IGNvbnRleHQuZGF0YUluZGV4ID09PSBjb250ZXh0LmRhdGFzZXQuZGF0YS5sZW5ndGggLSAxO1xuICAgIHZhciBpbnJlZnZhbHVlcyA9IGNvbnRleHQuZGF0YXNldEluZGV4IDwgY29udGV4dC5kYXRhc2V0LnJlZnZhbHVlczsgLy9kYXRhc2V0IGlzIGluIHJlZnZhbHVlcyAtIGNoYW5nZWQgYnkgc2ltdWxhdG9yXG5cbiAgICBpZiAoaW5yZWZ2YWx1ZXMpIHJldHVybiBsYXN0ID8gMyA6IDE7XG4gICAgcmV0dXJuIDE7IC8vZGF0YXNldCBpcyBmaXhlZCAtIGJhY2tncm91bmQgYm9yZGVyc1xuICB9O1xuXG4gIF9wcm90by5yZXNldGRhdGEgPSBmdW5jdGlvbiByZXNldGRhdGEoKSB7XG4gICAgdmFyIGogPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IHRoaXMucmVmaW5kZXggKyAxOyBpIDwgdGhpcy5yZWZpbmRleCArIHRoaXMucmVmdmFsdWVzOyBpKyspIHtcbiAgICAgIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tqXS5kYXRhID0gW107XG4gICAgICBqKys7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBDaGFydGpzWHk7XG59KF9jaGFydGpzVGltZS5DaGFydGpzVGltZSksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgXCJmcm9taWRcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzczIucHJvdG90eXBlLCBcImxhYmVsc1wiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsIFwicmVmaW5kZXhcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzczIucHJvdG90eXBlLCBcInJlZnZhbHVlc1wiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsIFwidHlwZVwiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSkpLCBfY2xhc3MyKSkgfHwgX2NsYXNzKTtcbmV4cG9ydHMuQ2hhcnRqc1h5ID0gQ2hhcnRqc1h5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhcnRqcy14eS5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/chartjs-xy\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/chartjs-xy.html":
/*!********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/chartjs-xy.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template><!-- not used, inherited from chartjs--></template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2NoYXJ0anMteHkuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9jaGFydGpzLXh5Lmh0bWw/ZDFmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPjwhLS0gbm90IHVzZWQsIGluaGVyaXRlZCBmcm9tIGNoYXJ0anMtLT48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/chartjs-xy.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/chartjs.html":
/*!*****************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/chartjs.html ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n    <div id=\\\"canvas-holder\\\">\\n    <div class=\\\"w3-small\\\">\\n      <i class=\\\"fa fa-download fa-flip-horizontal\\\" title=\\\"download csv data, row=data in time point\\\" click.delegate=\\\"download()\\\"> </i>\\n      <i class=\\\"fa fa-download fa-rotate-270\\\" title=\\\"download flat csv data, row=all data for variable\\\" click.delegate=\\\"downloadflat()\\\"> </i>\\n    </div>\\n      <div style=\\\"margin-top: -1.5em\\\">\\n    <canvas id=\\\"${id}-canvas\\\" ref=\\\"chartcanvas\\\" width=\\\"${width}\\\" height=\\\"${height}\\\"></canvas>\\n      </div>\\n    </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2NoYXJ0anMuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9jaGFydGpzLmh0bWw/MmNiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbiAgICA8ZGl2IGlkPVxcXCJjYW52YXMtaG9sZGVyXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidzMtc21hbGxcXFwiPlxcbiAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1kb3dubG9hZCBmYS1mbGlwLWhvcml6b250YWxcXFwiIHRpdGxlPVxcXCJkb3dubG9hZCBjc3YgZGF0YSwgcm93PWRhdGEgaW4gdGltZSBwb2ludFxcXCIgY2xpY2suZGVsZWdhdGU9XFxcImRvd25sb2FkKClcXFwiPiA8L2k+XFxuICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWRvd25sb2FkIGZhLXJvdGF0ZS0yNzBcXFwiIHRpdGxlPVxcXCJkb3dubG9hZCBmbGF0IGNzdiBkYXRhLCByb3c9YWxsIGRhdGEgZm9yIHZhcmlhYmxlXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwiZG93bmxvYWRmbGF0KClcXFwiPiA8L2k+XFxuICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgc3R5bGU9XFxcIm1hcmdpbi10b3A6IC0xLjVlbVxcXCI+XFxuICAgIDxjYW52YXMgaWQ9XFxcIiR7aWR9LWNhbnZhc1xcXCIgcmVmPVxcXCJjaGFydGNhbnZhc1xcXCIgd2lkdGg9XFxcIiR7d2lkdGh9XFxcIiBoZWlnaHQ9XFxcIiR7aGVpZ2h0fVxcXCI+PC9jYW52YXM+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/chartjs.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/dygraphchart":
/*!********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/dygraphchart.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.Dygraphchart = void 0;\n\nvar _dygraphs = _interopRequireDefault(__webpack_require__(/*! dygraphs */ \"EflE\"));\n\nvar _aureliaFramework = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n\nvar _fileSaver = __webpack_require__(/*! file-saver */ \"Iab2\");\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _temp;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nvar Dygraphchart = (_class = (_temp = /*#__PURE__*/function () {\n  function Dygraphchart() {\n    var _this = this;\n\n    _initializerDefineProperty(this, \"inputs\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"fromid\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"maxdata\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"refindex\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"refvalues\", _descriptor5, this);\n\n    //this.data = [[0, 0, 0]];\n    //this.data=[[1, 5], [2, 5], [3, 4.9], [4, 4.8], [5, 5.2]];\n    //create lambda function which is added as listener later\n    this.handleValueChange = function (e) {\n      var datapoint = [e.detail.time]; //e.detail do not reallocate - using same buffer, thus slicing to append to data array\n\n      var edata = e.detail.data.slice();\n\n      for (var i = _this.refindex; i < _this.refindex + _this.refvalues; i++) {\n        datapoint.push(edata[i]);\n      }\n\n      _this.data.push(datapoint); //shift - remove first element if data is too big\n\n\n      if (_this.data.length > _this.maxdata) _this.data.shift(); //console.log('Dygraphchar data', this.data);\n\n      _this.dygraph.updateOptions({\n        'file': _this.data\n      });\n    };\n\n    this.handleReset = function (e) {\n      _this.resetdata();\n\n      _this.dygraph.updateOptions({\n        'file': _this.data\n      });\n    };\n  }\n\n  var _proto = Dygraphchart.prototype;\n\n  _proto.resetdata = function resetdata() {\n    this.data = [];\n    var initdatapoint = Array(parseInt(this.refvalues, 10) + 1).fill(0);\n    this.data.push(initdatapoint);\n  };\n\n  _proto.attached = function attached() {\n    //listening to custom event fmidata\n    document.getElementById(this.fromid).addEventListener('fmidata', this.handleValueChange);\n    document.getElementById(this.fromid).addEventListener('fmireset', this.handleReset); //labels are separated by , in attribute inputs\n    //console.log('BdlDygraphchart attached inputs', this.inputs);\n\n    var labels = this.inputs.split(','); //console.log('BdlDygraphchart attached labels', labels);\n    //create dygraph\n\n    this.resetdata(); //console.log('BdlDygraphchart attached initial data init data', initdatapoint, ' data:', this.data);\n\n    this.dygraph = new _dygraphs[\"default\"](this.dygraphcanvas, this.data, {\n      //Draw a small dot at each point\n      drawPoints: true,\n      //rolling average period text box to be show\n      //showRoller: true,\n      //customBars if series is low;middle;high where range between low and high is visualised\n      //customBars: true,\n      //range selector\n      //showRangeSelector: true,\n      labels: labels\n    });\n    /*data.push([x, y]);\n    g.updateOptions( { 'file': data } );*/\n  };\n\n  _proto.detached = function detached() {\n    if (document.getElementById(this.fromid)) document.getElementById(this.fromid).removeEventListener('fmidata', this.handleValueChange);\n    if (document.getElementById(this.fromid)) document.getElementById(this.fromid).removeEventListener('fmireset', this.handleReset);\n  };\n\n  _proto.download = function download() {\n    var filename = prompt('File name (*.csv):', 'data.csv');\n\n    if (filename) {\n      if (!filename.endsWith('.csv')) filename = filename.concat('.csv');\n      var content = this.inputs + '\\n' + this.data.map(function (e) {\n        return e.join(',');\n      }).join('\\n');\n      var blob = new Blob([content], {\n        type: 'text/csv;charset=utf-8;'\n      });\n      (0, _fileSaver.saveAs)(blob, filename);\n    }\n  };\n\n  _proto.preview = function preview() {\n    var content = this.inputs + '\\n' + this.data.map(function (e) {\n      return e.join(',');\n    }).join('\\n');\n    var blob = new Blob([content], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    var url = URL.createObjectURL(blob);\n    this.popup = window.open(url, 'BodylightPreview', 'width=800,height=600,menubar=no,status=no,titlebar=no,toolbar=no');\n  };\n\n  return Dygraphchart;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"inputs\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"fromid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"maxdata\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 300;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"refindex\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"refvalues\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 1;\n  }\n})), _class);\nexports.Dygraphchart = Dygraphchart;\n//# sourceMappingURL=dygraphchart.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2R5Z3JhcGhjaGFydC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9keWdyYXBoY2hhcnQuanM/NDcxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuRHlncmFwaGNoYXJ0ID0gdm9pZCAwO1xuXG52YXIgX2R5Z3JhcGhzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiZHlncmFwaHNcIikpO1xuXG52YXIgX2F1cmVsaWFGcmFtZXdvcmsgPSByZXF1aXJlKFwiYXVyZWxpYS1mcmFtZXdvcmtcIik7XG5cbnZhciBfZmlsZVNhdmVyID0gcmVxdWlyZShcImZpbGUtc2F2ZXJcIik7XG5cbnZhciBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjUsIF90ZW1wO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG52YXIgRHlncmFwaGNoYXJ0ID0gKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIER5Z3JhcGhjaGFydCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dHNcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJmcm9taWRcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4ZGF0YVwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWZpbmRleFwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWZ2YWx1ZXNcIiwgX2Rlc2NyaXB0b3I1LCB0aGlzKTtcblxuICAgIC8vdGhpcy5kYXRhID0gW1swLCAwLCAwXV07XG4gICAgLy90aGlzLmRhdGE9W1sxLCA1XSwgWzIsIDVdLCBbMywgNC45XSwgWzQsIDQuOF0sIFs1LCA1LjJdXTtcbiAgICAvL2NyZWF0ZSBsYW1iZGEgZnVuY3Rpb24gd2hpY2ggaXMgYWRkZWQgYXMgbGlzdGVuZXIgbGF0ZXJcbiAgICB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBkYXRhcG9pbnQgPSBbZS5kZXRhaWwudGltZV07IC8vZS5kZXRhaWwgZG8gbm90IHJlYWxsb2NhdGUgLSB1c2luZyBzYW1lIGJ1ZmZlciwgdGh1cyBzbGljaW5nIHRvIGFwcGVuZCB0byBkYXRhIGFycmF5XG5cbiAgICAgIHZhciBlZGF0YSA9IGUuZGV0YWlsLmRhdGEuc2xpY2UoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IF90aGlzLnJlZmluZGV4OyBpIDwgX3RoaXMucmVmaW5kZXggKyBfdGhpcy5yZWZ2YWx1ZXM7IGkrKykge1xuICAgICAgICBkYXRhcG9pbnQucHVzaChlZGF0YVtpXSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmRhdGEucHVzaChkYXRhcG9pbnQpOyAvL3NoaWZ0IC0gcmVtb3ZlIGZpcnN0IGVsZW1lbnQgaWYgZGF0YSBpcyB0b28gYmlnXG5cblxuICAgICAgaWYgKF90aGlzLmRhdGEubGVuZ3RoID4gX3RoaXMubWF4ZGF0YSkgX3RoaXMuZGF0YS5zaGlmdCgpOyAvL2NvbnNvbGUubG9nKCdEeWdyYXBoY2hhciBkYXRhJywgdGhpcy5kYXRhKTtcblxuICAgICAgX3RoaXMuZHlncmFwaC51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgJ2ZpbGUnOiBfdGhpcy5kYXRhXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVSZXNldCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5yZXNldGRhdGEoKTtcblxuICAgICAgX3RoaXMuZHlncmFwaC51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgJ2ZpbGUnOiBfdGhpcy5kYXRhXG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIF9wcm90byA9IER5Z3JhcGhjaGFydC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlc2V0ZGF0YSA9IGZ1bmN0aW9uIHJlc2V0ZGF0YSgpIHtcbiAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB2YXIgaW5pdGRhdGFwb2ludCA9IEFycmF5KHBhcnNlSW50KHRoaXMucmVmdmFsdWVzLCAxMCkgKyAxKS5maWxsKDApO1xuICAgIHRoaXMuZGF0YS5wdXNoKGluaXRkYXRhcG9pbnQpO1xuICB9O1xuXG4gIF9wcm90by5hdHRhY2hlZCA9IGZ1bmN0aW9uIGF0dGFjaGVkKCkge1xuICAgIC8vbGlzdGVuaW5nIHRvIGN1c3RvbSBldmVudCBmbWlkYXRhXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mcm9taWQpLmFkZEV2ZW50TGlzdGVuZXIoJ2ZtaWRhdGEnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCkuYWRkRXZlbnRMaXN0ZW5lcignZm1pcmVzZXQnLCB0aGlzLmhhbmRsZVJlc2V0KTsgLy9sYWJlbHMgYXJlIHNlcGFyYXRlZCBieSAsIGluIGF0dHJpYnV0ZSBpbnB1dHNcbiAgICAvL2NvbnNvbGUubG9nKCdCZGxEeWdyYXBoY2hhcnQgYXR0YWNoZWQgaW5wdXRzJywgdGhpcy5pbnB1dHMpO1xuXG4gICAgdmFyIGxhYmVscyA9IHRoaXMuaW5wdXRzLnNwbGl0KCcsJyk7IC8vY29uc29sZS5sb2coJ0JkbER5Z3JhcGhjaGFydCBhdHRhY2hlZCBsYWJlbHMnLCBsYWJlbHMpO1xuICAgIC8vY3JlYXRlIGR5Z3JhcGhcblxuICAgIHRoaXMucmVzZXRkYXRhKCk7IC8vY29uc29sZS5sb2coJ0JkbER5Z3JhcGhjaGFydCBhdHRhY2hlZCBpbml0aWFsIGRhdGEgaW5pdCBkYXRhJywgaW5pdGRhdGFwb2ludCwgJyBkYXRhOicsIHRoaXMuZGF0YSk7XG5cbiAgICB0aGlzLmR5Z3JhcGggPSBuZXcgX2R5Z3JhcGhzW1wiZGVmYXVsdFwiXSh0aGlzLmR5Z3JhcGhjYW52YXMsIHRoaXMuZGF0YSwge1xuICAgICAgLy9EcmF3IGEgc21hbGwgZG90IGF0IGVhY2ggcG9pbnRcbiAgICAgIGRyYXdQb2ludHM6IHRydWUsXG4gICAgICAvL3JvbGxpbmcgYXZlcmFnZSBwZXJpb2QgdGV4dCBib3ggdG8gYmUgc2hvd1xuICAgICAgLy9zaG93Um9sbGVyOiB0cnVlLFxuICAgICAgLy9jdXN0b21CYXJzIGlmIHNlcmllcyBpcyBsb3c7bWlkZGxlO2hpZ2ggd2hlcmUgcmFuZ2UgYmV0d2VlbiBsb3cgYW5kIGhpZ2ggaXMgdmlzdWFsaXNlZFxuICAgICAgLy9jdXN0b21CYXJzOiB0cnVlLFxuICAgICAgLy9yYW5nZSBzZWxlY3RvclxuICAgICAgLy9zaG93UmFuZ2VTZWxlY3RvcjogdHJ1ZSxcbiAgICAgIGxhYmVsczogbGFiZWxzXG4gICAgfSk7XG4gICAgLypkYXRhLnB1c2goW3gsIHldKTtcbiAgICBnLnVwZGF0ZU9wdGlvbnMoIHsgJ2ZpbGUnOiBkYXRhIH0gKTsqL1xuICB9O1xuXG4gIF9wcm90by5kZXRhY2hlZCA9IGZ1bmN0aW9uIGRldGFjaGVkKCkge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCkpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnJvbWlkKS5yZW1vdmVFdmVudExpc3RlbmVyKCdmbWlkYXRhJywgdGhpcy5oYW5kbGVWYWx1ZUNoYW5nZSk7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnJvbWlkKSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mcm9taWQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZtaXJlc2V0JywgdGhpcy5oYW5kbGVSZXNldCk7XG4gIH07XG5cbiAgX3Byb3RvLmRvd25sb2FkID0gZnVuY3Rpb24gZG93bmxvYWQoKSB7XG4gICAgdmFyIGZpbGVuYW1lID0gcHJvbXB0KCdGaWxlIG5hbWUgKCouY3N2KTonLCAnZGF0YS5jc3YnKTtcblxuICAgIGlmIChmaWxlbmFtZSkge1xuICAgICAgaWYgKCFmaWxlbmFtZS5lbmRzV2l0aCgnLmNzdicpKSBmaWxlbmFtZSA9IGZpbGVuYW1lLmNvbmNhdCgnLmNzdicpO1xuICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLmlucHV0cyArICdcXG4nICsgdGhpcy5kYXRhLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZS5qb2luKCcsJyk7XG4gICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7XG4gICAgICAgIHR5cGU6ICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OydcbiAgICAgIH0pO1xuICAgICAgKDAsIF9maWxlU2F2ZXIuc2F2ZUFzKShibG9iLCBmaWxlbmFtZSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5wcmV2aWV3ID0gZnVuY3Rpb24gcHJldmlldygpIHtcbiAgICB2YXIgY29udGVudCA9IHRoaXMuaW5wdXRzICsgJ1xcbicgKyB0aGlzLmRhdGEubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5qb2luKCcsJyk7XG4gICAgfSkuam9pbignXFxuJyk7XG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0sIHtcbiAgICAgIHR5cGU6ICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OydcbiAgICB9KTtcbiAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB0aGlzLnBvcHVwID0gd2luZG93Lm9wZW4odXJsLCAnQm9keWxpZ2h0UHJldmlldycsICd3aWR0aD04MDAsaGVpZ2h0PTYwMCxtZW51YmFyPW5vLHN0YXR1cz1ubyx0aXRsZWJhcj1ubyx0b29sYmFyPW5vJyk7XG4gIH07XG5cbiAgcmV0dXJuIER5Z3JhcGhjaGFydDtcbn0oKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW5wdXRzXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZnJvbWlkXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibWF4ZGF0YVwiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gMzAwO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlZmluZGV4XCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjUgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVmdmFsdWVzXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAxO1xuICB9XG59KSksIF9jbGFzcyk7XG5leHBvcnRzLkR5Z3JhcGhjaGFydCA9IER5Z3JhcGhjaGFydDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWR5Z3JhcGhjaGFydC5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/dygraphchart\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/dygraphchart.html":
/*!**********************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/dygraphchart.html ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template bindable=\\\"width,height\\\">   <!--other attributes @bindable inputs;  @bindable fromid;  @bindable maxdata=300;-->\\n  <div class=\\\"w3-container\\\">\\n    <span class=\\\"w3-small\\\">\\n      <i class=\\\"fa fa-download w3-border\\\" title=\\\"download csv data\\\" click.delegate=\\\"download()\\\"></i>\\n      <!--i class=\\\"fa fa-eye w3-border\\\" title=\\\"preview csv data\\\" click.delegate=\\\"preview()\\\"></i-->\\n    </span>\\n  <div ref=\\\"dygraphcanvas\\\" style=\\\"width:${width}px; height:${height}px;\\\"></div>\\n  </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2R5Z3JhcGhjaGFydC5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2R5Z3JhcGhjaGFydC5odG1sPzdlMTgiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZSBiaW5kYWJsZT1cXFwid2lkdGgsaGVpZ2h0XFxcIj4gICA8IS0tb3RoZXIgYXR0cmlidXRlcyBAYmluZGFibGUgaW5wdXRzOyAgQGJpbmRhYmxlIGZyb21pZDsgIEBiaW5kYWJsZSBtYXhkYXRhPTMwMDstLT5cXG4gIDxkaXYgY2xhc3M9XFxcInczLWNvbnRhaW5lclxcXCI+XFxuICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1zbWFsbFxcXCI+XFxuICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWRvd25sb2FkIHczLWJvcmRlclxcXCIgdGl0bGU9XFxcImRvd25sb2FkIGNzdiBkYXRhXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwiZG93bmxvYWQoKVxcXCI+PC9pPlxcbiAgICAgIDwhLS1pIGNsYXNzPVxcXCJmYSBmYS1leWUgdzMtYm9yZGVyXFxcIiB0aXRsZT1cXFwicHJldmlldyBjc3YgZGF0YVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInByZXZpZXcoKVxcXCI+PC9pLS0+XFxuICAgIDwvc3Bhbj5cXG4gIDxkaXYgcmVmPVxcXCJkeWdyYXBoY2FudmFzXFxcIiBzdHlsZT1cXFwid2lkdGg6JHt3aWR0aH1weDsgaGVpZ2h0OiR7aGVpZ2h0fXB4O1xcXCI+PC9kaXY+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/dygraphchart.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/ecg":
/*!***********************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/ecg.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.Ecg = void 0;\n\nvar _chartjsTime = __webpack_require__(/*! ./chartjs-time */ \"aurelia-bodylight-plugin/elements/chartjs-time\");\n\nvar _aureliaTemplating = __webpack_require__(/*! aurelia-templating */ \"SkM8\");\n\nvar _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n//import {PLATFORM} from 'aurelia-pal';\n//@useView(PLATFORM.moduleName('./bdl-chartjs.html'))\nvar\n/**\n * bdl-ecg component draws chartjs graph with ECG, expects cardiac cycle to be splitted into 5 segments:\n * (4b-atrial systole,1-ventricular systole,2-ejection,3-ventricular diastole,4a-diastole with filling)\n * For each segment received from 'animatedata' event it shows appropriate graph data,\n * 'animatedata' should contain these `event.detail` properties:\n * - 'segment' - numbers 1,2,3,4,5 (0=4b,1=1,2=2,3=3,4=4a)\n * - 'relativetime' - number between 0..1 inclusive, 0 means beginning of the segment, 0.5 half of the segment, 1 - full segment\n *                  - only the appopriate part of the segment is drawn\n *\n * `type` should contain theset values:\n * - `normal`\n */\nEcg = (_dec = (0, _aureliaTemplating.useView)('./chartjs.html'), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_ChartjsTime) {\n  _inheritsLoose(Ecg, _ChartjsTime);\n\n  //2 * 5*8 ecgvalues = 2 cardiac cycles\n  //@bindable refindex;\n  //  @bindable refvalues;\n  //initiate\n  // ]; //values in mV in segments\n  //ecgvalueslbb=[]\n  //labels related to values\n  function Ecg() {\n    var _this;\n\n    _this = _ChartjsTime.call(this) || this;\n\n    _initializerDefineProperty(_this, \"fromid\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"labels\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"maxdata\", _descriptor3, _assertThisInitialized(_this));\n\n    _this.refindex = 0;\n    _this.refvalues = 1;\n    _this.previousreltime = 0;\n\n    _initializerDefineProperty(_this, \"type\", _descriptor4, _assertThisInitialized(_this));\n\n    _this.ecgvalues = [[0.2, 0.12, 0, 0, 0, 0, -0.1, 1.4], //4b\n    [-0.5, 0, 0, 0, 0, 0, 0, 0], //1\n    [0, 0, 0, 0, 0.15, 0.28, 0.35, 0.38], //2\n    [0.38, 0.35, 0.28, 0.15, 0, 0, 0, 0], //3\n    [0, 0, 0, 0, 0, 0, 0.12, 0.2] //4a\n    ];\n    _this.ecglabels = [['P', '', '', '', '', '', 'Q', 'R'], //4b\n    ['S', '', '', '', '', '', '', ''], //1\n    ['', '', '', '', '', '', '', 'T'], //2\n    ['', '', '', '', '', '', '', ''], //3\n    ['', '', '', '', '', '', '', 'P'] //4a\n    ];\n    _this.ecgindex = 0;\n    _this.ecgsegment = 1;\n\n    _initializerDefineProperty(_this, \"width\", _descriptor5, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"height\", _descriptor6, _assertThisInitialized(_this));\n\n    console.log('BdlEcg()'); //this.type = 'line';\n    //need to define method here in order to register it for eventlistener later\n\n    _this.handleValueChange = function (e) {\n      _this.handleValueChangeImpl(e);\n    };\n\n    return _this;\n  }\n\n  var _proto = Ecg.prototype;\n\n  _proto.bind = function bind() {\n    _ChartjsTime.prototype.bind.call(this);\n\n    this.datalabels = true; //disable labels on xaxes\n\n    this.options.scales.xAxes = [{\n      ticks: {\n        display: false\n      }\n    }];\n  };\n\n  _proto.attached = function attached() {\n    _ChartjsTime.prototype.attached.call(this);\n\n    document.getElementById(this.fromid).addEventListener('animatedata', this.handleValueChange); //instantiate datalabels\n\n    if (!this.chart.data.datasets[0].datalabels) this.chart.data.datasets[0].datalabels = [];\n  };\n\n  _proto.detached = function detached() {\n    _ChartjsTime.prototype.detached.call(this);\n\n    if (document.getElementById(this.fromid)) {\n      document.getElementById(this.fromid).removeEventListener('animatedata', this.handleValueChange);\n    }\n  };\n\n  _proto.handleValueChangeImpl = function handleValueChangeImpl(e) {\n    console.log('bdl-ecg handlevaluechange e.detail', e.detail);\n    var mysegment = e.detail.segment;\n    var myreltime = e.detail.relativetime; //reset index if new segment\n\n    if (this.currentsegment !== mysegment) {\n      //reset index\n      this.previousindex = 0;\n      this.index = 0;\n      this.currentsegment = mysegment;\n      this.previousreltime = 0; //TODO draw points from previous segments - if not already drawn\n    } else {\n      this.previousindex = this.index;\n    } //count difference in this step\n\n\n    var rd = myreltime - this.previousreltime; //e.g. 0.33 of segments\n    //count how many points of ECG to draw - >1 -\n\n    var npoints = Math.round(this.ecgvalues[mysegment].length * rd);\n    this.index += npoints; //set previousreltime to current points of time used\n\n    this.previousreltime = this.previousreltime + npoints / this.ecgvalues[mysegment].length; //TODO push multiple values - per percent in current segment - or do approximation\n    //push multiple values - if in ecgvalues\n\n    console.log('bdl-ecg handlevaluechange npoints,previndex,index:', npoints, this.previousindex, this.index);\n\n    if (npoints > 0) {\n      var _this$chart$data$data, _this$chart$data$data2, _this$chart$data$labe;\n\n      (_this$chart$data$data = this.chart.data.datasets[0].data).push.apply(_this$chart$data$data, this.ecgvalues[mysegment].slice(this.previousindex, this.index));\n\n      (_this$chart$data$data2 = this.chart.data.datasets[0].datalabels).push.apply(_this$chart$data$data2, this.ecglabels[mysegment].slice(this.previousindex, this.index)); //push npoints times the 'time' label\n\n\n      (_this$chart$data$labe = this.chart.data.labels).push.apply(_this$chart$data$labe, Array(npoints).fill(e.detail.time)); //shift\n\n\n      if (this.chart.data.datasets[0].data.length > this.maxdata) {\n        //console.log('shifting dataset chartjs-time', this.chart.data.datasets[j].data);\n        var pointstoremove = this.chart.data.datasets[0].data.length - this.maxdata;\n        this.chart.data.datasets[0].data.splice(0, pointstoremove);\n        this.chart.data.datasets[0].datalabels.splice(0, pointstoremove);\n        this.chart.data.labels.splice(0, pointstoremove);\n      }\n    } //shift - remove first element if data is too big\n    //console.log('chartjs handlevaluechange() chart.data.datasets[0].data', this.chart.data.datasets[0].data);\n\n\n    this.chart.update(0);\n  };\n\n  return Ecg;\n}(_chartjsTime.ChartjsTime), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"fromid\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"labels\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'ECG I (mV)';\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"maxdata\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 80;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"type\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, \"width\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '300';\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, \"height\", [_aureliaTemplating.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '50';\n  }\n})), _class2)) || _class);\nexports.Ecg = Ecg;\n//# sourceMappingURL=ecg.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2VjZy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9lY2cuanM/OTA0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuRWNnID0gdm9pZCAwO1xuXG52YXIgX2NoYXJ0anNUaW1lID0gcmVxdWlyZShcIi4vY2hhcnRqcy10aW1lXCIpO1xuXG52YXIgX2F1cmVsaWFUZW1wbGF0aW5nID0gcmVxdWlyZShcImF1cmVsaWEtdGVtcGxhdGluZ1wiKTtcblxudmFyIF9kZWMsIF9jbGFzcywgX2NsYXNzMiwgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfZGVzY3JpcHRvcjQsIF9kZXNjcmlwdG9yNSwgX2Rlc2NyaXB0b3I2LCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cbi8vaW1wb3J0IHtQTEFURk9STX0gZnJvbSAnYXVyZWxpYS1wYWwnO1xuLy9AdXNlVmlldyhQTEFURk9STS5tb2R1bGVOYW1lKCcuL2JkbC1jaGFydGpzLmh0bWwnKSlcbnZhclxuLyoqXG4gKiBiZGwtZWNnIGNvbXBvbmVudCBkcmF3cyBjaGFydGpzIGdyYXBoIHdpdGggRUNHLCBleHBlY3RzIGNhcmRpYWMgY3ljbGUgdG8gYmUgc3BsaXR0ZWQgaW50byA1IHNlZ21lbnRzOlxuICogKDRiLWF0cmlhbCBzeXN0b2xlLDEtdmVudHJpY3VsYXIgc3lzdG9sZSwyLWVqZWN0aW9uLDMtdmVudHJpY3VsYXIgZGlhc3RvbGUsNGEtZGlhc3RvbGUgd2l0aCBmaWxsaW5nKVxuICogRm9yIGVhY2ggc2VnbWVudCByZWNlaXZlZCBmcm9tICdhbmltYXRlZGF0YScgZXZlbnQgaXQgc2hvd3MgYXBwcm9wcmlhdGUgZ3JhcGggZGF0YSxcbiAqICdhbmltYXRlZGF0YScgc2hvdWxkIGNvbnRhaW4gdGhlc2UgYGV2ZW50LmRldGFpbGAgcHJvcGVydGllczpcbiAqIC0gJ3NlZ21lbnQnIC0gbnVtYmVycyAxLDIsMyw0LDUgKDA9NGIsMT0xLDI9MiwzPTMsND00YSlcbiAqIC0gJ3JlbGF0aXZldGltZScgLSBudW1iZXIgYmV0d2VlbiAwLi4xIGluY2x1c2l2ZSwgMCBtZWFucyBiZWdpbm5pbmcgb2YgdGhlIHNlZ21lbnQsIDAuNSBoYWxmIG9mIHRoZSBzZWdtZW50LCAxIC0gZnVsbCBzZWdtZW50XG4gKiAgICAgICAgICAgICAgICAgIC0gb25seSB0aGUgYXBwb3ByaWF0ZSBwYXJ0IG9mIHRoZSBzZWdtZW50IGlzIGRyYXduXG4gKlxuICogYHR5cGVgIHNob3VsZCBjb250YWluIHRoZXNldCB2YWx1ZXM6XG4gKiAtIGBub3JtYWxgXG4gKi9cbkVjZyA9IChfZGVjID0gKDAsIF9hdXJlbGlhVGVtcGxhdGluZy51c2VWaWV3KSgnLi9jaGFydGpzLmh0bWwnKSwgX2RlYyhfY2xhc3MgPSAoX2NsYXNzMiA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NoYXJ0anNUaW1lKSB7XG4gIF9pbmhlcml0c0xvb3NlKEVjZywgX0NoYXJ0anNUaW1lKTtcblxuICAvLzIgKiA1KjggZWNndmFsdWVzID0gMiBjYXJkaWFjIGN5Y2xlc1xuICAvL0BiaW5kYWJsZSByZWZpbmRleDtcbiAgLy8gIEBiaW5kYWJsZSByZWZ2YWx1ZXM7XG4gIC8vaW5pdGlhdGVcbiAgLy8gXTsgLy92YWx1ZXMgaW4gbVYgaW4gc2VnbWVudHNcbiAgLy9lY2d2YWx1ZXNsYmI9W11cbiAgLy9sYWJlbHMgcmVsYXRlZCB0byB2YWx1ZXNcbiAgZnVuY3Rpb24gRWNnKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NoYXJ0anNUaW1lLmNhbGwodGhpcykgfHwgdGhpcztcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCBcImZyb21pZFwiLCBfZGVzY3JpcHRvciwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsIFwibGFiZWxzXCIsIF9kZXNjcmlwdG9yMiwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsIFwibWF4ZGF0YVwiLCBfZGVzY3JpcHRvcjMsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIF90aGlzLnJlZmluZGV4ID0gMDtcbiAgICBfdGhpcy5yZWZ2YWx1ZXMgPSAxO1xuICAgIF90aGlzLnByZXZpb3VzcmVsdGltZSA9IDA7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgXCJ0eXBlXCIsIF9kZXNjcmlwdG9yNCwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuXG4gICAgX3RoaXMuZWNndmFsdWVzID0gW1swLjIsIDAuMTIsIDAsIDAsIDAsIDAsIC0wLjEsIDEuNF0sIC8vNGJcbiAgICBbLTAuNSwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIC8vMVxuICAgIFswLCAwLCAwLCAwLCAwLjE1LCAwLjI4LCAwLjM1LCAwLjM4XSwgLy8yXG4gICAgWzAuMzgsIDAuMzUsIDAuMjgsIDAuMTUsIDAsIDAsIDAsIDBdLCAvLzNcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMC4xMiwgMC4yXSAvLzRhXG4gICAgXTtcbiAgICBfdGhpcy5lY2dsYWJlbHMgPSBbWydQJywgJycsICcnLCAnJywgJycsICcnLCAnUScsICdSJ10sIC8vNGJcbiAgICBbJ1MnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJ10sIC8vMVxuICAgIFsnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJ1QnXSwgLy8yXG4gICAgWycnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJ10sIC8vM1xuICAgIFsnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJ1AnXSAvLzRhXG4gICAgXTtcbiAgICBfdGhpcy5lY2dpbmRleCA9IDA7XG4gICAgX3RoaXMuZWNnc2VnbWVudCA9IDE7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgXCJ3aWR0aFwiLCBfZGVzY3JpcHRvcjUsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCBcImhlaWdodFwiLCBfZGVzY3JpcHRvcjYsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIGNvbnNvbGUubG9nKCdCZGxFY2coKScpOyAvL3RoaXMudHlwZSA9ICdsaW5lJztcbiAgICAvL25lZWQgdG8gZGVmaW5lIG1ldGhvZCBoZXJlIGluIG9yZGVyIHRvIHJlZ2lzdGVyIGl0IGZvciBldmVudGxpc3RlbmVyIGxhdGVyXG5cbiAgICBfdGhpcy5oYW5kbGVWYWx1ZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5oYW5kbGVWYWx1ZUNoYW5nZUltcGwoZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBFY2cucHJvdG90eXBlO1xuXG4gIF9wcm90by5iaW5kID0gZnVuY3Rpb24gYmluZCgpIHtcbiAgICBfQ2hhcnRqc1RpbWUucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuZGF0YWxhYmVscyA9IHRydWU7IC8vZGlzYWJsZSBsYWJlbHMgb24geGF4ZXNcblxuICAgIHRoaXMub3B0aW9ucy5zY2FsZXMueEF4ZXMgPSBbe1xuICAgICAgdGlja3M6IHtcbiAgICAgICAgZGlzcGxheTogZmFsc2VcbiAgICAgIH1cbiAgICB9XTtcbiAgfTtcblxuICBfcHJvdG8uYXR0YWNoZWQgPSBmdW5jdGlvbiBhdHRhY2hlZCgpIHtcbiAgICBfQ2hhcnRqc1RpbWUucHJvdG90eXBlLmF0dGFjaGVkLmNhbGwodGhpcyk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCkuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0ZWRhdGEnLCB0aGlzLmhhbmRsZVZhbHVlQ2hhbmdlKTsgLy9pbnN0YW50aWF0ZSBkYXRhbGFiZWxzXG5cbiAgICBpZiAoIXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1swXS5kYXRhbGFiZWxzKSB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YWxhYmVscyA9IFtdO1xuICB9O1xuXG4gIF9wcm90by5kZXRhY2hlZCA9IGZ1bmN0aW9uIGRldGFjaGVkKCkge1xuICAgIF9DaGFydGpzVGltZS5wcm90b3R5cGUuZGV0YWNoZWQuY2FsbCh0aGlzKTtcblxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZyb21pZCkpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnJvbWlkKS5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRlZGF0YScsIHRoaXMuaGFuZGxlVmFsdWVDaGFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uaGFuZGxlVmFsdWVDaGFuZ2VJbXBsID0gZnVuY3Rpb24gaGFuZGxlVmFsdWVDaGFuZ2VJbXBsKGUpIHtcbiAgICBjb25zb2xlLmxvZygnYmRsLWVjZyBoYW5kbGV2YWx1ZWNoYW5nZSBlLmRldGFpbCcsIGUuZGV0YWlsKTtcbiAgICB2YXIgbXlzZWdtZW50ID0gZS5kZXRhaWwuc2VnbWVudDtcbiAgICB2YXIgbXlyZWx0aW1lID0gZS5kZXRhaWwucmVsYXRpdmV0aW1lOyAvL3Jlc2V0IGluZGV4IGlmIG5ldyBzZWdtZW50XG5cbiAgICBpZiAodGhpcy5jdXJyZW50c2VnbWVudCAhPT0gbXlzZWdtZW50KSB7XG4gICAgICAvL3Jlc2V0IGluZGV4XG4gICAgICB0aGlzLnByZXZpb3VzaW5kZXggPSAwO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICB0aGlzLmN1cnJlbnRzZWdtZW50ID0gbXlzZWdtZW50O1xuICAgICAgdGhpcy5wcmV2aW91c3JlbHRpbWUgPSAwOyAvL1RPRE8gZHJhdyBwb2ludHMgZnJvbSBwcmV2aW91cyBzZWdtZW50cyAtIGlmIG5vdCBhbHJlYWR5IGRyYXduXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJldmlvdXNpbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgfSAvL2NvdW50IGRpZmZlcmVuY2UgaW4gdGhpcyBzdGVwXG5cblxuICAgIHZhciByZCA9IG15cmVsdGltZSAtIHRoaXMucHJldmlvdXNyZWx0aW1lOyAvL2UuZy4gMC4zMyBvZiBzZWdtZW50c1xuICAgIC8vY291bnQgaG93IG1hbnkgcG9pbnRzIG9mIEVDRyB0byBkcmF3IC0gPjEgLVxuXG4gICAgdmFyIG5wb2ludHMgPSBNYXRoLnJvdW5kKHRoaXMuZWNndmFsdWVzW215c2VnbWVudF0ubGVuZ3RoICogcmQpO1xuICAgIHRoaXMuaW5kZXggKz0gbnBvaW50czsgLy9zZXQgcHJldmlvdXNyZWx0aW1lIHRvIGN1cnJlbnQgcG9pbnRzIG9mIHRpbWUgdXNlZFxuXG4gICAgdGhpcy5wcmV2aW91c3JlbHRpbWUgPSB0aGlzLnByZXZpb3VzcmVsdGltZSArIG5wb2ludHMgLyB0aGlzLmVjZ3ZhbHVlc1tteXNlZ21lbnRdLmxlbmd0aDsgLy9UT0RPIHB1c2ggbXVsdGlwbGUgdmFsdWVzIC0gcGVyIHBlcmNlbnQgaW4gY3VycmVudCBzZWdtZW50IC0gb3IgZG8gYXBwcm94aW1hdGlvblxuICAgIC8vcHVzaCBtdWx0aXBsZSB2YWx1ZXMgLSBpZiBpbiBlY2d2YWx1ZXNcblxuICAgIGNvbnNvbGUubG9nKCdiZGwtZWNnIGhhbmRsZXZhbHVlY2hhbmdlIG5wb2ludHMscHJldmluZGV4LGluZGV4OicsIG5wb2ludHMsIHRoaXMucHJldmlvdXNpbmRleCwgdGhpcy5pbmRleCk7XG5cbiAgICBpZiAobnBvaW50cyA+IDApIHtcbiAgICAgIHZhciBfdGhpcyRjaGFydCRkYXRhJGRhdGEsIF90aGlzJGNoYXJ0JGRhdGEkZGF0YTIsIF90aGlzJGNoYXJ0JGRhdGEkbGFiZTtcblxuICAgICAgKF90aGlzJGNoYXJ0JGRhdGEkZGF0YSA9IHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1swXS5kYXRhKS5wdXNoLmFwcGx5KF90aGlzJGNoYXJ0JGRhdGEkZGF0YSwgdGhpcy5lY2d2YWx1ZXNbbXlzZWdtZW50XS5zbGljZSh0aGlzLnByZXZpb3VzaW5kZXgsIHRoaXMuaW5kZXgpKTtcblxuICAgICAgKF90aGlzJGNoYXJ0JGRhdGEkZGF0YTIgPSB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YWxhYmVscykucHVzaC5hcHBseShfdGhpcyRjaGFydCRkYXRhJGRhdGEyLCB0aGlzLmVjZ2xhYmVsc1tteXNlZ21lbnRdLnNsaWNlKHRoaXMucHJldmlvdXNpbmRleCwgdGhpcy5pbmRleCkpOyAvL3B1c2ggbnBvaW50cyB0aW1lcyB0aGUgJ3RpbWUnIGxhYmVsXG5cblxuICAgICAgKF90aGlzJGNoYXJ0JGRhdGEkbGFiZSA9IHRoaXMuY2hhcnQuZGF0YS5sYWJlbHMpLnB1c2guYXBwbHkoX3RoaXMkY2hhcnQkZGF0YSRsYWJlLCBBcnJheShucG9pbnRzKS5maWxsKGUuZGV0YWlsLnRpbWUpKTsgLy9zaGlmdFxuXG5cbiAgICAgIGlmICh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YS5sZW5ndGggPiB0aGlzLm1heGRhdGEpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc2hpZnRpbmcgZGF0YXNldCBjaGFydGpzLXRpbWUnLCB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbal0uZGF0YSk7XG4gICAgICAgIHZhciBwb2ludHN0b3JlbW92ZSA9IHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1swXS5kYXRhLmxlbmd0aCAtIHRoaXMubWF4ZGF0YTtcbiAgICAgICAgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzWzBdLmRhdGEuc3BsaWNlKDAsIHBvaW50c3RvcmVtb3ZlKTtcbiAgICAgICAgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzWzBdLmRhdGFsYWJlbHMuc3BsaWNlKDAsIHBvaW50c3RvcmVtb3ZlKTtcbiAgICAgICAgdGhpcy5jaGFydC5kYXRhLmxhYmVscy5zcGxpY2UoMCwgcG9pbnRzdG9yZW1vdmUpO1xuICAgICAgfVxuICAgIH0gLy9zaGlmdCAtIHJlbW92ZSBmaXJzdCBlbGVtZW50IGlmIGRhdGEgaXMgdG9vIGJpZ1xuICAgIC8vY29uc29sZS5sb2coJ2NoYXJ0anMgaGFuZGxldmFsdWVjaGFuZ2UoKSBjaGFydC5kYXRhLmRhdGFzZXRzWzBdLmRhdGEnLCB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YSk7XG5cblxuICAgIHRoaXMuY2hhcnQudXBkYXRlKDApO1xuICB9O1xuXG4gIHJldHVybiBFY2c7XG59KF9jaGFydGpzVGltZS5DaGFydGpzVGltZSksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgXCJmcm9taWRcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzczIucHJvdG90eXBlLCBcImxhYmVsc1wiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICdFQ0cgSSAobVYpJztcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsIFwibWF4ZGF0YVwiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDgwO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgXCJ0eXBlXCIsIFtfYXVyZWxpYVRlbXBsYXRpbmcuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCBbX2F1cmVsaWFUZW1wbGF0aW5nLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICczMDAnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I2ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwgW19hdXJlbGlhVGVtcGxhdGluZy5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnNTAnO1xuICB9XG59KSksIF9jbGFzczIpKSB8fCBfY2xhc3MpO1xuZXhwb3J0cy5FY2cgPSBFY2c7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lY2cuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/ecg\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/ecg.html":
/*!*************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/ecg.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <!-- not used, inherited from chartjs-->\\n  ECG:\\n  <div id=\\\"canvas-holder\\\">\\n    <span class=\\\"w3-small\\\">\\n      <i class=\\\"fa fa-download\\\" title=\\\"download csv data, row=data in time point\\\" click.delegate=\\\"download()\\\"></i>\\n      <i class=\\\"fa fa-download fa-rotate-270\\\" title=\\\"download flat csv data, row=all data for variable\\\" click.delegate=\\\"downloadflat()\\\"></i>\\n      <!--i class=\\\"fa fa-eye w3-border\\\" title=\\\"preview csv data\\\" click.delegate=\\\"preview()\\\"></i-->\\n    </span>\\n    <canvas id=\\\"${id}-canvas\\\" ref=\\\"chartcanvas\\\" width=\\\"${width}\\\" height=\\\"${height}\\\"></canvas> <!-- width=\\\"${width}\\\" height=\\\"${height}\\\" -->\\n  </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2VjZy5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2VjZy5odG1sPzExYjYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG4gIDwhLS0gbm90IHVzZWQsIGluaGVyaXRlZCBmcm9tIGNoYXJ0anMtLT5cXG4gIEVDRzpcXG4gIDxkaXYgaWQ9XFxcImNhbnZhcy1ob2xkZXJcXFwiPlxcbiAgICA8c3BhbiBjbGFzcz1cXFwidzMtc21hbGxcXFwiPlxcbiAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1kb3dubG9hZFxcXCIgdGl0bGU9XFxcImRvd25sb2FkIGNzdiBkYXRhLCByb3c9ZGF0YSBpbiB0aW1lIHBvaW50XFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwiZG93bmxvYWQoKVxcXCI+PC9pPlxcbiAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1kb3dubG9hZCBmYS1yb3RhdGUtMjcwXFxcIiB0aXRsZT1cXFwiZG93bmxvYWQgZmxhdCBjc3YgZGF0YSwgcm93PWFsbCBkYXRhIGZvciB2YXJpYWJsZVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcImRvd25sb2FkZmxhdCgpXFxcIj48L2k+XFxuICAgICAgPCEtLWkgY2xhc3M9XFxcImZhIGZhLWV5ZSB3My1ib3JkZXJcXFwiIHRpdGxlPVxcXCJwcmV2aWV3IGNzdiBkYXRhXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwicHJldmlldygpXFxcIj48L2ktLT5cXG4gICAgPC9zcGFuPlxcbiAgICA8Y2FudmFzIGlkPVxcXCIke2lkfS1jYW52YXNcXFwiIHJlZj1cXFwiY2hhcnRjYW52YXNcXFwiIHdpZHRoPVxcXCIke3dpZHRofVxcXCIgaGVpZ2h0PVxcXCIke2hlaWdodH1cXFwiPjwvY2FudmFzPiA8IS0tIHdpZHRoPVxcXCIke3dpZHRofVxcXCIgaGVpZ2h0PVxcXCIke2hlaWdodH1cXFwiIC0tPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cIjsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/ecg.html\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/fmi":
/*!***********************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/fmi.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.Fmi = void 0;\n\nvar _aureliaFramework = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _temp;\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nvar Fmi = (_class = (_temp = /*#__PURE__*/function () {\n  //0.000030517578\n  //0.0078125;\n  function Fmi() {\n    var _this = this;\n\n    _initializerDefineProperty(this, \"fminame\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"tolerance\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"starttime\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"guid\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"id\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"inputs\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"otherinputs\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"valuereferences\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"ticksToUpdate\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"src\", _descriptor10, this);\n\n    _initializerDefineProperty(this, \"fstepsize\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"controlid\", _descriptor12, this);\n\n    _initializerDefineProperty(this, \"showcontrols\", _descriptor13, this);\n\n    this.cosimulation = 1;\n    this.stepSize = 0.01;\n    this.doingstep = false;\n    this.animationstarted = false;\n    this.measurefps = true;\n    this.fpstick = 0;\n    this.stepi = 0;\n    //create lambda function which is added as listener later\n    this.changeinputs = [];\n\n    this.handleValueChange = function (e) {\n      //e.target; //triggered the event\n      console.log('handlevaluechange', e, e.target);\n      var targetid = e.target.parentElement.parentElement.id;\n      var targetvalue = e.target.value;\n\n      _this.changeinputs.push({\n        id: targetid,\n        value: targetvalue\n      }); //detail will hold the value being changed\n\n\n      console.log('fmi handle value change', _this.changeinputs);\n    };\n\n    this.handleDetailChange = function (e) {\n      //e.target; //triggered the event\n      //let targetid = e.target.parent().parent().id;\n      //let targetvalue = e.target.value;\n      _this.changeinputs.push({\n        valuereference: e.detail.valuereference,\n        value: e.detail.value\n      }); //detail will hold the value being changed\n\n\n      console.log('fmi handle detail change', _this.changeinputs);\n    };\n\n    this.handleStart = function (e) {\n      //console.log('handlestart');\n      _this.startevent(e);\n    };\n\n    this.handleStop = function (e) {\n      //console.log('handlestop');\n      _this.stopevent(e);\n    };\n\n    this.inst = {};\n  }\n\n  var _proto = Fmi.prototype;\n\n  _proto.attached = function attached() {\n    console.log('fmi attached');\n    this.mydata = [0, 0]; //split references by ,\n\n    this.references = this.valuereferences.split(','); //parse inputs id,ref1;id2,ref2 ...\n\n    if (this.inputs) {\n      //register DOM elements to listen to their 'change' event directly\n      var inputparts = this.inputs.split(';'); //splits groups delimited by ;\n\n      this.inputreferences = [];\n\n      for (var _iterator = _createForOfIteratorHelperLoose(inputparts), _step; !(_step = _iterator()).done;) {\n        var inputpart = _step.value;\n        var myinputs = inputpart.split(','); //splits reference and id by ,\n\n        var numerator = myinputs.length > 2 ? myinputs[2] : 1;\n        var denominator = myinputs.length > 3 ? myinputs[3] : 1;\n        this.inputreferences[myinputs[0]] = {\n          ref: myinputs[1],\n          numerator: numerator,\n          denominator: denominator\n        }; //first is id second is reference\n        //register change event - the alteration is commited\n\n        document.getElementById(myinputs[0]).addEventListener('change', this.handleValueChange);\n      }\n    }\n\n    if (this.otherinputs) {\n      var otherinputtargets = this.otherinputs.split(',;');\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(otherinputtargets), _step2; !(_step2 = _iterator2()).done;) {\n        var target = _step2.value;\n        document.getElementById(target).addEventListener('fmiinput', this.handleDetailChange);\n      }\n    } //if src is not specified - then expects that fmi scripts is loaded in HTML page prior thus should be available\n\n\n    if (this.src && this.src.length > 0) {\n      console.log('loading script first, then init fmi'); //keep 'this' reference in global for callback\n\n      window.thisfmi = this;\n      this.getScript(this.src, this.initfmi);\n    } else {\n      //src is specified, thus load it - browser loads it at the end, thus adding the rest as callback after loaded\n      console.log('init fmi without loading script: fminame, this:', this.fminame, this);\n      this.initfmi();\n    }\n\n    if (this.controlid) {\n      document.getElementById(this.controlid).addEventListener('fmistart', this.handleStart);\n      document.getElementById(this.controlid).addEventListener('fmistop', this.handleStop);\n    }\n\n    if (typeof this.showcontrols === 'string') {\n      this.showcontrols = this.showcontrols === 'true';\n    }\n  } //get script element and registers 'onload' callback to be called when the script is loaded\n  ;\n\n  _proto.getScript = function getScript(source, callback) {\n    //check whether the script is not already there\n    if (Array.from(document.getElementsByTagName('script')).filter(function (x) {\n      return x.getAttribute('src') === source;\n    }).length > 0) {\n      console.log('fmi.getScript() WARNING, script is already added into DOM:', source); //do callback?\n\n      if (callback) setTimeout(callback, 0);\n      return;\n    } //console.log('fmi getscript()');\n\n\n    var script = document.createElement('script');\n    var prior = document.getElementsByTagName('script')[0];\n    script.async = 1;\n\n    script.onerror = function () {\n      if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n        script.onerror = script.onload = script.onreadystatechange = null;\n        script = undefined; // try to insert script by other app for previewing - scripts might be inserted into DOM\n\n        if (window.editorapi && typeof window.editorapi.insertScriptById === 'function') {\n          console.log('inserting script by thirdparty api');\n          window.editorapi.insertScriptById(source);\n        } //do callback even if isAbort - scripts might be inserted into DOM by another app\n\n\n        if (callback) setTimeout(callback, 1000);\n      }\n    };\n\n    script.onload = script.onreadystatechange = function (_, isAbort) {\n      if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {\n        script.onerror = script.onload = script.onreadystatechange = null;\n        script = undefined; //do callback - scripts might be inserted into DOM by another app\n\n        if (!isAbort && callback) setTimeout(callback, 0);\n      }\n    };\n\n    script.src = window.bdlBaseHref ? window.bdlBaseHref + source : source;\n    prior.parentNode.insertBefore(script, prior);\n  } //make inst object globally - in case of globals (non-src) declaration\n  ;\n\n  _proto.initfmi = function initfmi() {\n    var that = {};\n\n    if (window.thisfmi) {\n      that.fminame = window.thisfmi.fminame;\n      console.log('using global fmi initfmi() fminame', that.fminame);\n    } else {\n      that.fminame = this.fminame;\n      console.log('using local fmi initfmi() fminame', that.fminame);\n    } //create instance\n\n\n    that.inst = window[that.fminame]();\n    console.log('fmi callback that, that.inst', that, that.inst); //or? that.inst = new window[that.fminame];\n    //console.log('instantiate, that.inst', that.inst);\n    //create function methods using emscripten recommended cwrap\n\n    if (!window.fmiinst) {\n      window.fmiinst = [];\n    }\n\n    window.fmiinst[that.fminame] = that;\n  };\n\n  _proto.bind = function bind() {};\n\n  _proto.detached = function detached() {}\n  /**\n   * Implements a rudimentary browser console logger for the FMU.\n   */\n  ;\n\n  _proto.consoleLogger = function consoleLogger(componentEnvironment, instanceName, status, category, message, other) {\n    var _this2 = this;\n\n    /* Fills variables into message returned by the FMU, the C way */\n    var formatMessage = function formatMessage(message1, other1) {\n      // get a new pointer\n      var ptr = _this2.inst._malloc(1); // get the size of the resulting formated message\n\n\n      var num = _this2.inst._snprintf(ptr, 0, message1, other1);\n\n      _this2.inst._free(ptr);\n\n      num++; // TODO: Error handling num < 0\n\n      ptr = _this2.inst._malloc(num);\n\n      _this2.inst._snprintf(ptr, num, message1, other1); // return pointer to the resulting message string\n\n\n      return ptr;\n    }; // eslint-disable-next-line new-cap\n\n\n    console.log('FMU(' + this.inst.UTF8ToString(instanceName) + ':' + status + ':' + this.inst.UTF8ToString(category) + ') msg: ' + this.inst.UTF8ToString(formatMessage(message, other)));\n\n    this.inst._free(formatMessage);\n  };\n\n  _proto.initialize = function initialize() {\n    this.fmiEnterInit(this.fmiinst);\n    this.fmiExitInit(this.fmiinst);\n  };\n\n  _proto.instantiate = function instantiate() {\n    var sReset = 'fmi2Reset';\n    var sInstantiate = 'fmi2Instantiate';\n    var sSetup = 'fmi2SetupExperiment';\n    var sEnterinit = 'fmi2EnterInitializationMode';\n    var sExitinit = 'fmi2ExitInitializationMode';\n    var sSetreal = 'fmi2SetReal';\n    var sSetboolean = 'fmi2SetBoolean';\n    var sGetreal = 'fmi2GetReal';\n    var sGetboolean = 'fmi2GetBoolean';\n    var sDostep = 'fmi2DoStep';\n    var sCreateCallback = 'createFmi2CallbackFunctions';\n    this.stepTime = 0;\n    this.stepSize = typeof this.fstepsize === 'string' ? parseFloat(this.fstepsize) : this.fstepsize;\n    this.mystep = this.stepSize; //console callback ptr, per emsripten create int ptr with signature viiiiii\n\n    this.inst = window.fmiinst[this.fminame].inst; //if (window.thisfmi) {this.inst = window.thisfmi.inst;}\n\n    console.log('instantiate() this.inst', this.inst); //set the fminame and JS WASM function references\n\n    var separator = '_';\n    var prefix = this.fminame; //console.log('attached fminame:', that.fminame);\n    // OpenModelica exported function names\n\n    if (typeof window._fmi2GetVersion === 'function') {\n      prefix = '';\n      separator = '';\n    }\n\n    this.fmiCreateCallback = this.inst.cwrap(sCreateCallback, 'number', ['number']);\n    this.fmiReset = this.inst.cwrap(prefix + separator + sReset, 'number', ['number']);\n    this.fmiInstantiate = this.inst.cwrap(prefix + separator + sInstantiate, 'number', ['string', 'number', 'string', 'string', 'number', 'number', 'number']);\n    this.fmiSetup = this.inst.cwrap(prefix + separator + sSetup, 'number', ['number', 'number', 'number', 'number', 'number', 'number']);\n    this.fmiEnterInit = this.inst.cwrap(prefix + separator + sEnterinit, 'number', ['number']);\n    this.fmiExitInit = this.inst.cwrap(prefix + separator + sExitinit, 'number', ['number']);\n    this.fmiSetReal = this.inst.cwrap(prefix + separator + sSetreal, 'number', ['number', 'number', 'number', 'number']);\n    this.fmiGetReal = this.inst.cwrap(prefix + separator + sGetreal, 'number', ['number', 'number', 'number', 'number']);\n    this.fmiSetBoolean = this.inst.cwrap(prefix + separator + sSetboolean, 'number', ['number', 'number', 'number', 'number']);\n    this.fmiGetBoolean = this.inst.cwrap(prefix + separator + sGetboolean, 'number', ['number', 'number', 'number', 'number']);\n    this.fmiDoStep = this.inst.cwrap(prefix + separator + sDostep, 'number', ['number', 'number', 'number', 'number']);\n    this.fmiGetVersion = this.inst.cwrap(prefix + separator + 'fmi2GetVersion', 'string');\n    this.fmiGetTypesPlatform = this.inst.cwrap(prefix + separator + 'fmi2GetTypesPlatform', 'string');\n    this.fmi2FreeInstance = this.inst.cwrap(prefix + separator + 'fmi2FreeInstance', 'number', ['number']);\n    this.instantiated = false; //calculate pow, power of stepsize\n\n    this.pow = this.stepSize < 1 ? -Math.ceil(-Math.log10(this.stepSize)) : Math.ceil(Math.log10(this.stepSize)); //use Math.trunc ??\n\n    console.log('instantiate() this.inst', this.inst);\n    this.consoleLoggerPtr = this.inst.addFunction(this.consoleLogger.bind(this), 'viiiiii');\n    this.callbackptr = this.fmiCreateCallback(this.consoleLoggerPtr); //create instance of model simulation\n\n    this.fmiinst = this.fmiInstantiate(this.fminame, this.cosimulation, this.guid, '', this.callbackptr, 0, 0); //last 1 debug, 0 nodebug\n\n    this.setupExperiment();\n  };\n\n  _proto.setupExperiment = function setupExperiment() {\n    //setup experiment\n    this.fmiSetup(this.fmiinst, 1, this.tolerance, this.starttime, 0);\n    console.log('instantiated fmiinst', this.fmiinst);\n    this.instantiated = true;\n  };\n\n  _proto.simulate = function simulate() {};\n\n  _proto.setReal = function setReal(query, value, count) {\n    console.log('setreal query,value,count', query, value, count);\n    return this.fmiSetReal(this.fmiinst, query.byteOffset, count, value.byteOffset);\n  };\n\n  _proto.setBoolean = function setBoolean(query, value, count) {\n    return this.fmiSetBoolean(this.fmiinst, query.byteOffset, count, value.byteOffset);\n  }\n  /**\n   * Loads Reals from FMU\n   */\n  ;\n\n  _proto.getReal = function getReal(query, output, count) {\n    return this.fmiGetReal(this.fmiinst, query.byteOffset, count, output.byteOffset);\n  }\n  /**\n   * Loads Booleans from FMU\n   */\n  ;\n\n  _proto.getBoolean = function getBoolean(query, output, count) {\n    return this.fmiGetBoolean(this.fmiinst, query.byteOffset, count, output.byteOffset);\n  };\n\n  _proto.startevent = function startevent(e) {\n    //console.log('fmi startevent', e);\n    if (!this.animationstarted) this.startSimulation();\n  };\n\n  _proto.stopevent = function stopevent(e) {\n    //console.log('fmi stopevent', e);\n    if (this.animationstarted) this.stopSimulation();\n  } //action to be performed when clicking the play/pause button\n  //sends fmistart/fmistop event and starts/stops simulation\n  ;\n\n  _proto.startstop = function startstop() {\n    if (this.animationstarted) {\n      this.stopSimulation();\n      this.sendStopEvent();\n    } else {\n      this.sendStartEvent();\n      this.startSimulation();\n    }\n  } //defines action to be done during browser animationframe and starts\n  ;\n\n  _proto.startSimulation = function startSimulation() {\n    var _this3 = this;\n\n    this.animationstarted = true;\n\n    var performAnimation = function performAnimation() {\n      _this3.request = requestAnimationFrame(performAnimation);\n\n      _this3.step();\n    };\n\n    requestAnimationFrame(performAnimation);\n  } //cancels all action to be done during browser animationframe and starts\n  ;\n\n  _proto.stopSimulation = function stopSimulation() {\n    //stop animation\n    this.animationstarted = false;\n    cancelAnimationFrame(this.request);\n  } //sends fmistop event\n  ;\n\n  _proto.sendStopEvent = function sendStopEvent() {\n    //create custom event\n    var event = new CustomEvent('fmistop', {\n      detail: {\n        time: this.round(this.stepTime, this.pow)\n      }\n    }); //dispatch event - it should be listened by some other component\n\n    document.getElementById(this.id).dispatchEvent(event);\n  };\n\n  _proto.sendStartEvent = function sendStartEvent() {\n    //create custom event\n    var event = new CustomEvent('fmistart', {\n      detail: {\n        time: this.round(this.stepTime, this.pow)\n      }\n    }); //dispatch event - it should be listened by some other component\n\n    document.getElementById(this.id).dispatchEvent(event); //animate using requestAnimationFrame\n  };\n\n  _proto.round = function round(value, decimals) {\n    if (decimals < 0) {\n      var posdecimals = -decimals;\n      return Number(Math.round(value + 'e' + posdecimals) + 'e-' + posdecimals);\n    }\n\n    return Number(Math.round(value + 'e-' + decimals) + 'e+' + decimals);\n  };\n\n  _proto.step = function step() {\n    //primitive semaphore, only one instance can perform this call\n    if (!this.doingstep) {\n      this.doingstep = true;\n\n      if (!this.instantiated) {\n        this.instantiate();\n        this.initialize();\n      } //TODO now demo data, get real data from simulation\n      //console.log('step()1 fmiinst', this.fmiinst);\n\n\n      this.stepi++; //changeinputs\n\n      if (this.changeinputs.length > 0) {\n        while (this.changeinputs.length > 0) {\n          console.log('changing inputs');\n          var myinputs = this.changeinputs.shift(); //remove first item\n          //set real - reference is in - one input one reference\n          //for (let reference of this.inputs[myinputs.id])\n          //sets individual values - if id is in input, then reference is taken from inputs definition\n          //console.log('changing inputs,id,value', this.inputreferences, myinputs.id, myinputs.value);\n\n          var normalizedvalue = myinputs.value * this.inputreferences[myinputs.id].numerator / this.inputreferences[myinputs.id].denominator;\n          if (myinputs.id) this.setSingleReal(this.inputreferences[myinputs.id].ref, normalizedvalue); // if reference is in input, then it is set directly\n          else if (myinputs.valuereference) this.setSingleReal(myinputs.valuereference, normalizedvalue);\n        } //flush all in one call to fmi\n\n\n        this.flushRealQueue();\n      } //dostep\n      //compute step to round the desired time\n      //const res = this.fmiDoStep(this.fmiinst, this.stepTime, this.stepSize, 1);\n\n\n      var res = this.fmiDoStep(this.fmiinst, this.stepTime, this.mystep, 1);\n      this.stepTime = this.stepTime + this.mystep;\n      this.mystep = this.stepSize; //update correction step to current step\n      //console.log('step() res:', res);\n\n      if (res === 1 || res === 2) {\n        this.fmiReset(this.fmiinst);\n      } //distribute simulation data to listeners\n\n\n      this.mydata = this.getReals(this.references); //create custom event\n\n      var event = new CustomEvent('fmidata', {\n        detail: {\n          time: this.round(this.stepTime, this.pow),\n          data: this.mydata\n        }\n      }); //dispatch event - it should be listened by some other component\n\n      document.getElementById(this.id).dispatchEvent(event);\n\n      if (this.measurefps) {\n        if (this.fpstick === 0) {\n          this.startfpstime = Date.now();\n        }\n\n        this.fpstick++;\n\n        if (this.fpstick >= this.ticksToUpdate) {\n          //do correction step calculation\n          //this.pow = 0;\n          if (this.stepSize < 1) this.pow = -Math.ceil(-Math.log10(this.stepSize));else this.pow = Math.ceil(Math.log10(this.stepSize));\n          this.mystep = this.round(this.stepTime + this.stepSize, this.pow) - this.stepTime; //do fps calculation\n\n          this.fps = 1000 * this.ticksToUpdate / (Date.now() - this.startfpstime);\n          this.fpstick = 0;\n        }\n      }\n\n      this.doingstep = false;\n    }\n  };\n\n  _proto.reset = function reset() {\n    this.stepTime = 0;\n    this.stepSize = typeof this.fstepsize === 'string' ? parseFloat(this.fstepsize) : this.fstepsize;\n    this.mystep = this.stepSize;\n    this.setupExperiment();\n    this.fmiReset(this.fmiinst);\n    this.initialize(); //create custom event\n\n    var event = new CustomEvent('fmireset'); //dispatch event - it should be listened by some other component\n\n    document.getElementById(this.id).dispatchEvent(event);\n  }\n  /* routines to alloc buffer for getting/setting from fmi*/\n  ;\n\n  _proto.createBuffer = function createBuffer(arr) {\n    var size = arr.length * arr.BYTES_PER_ELEMENT;\n\n    var ptr = this.inst._malloc(size);\n\n    return {\n      ptr: ptr,\n      size: size\n    };\n  };\n\n  _proto.createAndFillBuffer = function createAndFillBuffer(arr) {\n    var buffer = this.createBuffer(arr);\n    this.fillBuffer(buffer, arr);\n    return buffer;\n  };\n\n  _proto.freeBuffer = function freeBuffer(buffer) {\n    if (buffer.ptr !== null) {\n      this.inst._free(buffer.ptr);\n    }\n\n    buffer.ptr = null;\n    buffer.size = null;\n  };\n\n  _proto.viewBuffer = function viewBuffer(buffer) {\n    return new Uint8Array(this.inst.HEAPU8.buffer, buffer.ptr, buffer.size);\n  };\n\n  _proto.fillBuffer = function fillBuffer(buffer, arr) {\n    var view = this.viewBuffer(buffer);\n    view.set(new Uint8Array(arr.buffer));\n    return buffer;\n  };\n\n  _proto.getReals = function getReals(references) {\n    var queryBuffer = this.createAndFillBuffer(new Int32Array(references));\n    var query = this.viewBuffer(queryBuffer);\n    var outputBuffer = this.createBuffer(new Float64Array(references.length));\n    var output = this.viewBuffer(outputBuffer);\n    this.getReal(query, output, references.length);\n    var real = new Float64Array(output.buffer, output.byteOffset, references.length);\n    this.freeBuffer(queryBuffer);\n    this.freeBuffer(outputBuffer);\n    return real;\n  };\n\n  _proto.getSingleReal = function getSingleReal(reference) {\n    var queryBuffer = this.createAndFillBuffer(new Int32Array([reference]));\n    var query = this.viewBuffer(queryBuffer);\n    var outputBuffer = this.createBuffer(new Float64Array(1));\n    var output = this.viewBuffer(outputBuffer);\n    this.getReal(query, output, 1);\n    var real = new Float64Array(output.buffer, output.byteOffset, 1);\n    this.freeBuffer(queryBuffer);\n    this.freeBuffer(outputBuffer);\n    return real[0];\n  }\n  /**\n     * Adds a real value to setRealQueue\n     */\n  ;\n\n  _proto.setSingleReal = function setSingleReal(reference, value) {\n    console.log('setSingleReal reference,value', reference, value);\n\n    if (!this.setRealQueue) {\n      this.setRealQueue = {\n        references: [],\n        values: []\n      };\n    }\n\n    this.setRealQueue.references.push(reference);\n    this.setRealQueue.values.push(value);\n  };\n\n  _proto.flushRealQueue = function flushRealQueue() {\n    if (this.setRealQueue) {\n      var referenceBuffer = this.createAndFillBuffer(new Int32Array(this.setRealQueue.references));\n      var references = this.viewBuffer(referenceBuffer);\n      var valueBuffer = this.createAndFillBuffer(new Float64Array(this.setRealQueue.values));\n      var values = this.viewBuffer(valueBuffer);\n      this.setReal(references, values, this.setRealQueue.references.length);\n      this.freeBuffer(referenceBuffer);\n      this.freeBuffer(valueBuffer);\n      this.setRealQueue = false;\n    }\n  };\n\n  _proto.flushBooleanQueue = function flushBooleanQueue() {\n    if (this.setBooleanQueue) {\n      var referenceBuffer = this.createAndFillBuffer(new Int32Array(this.setBooleanQueue.references));\n      var references = this.viewBuffer(referenceBuffer);\n      var valueBuffer = this.createAndFillBuffer(new Int32Array(this.setBooleanQueue.values));\n      var values = this.viewBuffer(valueBuffer);\n      this.setBoolean(references, values, this.setBooleanQueue.references.length);\n      this.freeBuffer(referenceBuffer);\n      this.freeBuffer(valueBuffer);\n      this.setBooleanQueue = false;\n    }\n  }\n  /**\n     */\n  ;\n\n  _proto.setSingleBoolean = function setSingleBoolean(reference, value) {\n    if (!this.setBooleanQueue) {\n      this.setBooleanQueue = {\n        references: [],\n        values: []\n      };\n    }\n\n    this.setBooleanQueue.references.push(reference);\n    this.setBooleanQueue.values.push(value);\n  }\n  /**\n     * Loads a single boolean value based on reference, this is a shorthand function.\n     * It is recommended to use Module.getBoolean with reusable mallocs.\n     */\n  ;\n\n  _proto.getSingleBoolean = function getSingleBoolean(reference) {\n    var queryBuffer = this.createAndFillBuffer(new Int32Array([reference]));\n    var query = this.viewBuffer(queryBuffer);\n    var outputBuffer = this.createBuffer(new Int32Array(1));\n    var output = this.viewBuffer(outputBuffer);\n    this.getBoolean(query, output, 1);\n    var bool = new Int32Array(output.buffer, output.byteOffset, 1);\n    this.freeBuffer(queryBuffer);\n    this.freeBuffer(outputBuffer);\n    return bool[0];\n  };\n\n  _proto.getBooleans = function getBooleans(references) {\n    var queryBuffer = this.createAndFillBuffer(new Int32Array(references));\n    var query = this.viewBuffer(queryBuffer);\n    var outputBuffer = this.createBuffer(new Int32Array(references.length));\n    var output = this.viewBuffer(outputBuffer);\n    this.getBoolean(query, output, references.length);\n    var bool = new Int32Array(output.buffer, output.byteOffset, references.length);\n    this.freeBuffer(queryBuffer);\n    this.freeBuffer(outputBuffer);\n    return bool;\n  };\n\n  return Fmi;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"fminame\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'N/A';\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"tolerance\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0.000001;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"starttime\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"guid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'N/A';\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"id\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"inputs\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"otherinputs\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"valuereferences\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"ticksToUpdate\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 200;\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"src\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"fstepsize\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0.01;\n  }\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"controlid\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"showcontrols\", [_aureliaFramework.bindable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n})), _class);\nexports.Fmi = Fmi;\n//# sourceMappingURL=fmi.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2ZtaS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9lbGVtZW50cy9mbWkuanM/NGZjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuRm1pID0gdm9pZCAwO1xuXG52YXIgX2F1cmVsaWFGcmFtZXdvcmsgPSByZXF1aXJlKFwiYXVyZWxpYS1mcmFtZXdvcmtcIik7XG5cbnZhciBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjUsIF9kZXNjcmlwdG9yNiwgX2Rlc2NyaXB0b3I3LCBfZGVzY3JpcHRvcjgsIF9kZXNjcmlwdG9yOSwgX2Rlc2NyaXB0b3IxMCwgX2Rlc2NyaXB0b3IxMSwgX2Rlc2NyaXB0b3IxMiwgX2Rlc2NyaXB0b3IxMywgX3RlbXA7XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHJldHVybiBmdW5jdGlvbiAoKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IHJldHVybiBpdC5uZXh0LmJpbmQoaXQpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG52YXIgRm1pID0gKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8vMC4wMDAwMzA1MTc1NzhcbiAgLy8wLjAwNzgxMjU7XG4gIGZ1bmN0aW9uIEZtaSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJmbWluYW1lXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9sZXJhbmNlXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0dGltZVwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJndWlkXCIsIF9kZXNjcmlwdG9yNCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlkXCIsIF9kZXNjcmlwdG9yNSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlucHV0c1wiLCBfZGVzY3JpcHRvcjYsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJvdGhlcmlucHV0c1wiLCBfZGVzY3JpcHRvcjcsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWx1ZXJlZmVyZW5jZXNcIiwgX2Rlc2NyaXB0b3I4LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidGlja3NUb1VwZGF0ZVwiLCBfZGVzY3JpcHRvcjksIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzcmNcIiwgX2Rlc2NyaXB0b3IxMCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZzdGVwc2l6ZVwiLCBfZGVzY3JpcHRvcjExLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29udHJvbGlkXCIsIF9kZXNjcmlwdG9yMTIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzaG93Y29udHJvbHNcIiwgX2Rlc2NyaXB0b3IxMywgdGhpcyk7XG5cbiAgICB0aGlzLmNvc2ltdWxhdGlvbiA9IDE7XG4gICAgdGhpcy5zdGVwU2l6ZSA9IDAuMDE7XG4gICAgdGhpcy5kb2luZ3N0ZXAgPSBmYWxzZTtcbiAgICB0aGlzLmFuaW1hdGlvbnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLm1lYXN1cmVmcHMgPSB0cnVlO1xuICAgIHRoaXMuZnBzdGljayA9IDA7XG4gICAgdGhpcy5zdGVwaSA9IDA7XG4gICAgLy9jcmVhdGUgbGFtYmRhIGZ1bmN0aW9uIHdoaWNoIGlzIGFkZGVkIGFzIGxpc3RlbmVyIGxhdGVyXG4gICAgdGhpcy5jaGFuZ2VpbnB1dHMgPSBbXTtcblxuICAgIHRoaXMuaGFuZGxlVmFsdWVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy9lLnRhcmdldDsgLy90cmlnZ2VyZWQgdGhlIGV2ZW50XG4gICAgICBjb25zb2xlLmxvZygnaGFuZGxldmFsdWVjaGFuZ2UnLCBlLCBlLnRhcmdldCk7XG4gICAgICB2YXIgdGFyZ2V0aWQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaWQ7XG4gICAgICB2YXIgdGFyZ2V0dmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcblxuICAgICAgX3RoaXMuY2hhbmdlaW5wdXRzLnB1c2goe1xuICAgICAgICBpZDogdGFyZ2V0aWQsXG4gICAgICAgIHZhbHVlOiB0YXJnZXR2YWx1ZVxuICAgICAgfSk7IC8vZGV0YWlsIHdpbGwgaG9sZCB0aGUgdmFsdWUgYmVpbmcgY2hhbmdlZFxuXG5cbiAgICAgIGNvbnNvbGUubG9nKCdmbWkgaGFuZGxlIHZhbHVlIGNoYW5nZScsIF90aGlzLmNoYW5nZWlucHV0cyk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlRGV0YWlsQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vZS50YXJnZXQ7IC8vdHJpZ2dlcmVkIHRoZSBldmVudFxuICAgICAgLy9sZXQgdGFyZ2V0aWQgPSBlLnRhcmdldC5wYXJlbnQoKS5wYXJlbnQoKS5pZDtcbiAgICAgIC8vbGV0IHRhcmdldHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICBfdGhpcy5jaGFuZ2VpbnB1dHMucHVzaCh7XG4gICAgICAgIHZhbHVlcmVmZXJlbmNlOiBlLmRldGFpbC52YWx1ZXJlZmVyZW5jZSxcbiAgICAgICAgdmFsdWU6IGUuZGV0YWlsLnZhbHVlXG4gICAgICB9KTsgLy9kZXRhaWwgd2lsbCBob2xkIHRoZSB2YWx1ZSBiZWluZyBjaGFuZ2VkXG5cblxuICAgICAgY29uc29sZS5sb2coJ2ZtaSBoYW5kbGUgZGV0YWlsIGNoYW5nZScsIF90aGlzLmNoYW5nZWlucHV0cyk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlU3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy9jb25zb2xlLmxvZygnaGFuZGxlc3RhcnQnKTtcbiAgICAgIF90aGlzLnN0YXJ0ZXZlbnQoZSk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlU3RvcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKCdoYW5kbGVzdG9wJyk7XG4gICAgICBfdGhpcy5zdG9wZXZlbnQoZSk7XG4gICAgfTtcblxuICAgIHRoaXMuaW5zdCA9IHt9O1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEZtaS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmF0dGFjaGVkID0gZnVuY3Rpb24gYXR0YWNoZWQoKSB7XG4gICAgY29uc29sZS5sb2coJ2ZtaSBhdHRhY2hlZCcpO1xuICAgIHRoaXMubXlkYXRhID0gWzAsIDBdOyAvL3NwbGl0IHJlZmVyZW5jZXMgYnkgLFxuXG4gICAgdGhpcy5yZWZlcmVuY2VzID0gdGhpcy52YWx1ZXJlZmVyZW5jZXMuc3BsaXQoJywnKTsgLy9wYXJzZSBpbnB1dHMgaWQscmVmMTtpZDIscmVmMiAuLi5cblxuICAgIGlmICh0aGlzLmlucHV0cykge1xuICAgICAgLy9yZWdpc3RlciBET00gZWxlbWVudHMgdG8gbGlzdGVuIHRvIHRoZWlyICdjaGFuZ2UnIGV2ZW50IGRpcmVjdGx5XG4gICAgICB2YXIgaW5wdXRwYXJ0cyA9IHRoaXMuaW5wdXRzLnNwbGl0KCc7Jyk7IC8vc3BsaXRzIGdyb3VwcyBkZWxpbWl0ZWQgYnkgO1xuXG4gICAgICB0aGlzLmlucHV0cmVmZXJlbmNlcyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKGlucHV0cGFydHMpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgICB2YXIgaW5wdXRwYXJ0ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgIHZhciBteWlucHV0cyA9IGlucHV0cGFydC5zcGxpdCgnLCcpOyAvL3NwbGl0cyByZWZlcmVuY2UgYW5kIGlkIGJ5ICxcblxuICAgICAgICB2YXIgbnVtZXJhdG9yID0gbXlpbnB1dHMubGVuZ3RoID4gMiA/IG15aW5wdXRzWzJdIDogMTtcbiAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gbXlpbnB1dHMubGVuZ3RoID4gMyA/IG15aW5wdXRzWzNdIDogMTtcbiAgICAgICAgdGhpcy5pbnB1dHJlZmVyZW5jZXNbbXlpbnB1dHNbMF1dID0ge1xuICAgICAgICAgIHJlZjogbXlpbnB1dHNbMV0sXG4gICAgICAgICAgbnVtZXJhdG9yOiBudW1lcmF0b3IsXG4gICAgICAgICAgZGVub21pbmF0b3I6IGRlbm9taW5hdG9yXG4gICAgICAgIH07IC8vZmlyc3QgaXMgaWQgc2Vjb25kIGlzIHJlZmVyZW5jZVxuICAgICAgICAvL3JlZ2lzdGVyIGNoYW5nZSBldmVudCAtIHRoZSBhbHRlcmF0aW9uIGlzIGNvbW1pdGVkXG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobXlpbnB1dHNbMF0pLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlVmFsdWVDaGFuZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm90aGVyaW5wdXRzKSB7XG4gICAgICB2YXIgb3RoZXJpbnB1dHRhcmdldHMgPSB0aGlzLm90aGVyaW5wdXRzLnNwbGl0KCcsOycpO1xuXG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvdGhlcmlucHV0dGFyZ2V0cyksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBfc3RlcDIudmFsdWU7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkuYWRkRXZlbnRMaXN0ZW5lcignZm1paW5wdXQnLCB0aGlzLmhhbmRsZURldGFpbENoYW5nZSk7XG4gICAgICB9XG4gICAgfSAvL2lmIHNyYyBpcyBub3Qgc3BlY2lmaWVkIC0gdGhlbiBleHBlY3RzIHRoYXQgZm1pIHNjcmlwdHMgaXMgbG9hZGVkIGluIEhUTUwgcGFnZSBwcmlvciB0aHVzIHNob3VsZCBiZSBhdmFpbGFibGVcblxuXG4gICAgaWYgKHRoaXMuc3JjICYmIHRoaXMuc3JjLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdsb2FkaW5nIHNjcmlwdCBmaXJzdCwgdGhlbiBpbml0IGZtaScpOyAvL2tlZXAgJ3RoaXMnIHJlZmVyZW5jZSBpbiBnbG9iYWwgZm9yIGNhbGxiYWNrXG5cbiAgICAgIHdpbmRvdy50aGlzZm1pID0gdGhpcztcbiAgICAgIHRoaXMuZ2V0U2NyaXB0KHRoaXMuc3JjLCB0aGlzLmluaXRmbWkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL3NyYyBpcyBzcGVjaWZpZWQsIHRodXMgbG9hZCBpdCAtIGJyb3dzZXIgbG9hZHMgaXQgYXQgdGhlIGVuZCwgdGh1cyBhZGRpbmcgdGhlIHJlc3QgYXMgY2FsbGJhY2sgYWZ0ZXIgbG9hZGVkXG4gICAgICBjb25zb2xlLmxvZygnaW5pdCBmbWkgd2l0aG91dCBsb2FkaW5nIHNjcmlwdDogZm1pbmFtZSwgdGhpczonLCB0aGlzLmZtaW5hbWUsIHRoaXMpO1xuICAgICAgdGhpcy5pbml0Zm1pKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29udHJvbGlkKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNvbnRyb2xpZCkuYWRkRXZlbnRMaXN0ZW5lcignZm1pc3RhcnQnLCB0aGlzLmhhbmRsZVN0YXJ0KTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY29udHJvbGlkKS5hZGRFdmVudExpc3RlbmVyKCdmbWlzdG9wJywgdGhpcy5oYW5kbGVTdG9wKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuc2hvd2NvbnRyb2xzID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5zaG93Y29udHJvbHMgPSB0aGlzLnNob3djb250cm9scyA9PT0gJ3RydWUnO1xuICAgIH1cbiAgfSAvL2dldCBzY3JpcHQgZWxlbWVudCBhbmQgcmVnaXN0ZXJzICdvbmxvYWQnIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBzY3JpcHQgaXMgbG9hZGVkXG4gIDtcblxuICBfcHJvdG8uZ2V0U2NyaXB0ID0gZnVuY3Rpb24gZ2V0U2NyaXB0KHNvdXJjZSwgY2FsbGJhY2spIHtcbiAgICAvL2NoZWNrIHdoZXRoZXIgdGhlIHNjcmlwdCBpcyBub3QgYWxyZWFkeSB0aGVyZVxuICAgIGlmIChBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgICByZXR1cm4geC5nZXRBdHRyaWJ1dGUoJ3NyYycpID09PSBzb3VyY2U7XG4gICAgfSkubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coJ2ZtaS5nZXRTY3JpcHQoKSBXQVJOSU5HLCBzY3JpcHQgaXMgYWxyZWFkeSBhZGRlZCBpbnRvIERPTTonLCBzb3VyY2UpOyAvL2RvIGNhbGxiYWNrP1xuXG4gICAgICBpZiAoY2FsbGJhY2spIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy9jb25zb2xlLmxvZygnZm1pIGdldHNjcmlwdCgpJyk7XG5cblxuICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICB2YXIgcHJpb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgc2NyaXB0LmFzeW5jID0gMTtcblxuICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzY3JpcHQucmVhZHlTdGF0ZSB8fCAvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KHNjcmlwdC5yZWFkeVN0YXRlKSkge1xuICAgICAgICBzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgc2NyaXB0ID0gdW5kZWZpbmVkOyAvLyB0cnkgdG8gaW5zZXJ0IHNjcmlwdCBieSBvdGhlciBhcHAgZm9yIHByZXZpZXdpbmcgLSBzY3JpcHRzIG1pZ2h0IGJlIGluc2VydGVkIGludG8gRE9NXG5cbiAgICAgICAgaWYgKHdpbmRvdy5lZGl0b3JhcGkgJiYgdHlwZW9mIHdpbmRvdy5lZGl0b3JhcGkuaW5zZXJ0U2NyaXB0QnlJZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdpbnNlcnRpbmcgc2NyaXB0IGJ5IHRoaXJkcGFydHkgYXBpJyk7XG4gICAgICAgICAgd2luZG93LmVkaXRvcmFwaS5pbnNlcnRTY3JpcHRCeUlkKHNvdXJjZSk7XG4gICAgICAgIH0gLy9kbyBjYWxsYmFjayBldmVuIGlmIGlzQWJvcnQgLSBzY3JpcHRzIG1pZ2h0IGJlIGluc2VydGVkIGludG8gRE9NIGJ5IGFub3RoZXIgYXBwXG5cblxuICAgICAgICBpZiAoY2FsbGJhY2spIHNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChfLCBpc0Fib3J0KSB7XG4gICAgICBpZiAoaXNBYm9ydCB8fCAhc2NyaXB0LnJlYWR5U3RhdGUgfHwgL2xvYWRlZHxjb21wbGV0ZS8udGVzdChzY3JpcHQucmVhZHlTdGF0ZSkpIHtcbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgIHNjcmlwdCA9IHVuZGVmaW5lZDsgLy9kbyBjYWxsYmFjayAtIHNjcmlwdHMgbWlnaHQgYmUgaW5zZXJ0ZWQgaW50byBET00gYnkgYW5vdGhlciBhcHBcblxuICAgICAgICBpZiAoIWlzQWJvcnQgJiYgY2FsbGJhY2spIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzY3JpcHQuc3JjID0gd2luZG93LmJkbEJhc2VIcmVmID8gd2luZG93LmJkbEJhc2VIcmVmICsgc291cmNlIDogc291cmNlO1xuICAgIHByaW9yLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdCwgcHJpb3IpO1xuICB9IC8vbWFrZSBpbnN0IG9iamVjdCBnbG9iYWxseSAtIGluIGNhc2Ugb2YgZ2xvYmFscyAobm9uLXNyYykgZGVjbGFyYXRpb25cbiAgO1xuXG4gIF9wcm90by5pbml0Zm1pID0gZnVuY3Rpb24gaW5pdGZtaSgpIHtcbiAgICB2YXIgdGhhdCA9IHt9O1xuXG4gICAgaWYgKHdpbmRvdy50aGlzZm1pKSB7XG4gICAgICB0aGF0LmZtaW5hbWUgPSB3aW5kb3cudGhpc2ZtaS5mbWluYW1lO1xuICAgICAgY29uc29sZS5sb2coJ3VzaW5nIGdsb2JhbCBmbWkgaW5pdGZtaSgpIGZtaW5hbWUnLCB0aGF0LmZtaW5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGF0LmZtaW5hbWUgPSB0aGlzLmZtaW5hbWU7XG4gICAgICBjb25zb2xlLmxvZygndXNpbmcgbG9jYWwgZm1pIGluaXRmbWkoKSBmbWluYW1lJywgdGhhdC5mbWluYW1lKTtcbiAgICB9IC8vY3JlYXRlIGluc3RhbmNlXG5cblxuICAgIHRoYXQuaW5zdCA9IHdpbmRvd1t0aGF0LmZtaW5hbWVdKCk7XG4gICAgY29uc29sZS5sb2coJ2ZtaSBjYWxsYmFjayB0aGF0LCB0aGF0Lmluc3QnLCB0aGF0LCB0aGF0Lmluc3QpOyAvL29yPyB0aGF0Lmluc3QgPSBuZXcgd2luZG93W3RoYXQuZm1pbmFtZV07XG4gICAgLy9jb25zb2xlLmxvZygnaW5zdGFudGlhdGUsIHRoYXQuaW5zdCcsIHRoYXQuaW5zdCk7XG4gICAgLy9jcmVhdGUgZnVuY3Rpb24gbWV0aG9kcyB1c2luZyBlbXNjcmlwdGVuIHJlY29tbWVuZGVkIGN3cmFwXG5cbiAgICBpZiAoIXdpbmRvdy5mbWlpbnN0KSB7XG4gICAgICB3aW5kb3cuZm1paW5zdCA9IFtdO1xuICAgIH1cblxuICAgIHdpbmRvdy5mbWlpbnN0W3RoYXQuZm1pbmFtZV0gPSB0aGF0O1xuICB9O1xuXG4gIF9wcm90by5iaW5kID0gZnVuY3Rpb24gYmluZCgpIHt9O1xuXG4gIF9wcm90by5kZXRhY2hlZCA9IGZ1bmN0aW9uIGRldGFjaGVkKCkge31cbiAgLyoqXG4gICAqIEltcGxlbWVudHMgYSBydWRpbWVudGFyeSBicm93c2VyIGNvbnNvbGUgbG9nZ2VyIGZvciB0aGUgRk1VLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jb25zb2xlTG9nZ2VyID0gZnVuY3Rpb24gY29uc29sZUxvZ2dlcihjb21wb25lbnRFbnZpcm9ubWVudCwgaW5zdGFuY2VOYW1lLCBzdGF0dXMsIGNhdGVnb3J5LCBtZXNzYWdlLCBvdGhlcikge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgLyogRmlsbHMgdmFyaWFibGVzIGludG8gbWVzc2FnZSByZXR1cm5lZCBieSB0aGUgRk1VLCB0aGUgQyB3YXkgKi9cbiAgICB2YXIgZm9ybWF0TWVzc2FnZSA9IGZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2UobWVzc2FnZTEsIG90aGVyMSkge1xuICAgICAgLy8gZ2V0IGEgbmV3IHBvaW50ZXJcbiAgICAgIHZhciBwdHIgPSBfdGhpczIuaW5zdC5fbWFsbG9jKDEpOyAvLyBnZXQgdGhlIHNpemUgb2YgdGhlIHJlc3VsdGluZyBmb3JtYXRlZCBtZXNzYWdlXG5cblxuICAgICAgdmFyIG51bSA9IF90aGlzMi5pbnN0Ll9zbnByaW50ZihwdHIsIDAsIG1lc3NhZ2UxLCBvdGhlcjEpO1xuXG4gICAgICBfdGhpczIuaW5zdC5fZnJlZShwdHIpO1xuXG4gICAgICBudW0rKzsgLy8gVE9ETzogRXJyb3IgaGFuZGxpbmcgbnVtIDwgMFxuXG4gICAgICBwdHIgPSBfdGhpczIuaW5zdC5fbWFsbG9jKG51bSk7XG5cbiAgICAgIF90aGlzMi5pbnN0Ll9zbnByaW50ZihwdHIsIG51bSwgbWVzc2FnZTEsIG90aGVyMSk7IC8vIHJldHVybiBwb2ludGVyIHRvIHRoZSByZXN1bHRpbmcgbWVzc2FnZSBzdHJpbmdcblxuXG4gICAgICByZXR1cm4gcHRyO1xuICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG5cblxuICAgIGNvbnNvbGUubG9nKCdGTVUoJyArIHRoaXMuaW5zdC5VVEY4VG9TdHJpbmcoaW5zdGFuY2VOYW1lKSArICc6JyArIHN0YXR1cyArICc6JyArIHRoaXMuaW5zdC5VVEY4VG9TdHJpbmcoY2F0ZWdvcnkpICsgJykgbXNnOiAnICsgdGhpcy5pbnN0LlVURjhUb1N0cmluZyhmb3JtYXRNZXNzYWdlKG1lc3NhZ2UsIG90aGVyKSkpO1xuXG4gICAgdGhpcy5pbnN0Ll9mcmVlKGZvcm1hdE1lc3NhZ2UpO1xuICB9O1xuXG4gIF9wcm90by5pbml0aWFsaXplID0gZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmZtaUVudGVySW5pdCh0aGlzLmZtaWluc3QpO1xuICAgIHRoaXMuZm1pRXhpdEluaXQodGhpcy5mbWlpbnN0KTtcbiAgfTtcblxuICBfcHJvdG8uaW5zdGFudGlhdGUgPSBmdW5jdGlvbiBpbnN0YW50aWF0ZSgpIHtcbiAgICB2YXIgc1Jlc2V0ID0gJ2ZtaTJSZXNldCc7XG4gICAgdmFyIHNJbnN0YW50aWF0ZSA9ICdmbWkySW5zdGFudGlhdGUnO1xuICAgIHZhciBzU2V0dXAgPSAnZm1pMlNldHVwRXhwZXJpbWVudCc7XG4gICAgdmFyIHNFbnRlcmluaXQgPSAnZm1pMkVudGVySW5pdGlhbGl6YXRpb25Nb2RlJztcbiAgICB2YXIgc0V4aXRpbml0ID0gJ2ZtaTJFeGl0SW5pdGlhbGl6YXRpb25Nb2RlJztcbiAgICB2YXIgc1NldHJlYWwgPSAnZm1pMlNldFJlYWwnO1xuICAgIHZhciBzU2V0Ym9vbGVhbiA9ICdmbWkyU2V0Qm9vbGVhbic7XG4gICAgdmFyIHNHZXRyZWFsID0gJ2ZtaTJHZXRSZWFsJztcbiAgICB2YXIgc0dldGJvb2xlYW4gPSAnZm1pMkdldEJvb2xlYW4nO1xuICAgIHZhciBzRG9zdGVwID0gJ2ZtaTJEb1N0ZXAnO1xuICAgIHZhciBzQ3JlYXRlQ2FsbGJhY2sgPSAnY3JlYXRlRm1pMkNhbGxiYWNrRnVuY3Rpb25zJztcbiAgICB0aGlzLnN0ZXBUaW1lID0gMDtcbiAgICB0aGlzLnN0ZXBTaXplID0gdHlwZW9mIHRoaXMuZnN0ZXBzaXplID09PSAnc3RyaW5nJyA/IHBhcnNlRmxvYXQodGhpcy5mc3RlcHNpemUpIDogdGhpcy5mc3RlcHNpemU7XG4gICAgdGhpcy5teXN0ZXAgPSB0aGlzLnN0ZXBTaXplOyAvL2NvbnNvbGUgY2FsbGJhY2sgcHRyLCBwZXIgZW1zcmlwdGVuIGNyZWF0ZSBpbnQgcHRyIHdpdGggc2lnbmF0dXJlIHZpaWlpaWlcblxuICAgIHRoaXMuaW5zdCA9IHdpbmRvdy5mbWlpbnN0W3RoaXMuZm1pbmFtZV0uaW5zdDsgLy9pZiAod2luZG93LnRoaXNmbWkpIHt0aGlzLmluc3QgPSB3aW5kb3cudGhpc2ZtaS5pbnN0O31cblxuICAgIGNvbnNvbGUubG9nKCdpbnN0YW50aWF0ZSgpIHRoaXMuaW5zdCcsIHRoaXMuaW5zdCk7IC8vc2V0IHRoZSBmbWluYW1lIGFuZCBKUyBXQVNNIGZ1bmN0aW9uIHJlZmVyZW5jZXNcblxuICAgIHZhciBzZXBhcmF0b3IgPSAnXyc7XG4gICAgdmFyIHByZWZpeCA9IHRoaXMuZm1pbmFtZTsgLy9jb25zb2xlLmxvZygnYXR0YWNoZWQgZm1pbmFtZTonLCB0aGF0LmZtaW5hbWUpO1xuICAgIC8vIE9wZW5Nb2RlbGljYSBleHBvcnRlZCBmdW5jdGlvbiBuYW1lc1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuX2ZtaTJHZXRWZXJzaW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcmVmaXggPSAnJztcbiAgICAgIHNlcGFyYXRvciA9ICcnO1xuICAgIH1cblxuICAgIHRoaXMuZm1pQ3JlYXRlQ2FsbGJhY2sgPSB0aGlzLmluc3QuY3dyYXAoc0NyZWF0ZUNhbGxiYWNrLCAnbnVtYmVyJywgWydudW1iZXInXSk7XG4gICAgdGhpcy5mbWlSZXNldCA9IHRoaXMuaW5zdC5jd3JhcChwcmVmaXggKyBzZXBhcmF0b3IgKyBzUmVzZXQsICdudW1iZXInLCBbJ251bWJlciddKTtcbiAgICB0aGlzLmZtaUluc3RhbnRpYXRlID0gdGhpcy5pbnN0LmN3cmFwKHByZWZpeCArIHNlcGFyYXRvciArIHNJbnN0YW50aWF0ZSwgJ251bWJlcicsIFsnc3RyaW5nJywgJ251bWJlcicsICdzdHJpbmcnLCAnc3RyaW5nJywgJ251bWJlcicsICdudW1iZXInLCAnbnVtYmVyJ10pO1xuICAgIHRoaXMuZm1pU2V0dXAgPSB0aGlzLmluc3QuY3dyYXAocHJlZml4ICsgc2VwYXJhdG9yICsgc1NldHVwLCAnbnVtYmVyJywgWydudW1iZXInLCAnbnVtYmVyJywgJ251bWJlcicsICdudW1iZXInLCAnbnVtYmVyJywgJ251bWJlciddKTtcbiAgICB0aGlzLmZtaUVudGVySW5pdCA9IHRoaXMuaW5zdC5jd3JhcChwcmVmaXggKyBzZXBhcmF0b3IgKyBzRW50ZXJpbml0LCAnbnVtYmVyJywgWydudW1iZXInXSk7XG4gICAgdGhpcy5mbWlFeGl0SW5pdCA9IHRoaXMuaW5zdC5jd3JhcChwcmVmaXggKyBzZXBhcmF0b3IgKyBzRXhpdGluaXQsICdudW1iZXInLCBbJ251bWJlciddKTtcbiAgICB0aGlzLmZtaVNldFJlYWwgPSB0aGlzLmluc3QuY3dyYXAocHJlZml4ICsgc2VwYXJhdG9yICsgc1NldHJlYWwsICdudW1iZXInLCBbJ251bWJlcicsICdudW1iZXInLCAnbnVtYmVyJywgJ251bWJlciddKTtcbiAgICB0aGlzLmZtaUdldFJlYWwgPSB0aGlzLmluc3QuY3dyYXAocHJlZml4ICsgc2VwYXJhdG9yICsgc0dldHJlYWwsICdudW1iZXInLCBbJ251bWJlcicsICdudW1iZXInLCAnbnVtYmVyJywgJ251bWJlciddKTtcbiAgICB0aGlzLmZtaVNldEJvb2xlYW4gPSB0aGlzLmluc3QuY3dyYXAocHJlZml4ICsgc2VwYXJhdG9yICsgc1NldGJvb2xlYW4sICdudW1iZXInLCBbJ251bWJlcicsICdudW1iZXInLCAnbnVtYmVyJywgJ251bWJlciddKTtcbiAgICB0aGlzLmZtaUdldEJvb2xlYW4gPSB0aGlzLmluc3QuY3dyYXAocHJlZml4ICsgc2VwYXJhdG9yICsgc0dldGJvb2xlYW4sICdudW1iZXInLCBbJ251bWJlcicsICdudW1iZXInLCAnbnVtYmVyJywgJ251bWJlciddKTtcbiAgICB0aGlzLmZtaURvU3RlcCA9IHRoaXMuaW5zdC5jd3JhcChwcmVmaXggKyBzZXBhcmF0b3IgKyBzRG9zdGVwLCAnbnVtYmVyJywgWydudW1iZXInLCAnbnVtYmVyJywgJ251bWJlcicsICdudW1iZXInXSk7XG4gICAgdGhpcy5mbWlHZXRWZXJzaW9uID0gdGhpcy5pbnN0LmN3cmFwKHByZWZpeCArIHNlcGFyYXRvciArICdmbWkyR2V0VmVyc2lvbicsICdzdHJpbmcnKTtcbiAgICB0aGlzLmZtaUdldFR5cGVzUGxhdGZvcm0gPSB0aGlzLmluc3QuY3dyYXAocHJlZml4ICsgc2VwYXJhdG9yICsgJ2ZtaTJHZXRUeXBlc1BsYXRmb3JtJywgJ3N0cmluZycpO1xuICAgIHRoaXMuZm1pMkZyZWVJbnN0YW5jZSA9IHRoaXMuaW5zdC5jd3JhcChwcmVmaXggKyBzZXBhcmF0b3IgKyAnZm1pMkZyZWVJbnN0YW5jZScsICdudW1iZXInLCBbJ251bWJlciddKTtcbiAgICB0aGlzLmluc3RhbnRpYXRlZCA9IGZhbHNlOyAvL2NhbGN1bGF0ZSBwb3csIHBvd2VyIG9mIHN0ZXBzaXplXG5cbiAgICB0aGlzLnBvdyA9IHRoaXMuc3RlcFNpemUgPCAxID8gLU1hdGguY2VpbCgtTWF0aC5sb2cxMCh0aGlzLnN0ZXBTaXplKSkgOiBNYXRoLmNlaWwoTWF0aC5sb2cxMCh0aGlzLnN0ZXBTaXplKSk7IC8vdXNlIE1hdGgudHJ1bmMgPz9cblxuICAgIGNvbnNvbGUubG9nKCdpbnN0YW50aWF0ZSgpIHRoaXMuaW5zdCcsIHRoaXMuaW5zdCk7XG4gICAgdGhpcy5jb25zb2xlTG9nZ2VyUHRyID0gdGhpcy5pbnN0LmFkZEZ1bmN0aW9uKHRoaXMuY29uc29sZUxvZ2dlci5iaW5kKHRoaXMpLCAndmlpaWlpaScpO1xuICAgIHRoaXMuY2FsbGJhY2twdHIgPSB0aGlzLmZtaUNyZWF0ZUNhbGxiYWNrKHRoaXMuY29uc29sZUxvZ2dlclB0cik7IC8vY3JlYXRlIGluc3RhbmNlIG9mIG1vZGVsIHNpbXVsYXRpb25cblxuICAgIHRoaXMuZm1paW5zdCA9IHRoaXMuZm1pSW5zdGFudGlhdGUodGhpcy5mbWluYW1lLCB0aGlzLmNvc2ltdWxhdGlvbiwgdGhpcy5ndWlkLCAnJywgdGhpcy5jYWxsYmFja3B0ciwgMCwgMCk7IC8vbGFzdCAxIGRlYnVnLCAwIG5vZGVidWdcblxuICAgIHRoaXMuc2V0dXBFeHBlcmltZW50KCk7XG4gIH07XG5cbiAgX3Byb3RvLnNldHVwRXhwZXJpbWVudCA9IGZ1bmN0aW9uIHNldHVwRXhwZXJpbWVudCgpIHtcbiAgICAvL3NldHVwIGV4cGVyaW1lbnRcbiAgICB0aGlzLmZtaVNldHVwKHRoaXMuZm1paW5zdCwgMSwgdGhpcy50b2xlcmFuY2UsIHRoaXMuc3RhcnR0aW1lLCAwKTtcbiAgICBjb25zb2xlLmxvZygnaW5zdGFudGlhdGVkIGZtaWluc3QnLCB0aGlzLmZtaWluc3QpO1xuICAgIHRoaXMuaW5zdGFudGlhdGVkID0gdHJ1ZTtcbiAgfTtcblxuICBfcHJvdG8uc2ltdWxhdGUgPSBmdW5jdGlvbiBzaW11bGF0ZSgpIHt9O1xuXG4gIF9wcm90by5zZXRSZWFsID0gZnVuY3Rpb24gc2V0UmVhbChxdWVyeSwgdmFsdWUsIGNvdW50KSB7XG4gICAgY29uc29sZS5sb2coJ3NldHJlYWwgcXVlcnksdmFsdWUsY291bnQnLCBxdWVyeSwgdmFsdWUsIGNvdW50KTtcbiAgICByZXR1cm4gdGhpcy5mbWlTZXRSZWFsKHRoaXMuZm1paW5zdCwgcXVlcnkuYnl0ZU9mZnNldCwgY291bnQsIHZhbHVlLmJ5dGVPZmZzZXQpO1xuICB9O1xuXG4gIF9wcm90by5zZXRCb29sZWFuID0gZnVuY3Rpb24gc2V0Qm9vbGVhbihxdWVyeSwgdmFsdWUsIGNvdW50KSB7XG4gICAgcmV0dXJuIHRoaXMuZm1pU2V0Qm9vbGVhbih0aGlzLmZtaWluc3QsIHF1ZXJ5LmJ5dGVPZmZzZXQsIGNvdW50LCB2YWx1ZS5ieXRlT2Zmc2V0KTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgUmVhbHMgZnJvbSBGTVVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0UmVhbCA9IGZ1bmN0aW9uIGdldFJlYWwocXVlcnksIG91dHB1dCwgY291bnQpIHtcbiAgICByZXR1cm4gdGhpcy5mbWlHZXRSZWFsKHRoaXMuZm1paW5zdCwgcXVlcnkuYnl0ZU9mZnNldCwgY291bnQsIG91dHB1dC5ieXRlT2Zmc2V0KTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgQm9vbGVhbnMgZnJvbSBGTVVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0Qm9vbGVhbiA9IGZ1bmN0aW9uIGdldEJvb2xlYW4ocXVlcnksIG91dHB1dCwgY291bnQpIHtcbiAgICByZXR1cm4gdGhpcy5mbWlHZXRCb29sZWFuKHRoaXMuZm1paW5zdCwgcXVlcnkuYnl0ZU9mZnNldCwgY291bnQsIG91dHB1dC5ieXRlT2Zmc2V0KTtcbiAgfTtcblxuICBfcHJvdG8uc3RhcnRldmVudCA9IGZ1bmN0aW9uIHN0YXJ0ZXZlbnQoZSkge1xuICAgIC8vY29uc29sZS5sb2coJ2ZtaSBzdGFydGV2ZW50JywgZSk7XG4gICAgaWYgKCF0aGlzLmFuaW1hdGlvbnN0YXJ0ZWQpIHRoaXMuc3RhcnRTaW11bGF0aW9uKCk7XG4gIH07XG5cbiAgX3Byb3RvLnN0b3BldmVudCA9IGZ1bmN0aW9uIHN0b3BldmVudChlKSB7XG4gICAgLy9jb25zb2xlLmxvZygnZm1pIHN0b3BldmVudCcsIGUpO1xuICAgIGlmICh0aGlzLmFuaW1hdGlvbnN0YXJ0ZWQpIHRoaXMuc3RvcFNpbXVsYXRpb24oKTtcbiAgfSAvL2FjdGlvbiB0byBiZSBwZXJmb3JtZWQgd2hlbiBjbGlja2luZyB0aGUgcGxheS9wYXVzZSBidXR0b25cbiAgLy9zZW5kcyBmbWlzdGFydC9mbWlzdG9wIGV2ZW50IGFuZCBzdGFydHMvc3RvcHMgc2ltdWxhdGlvblxuICA7XG5cbiAgX3Byb3RvLnN0YXJ0c3RvcCA9IGZ1bmN0aW9uIHN0YXJ0c3RvcCgpIHtcbiAgICBpZiAodGhpcy5hbmltYXRpb25zdGFydGVkKSB7XG4gICAgICB0aGlzLnN0b3BTaW11bGF0aW9uKCk7XG4gICAgICB0aGlzLnNlbmRTdG9wRXZlbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZW5kU3RhcnRFdmVudCgpO1xuICAgICAgdGhpcy5zdGFydFNpbXVsYXRpb24oKTtcbiAgICB9XG4gIH0gLy9kZWZpbmVzIGFjdGlvbiB0byBiZSBkb25lIGR1cmluZyBicm93c2VyIGFuaW1hdGlvbmZyYW1lIGFuZCBzdGFydHNcbiAgO1xuXG4gIF9wcm90by5zdGFydFNpbXVsYXRpb24gPSBmdW5jdGlvbiBzdGFydFNpbXVsYXRpb24oKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB0aGlzLmFuaW1hdGlvbnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgdmFyIHBlcmZvcm1BbmltYXRpb24gPSBmdW5jdGlvbiBwZXJmb3JtQW5pbWF0aW9uKCkge1xuICAgICAgX3RoaXMzLnJlcXVlc3QgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocGVyZm9ybUFuaW1hdGlvbik7XG5cbiAgICAgIF90aGlzMy5zdGVwKCk7XG4gICAgfTtcblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShwZXJmb3JtQW5pbWF0aW9uKTtcbiAgfSAvL2NhbmNlbHMgYWxsIGFjdGlvbiB0byBiZSBkb25lIGR1cmluZyBicm93c2VyIGFuaW1hdGlvbmZyYW1lIGFuZCBzdGFydHNcbiAgO1xuXG4gIF9wcm90by5zdG9wU2ltdWxhdGlvbiA9IGZ1bmN0aW9uIHN0b3BTaW11bGF0aW9uKCkge1xuICAgIC8vc3RvcCBhbmltYXRpb25cbiAgICB0aGlzLmFuaW1hdGlvbnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJlcXVlc3QpO1xuICB9IC8vc2VuZHMgZm1pc3RvcCBldmVudFxuICA7XG5cbiAgX3Byb3RvLnNlbmRTdG9wRXZlbnQgPSBmdW5jdGlvbiBzZW5kU3RvcEV2ZW50KCkge1xuICAgIC8vY3JlYXRlIGN1c3RvbSBldmVudFxuICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnZm1pc3RvcCcsIHtcbiAgICAgIGRldGFpbDoge1xuICAgICAgICB0aW1lOiB0aGlzLnJvdW5kKHRoaXMuc3RlcFRpbWUsIHRoaXMucG93KVxuICAgICAgfVxuICAgIH0pOyAvL2Rpc3BhdGNoIGV2ZW50IC0gaXQgc2hvdWxkIGJlIGxpc3RlbmVkIGJ5IHNvbWUgb3RoZXIgY29tcG9uZW50XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfTtcblxuICBfcHJvdG8uc2VuZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiBzZW5kU3RhcnRFdmVudCgpIHtcbiAgICAvL2NyZWF0ZSBjdXN0b20gZXZlbnRcbiAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2ZtaXN0YXJ0Jywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIHRpbWU6IHRoaXMucm91bmQodGhpcy5zdGVwVGltZSwgdGhpcy5wb3cpXG4gICAgICB9XG4gICAgfSk7IC8vZGlzcGF0Y2ggZXZlbnQgLSBpdCBzaG91bGQgYmUgbGlzdGVuZWQgYnkgc29tZSBvdGhlciBjb21wb25lbnRcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpLmRpc3BhdGNoRXZlbnQoZXZlbnQpOyAvL2FuaW1hdGUgdXNpbmcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gIH07XG5cbiAgX3Byb3RvLnJvdW5kID0gZnVuY3Rpb24gcm91bmQodmFsdWUsIGRlY2ltYWxzKSB7XG4gICAgaWYgKGRlY2ltYWxzIDwgMCkge1xuICAgICAgdmFyIHBvc2RlY2ltYWxzID0gLWRlY2ltYWxzO1xuICAgICAgcmV0dXJuIE51bWJlcihNYXRoLnJvdW5kKHZhbHVlICsgJ2UnICsgcG9zZGVjaW1hbHMpICsgJ2UtJyArIHBvc2RlY2ltYWxzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTnVtYmVyKE1hdGgucm91bmQodmFsdWUgKyAnZS0nICsgZGVjaW1hbHMpICsgJ2UrJyArIGRlY2ltYWxzKTtcbiAgfTtcblxuICBfcHJvdG8uc3RlcCA9IGZ1bmN0aW9uIHN0ZXAoKSB7XG4gICAgLy9wcmltaXRpdmUgc2VtYXBob3JlLCBvbmx5IG9uZSBpbnN0YW5jZSBjYW4gcGVyZm9ybSB0aGlzIGNhbGxcbiAgICBpZiAoIXRoaXMuZG9pbmdzdGVwKSB7XG4gICAgICB0aGlzLmRvaW5nc3RlcCA9IHRydWU7XG5cbiAgICAgIGlmICghdGhpcy5pbnN0YW50aWF0ZWQpIHtcbiAgICAgICAgdGhpcy5pbnN0YW50aWF0ZSgpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgIH0gLy9UT0RPIG5vdyBkZW1vIGRhdGEsIGdldCByZWFsIGRhdGEgZnJvbSBzaW11bGF0aW9uXG4gICAgICAvL2NvbnNvbGUubG9nKCdzdGVwKCkxIGZtaWluc3QnLCB0aGlzLmZtaWluc3QpO1xuXG5cbiAgICAgIHRoaXMuc3RlcGkrKzsgLy9jaGFuZ2VpbnB1dHNcblxuICAgICAgaWYgKHRoaXMuY2hhbmdlaW5wdXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY2hhbmdlaW5wdXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2hhbmdpbmcgaW5wdXRzJyk7XG4gICAgICAgICAgdmFyIG15aW5wdXRzID0gdGhpcy5jaGFuZ2VpbnB1dHMuc2hpZnQoKTsgLy9yZW1vdmUgZmlyc3QgaXRlbVxuICAgICAgICAgIC8vc2V0IHJlYWwgLSByZWZlcmVuY2UgaXMgaW4gLSBvbmUgaW5wdXQgb25lIHJlZmVyZW5jZVxuICAgICAgICAgIC8vZm9yIChsZXQgcmVmZXJlbmNlIG9mIHRoaXMuaW5wdXRzW215aW5wdXRzLmlkXSlcbiAgICAgICAgICAvL3NldHMgaW5kaXZpZHVhbCB2YWx1ZXMgLSBpZiBpZCBpcyBpbiBpbnB1dCwgdGhlbiByZWZlcmVuY2UgaXMgdGFrZW4gZnJvbSBpbnB1dHMgZGVmaW5pdGlvblxuICAgICAgICAgIC8vY29uc29sZS5sb2coJ2NoYW5naW5nIGlucHV0cyxpZCx2YWx1ZScsIHRoaXMuaW5wdXRyZWZlcmVuY2VzLCBteWlucHV0cy5pZCwgbXlpbnB1dHMudmFsdWUpO1xuXG4gICAgICAgICAgdmFyIG5vcm1hbGl6ZWR2YWx1ZSA9IG15aW5wdXRzLnZhbHVlICogdGhpcy5pbnB1dHJlZmVyZW5jZXNbbXlpbnB1dHMuaWRdLm51bWVyYXRvciAvIHRoaXMuaW5wdXRyZWZlcmVuY2VzW215aW5wdXRzLmlkXS5kZW5vbWluYXRvcjtcbiAgICAgICAgICBpZiAobXlpbnB1dHMuaWQpIHRoaXMuc2V0U2luZ2xlUmVhbCh0aGlzLmlucHV0cmVmZXJlbmNlc1tteWlucHV0cy5pZF0ucmVmLCBub3JtYWxpemVkdmFsdWUpOyAvLyBpZiByZWZlcmVuY2UgaXMgaW4gaW5wdXQsIHRoZW4gaXQgaXMgc2V0IGRpcmVjdGx5XG4gICAgICAgICAgZWxzZSBpZiAobXlpbnB1dHMudmFsdWVyZWZlcmVuY2UpIHRoaXMuc2V0U2luZ2xlUmVhbChteWlucHV0cy52YWx1ZXJlZmVyZW5jZSwgbm9ybWFsaXplZHZhbHVlKTtcbiAgICAgICAgfSAvL2ZsdXNoIGFsbCBpbiBvbmUgY2FsbCB0byBmbWlcblxuXG4gICAgICAgIHRoaXMuZmx1c2hSZWFsUXVldWUoKTtcbiAgICAgIH0gLy9kb3N0ZXBcbiAgICAgIC8vY29tcHV0ZSBzdGVwIHRvIHJvdW5kIHRoZSBkZXNpcmVkIHRpbWVcbiAgICAgIC8vY29uc3QgcmVzID0gdGhpcy5mbWlEb1N0ZXAodGhpcy5mbWlpbnN0LCB0aGlzLnN0ZXBUaW1lLCB0aGlzLnN0ZXBTaXplLCAxKTtcblxuXG4gICAgICB2YXIgcmVzID0gdGhpcy5mbWlEb1N0ZXAodGhpcy5mbWlpbnN0LCB0aGlzLnN0ZXBUaW1lLCB0aGlzLm15c3RlcCwgMSk7XG4gICAgICB0aGlzLnN0ZXBUaW1lID0gdGhpcy5zdGVwVGltZSArIHRoaXMubXlzdGVwO1xuICAgICAgdGhpcy5teXN0ZXAgPSB0aGlzLnN0ZXBTaXplOyAvL3VwZGF0ZSBjb3JyZWN0aW9uIHN0ZXAgdG8gY3VycmVudCBzdGVwXG4gICAgICAvL2NvbnNvbGUubG9nKCdzdGVwKCkgcmVzOicsIHJlcyk7XG5cbiAgICAgIGlmIChyZXMgPT09IDEgfHwgcmVzID09PSAyKSB7XG4gICAgICAgIHRoaXMuZm1pUmVzZXQodGhpcy5mbWlpbnN0KTtcbiAgICAgIH0gLy9kaXN0cmlidXRlIHNpbXVsYXRpb24gZGF0YSB0byBsaXN0ZW5lcnNcblxuXG4gICAgICB0aGlzLm15ZGF0YSA9IHRoaXMuZ2V0UmVhbHModGhpcy5yZWZlcmVuY2VzKTsgLy9jcmVhdGUgY3VzdG9tIGV2ZW50XG5cbiAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnZm1pZGF0YScsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgdGltZTogdGhpcy5yb3VuZCh0aGlzLnN0ZXBUaW1lLCB0aGlzLnBvdyksXG4gICAgICAgICAgZGF0YTogdGhpcy5teWRhdGFcbiAgICAgICAgfVxuICAgICAgfSk7IC8vZGlzcGF0Y2ggZXZlbnQgLSBpdCBzaG91bGQgYmUgbGlzdGVuZWQgYnkgc29tZSBvdGhlciBjb21wb25lbnRcblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgICAgIGlmICh0aGlzLm1lYXN1cmVmcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuZnBzdGljayA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuc3RhcnRmcHN0aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZnBzdGljaysrO1xuXG4gICAgICAgIGlmICh0aGlzLmZwc3RpY2sgPj0gdGhpcy50aWNrc1RvVXBkYXRlKSB7XG4gICAgICAgICAgLy9kbyBjb3JyZWN0aW9uIHN0ZXAgY2FsY3VsYXRpb25cbiAgICAgICAgICAvL3RoaXMucG93ID0gMDtcbiAgICAgICAgICBpZiAodGhpcy5zdGVwU2l6ZSA8IDEpIHRoaXMucG93ID0gLU1hdGguY2VpbCgtTWF0aC5sb2cxMCh0aGlzLnN0ZXBTaXplKSk7ZWxzZSB0aGlzLnBvdyA9IE1hdGguY2VpbChNYXRoLmxvZzEwKHRoaXMuc3RlcFNpemUpKTtcbiAgICAgICAgICB0aGlzLm15c3RlcCA9IHRoaXMucm91bmQodGhpcy5zdGVwVGltZSArIHRoaXMuc3RlcFNpemUsIHRoaXMucG93KSAtIHRoaXMuc3RlcFRpbWU7IC8vZG8gZnBzIGNhbGN1bGF0aW9uXG5cbiAgICAgICAgICB0aGlzLmZwcyA9IDEwMDAgKiB0aGlzLnRpY2tzVG9VcGRhdGUgLyAoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRmcHN0aW1lKTtcbiAgICAgICAgICB0aGlzLmZwc3RpY2sgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZG9pbmdzdGVwID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMuc3RlcFRpbWUgPSAwO1xuICAgIHRoaXMuc3RlcFNpemUgPSB0eXBlb2YgdGhpcy5mc3RlcHNpemUgPT09ICdzdHJpbmcnID8gcGFyc2VGbG9hdCh0aGlzLmZzdGVwc2l6ZSkgOiB0aGlzLmZzdGVwc2l6ZTtcbiAgICB0aGlzLm15c3RlcCA9IHRoaXMuc3RlcFNpemU7XG4gICAgdGhpcy5zZXR1cEV4cGVyaW1lbnQoKTtcbiAgICB0aGlzLmZtaVJlc2V0KHRoaXMuZm1paW5zdCk7XG4gICAgdGhpcy5pbml0aWFsaXplKCk7IC8vY3JlYXRlIGN1c3RvbSBldmVudFxuXG4gICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdmbWlyZXNldCcpOyAvL2Rpc3BhdGNoIGV2ZW50IC0gaXQgc2hvdWxkIGJlIGxpc3RlbmVkIGJ5IHNvbWUgb3RoZXIgY29tcG9uZW50XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfVxuICAvKiByb3V0aW5lcyB0byBhbGxvYyBidWZmZXIgZm9yIGdldHRpbmcvc2V0dGluZyBmcm9tIGZtaSovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlQnVmZmVyID0gZnVuY3Rpb24gY3JlYXRlQnVmZmVyKGFycikge1xuICAgIHZhciBzaXplID0gYXJyLmxlbmd0aCAqIGFyci5CWVRFU19QRVJfRUxFTUVOVDtcblxuICAgIHZhciBwdHIgPSB0aGlzLmluc3QuX21hbGxvYyhzaXplKTtcblxuICAgIHJldHVybiB7XG4gICAgICBwdHI6IHB0cixcbiAgICAgIHNpemU6IHNpemVcbiAgICB9O1xuICB9O1xuXG4gIF9wcm90by5jcmVhdGVBbmRGaWxsQnVmZmVyID0gZnVuY3Rpb24gY3JlYXRlQW5kRmlsbEJ1ZmZlcihhcnIpIHtcbiAgICB2YXIgYnVmZmVyID0gdGhpcy5jcmVhdGVCdWZmZXIoYXJyKTtcbiAgICB0aGlzLmZpbGxCdWZmZXIoYnVmZmVyLCBhcnIpO1xuICAgIHJldHVybiBidWZmZXI7XG4gIH07XG5cbiAgX3Byb3RvLmZyZWVCdWZmZXIgPSBmdW5jdGlvbiBmcmVlQnVmZmVyKGJ1ZmZlcikge1xuICAgIGlmIChidWZmZXIucHRyICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmluc3QuX2ZyZWUoYnVmZmVyLnB0cik7XG4gICAgfVxuXG4gICAgYnVmZmVyLnB0ciA9IG51bGw7XG4gICAgYnVmZmVyLnNpemUgPSBudWxsO1xuICB9O1xuXG4gIF9wcm90by52aWV3QnVmZmVyID0gZnVuY3Rpb24gdmlld0J1ZmZlcihidWZmZXIpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5pbnN0LkhFQVBVOC5idWZmZXIsIGJ1ZmZlci5wdHIsIGJ1ZmZlci5zaXplKTtcbiAgfTtcblxuICBfcHJvdG8uZmlsbEJ1ZmZlciA9IGZ1bmN0aW9uIGZpbGxCdWZmZXIoYnVmZmVyLCBhcnIpIHtcbiAgICB2YXIgdmlldyA9IHRoaXMudmlld0J1ZmZlcihidWZmZXIpO1xuICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGFyci5idWZmZXIpKTtcbiAgICByZXR1cm4gYnVmZmVyO1xuICB9O1xuXG4gIF9wcm90by5nZXRSZWFscyA9IGZ1bmN0aW9uIGdldFJlYWxzKHJlZmVyZW5jZXMpIHtcbiAgICB2YXIgcXVlcnlCdWZmZXIgPSB0aGlzLmNyZWF0ZUFuZEZpbGxCdWZmZXIobmV3IEludDMyQXJyYXkocmVmZXJlbmNlcykpO1xuICAgIHZhciBxdWVyeSA9IHRoaXMudmlld0J1ZmZlcihxdWVyeUJ1ZmZlcik7XG4gICAgdmFyIG91dHB1dEJ1ZmZlciA9IHRoaXMuY3JlYXRlQnVmZmVyKG5ldyBGbG9hdDY0QXJyYXkocmVmZXJlbmNlcy5sZW5ndGgpKTtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy52aWV3QnVmZmVyKG91dHB1dEJ1ZmZlcik7XG4gICAgdGhpcy5nZXRSZWFsKHF1ZXJ5LCBvdXRwdXQsIHJlZmVyZW5jZXMubGVuZ3RoKTtcbiAgICB2YXIgcmVhbCA9IG5ldyBGbG9hdDY0QXJyYXkob3V0cHV0LmJ1ZmZlciwgb3V0cHV0LmJ5dGVPZmZzZXQsIHJlZmVyZW5jZXMubGVuZ3RoKTtcbiAgICB0aGlzLmZyZWVCdWZmZXIocXVlcnlCdWZmZXIpO1xuICAgIHRoaXMuZnJlZUJ1ZmZlcihvdXRwdXRCdWZmZXIpO1xuICAgIHJldHVybiByZWFsO1xuICB9O1xuXG4gIF9wcm90by5nZXRTaW5nbGVSZWFsID0gZnVuY3Rpb24gZ2V0U2luZ2xlUmVhbChyZWZlcmVuY2UpIHtcbiAgICB2YXIgcXVlcnlCdWZmZXIgPSB0aGlzLmNyZWF0ZUFuZEZpbGxCdWZmZXIobmV3IEludDMyQXJyYXkoW3JlZmVyZW5jZV0pKTtcbiAgICB2YXIgcXVlcnkgPSB0aGlzLnZpZXdCdWZmZXIocXVlcnlCdWZmZXIpO1xuICAgIHZhciBvdXRwdXRCdWZmZXIgPSB0aGlzLmNyZWF0ZUJ1ZmZlcihuZXcgRmxvYXQ2NEFycmF5KDEpKTtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy52aWV3QnVmZmVyKG91dHB1dEJ1ZmZlcik7XG4gICAgdGhpcy5nZXRSZWFsKHF1ZXJ5LCBvdXRwdXQsIDEpO1xuICAgIHZhciByZWFsID0gbmV3IEZsb2F0NjRBcnJheShvdXRwdXQuYnVmZmVyLCBvdXRwdXQuYnl0ZU9mZnNldCwgMSk7XG4gICAgdGhpcy5mcmVlQnVmZmVyKHF1ZXJ5QnVmZmVyKTtcbiAgICB0aGlzLmZyZWVCdWZmZXIob3V0cHV0QnVmZmVyKTtcbiAgICByZXR1cm4gcmVhbFswXTtcbiAgfVxuICAvKipcbiAgICAgKiBBZGRzIGEgcmVhbCB2YWx1ZSB0byBzZXRSZWFsUXVldWVcbiAgICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXRTaW5nbGVSZWFsID0gZnVuY3Rpb24gc2V0U2luZ2xlUmVhbChyZWZlcmVuY2UsIHZhbHVlKSB7XG4gICAgY29uc29sZS5sb2coJ3NldFNpbmdsZVJlYWwgcmVmZXJlbmNlLHZhbHVlJywgcmVmZXJlbmNlLCB2YWx1ZSk7XG5cbiAgICBpZiAoIXRoaXMuc2V0UmVhbFF1ZXVlKSB7XG4gICAgICB0aGlzLnNldFJlYWxRdWV1ZSA9IHtcbiAgICAgICAgcmVmZXJlbmNlczogW10sXG4gICAgICAgIHZhbHVlczogW11cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5zZXRSZWFsUXVldWUucmVmZXJlbmNlcy5wdXNoKHJlZmVyZW5jZSk7XG4gICAgdGhpcy5zZXRSZWFsUXVldWUudmFsdWVzLnB1c2godmFsdWUpO1xuICB9O1xuXG4gIF9wcm90by5mbHVzaFJlYWxRdWV1ZSA9IGZ1bmN0aW9uIGZsdXNoUmVhbFF1ZXVlKCkge1xuICAgIGlmICh0aGlzLnNldFJlYWxRdWV1ZSkge1xuICAgICAgdmFyIHJlZmVyZW5jZUJ1ZmZlciA9IHRoaXMuY3JlYXRlQW5kRmlsbEJ1ZmZlcihuZXcgSW50MzJBcnJheSh0aGlzLnNldFJlYWxRdWV1ZS5yZWZlcmVuY2VzKSk7XG4gICAgICB2YXIgcmVmZXJlbmNlcyA9IHRoaXMudmlld0J1ZmZlcihyZWZlcmVuY2VCdWZmZXIpO1xuICAgICAgdmFyIHZhbHVlQnVmZmVyID0gdGhpcy5jcmVhdGVBbmRGaWxsQnVmZmVyKG5ldyBGbG9hdDY0QXJyYXkodGhpcy5zZXRSZWFsUXVldWUudmFsdWVzKSk7XG4gICAgICB2YXIgdmFsdWVzID0gdGhpcy52aWV3QnVmZmVyKHZhbHVlQnVmZmVyKTtcbiAgICAgIHRoaXMuc2V0UmVhbChyZWZlcmVuY2VzLCB2YWx1ZXMsIHRoaXMuc2V0UmVhbFF1ZXVlLnJlZmVyZW5jZXMubGVuZ3RoKTtcbiAgICAgIHRoaXMuZnJlZUJ1ZmZlcihyZWZlcmVuY2VCdWZmZXIpO1xuICAgICAgdGhpcy5mcmVlQnVmZmVyKHZhbHVlQnVmZmVyKTtcbiAgICAgIHRoaXMuc2V0UmVhbFF1ZXVlID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5mbHVzaEJvb2xlYW5RdWV1ZSA9IGZ1bmN0aW9uIGZsdXNoQm9vbGVhblF1ZXVlKCkge1xuICAgIGlmICh0aGlzLnNldEJvb2xlYW5RdWV1ZSkge1xuICAgICAgdmFyIHJlZmVyZW5jZUJ1ZmZlciA9IHRoaXMuY3JlYXRlQW5kRmlsbEJ1ZmZlcihuZXcgSW50MzJBcnJheSh0aGlzLnNldEJvb2xlYW5RdWV1ZS5yZWZlcmVuY2VzKSk7XG4gICAgICB2YXIgcmVmZXJlbmNlcyA9IHRoaXMudmlld0J1ZmZlcihyZWZlcmVuY2VCdWZmZXIpO1xuICAgICAgdmFyIHZhbHVlQnVmZmVyID0gdGhpcy5jcmVhdGVBbmRGaWxsQnVmZmVyKG5ldyBJbnQzMkFycmF5KHRoaXMuc2V0Qm9vbGVhblF1ZXVlLnZhbHVlcykpO1xuICAgICAgdmFyIHZhbHVlcyA9IHRoaXMudmlld0J1ZmZlcih2YWx1ZUJ1ZmZlcik7XG4gICAgICB0aGlzLnNldEJvb2xlYW4ocmVmZXJlbmNlcywgdmFsdWVzLCB0aGlzLnNldEJvb2xlYW5RdWV1ZS5yZWZlcmVuY2VzLmxlbmd0aCk7XG4gICAgICB0aGlzLmZyZWVCdWZmZXIocmVmZXJlbmNlQnVmZmVyKTtcbiAgICAgIHRoaXMuZnJlZUJ1ZmZlcih2YWx1ZUJ1ZmZlcik7XG4gICAgICB0aGlzLnNldEJvb2xlYW5RdWV1ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXRTaW5nbGVCb29sZWFuID0gZnVuY3Rpb24gc2V0U2luZ2xlQm9vbGVhbihyZWZlcmVuY2UsIHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLnNldEJvb2xlYW5RdWV1ZSkge1xuICAgICAgdGhpcy5zZXRCb29sZWFuUXVldWUgPSB7XG4gICAgICAgIHJlZmVyZW5jZXM6IFtdLFxuICAgICAgICB2YWx1ZXM6IFtdXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuc2V0Qm9vbGVhblF1ZXVlLnJlZmVyZW5jZXMucHVzaChyZWZlcmVuY2UpO1xuICAgIHRoaXMuc2V0Qm9vbGVhblF1ZXVlLnZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgfVxuICAvKipcbiAgICAgKiBMb2FkcyBhIHNpbmdsZSBib29sZWFuIHZhbHVlIGJhc2VkIG9uIHJlZmVyZW5jZSwgdGhpcyBpcyBhIHNob3J0aGFuZCBmdW5jdGlvbi5cbiAgICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgTW9kdWxlLmdldEJvb2xlYW4gd2l0aCByZXVzYWJsZSBtYWxsb2NzLlxuICAgICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFNpbmdsZUJvb2xlYW4gPSBmdW5jdGlvbiBnZXRTaW5nbGVCb29sZWFuKHJlZmVyZW5jZSkge1xuICAgIHZhciBxdWVyeUJ1ZmZlciA9IHRoaXMuY3JlYXRlQW5kRmlsbEJ1ZmZlcihuZXcgSW50MzJBcnJheShbcmVmZXJlbmNlXSkpO1xuICAgIHZhciBxdWVyeSA9IHRoaXMudmlld0J1ZmZlcihxdWVyeUJ1ZmZlcik7XG4gICAgdmFyIG91dHB1dEJ1ZmZlciA9IHRoaXMuY3JlYXRlQnVmZmVyKG5ldyBJbnQzMkFycmF5KDEpKTtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy52aWV3QnVmZmVyKG91dHB1dEJ1ZmZlcik7XG4gICAgdGhpcy5nZXRCb29sZWFuKHF1ZXJ5LCBvdXRwdXQsIDEpO1xuICAgIHZhciBib29sID0gbmV3IEludDMyQXJyYXkob3V0cHV0LmJ1ZmZlciwgb3V0cHV0LmJ5dGVPZmZzZXQsIDEpO1xuICAgIHRoaXMuZnJlZUJ1ZmZlcihxdWVyeUJ1ZmZlcik7XG4gICAgdGhpcy5mcmVlQnVmZmVyKG91dHB1dEJ1ZmZlcik7XG4gICAgcmV0dXJuIGJvb2xbMF07XG4gIH07XG5cbiAgX3Byb3RvLmdldEJvb2xlYW5zID0gZnVuY3Rpb24gZ2V0Qm9vbGVhbnMocmVmZXJlbmNlcykge1xuICAgIHZhciBxdWVyeUJ1ZmZlciA9IHRoaXMuY3JlYXRlQW5kRmlsbEJ1ZmZlcihuZXcgSW50MzJBcnJheShyZWZlcmVuY2VzKSk7XG4gICAgdmFyIHF1ZXJ5ID0gdGhpcy52aWV3QnVmZmVyKHF1ZXJ5QnVmZmVyKTtcbiAgICB2YXIgb3V0cHV0QnVmZmVyID0gdGhpcy5jcmVhdGVCdWZmZXIobmV3IEludDMyQXJyYXkocmVmZXJlbmNlcy5sZW5ndGgpKTtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy52aWV3QnVmZmVyKG91dHB1dEJ1ZmZlcik7XG4gICAgdGhpcy5nZXRCb29sZWFuKHF1ZXJ5LCBvdXRwdXQsIHJlZmVyZW5jZXMubGVuZ3RoKTtcbiAgICB2YXIgYm9vbCA9IG5ldyBJbnQzMkFycmF5KG91dHB1dC5idWZmZXIsIG91dHB1dC5ieXRlT2Zmc2V0LCByZWZlcmVuY2VzLmxlbmd0aCk7XG4gICAgdGhpcy5mcmVlQnVmZmVyKHF1ZXJ5QnVmZmVyKTtcbiAgICB0aGlzLmZyZWVCdWZmZXIob3V0cHV0QnVmZmVyKTtcbiAgICByZXR1cm4gYm9vbDtcbiAgfTtcblxuICByZXR1cm4gRm1pO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmbWluYW1lXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnTi9BJztcbiAgfVxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0b2xlcmFuY2VcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDAuMDAwMDAxO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN0YXJ0dGltZVwiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJndWlkXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnTi9BJztcbiAgfVxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpZFwiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I2ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlucHV0c1wiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm90aGVyaW5wdXRzXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjggPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidmFsdWVyZWZlcmVuY2VzXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjkgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidGlja3NUb1VwZGF0ZVwiLCBbX2F1cmVsaWFGcmFtZXdvcmsuYmluZGFibGVdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gMjAwO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IxMCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzcmNcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMTEgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZnN0ZXBzaXplXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAwLjAxO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IxMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjb250cm9saWRcIiwgW19hdXJlbGlhRnJhbWV3b3JrLmJpbmRhYmxlXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMTMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hvd2NvbnRyb2xzXCIsIFtfYXVyZWxpYUZyYW1ld29yay5iaW5kYWJsZV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KSksIF9jbGFzcyk7XG5leHBvcnRzLkZtaSA9IEZtaTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZtaS5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/fmi\n");

/***/ }),

/***/ "aurelia-bodylight-plugin/elements/fmi.html":
/*!*************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/elements/fmi.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = \"<template>\\n  <require from=\\\"./w3.css\\\"></require>\\n  <!--require from=\\\"font-awesome/css/font-awesome.min.css\\\"></require>\\n  <require from=\\\"font-awesome/fonts/fontawesome-webfont.woff\\\"></require>\\n  <require from=\\\"font-awesome/fonts/fontawesome-webfont.ttf\\\"></require>\\n  <require from=\\\"font-awesome/fonts/fontawesome-webfont.woff2\\\"></require-->\\n  <div show.bind=\\\"showcontrols\\\">\\n  <button class=\\\"w3-button w3-theme\\\" click.delegate=\\\"startstop()\\\" title=\\\"Start/Stop simulation\\\"><i class.bind=\\\"animationstarted? 'fa fa-stop':'fa fa-play'\\\"></i> &nbsp;</button>\\n  <button class=\\\"w3-button w3-theme\\\" click.delegate=\\\"step()\\\" title=\\\"Do simulation step\\\"><i class=\\\"fa fa-step-forward\\\"> <sub><b>1</b></sub></i> &nbsp;</button>\\n  <button class=\\\"w3-button w3-theme\\\" click.delegate=\\\"reset()\\\" title=\\\"Reset simulation\\\"><i class=\\\"fa fa-refresh\\\"></i> &nbsp;</button>\\n  <span class=\\\"w3-tiny\\\">\\n    <input class=\\\"w3-check w3-tiny\\\" type=\\\"checkbox\\\" checked.bind=\\\"measurefps\\\"/>\\n    <i show.bind=\\\"measurefps\\\" title=\\\"FMI: ${fminame}\\\">FPS:${fps}</i>\\n  </span>\\n  </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXVyZWxpYS1ib2R5bGlnaHQtcGx1Z2luL2VsZW1lbnRzL2ZtaS5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F1cmVsaWEtYm9keWxpZ2h0LXBsdWdpbi9kaXN0L25hdGl2ZS1tb2R1bGVzL2VsZW1lbnRzL2ZtaS5odG1sPzFjYWYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG4gIDxyZXF1aXJlIGZyb209XFxcIi4vdzMuY3NzXFxcIj48L3JlcXVpcmU+XFxuICA8IS0tcmVxdWlyZSBmcm9tPVxcXCJmb250LWF3ZXNvbWUvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzXFxcIj48L3JlcXVpcmU+XFxuICA8cmVxdWlyZSBmcm9tPVxcXCJmb250LWF3ZXNvbWUvZm9udHMvZm9udGF3ZXNvbWUtd2ViZm9udC53b2ZmXFxcIj48L3JlcXVpcmU+XFxuICA8cmVxdWlyZSBmcm9tPVxcXCJmb250LWF3ZXNvbWUvZm9udHMvZm9udGF3ZXNvbWUtd2ViZm9udC50dGZcXFwiPjwvcmVxdWlyZT5cXG4gIDxyZXF1aXJlIGZyb209XFxcImZvbnQtYXdlc29tZS9mb250cy9mb250YXdlc29tZS13ZWJmb250LndvZmYyXFxcIj48L3JlcXVpcmUtLT5cXG4gIDxkaXYgc2hvdy5iaW5kPVxcXCJzaG93Y29udHJvbHNcXFwiPlxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwidzMtYnV0dG9uIHczLXRoZW1lXFxcIiBjbGljay5kZWxlZ2F0ZT1cXFwic3RhcnRzdG9wKClcXFwiIHRpdGxlPVxcXCJTdGFydC9TdG9wIHNpbXVsYXRpb25cXFwiPjxpIGNsYXNzLmJpbmQ9XFxcImFuaW1hdGlvbnN0YXJ0ZWQ/ICdmYSBmYS1zdG9wJzonZmEgZmEtcGxheSdcXFwiPjwvaT4gJm5ic3A7PC9idXR0b24+XFxuICA8YnV0dG9uIGNsYXNzPVxcXCJ3My1idXR0b24gdzMtdGhlbWVcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzdGVwKClcXFwiIHRpdGxlPVxcXCJEbyBzaW11bGF0aW9uIHN0ZXBcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGVwLWZvcndhcmRcXFwiPiA8c3ViPjxiPjE8L2I+PC9zdWI+PC9pPiAmbmJzcDs8L2J1dHRvbj5cXG4gIDxidXR0b24gY2xhc3M9XFxcInczLWJ1dHRvbiB3My10aGVtZVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInJlc2V0KClcXFwiIHRpdGxlPVxcXCJSZXNldCBzaW11bGF0aW9uXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtcmVmcmVzaFxcXCI+PC9pPiAmbmJzcDs8L2J1dHRvbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJ3My10aW55XFxcIj5cXG4gICAgPGlucHV0IGNsYXNzPVxcXCJ3My1jaGVjayB3My10aW55XFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2hlY2tlZC5iaW5kPVxcXCJtZWFzdXJlZnBzXFxcIi8+XFxuICAgIDxpIHNob3cuYmluZD1cXFwibWVhc3VyZWZwc1xcXCIgdGl0bGU9XFxcIkZNSTogJHtmbWluYW1lfVxcXCI+RlBTOiR7ZnBzfTwvaT5cXG4gIDwvc3Bhbj5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///aurelia-bodylight-plugin/elements/fmi.html\n");

/***/ }),

/***/ "dLt8":
/*!***************************************************************************************!*\
  !*** ./node_modules/aurelia-bodylight-plugin/dist/native-modules/attributes/utils.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.parseHashParamString = parseHashParamString;\n\n/** parseHashParamString\n * returns associative array of {'paramname':'paramvalue'} based on hash string\n * keys are splitted by '&', key-value are splited by '='\n * if not '=' is there the key is index of the paramvalue\n * e.g. '#docs.md&summary=sum.md' returns {'1':'docs.md','summary','sum.md'}\n * @param hash\n * @returns {{}}\n */\nfunction parseHashParamString(hash) {\n  //console.log('parseHashParamString',hash);\n  var paramsarray = hash.substr(1).split('&'); //gets all params seprated by &\n\n  var params = {}; //go through all params\n\n  for (var i = 0; i < paramsarray.length; i++) {\n    //gets param item - name value - if it is separated by = or only value if no '='\n    var paramnamevalue = paramsarray[i].split('=', 2);\n\n    if (paramnamevalue.length === 1) {\n      //param is in form 'value' - so insert it as numbered param with index i\n      params[i] = paramnamevalue[0];\n    } else {\n      //param is in form 'name=value' - so insert as {name:value}\n      params[paramnamevalue[0]] = paramnamevalue[1];\n    }\n  }\n\n  return params;\n}\n//# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZEx0OC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWJvZHlsaWdodC1wbHVnaW4vZGlzdC9uYXRpdmUtbW9kdWxlcy9hdHRyaWJ1dGVzL3V0aWxzLmpzPzc0YmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnBhcnNlSGFzaFBhcmFtU3RyaW5nID0gcGFyc2VIYXNoUGFyYW1TdHJpbmc7XG5cbi8qKiBwYXJzZUhhc2hQYXJhbVN0cmluZ1xuICogcmV0dXJucyBhc3NvY2lhdGl2ZSBhcnJheSBvZiB7J3BhcmFtbmFtZSc6J3BhcmFtdmFsdWUnfSBiYXNlZCBvbiBoYXNoIHN0cmluZ1xuICoga2V5cyBhcmUgc3BsaXR0ZWQgYnkgJyYnLCBrZXktdmFsdWUgYXJlIHNwbGl0ZWQgYnkgJz0nXG4gKiBpZiBub3QgJz0nIGlzIHRoZXJlIHRoZSBrZXkgaXMgaW5kZXggb2YgdGhlIHBhcmFtdmFsdWVcbiAqIGUuZy4gJyNkb2NzLm1kJnN1bW1hcnk9c3VtLm1kJyByZXR1cm5zIHsnMSc6J2RvY3MubWQnLCdzdW1tYXJ5Jywnc3VtLm1kJ31cbiAqIEBwYXJhbSBoYXNoXG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmZ1bmN0aW9uIHBhcnNlSGFzaFBhcmFtU3RyaW5nKGhhc2gpIHtcbiAgLy9jb25zb2xlLmxvZygncGFyc2VIYXNoUGFyYW1TdHJpbmcnLGhhc2gpO1xuICB2YXIgcGFyYW1zYXJyYXkgPSBoYXNoLnN1YnN0cigxKS5zcGxpdCgnJicpOyAvL2dldHMgYWxsIHBhcmFtcyBzZXByYXRlZCBieSAmXG5cbiAgdmFyIHBhcmFtcyA9IHt9OyAvL2dvIHRocm91Z2ggYWxsIHBhcmFtc1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAvL2dldHMgcGFyYW0gaXRlbSAtIG5hbWUgdmFsdWUgLSBpZiBpdCBpcyBzZXBhcmF0ZWQgYnkgPSBvciBvbmx5IHZhbHVlIGlmIG5vICc9J1xuICAgIHZhciBwYXJhbW5hbWV2YWx1ZSA9IHBhcmFtc2FycmF5W2ldLnNwbGl0KCc9JywgMik7XG5cbiAgICBpZiAocGFyYW1uYW1ldmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAvL3BhcmFtIGlzIGluIGZvcm0gJ3ZhbHVlJyAtIHNvIGluc2VydCBpdCBhcyBudW1iZXJlZCBwYXJhbSB3aXRoIGluZGV4IGlcbiAgICAgIHBhcmFtc1tpXSA9IHBhcmFtbmFtZXZhbHVlWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL3BhcmFtIGlzIGluIGZvcm0gJ25hbWU9dmFsdWUnIC0gc28gaW5zZXJ0IGFzIHtuYW1lOnZhbHVlfVxuICAgICAgcGFyYW1zW3BhcmFtbmFtZXZhbHVlWzBdXSA9IHBhcmFtbmFtZXZhbHVlWzFdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJhbXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///dLt8\n");

/***/ })

}]);