(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"5hyd":function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function r(e,t){void 0===t&&(t={present:!0,interval:50,timeout:5e3});var n=!1;return t=i({present:!0,interval:50,timeout:5e3},t),Promise.race([new Promise((function(e,i){return setTimeout((function(){n=!0,i(new Error(t.present?"Element not found":"Element not removed"))}),t.timeout)})),function i(){var r=e(),o=null!==r&&(!(r instanceof NodeList)&&!r.jquery||r.length>0);return!t.present==!o||n?Promise.resolve(r):new Promise((function(e){return setTimeout(e,t.interval)})).then(i)}()])}Object.defineProperty(t,"__esModule",{value:!0}),t.waitFor=r,t.waitForDocumentElement=function(e,t){return r((function(){return document.querySelector(e)}),t)},t.waitForDocumentElements=function(e,t){return r((function(){return document.querySelectorAll(e)}),t)}},GAND:function(e,t,n){},GmYv:function(e,t,n){"use strict";n.r(t);var i,r=n("70NS");Object.defineProperty(r.PLATFORM,"Loader",{get:function(){return i||(i=n("S6et").WebpackLoader)},set:function(e){i=e}})},H7XF:function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),a=i[0],s=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=16383,s=0,u=n-r;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"aurelia-testing":function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("aurelia-testing/compile-spy")),i(n("aurelia-testing/view-spy")),i(n("bznX")),i(n("5hyd")),t.configure=function(e){e.globalResources(["./compile-spy","./view-spy"])}},"aurelia-testing/compile-spy":function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=n("hij8"),o=n("3U8n"),a=n("MP1E"),s=n("70NS"),u=function(){function e(e,t){a.getLogger("compile-spy").info(e.toString(),t)}return e=i([r.customAttribute("compile-spy"),o.inject(s.DOM.Element,r.TargetInstruction)],e)}();t.CompileSpy=u},"aurelia-testing/view-spy":function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=n("hij8"),o=n("MP1E"),a=function(){function e(){this.logger=o.getLogger("view-spy")}return e.prototype._log=function(e,t){this.value||"created"!==e?this.value&&-1!==this.value.indexOf(e)&&this.logger.info(e,this.view,t):this.logger.info(e,this.view)},e.prototype.created=function(e){this.view=e,this._log("created")},e.prototype.bind=function(e){this._log("bind",e)},e.prototype.attached=function(){this._log("attached")},e.prototype.detached=function(){this._log("detached")},e.prototype.unbind=function(){this._log("unbind")},e=i([r.customAttribute("view-spy")],e)}();t.ViewSpy=a},bznX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("hij8"),r=n("5hyd"),o=function(){function e(){}return e.withResources=function(e){return void 0===e&&(e=[]),(new a).withResources(e)},e}();t.StageComponent=o;var a=function(){function e(){this.resources=[]}return e.prototype.configure=function(e){return e.use.standardConfiguration()},e.prototype.bootstrap=function(e){this.configure=e},e.prototype.withResources=function(e){return this.resources=e,this},e.prototype.inView=function(e){return this.html=e,this},e.prototype.boundTo=function(e){return this.bindingContext=e,this},e.prototype.manuallyHandleLifecycle=function(){return this._prepareLifecycle(),this},e.prototype.create=function(e){var t=this;return e((function(e){return Promise.resolve(t.configure(e)).then((function(){return t.resources&&e.use.globalResources(t.resources),e.start().then((function(){return t.host=document.createElement("div"),t.host.innerHTML=t.html,document.body.appendChild(t.host),e.enhance(t.bindingContext,t.host).then((function(){return t.rootView=e.root,t.element=t.host.firstElementChild,e.root.controllers.length&&(t.viewModel=e.root.controllers[0].viewModel),new Promise((function(e){return setTimeout((function(){return e()}),0)}))}))}))}))}))},e.prototype.dispose=function(){if(void 0===this.host||void 0===this.rootView)throw new Error("Cannot call ComponentTester.dispose() before ComponentTester.create()");return this.rootView.detached(),this.rootView.unbind(),this.host.parentNode.removeChild(this.host)},e.prototype._prepareLifecycle=function(){var e=this,t=i.View.prototype.bind;i.View.prototype.bind=function(){},this.bind=function(n){return new Promise((function(r){i.View.prototype.bind=t,void 0!==n&&(e.bindingContext=n),e.rootView.bind(e.bindingContext),setTimeout((function(){return r()}),0)}))};var n=i.View.prototype.attached;i.View.prototype.attached=function(){},this.attached=function(){return new Promise((function(t){i.View.prototype.attached=n,e.rootView.attached(),setTimeout((function(){return t()}),0)}))},this.detached=function(){return new Promise((function(t){e.rootView.detached(),setTimeout((function(){return t()}),0)}))},this.unbind=function(){return new Promise((function(t){e.rootView.unbind(),setTimeout((function(){return t()}),0)}))}},e.prototype.waitForElement=function(e,t){var n=this;return r.waitFor((function(){return n.element.querySelector(e)}),t)},e.prototype.waitForElements=function(e,t){var n=this;return r.waitFor((function(){return n.element.querySelectorAll(e)}),t)},e}();t.ComponentTester=a},hij8:function(e,t,n){"use strict";n.r(t),n.d(t,"animationEvent",(function(){return P})),n.d(t,"Animator",(function(){return x})),n.d(t,"CompositionTransactionNotifier",(function(){return I})),n.d(t,"CompositionTransactionOwnershipToken",(function(){return F})),n.d(t,"CompositionTransaction",(function(){return R})),n.d(t,"_hyphenate",(function(){return L})),n.d(t,"_isAllWhitespace",(function(){return H})),n.d(t,"ViewEngineHooksResource",(function(){return z})),n.d(t,"viewEngineHooks",(function(){return U})),n.d(t,"ElementEvents",(function(){return q})),n.d(t,"ResourceLoadContext",(function(){return K})),n.d(t,"ViewCompileInstruction",(function(){return Q})),n.d(t,"BehaviorInstruction",(function(){return X})),n.d(t,"TargetInstruction",(function(){return $})),n.d(t,"viewStrategy",(function(){return Z})),n.d(t,"RelativeViewStrategy",(function(){return J})),n.d(t,"ConventionalViewStrategy",(function(){return ee})),n.d(t,"NoViewStrategy",(function(){return te})),n.d(t,"TemplateRegistryViewStrategy",(function(){return ne})),n.d(t,"InlineViewStrategy",(function(){return ie})),n.d(t,"StaticViewStrategy",(function(){return re})),n.d(t,"ViewLocator",(function(){return oe})),n.d(t,"BindingLanguage",(function(){return se})),n.d(t,"SlotCustomAttribute",(function(){return ce})),n.d(t,"PassThroughSlot",(function(){return le})),n.d(t,"ShadowSlot",(function(){return he})),n.d(t,"ShadowDOM",(function(){return de})),n.d(t,"validateBehaviorName",(function(){return fe})),n.d(t,"ViewResources",(function(){return me})),n.d(t,"View",(function(){return ge})),n.d(t,"ViewSlot",(function(){return ye})),n.d(t,"BoundViewFactory",(function(){return Ne})),n.d(t,"ViewFactory",(function(){return je})),n.d(t,"ViewCompiler",(function(){return xe})),n.d(t,"ResourceModule",(function(){return Ie})),n.d(t,"ResourceDescription",(function(){return Fe})),n.d(t,"ModuleAnalyzer",(function(){return Re})),n.d(t,"ViewEngine",(function(){return He})),n.d(t,"Controller",(function(){return ze})),n.d(t,"BehaviorPropertyObserver",(function(){return Ue})),n.d(t,"BindableProperty",(function(){return We})),n.d(t,"HtmlBehaviorResource",(function(){return Ge})),n.d(t,"children",(function(){return Ye})),n.d(t,"child",(function(){return Ze})),n.d(t,"SwapStrategies",(function(){return ot})),n.d(t,"CompositionEngine",(function(){return st})),n.d(t,"ElementConfigResource",(function(){return ut})),n.d(t,"resource",(function(){return ct})),n.d(t,"behavior",(function(){return lt})),n.d(t,"customElement",(function(){return ht})),n.d(t,"customAttribute",(function(){return dt})),n.d(t,"templateController",(function(){return pt})),n.d(t,"bindable",(function(){return ft})),n.d(t,"dynamicOptions",(function(){return vt})),n.d(t,"useShadowDOM",(function(){return gt})),n.d(t,"processAttributes",(function(){return wt})),n.d(t,"processContent",(function(){return bt})),n.d(t,"containerless",(function(){return Ct})),n.d(t,"useViewStrategy",(function(){return Ot})),n.d(t,"useView",(function(){return Vt})),n.d(t,"inlineView",(function(){return St})),n.d(t,"noView",(function(){return Mt})),n.d(t,"view",(function(){return At})),n.d(t,"elementConfig",(function(){return _t})),n.d(t,"viewResources",(function(){return Nt})),n.d(t,"TemplatingEngine",(function(){return jt}));var i,r,o,a,s,u,c,l,h,d,p,f,v,m,g,w,y,b,C,O,V=n("MP1E"),S=n("qrcG"),M=n("70NS"),A=n("ZdUM"),_=n("iD3O"),N=n("X5gX"),j=n("3U8n"),T=n("K/SW"),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"},x=function(){function e(){}return e.prototype.enter=function(e){return Promise.resolve(!1)},e.prototype.leave=function(e){return Promise.resolve(!1)},e.prototype.removeClass=function(e,t){return e.classList.remove(t),Promise.resolve(!1)},e.prototype.addClass=function(e,t){return e.classList.add(t),Promise.resolve(!1)},e.prototype.animate=function(e,t){return Promise.resolve(!1)},e.prototype.runSequence=function(e){},e.prototype.registerEffect=function(e,t){},e.prototype.unregisterEffect=function(e){},e}(),I=function(){function e(e){this.owner=e,this.owner._compositionCount++}return e.prototype.done=function(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()},e}(),F=function(){function e(e){this.owner=e,this.owner._ownershipToken=this,this.thenable=this._createThenable()}return e.prototype.waitForCompositionComplete=function(){return this.owner._tryCompleteTransaction(),this.thenable},e.prototype.resolve=function(){this._resolveCallback()},e.prototype._createThenable=function(){var e=this;return new Promise((function(t,n){e._resolveCallback=t}))},e}(),R=function(){function e(){this._ownershipToken=null,this._compositionCount=0}return e.prototype.tryCapture=function(){return null===this._ownershipToken?new F(this):null},e.prototype.enlist=function(){return new I(this)},e.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var e=this._ownershipToken;this._ownershipToken=null,e.resolve()}},e}(),k=/([A-Z])/g;function D(e){return"-"+e.toLowerCase()}function L(e){return(e.charAt(0).toLowerCase()+e.slice(1)).replace(k,D)}function H(e){return!(e.auInterpolationTarget||/[^\t\n\r ]/.test(e.textContent))}var z=function(){function e(){}return e.prototype.initialize=function(e,t){this.instance=e.get(t)},e.prototype.register=function(e,t){e.registerViewEngineHooks(this.instance)},e.prototype.load=function(e,t){},e.convention=function(t){if(t.endsWith("ViewEngineHooks"))return new e},e}();function U(e){var t=function(e){S.metadata.define(S.metadata.resource,new z,e)};return e?t(e):t}var q=(r=i=function(){function e(e){this.element=e,this.subscriptions={}}return e.prototype._enqueueHandler=function(e){this.subscriptions[e.eventName]=this.subscriptions[e.eventName]||[],this.subscriptions[e.eventName].push(e)},e.prototype._dequeueHandler=function(e){var t=void 0,n=this.subscriptions[e.eventName];return n&&(t=n.indexOf(e))>-1&&n.splice(t,1),e},e.prototype.publish=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=M.DOM.createCustomEvent(e,{cancelable:i,bubbles:n,detail:t});this.element.dispatchEvent(r)},e.prototype.subscribe=function(t,n,i){if("function"==typeof n)return void 0===i&&(i=e.defaultListenerOptions),new W(this,t,n,i,!1)},e.prototype.subscribeOnce=function(t,n,i){if("function"==typeof n)return void 0===i&&(i=e.defaultListenerOptions),new W(this,t,n,i,!0)},e.prototype.dispose=function(e){if(e&&"string"==typeof e){var t=this.subscriptions[e];if(t)for(;t.length;){var n=t.pop();n&&n.dispose()}}else this.disposeAll()},e.prototype.disposeAll=function(){for(var e in this.subscriptions)this.dispose(e)},e}(),i.defaultListenerOptions=!0,r),W=function(){function e(e,t,n,i,r){this.owner=e,this.eventName=t,this.handler=n,this.capture="boolean"==typeof i?i:i.capture,this.bubbles=!this.capture,this.captureOrOptions=i,this.once=r,e.element.addEventListener(t,this,i),e._enqueueHandler(this)}return e.prototype.handleEvent=function(e){(0,this.handler)(e),this.once&&this.dispose()},e.prototype.dispose=function(){this.owner.element.removeEventListener(this.eventName,this,this.captureOrOptions),this.owner._dequeueHandler(this),this.owner=this.handler=null},e}(),K=function(){function e(){this.dependencies={}}return e.prototype.addDependency=function(e){this.dependencies[e]=!0},e.prototype.hasDependency=function(e){return e in this.dependencies},e}(),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.targetShadowDOM=e,this.compileSurrogate=t,this.associatedModuleId=null};Q.normal=new Q;var X=function(){function e(){}return e.enhance=function(){var t=new e;return t.enhance=!0,t},e.unitTest=function(t,n){var i=new e;return i.type=t,i.attributes=n||{},i},e.element=function(t,n){var i=new e;return i.type=n,i.attributes={},i.anchorIsContainer=!(t.hasAttribute("containerless")||n.containerless),i.initiatedByBehavior=!0,i},e.attribute=function(t,n){var i=new e;return i.attrName=t,i.type=n||null,i.attributes={},i},e.dynamic=function(t,n,i){var r=new e;return r.host=t,r.viewModel=n,r.viewFactory=i,r.inheritBindingContext=!0,r},e}(),G=X.prototype;G.initiatedByBehavior=!1,G.enhance=!1,G.partReplacements=null,G.viewFactory=null,G.originalAttrName=null,G.skipContentProcessing=!1,G.contentFactory=null,G.viewModel=null,G.anchorIsContainer=!1,G.host=null,G.attributes=null,G.type=null,G.attrName=null,G.inheritBindingContext=!1,X.normal=new X;var $=(a=o=function(){function e(){}return e.shadowSlot=function(t){var n=new e;return n.parentInjectorId=t,n.shadowSlot=!0,n},e.contentExpression=function(t){var n=new e;return n.contentExpression=t,n},e.letElement=function(t){var n=new e;return n.expressions=t,n.letElement=!0,n},e.lifting=function(t,n){var i=new e;return i.parentInjectorId=t,i.expressions=e.noExpressions,i.behaviorInstructions=[n],i.viewFactory=n.viewFactory,i.providers=[n.type.target],i.lifting=!0,i},e.normal=function(t,n,i,r,o,a){var s=new e;return s.injectorId=t,s.parentInjectorId=n,s.providers=i,s.behaviorInstructions=r,s.expressions=o,s.anchorIsContainer=!a||a.anchorIsContainer,s.elementInstruction=a,s},e.surrogate=function(t,n,i,r){var o=new e;return o.expressions=i,o.behaviorInstructions=n,o.providers=t,o.values=r,o},e}(),o.noExpressions=Object.freeze([]),a),Y=$.prototype;Y.injectorId=null,Y.parentInjectorId=null,Y.shadowSlot=!1,Y.slotName=null,Y.slotFallbackFactory=null,Y.contentExpression=null,Y.letElement=!1,Y.expressions=null,Y.expressions=null,Y.providers=null,Y.viewFactory=null,Y.anchorIsContainer=!1,Y.elementInstruction=null,Y.lifting=!1,Y.values=null;var Z=S.protocol.create("aurelia:view-strategy",{validate:function(e){return"function"==typeof e.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"},compose:function(e){"function"!=typeof e.makeRelativeTo&&(e.makeRelativeTo=M.PLATFORM.noop)}}),J=Z()(s=function(){function e(e){this.path=e,this.absolutePath=null}return e.prototype.loadViewFactory=function(e,t,n,i){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=Object(_.d)(this.path,this.moduleId)),t.associatedModuleId=this.moduleId,e.loadViewFactory(this.absolutePath||this.path,t,n,i)},e.prototype.makeRelativeTo=function(e){null===this.absolutePath&&(this.absolutePath=Object(_.d)(this.path,e))},e}())||s,ee=Z()(u=function(){function e(e,t){this.moduleId=t.moduleId,this.viewUrl=e.convertOriginToViewUrl(t)}return e.prototype.loadViewFactory=function(e,t,n,i){return t.associatedModuleId=this.moduleId,e.loadViewFactory(this.viewUrl,t,n,i)},e}())||u,te=Z()(c=function(){function e(e,t){this.dependencies=e||null,this.dependencyBaseUrl=t||""}return e.prototype.loadViewFactory=function(e,t,n,i){var r=this.entry,o=this.dependencies;if(r&&r.factoryIsReady)return Promise.resolve(null);if(this.entry=r=new A.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),r.dependencies=[],r.templateIsLoaded=!0,null!==o)for(var a=0,s=o.length;a<s;++a){var u=o[a];"string"==typeof u||"function"==typeof u?r.addDependency(u):r.addDependency(u.from,u.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(r,t,n,i)},e}())||c,ne=Z()(l=function(){function e(e,t){this.moduleId=e,this.entry=t}return e.prototype.loadViewFactory=function(e,t,n,i){var r=this.entry;return r.factoryIsReady?Promise.resolve(r.factory):(t.associatedModuleId=this.moduleId,e.loadViewFactory(r,t,n,i))},e}())||l,ie=Z()(h=function(){function e(e,t,n){this.markup=e,this.dependencies=t||null,this.dependencyBaseUrl=n||""}return e.prototype.loadViewFactory=function(e,t,n,i){var r=this.entry,o=this.dependencies;if(r&&r.factoryIsReady)return Promise.resolve(r.factory);if(this.entry=r=new A.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),r.template=M.DOM.createTemplateFromMarkup(this.markup),null!==o)for(var a=0,s=o.length;a<s;++a){var u=o[a];"string"==typeof u||"function"==typeof u?r.addDependency(u):r.addDependency(u.from,u.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(r,t,n,i)},e}())||h,re=Z()(d=function(){function e(e){("string"==typeof e||e instanceof M.DOM.Element&&"TEMPLATE"===e.tagName)&&(e={template:e}),this.template=e.template,this.dependencies=e.dependencies||[],this.factoryIsReady=!1,this.onReady=null,this.moduleId="undefined"}return e.prototype.loadViewFactory=function(e,t,n,i){var r=this;if(this.factoryIsReady)return Promise.resolve(this.factory);var o=this.dependencies;return o=(o="function"==typeof o?o():o)||[],o=Array.isArray(o)?o:[o],Promise.all(o).then((function(n){var o=e.container,a=e.appResources,s=e.viewCompiler,u=new me(a),c=void 0,l=[];i&&u.autoRegister(o,i);var h=n,d=Array.isArray(h),p=0;for(h=d?h:h[Symbol.iterator]();;){var f;if(d){if(p>=h.length)break;f=h[p++]}else{if((p=h.next()).done)break;f=p.value}var v=f;if("function"==typeof v)null!==(c=u.autoRegister(o,v)).elementName&&l.push(c);else{if(!v||"object"!==(void 0===v?"undefined":E(v)))throw new Error('dependency neither function nor object. Received: "'+(void 0===v?"undefined":E(v))+'"');for(var m in v){var g=v[m];"function"==typeof g&&null!==(c=u.autoRegister(o,g)).elementName&&l.push(c)}}}return Promise.all(l.map((function(e){return e.load(o,e.target)}))).then((function(){var e=null!==r.template?s.compile(r.template,u,t):null;return r.factoryIsReady=!0,r.factory=e,e}))}))},e}())||d,oe=(f=p=function(){function e(){}return e.prototype.getViewStrategy=function(t){if(!t)return null;if("object"===(void 0===t?"undefined":E(t))&&"getViewStrategy"in t){var n=S.Origin.get(t.constructor);return"string"==typeof(t=t.getViewStrategy())&&(t=new J(t)),Z.assert(t),n.moduleId&&t.makeRelativeTo(n.moduleId),t}if("string"==typeof t&&(t=new J(t)),Z.validate(t))return t;if("function"!=typeof t&&(t=t.constructor),"$view"in t){var i=t.$view,r=void 0;return r=null===(i="function"==typeof i?i.call(t):i)?new te:i instanceof re?i:new re(i),S.metadata.define(e.viewStrategyMetadataKey,r,t),r}var o=S.Origin.get(t),a=S.metadata.get(e.viewStrategyMetadataKey,t);if(a)o.moduleId&&(a.moduleId=o.moduleId);else{if(!o.moduleId)throw new Error("Cannot determine default view strategy for object.",t);a=this.createFallbackViewStrategy(o)}return a},e.prototype.createFallbackViewStrategy=function(e){return new ee(this,e)},e.prototype.convertOriginToViewUrl=function(e){var t=e.moduleId;return(t.endsWith(".js")||t.endsWith(".ts")?t.substring(0,t.length-3):t)+".html"},e}(),p.viewStrategyMetadataKey="aurelia:view-strategy",f);function ae(e){throw new Error("BindingLanguage must implement "+e+"().")}var se=function(){function e(){}return e.prototype.inspectAttribute=function(e,t,n,i){ae("inspectAttribute")},e.prototype.createAttributeInstruction=function(e,t,n,i){ae("createAttributeInstruction")},e.prototype.createLetExpressions=function(e,t){ae("createLetExpressions")},e.prototype.inspectTextContent=function(e,t){ae("inspectTextContent")},e}(),ue=Object.freeze([]),ce=function(){function e(e){this.element=e,this.element.auSlotAttribute=this}return e.inject=function(){return[M.DOM.Element]},e.prototype.valueChanged=function(e,t){},e}(),le=function(){function e(e,t,n,i){this.anchor=e,this.anchor.viewSlot=this,this.name=t,this.destinationName=n,this.fallbackFactory=i,this.destinationSlot=null,this.projections=0,this.contentView=null,new ce(this.anchor).value=this.destinationName}return e.prototype.renderFallbackContent=function(e,t,n,i){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var r=Object.create(null);r[this.destinationSlot.name]=this.destinationSlot,de.distributeView(this.contentView,r,n,i,this.destinationSlot.name)}},e.prototype.passThroughTo=function(e){this.destinationSlot=e},e.prototype.addNode=function(t,n,i,r){null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),n.viewSlot instanceof e?n.viewSlot.passThroughTo(this):(this.projections++,this.destinationSlot.addNode(t,n,i,r))},e.prototype.removeView=function(e,t){this.projections--,this.destinationSlot.removeView(e,t),this.needsFallbackRendering&&this.renderFallbackContent(null,ue,t)},e.prototype.removeAll=function(e){this.projections=0,this.destinationSlot.removeAll(e),this.needsFallbackRendering&&this.renderFallbackContent(null,ue,e)},e.prototype.projectFrom=function(e,t){this.destinationSlot.projectFrom(e,t)},e.prototype.created=function(e){this.ownerView=e},e.prototype.bind=function(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)},e.prototype.attached=function(){this.contentView&&this.contentView.attached()},e.prototype.detached=function(){this.contentView&&this.contentView.detached()},e.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},B(e,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),e}(),he=function(){function e(e,t,n){this.anchor=e,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=t,this.fallbackFactory=n,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}return e.prototype.addNode=function(e,t,n,i,r){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),t.viewSlot instanceof le)t.viewSlot.passThroughTo(this);else if(null!==this.destinationSlots)de.distributeNodes(e,[t],this.destinationSlots,this,i);else{t.auOwnerView=e,t.auProjectionSource=n,t.auAssignedSlot=this;var o=this._findAnchor(e,t,n,i);o.parentNode.insertBefore(t,o),this.children.push(t),this.projections++}},e.prototype.removeView=function(e,t){if(null!==this.destinationSlots)de.undistributeView(e,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)de.undistributeView(e,this.contentView.slots,t);else{var n=this.children.find((function(e){return e.auSlotProjectFrom===t}));if(n){for(var i=n.auProjectionChildren,r=this.children,o=0,a=i.length;o<a;++o){var s=i[o];if(s.auOwnerView===e){i.splice(o,1),e.fragment.appendChild(s),o--,a--,this.projections--;var u=r.indexOf(s);u>-1&&r.splice(u,1)}}this.needsFallbackRendering&&this.renderFallbackContent(e,ue,t)}}},e.prototype.removeAll=function(e){if(null!==this.destinationSlots)de.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)de.undistributeAll(this.contentView.slots,e);else{var t=this.children.find((function(t){return t.auSlotProjectFrom===e}));if(t){for(var n=t.auProjectionChildren,i=this.children,r=0,o=n.length;r<o;++r){var a=n[r];a.auOwnerView.fragment.appendChild(a),this.projections--;var s=i.indexOf(a);s>-1&&i.splice(s,1)}t.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,ue,e)}}},e.prototype._findAnchor=function(e,t,n,i){if(n){var r=this.children.find((function(e){return e.auSlotProjectFrom===n}));if(r){if(void 0!==i)for(var o=r.auProjectionChildren,a=-1,s=void 0,u=0,c=o.length;u<c;++u){var l=o[u];if(l.auOwnerView!==s&&(a++,s=l.auOwnerView,a>=i&&s!==e))return o.splice(u,0,t),l}return r.auProjectionChildren.push(t),r}}return this.anchor},e.prototype.projectTo=function(e){this.destinationSlots=e},e.prototype.projectFrom=function(e,t){var n=M.DOM.createComment("anchor"),i=this.anchor.parentNode;n.auSlotProjectFrom=t,n.auOwnerView=e,n.auProjectionChildren=[],i.insertBefore(n,this.anchor),this.children.push(n),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(n)},e.prototype.renderFallbackContent=function(e,t,n,i){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){var r=this.contentView.slots,o=this.projectFromAnchors;if(null!==o)for(var a in r)for(var s=r[a],u=0,c=o.length;u<c;++u){var l=o[u];s.projectFrom(l.auOwnerView,l.auSlotProjectFrom)}this.fallbackSlots=r,de.distributeNodes(e,t,r,n,i)}},e.prototype.created=function(e){this.ownerView=e},e.prototype.bind=function(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)},e.prototype.attached=function(){this.contentView&&this.contentView.attached()},e.prototype.detached=function(){this.contentView&&this.contentView.detached()},e.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},B(e,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),e}(),de=(m=v=function(){function e(){}return e.getSlotName=function(t){return void 0===t.auSlotAttribute?e.defaultSlotKey:t.auSlotAttribute.value},e.distributeView=function(t,n,i,r,o){var a=void 0;if(null===t)a=ue;else{var s=t.fragment.childNodes,u=s.length;a=new Array(u);for(var c=0;c<u;++c)a[c]=s[c]}e.distributeNodes(t,a,n,i,r,o)},e.undistributeView=function(e,t,n){for(var i in t)t[i].removeView(e,n)},e.undistributeAll=function(e,t){for(var n in e)e[n].removeAll(t)},e.distributeNodes=function(t,n,i,r,o,a){for(var s=0,u=n.length;s<u;++s){var c=n[s],l=c.nodeType;if(c.isContentProjectionSource){for(var h in c.viewSlot.projectTo(i),i)i[h].projectFrom(t,c.viewSlot);n.splice(s,1),u--,s--}else if(1===l||3===l||c.viewSlot instanceof le)if(3===l&&H(c))n.splice(s,1),u--,s--;else{var d=i[a||e.getSlotName(c)];d&&(d.addNode(t,c,r,o),n.splice(s,1),u--,s--)}else n.splice(s,1),u--,s--}for(var p in i){var f=i[p];f.needsFallbackRendering&&f.renderFallbackContent(t,n,r,o)}},e}(),v.defaultSlotKey="__au-default-slot-key__",m);function pe(e,t,n,i){if(t){var r=e[t];if(r){if(r!==n)throw new Error("Attempted to register "+i+" when one with the same name already exists. Name: "+t+".")}else e[t]=n}}function fe(e,t){if(/[A-Z]/.test(e)){var n=L(e);return V.getLogger("templating").warn("'"+e+"' is not a valid "+t+" name and has been converted to '"+n+"'. Upper-case letters are not allowed because the DOM is not case-sensitive."),n}return e}var ve="__au_resource__",me=function(){function e(e,t){this.bindingLanguage=null,this.parent=e||null,this.hasParent=null!==this.parent,this.viewUrl=t||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return e.convention=function(e,t){var n=void 0;if(t&&ve in t)return t;if("$resource"in e){var i=e.$resource;if("string"==typeof i)(n=t||new Ge).__au_resource__=!0,n.elementName||(n.elementName=fe(i,"custom element"));else{"function"==typeof i&&(i=i.call(e)),"string"==typeof i&&(i={name:i});var r=(i=Object.assign({},i)).type||"element",o=i.name;switch(r){case"element":case"attribute":(n=t||new Ge).__au_resource__=!0,"element"===r?n.elementName||(n.elementName=o?fe(o,"custom element"):L(e.name)):n.attributeName||(n.attributeName=o?fe(o,"custom attribute"):L(e.name)),"templateController"in i&&(i.liftsContent=i.templateController,delete i.templateController),"defaultBindingMode"in i&&void 0!==n.attributeDefaultBindingMode&&(i.attributeDefaultBindingMode=i.defaultBindingMode,delete i.defaultBindingMode),delete i.name,Object.assign(n,i);break;case"valueConverter":n=new N.ValueConverterResource(Object(N.camelCase)(o||e.name));break;case"bindingBehavior":n=new N.BindingBehaviorResource(Object(N.camelCase)(o||e.name));break;case"viewEngineHooks":n=new z}}if(n instanceof Ge){var a="string"==typeof i?void 0:i.bindables,s=n.properties;if(Array.isArray(a))for(var u=0,c=a.length;c>u;++u){var l=a[u];if(!l||"string"!=typeof l&&!l.name)throw new Error('Invalid bindable property at "'+u+'" for class "'+e.name+'". Expected either a string or an object with "name" property.');for(var h=new We(l),d=!1,p=0,f=s.length;f>p;++p)if(s[p].name===h.name){d=!0;break}d||h.registerWith(e,n)}}}return n},e.prototype._tryAddHook=function(e,t){if("function"==typeof e[t]){for(var n=e[t].bind(e),i=1,r=void 0;void 0!==this[r=t+i.toString()];)i++;this[t]=!0,this[r]=n}},e.prototype._invokeHook=function(e,t,n,i,r){if(this.hasParent&&this.parent._invokeHook(e,t,n,i,r),this[e]){this[e+"1"](t,n,i,r);var o=e+"2";if(this[o]&&(this[o](t,n,i,r),this[o=e+"3"])){this[o](t,n,i,r);for(var a=4;void 0!==this[o=e+a.toString()];)this[o](t,n,i,r),a++}}},e.prototype.registerViewEngineHooks=function(e){this._tryAddHook(e,"beforeCompile"),this._tryAddHook(e,"afterCompile"),this._tryAddHook(e,"beforeCreate"),this._tryAddHook(e,"afterCreate"),this._tryAddHook(e,"beforeBind"),this._tryAddHook(e,"beforeUnbind")},e.prototype.getBindingLanguage=function(e){return this.bindingLanguage||(this.bindingLanguage=e)},e.prototype.patchInParent=function(e){var t=this.parent;this.parent=e||null,this.hasParent=null!==this.parent,null===e.parent&&(e.parent=t,e.hasParent=null!==t)},e.prototype.relativeToView=function(e){return Object(_.d)(e,this.viewUrl)},e.prototype.registerElement=function(e,t){pe(this.elements,e,t,"an Element")},e.prototype.getElement=function(e){return this.elements[e]||(this.hasParent?this.parent.getElement(e):null)},e.prototype.mapAttribute=function(e){return this.attributeMap[e]||(this.hasParent?this.parent.mapAttribute(e):null)},e.prototype.registerAttribute=function(e,t,n){this.attributeMap[e]=n,pe(this.attributes,e,t,"an Attribute")},e.prototype.getAttribute=function(e){return this.attributes[e]||(this.hasParent?this.parent.getAttribute(e):null)},e.prototype.registerValueConverter=function(e,t){pe(this.valueConverters,e,t,"a ValueConverter")},e.prototype.getValueConverter=function(e){return this.valueConverters[e]||(this.hasParent?this.parent.getValueConverter(e):null)},e.prototype.registerBindingBehavior=function(e,t){pe(this.bindingBehaviors,e,t,"a BindingBehavior")},e.prototype.getBindingBehavior=function(e){return this.bindingBehaviors[e]||(this.hasParent?this.parent.getBindingBehavior(e):null)},e.prototype.registerValue=function(e,t){pe(this.values,e,t,"a value")},e.prototype.getValue=function(e){return this.values[e]||(this.hasParent?this.parent.getValue(e):null)},e.prototype.autoRegister=function(t,n){var i=S.metadata.getOwn(S.metadata.resource,n);return i?i instanceof Ge&&(e.convention(n,i),null===i.attributeName&&null===i.elementName&&Ge.convention(n.name,i),null===i.attributeName&&null===i.elementName&&(i.elementName=L(n.name))):((i=e.convention(n)||Ge.convention(n.name)||N.ValueConverterResource.convention(n.name)||N.BindingBehaviorResource.convention(n.name)||z.convention(n.name))||((i=new Ge).elementName=L(n.name)),S.metadata.define(S.metadata.resource,i,n)),i.initialize(t,n),i.register(this),i},e}(),ge=function(){function e(e,t,n,i,r,o,a){for(var s in this.container=e,this.viewFactory=t,this.resources=t.resources,this.fragment=n,this.firstChild=n.firstChild,this.lastChild=n.lastChild,this.controllers=i,this.bindings=r,this.children=o,this.slots=a,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null,a){this.hasSlots=!0;break}}return e.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},e.prototype.created=function(){var e,t=void 0,n=this.controllers;for(t=0,e=n.length;t<e;++t)n[t].created(this)},e.prototype.bind=function(e,t,n){var i=void 0,r=void 0,o=void 0,a=void 0,s=void 0;if(!n||!this._isUserControlled){if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e,this.overrideContext=t||Object(N.createOverrideContext)(e),this.resources._invokeHook("beforeBind",this),a=0,s=(r=this.bindings).length;a<s;++a)r[a].bind(this);for(null!==this.viewModelScope&&(e.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),a=0,s=(i=this.controllers).length;a<s;++a)i[a].bind(this);for(a=0,s=(o=this.children).length;a<s;++a)o[a].bind(e,t,!0);this.hasSlots&&de.distributeView(this.contentView,this.slots)}},e.prototype.addBinding=function(e){this.bindings.push(e),this.isBound&&e.bind(this)},e.prototype.unbind=function(){var e=void 0,t=void 0,n=void 0,i=void 0,r=void 0;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),i=0,r=(t=this.bindings).length;i<r;++i)t[i].unbind();for(i=0,r=(e=this.controllers).length;i<r;++i)e[i].unbind();for(i=0,r=(n=this.children).length;i<r;++i)n[i].unbind();this.bindingContext=null,this.overrideContext=null}},e.prototype.insertNodesBefore=function(e){e.parentNode.insertBefore(this.fragment,e)},e.prototype.appendNodesTo=function(e){e.appendChild(this.fragment)},e.prototype.removeNodes=function(){for(var e=this.fragment,t=this.firstChild,n=this.lastChild,i=void 0;t&&(i=t.nextSibling,e.appendChild(t),t!==n);)t=i},e.prototype.attached=function(){var e=void 0,t=void 0,n=void 0,i=void 0;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),n=0,i=(e=this.controllers).length;n<i;++n)e[n].attached();for(n=0,i=(t=this.children).length;n<i;++n)t[n].attached()}},e.prototype.detached=function(){var e=void 0,t=void 0,n=void 0,i=void 0;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),n=0,i=(e=this.controllers).length;n<i;++n)e[n].detached();for(n=0,i=(t=this.children).length;n<i;++n)t[n].detached()}},e}();function we(e){if(void 0!==e.animatableElement)return e.animatableElement;for(var t=e.firstChild;t&&1!==t.nodeType;)t=t.nextSibling;return t&&1===t.nodeType?e.animatableElement=t.classList.contains("au-animate")?t:null:e.animatableElement=null}var ye=function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.instance;this.anchor=e,this.anchorIsContainer=t,this.bindingContext=null,this.overrideContext=null,this.animator=n,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,e.viewSlot=this,e.isContentProjectionSource=!1}return e.prototype.animateView=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"enter",n=we(e);if(null!==n)switch(t){case"enter":return this.animator.enter(n);case"leave":return this.animator.leave(n);default:throw new Error("Invalid animation direction: "+t)}},e.prototype.transformChildNodesIntoView=function(){var e=this.anchor;this.children.push({fragment:e,firstChild:e.firstChild,lastChild:e.lastChild,returnToCache:function(){},removeNodes:function(){for(var t=void 0;t=e.lastChild;)e.removeChild(t)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},e.prototype.bind=function(e,t){var n,i=void 0,r=void 0;if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e=e||this.bindingContext,this.overrideContext=t=t||this.overrideContext,i=0,n=(r=this.children).length;i<n;++i)r[i].bind(e,t,!0)},e.prototype.unbind=function(){if(this.isBound){var e,t=void 0,n=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,t=0,e=n.length;t<e;++t)n[t].unbind()}},e.prototype.add=function(e){if(this.anchorIsContainer?e.appendNodesTo(this.anchor):e.insertNodesBefore(this.anchor),this.children.push(e),this.isAttached)return e.attached(),this.animateView(e,"enter")},e.prototype.insert=function(e,t){var n=this.children,i=n.length;return 0===e&&0===i||e>=i?this.add(t):(t.insertNodesBefore(n[e].firstChild),n.splice(e,0,t),this.isAttached?(t.attached(),this.animateView(t,"enter")):void 0)},e.prototype.move=function(e,t){if(e!==t){var n=this.children,i=n[e];i.removeNodes(),i.insertNodesBefore(n[t].firstChild),n.splice(e,1),n.splice(t,0,i)}},e.prototype.remove=function(e,t,n){return this.removeAt(this.children.indexOf(e),t,n)},e.prototype.removeMany=function(e,t,n){var i=this,r=this.children,o=e.length,a=void 0,s=[];e.forEach((function(e){if(n)e.removeNodes();else{var t=i.animateView(e,"leave");t?s.push(t.then((function(){return e.removeNodes()}))):e.removeNodes()}}));var u=function(){if(i.isAttached)for(a=0;a<o;++a)e[a].detached();if(t)for(a=0;a<o;++a)e[a].returnToCache();for(a=0;a<o;++a){var n=r.indexOf(e[a]);n>=0&&r.splice(n,1)}};return s.length>0?Promise.all(s).then((function(){return u()})):u()},e.prototype.removeAt=function(e,t,n){var i=this,r=this.children[e],o=function(){return e=i.children.indexOf(r),r.removeNodes(),i.children.splice(e,1),i.isAttached&&r.detached(),t&&r.returnToCache(),r};if(!n){var a=this.animateView(r,"leave");if(a)return a.then((function(){return o()}))}return o()},e.prototype.removeAll=function(e,t){var n=this,i=this.children,r=i.length,o=void 0,a=[];i.forEach((function(e){if(t)e.removeNodes();else{var i=n.animateView(e,"leave");i?a.push(i.then((function(){return e.removeNodes()}))):e.removeNodes()}}));var s=function(){if(n.isAttached)for(o=0;o<r;++o)i[o].detached();if(e)for(o=0;o<r;++o){var t=i[o];t&&t.returnToCache()}n.children=[]};return a.length>0?Promise.all(a).then((function(){return s()})):s()},e.prototype.attached=function(){var e,t,n=void 0,i=void 0;if(!this.isAttached)for(this.isAttached=!0,n=0,e=(t=this.children).length;n<e;++n)(i=t[n]).attached(),this.animateView(i,"enter")},e.prototype.detached=function(){var e=void 0,t=void 0,n=void 0;if(this.isAttached)for(this.isAttached=!1,e=0,t=(n=this.children).length;e<t;++e)n[e].detached()},e.prototype.projectTo=function(e){var t=this;this.projectToSlots=e,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach((function(n){return de.distributeView(n,e,t)}))},e.prototype._projectionAdd=function(e){de.distributeView(e,this.projectToSlots,this),this.children.push(e),this.isAttached&&e.attached()},e.prototype._projectionInsert=function(e,t){0===e&&!this.children.length||e>=this.children.length?this.add(t):(de.distributeView(t,this.projectToSlots,this,e),this.children.splice(e,0,t),this.isAttached&&t.attached())},e.prototype._projectionMove=function(e,t){if(e!==t){var n=this.children,i=n[e];de.undistributeView(i,this.projectToSlots,this),de.distributeView(i,this.projectToSlots,this,t),n.splice(e,1),n.splice(t,0,i)}},e.prototype._projectionRemove=function(e,t){de.undistributeView(e,this.projectToSlots,this),this.children.splice(this.children.indexOf(e),1),this.isAttached&&e.detached(),t&&e.returnToCache()},e.prototype._projectionRemoveAt=function(e,t){var n=this.children[e];de.undistributeView(n,this.projectToSlots,this),this.children.splice(e,1),this.isAttached&&n.detached(),t&&n.returnToCache()},e.prototype._projectionRemoveMany=function(e,t){var n=this;e.forEach((function(e){return n.remove(e,t)}))},e.prototype._projectionRemoveAll=function(e){de.undistributeAll(this.projectToSlots,this);for(var t=this.children,n=t.length,i=0;i<n;++i)e?t[i].returnToCache():this.isAttached&&t[i].detached();this.children=[]},e}(),be=new(Object(j.resolver)(g=function(){function e(){}return e.prototype.get=function(e,t){var n=t.__providerId__;return n in e?e[n]:e[n]=e.invoke(t)},e}())||g);function Ce(e){if(e===M.DOM.Element)return this.element;if(e===Ne){if(this.boundViewFactory)return this.boundViewFactory;var t=this.instruction.viewFactory,n=this.partReplacements;return n&&(t=n[t.part]||t),this.boundViewFactory=new Ne(this,t,n),this.boundViewFactory}return e===ye?(void 0===this.viewSlot&&(this.viewSlot=new ye(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):e===q?this.elementEvents||(this.elementEvents=new q(this.element)):e===R?this.compositionTransaction||(this.compositionTransaction=this.parent.get(e)):e===me?this.viewResources:e===$?this.instruction:this.superGet(e)}function Oe(e){return this._element.hasAttribute(e)}function Ve(e){return this._element.getAttribute(e)}function Se(e,t){this._element.setAttribute(e,t)}function Me(e,t,n,i,r,o,a,s,u){var c=n.behaviorInstructions,l=n.expressions,h=void 0,d=void 0,p=void 0,f=void 0,v=void 0;if(n.contentExpression)return r.push(n.contentExpression.createBinding(t.nextSibling)),t.nextSibling.auInterpolationTarget=!0,void t.parentNode.removeChild(t);if(n.shadowSlot){var m=M.DOM.createComment("slot"),g=void 0;return g=n.slotDestination?new le(m,n.slotName,n.slotDestination,n.slotFallbackFactory):new he(m,n.slotName,n.slotFallbackFactory),M.DOM.replaceNode(m,t),a[n.slotName]=g,void i.push(g)}if(n.letElement){for(d=0,p=l.length;d<p;++d)r.push(l[d].createBinding());t.parentNode.removeChild(t)}else{if(c.length)for(n.anchorIsContainer||(t=function(e,t){var n=M.DOM.createComment("anchor");if(t){var i=e.firstChild;i&&"AU-CONTENT"===i.tagName&&(n.contentElement=i),n._element=e,n.hasAttribute=Oe,n.getAttribute=Ve,n.setAttribute=Se}return M.DOM.replaceNode(n,e),n}(t,n.elementInstruction)),e[n.injectorId]=h=function(e,t,n,i,r,o){var a,s=e.createChild(),u=void 0;for(s.element=t,s.instruction=n,s.children=i,s.viewResources=o,s.partReplacements=r,u=(a=n.providers).length;u--;)s._resolvers.set(a[u],be);return s.superGet=s.get,s.get=Ce,s}(e[n.parentInjectorId],t,n,o,s,u),d=0,p=c.length;d<p;++d)v=(f=c[d]).type.create(h,f,t,r),i.push(v);for(d=0,p=l.length;d<p;++d)r.push(l[d].createBinding(t))}}function Ae(e,t){var n=e.split(";"),i=void 0,r=void 0,o=void 0,a=void 0,s=void 0;for(t=t||{},r=0;r<n.length;r++)i=(o=n[r]).indexOf(":"),a=o.substring(0,i).trim(),s=o.substring(i+1).trim(),t[a]=s;return t}function _e(e){var t="";for(var n in e)t+=n+":"+e[n]+";";return t}var Ne=function(){function e(e,t,n){this.parentContainer=e,this.viewFactory=t,this.factoryCreateInstruction={partReplacements:n}}return e.prototype.create=function(){var e=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return e._isUserControlled=!0,e},e.prototype.setCacheSize=function(e,t){this.viewFactory.setCacheSize(e,t)},e.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},e.prototype.returnViewToCache=function(e){this.viewFactory.returnViewToCache(e)},B(e,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),e}(),je=function(){function e(e,t,n){this.isCaching=!1,this.template=e,this.instructions=t,this.resources=n,this.cacheSize=-1,this.cache=null}return e.prototype.setCacheSize=function(e,t){e&&("*"===e?e=Number.MAX_VALUE:"string"==typeof e&&(e=parseInt(e,10))),-1!==this.cacheSize&&t||(this.cacheSize=e),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0},e.prototype.getCachedView=function(){return null!==this.cache&&this.cache.pop()||null},e.prototype.returnViewToCache=function(e){e.isAttached&&e.detached(),e.isBound&&e.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(e.fromCache=!0,this.cache.push(e))},e.prototype.create=function(e,t,n){t=t||X.normal;var i=this.getCachedView();if(null!==i)return i;var r,o=t.enhance?this.template:this.template.cloneNode(!0),a=o.querySelectorAll(".au-target"),s=this.instructions,u=this.resources,c=[],l=[],h=[],d=Object.create(null),p={root:e},f=t.partReplacements,v=void 0,m=void 0,g=void 0,w=void 0;for(this.resources._invokeHook("beforeCreate",this,e,o,t),n&&null!==this.surrogateInstruction&&function(e,t,n,i,r,o){var a=n.behaviorInstructions,s=n.expressions,u=n.providers,c=n.values,l=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(l=u.length;l--;)e._resolvers.set(u[l],be);for(var v in c)if(f=t.getAttribute(v)){if("class"===v)t.setAttribute("class",f+" "+c[v]);else if("style"===v){var m=Ae(c[v]);Ae(f,m),t.setAttribute("style",_e(m))}}else t.setAttribute(v,c[v]);if(a.length)for(l=0,h=a.length;l<h;++l)(p=(d=a[l]).type.create(e,d,t,r)).contentView&&o.push(p.contentView),i.push(p);for(l=0,h=s.length;l<h;++l)r.push(s[l].createBinding(t))}(e,n,this.surrogateInstruction,c,l,h),t.enhance&&o.hasAttribute("au-target-id")&&(w=s[(g=o).getAttribute("au-target-id")],Me(p,g,w,c,l,h,d,f,u)),v=0,r=a.length;v<r;++v)w=s[(g=a[v]).getAttribute("au-target-id")],Me(p,g,w,c,l,h,d,f,u);return m=new ge(e,this,o,c,l,h,d),t.initiatedByBehavior||m.created(),this.resources._invokeHook("afterCreate",m),m},e}(),Te=0;var Be=0;function Ee(e){var t=e.getAttribute("class"),n=(++Be).toString();return e.setAttribute("class",t?t+" au-target":"au-target"),e.setAttribute("au-target-id",n),n}var Pe=se.prototype.createLetExpressions,xe=function(){function e(e,t){this.bindingLanguage=e,this.resources=t}return e.inject=function(){return[se,me]},e.prototype.compile=function(e,t,n){t=t||this.resources,n=n||Q.normal;var i=void 0,r=void 0,o=void 0;(e="string"==typeof e?M.DOM.createTemplateFromMarkup(e):e).content?(r=e.getAttribute("part"),o=e.getAttribute("view-cache"),i=M.DOM.adoptNode(e.content)):i=e,n.targetShadowDOM=n.targetShadowDOM&&M.FEATURE.shadowDOM,t._invokeHook("beforeCompile",i,t,n);var a={};this._compileNode(i,t,a,e,"root",!n.targetShadowDOM);var s=i.firstChild;if(s&&1===s.nodeType){var u=s.getAttribute("au-target-id");if(u){var c=a[u];(c.shadowSlot||c.lifting||c.elementInstruction&&!c.elementInstruction.anchorIsContainer)&&i.insertBefore(M.DOM.createComment("view"),s)}}var l=new je(i,a,t);return l.surrogateInstruction=n.compileSurrogate?this._compileSurrogate(e,t):null,l.part=r,o&&l.setCacheSize(o),t._invokeHook("afterCompile",l),l},e.prototype._compileNode=function(e,t,n,i,r,o){switch(e.nodeType){case 1:return this._compileElement(e,t,n,i,r,o);case 3:var a=t.getBindingLanguage(this.bindingLanguage).inspectTextContent(t,e.wholeText);if(a){var s=M.DOM.createElement("au-marker"),u=Ee(s);for((e.parentNode||i).insertBefore(s,e),e.textContent=" ",n[u]=$.contentExpression(a);e.nextSibling&&3===e.nextSibling.nodeType;)(e.parentNode||i).removeChild(e.nextSibling)}else for(;e.nextSibling&&3===e.nextSibling.nodeType;)e=e.nextSibling;return e.nextSibling;case 11:for(var c=e.firstChild;c;)c=this._compileNode(c,t,n,e,r,o)}return e.nextSibling},e.prototype._compileSurrogate=function(e,t){var n=e.tagName.toLowerCase(),i=e.attributes,r=t.getBindingLanguage(this.bindingLanguage),o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,d=void 0,p=void 0,f=void 0,v=[],m=void 0,g=[],w={},y=!1,b=[];for(u=0,c=i.length;u<c;++u){if(h=(l=i[u]).name,d=l.value,p=r.inspectAttribute(t,n,h,d),(f=t.getAttribute(p.attrName))&&(o=t.mapAttribute(p.attrName))&&(a=f.attributes[o])&&(p.defaultBindingMode=a.defaultBindingMode,p.command||p.expression||(p.command=a.hasOptions?"options":null),p.command&&"options"!==p.command&&f.primaryProperty)){var C=f.primaryProperty;h=p.attrName=C.attribute,p.defaultBindingMode=C.defaultBindingMode}if(s=r.createAttributeInstruction(t,e,p,void 0,f))if(s.alteredAttr&&(f=t.getAttribute(s.attrName)),s.discrete)v.push(s);else if(f){if(s.type=f,this._configureProperties(s,t),f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");g.push(s)}else v.push(s.attributes[s.attrName]);else if(f){if((s=X.attribute(h,f)).attributes[t.mapAttribute(h)]=d,f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");g.push(s)}else"id"!==h&&"part"!==h&&"replace-part"!==h&&(y=!0,w[h]=d)}if(v.length||g.length||y){for(u=0,c=g.length;u<c;++u)(s=g[u]).type.compile(this,t,e,s),b.push(s.type.target);for(u=0,c=v.length;u<c;++u)void 0!==(m=v[u]).attrToRemove&&e.removeAttribute(m.attrToRemove);return $.surrogate(b,g,v,w)}return null},e.prototype._compileElement=function(e,t,n,i,r,o){var a=e.tagName.toLowerCase(),s=e.attributes,u=[],c=void 0,l=[],h=[],d=t.getBindingLanguage(this.bindingLanguage),p=void 0,f=void 0,v=void 0,m=void 0,g=void 0,w=void 0,y=void 0,b=void 0,C=void 0,O=void 0,V=void 0,S=void 0,A=void 0,_=void 0,N=void 0,j=void 0;if("slot"===a)return o&&(e=function(e,t,n,i,r){var o=M.DOM.createElement("au-shadow-slot");M.DOM.replaceNode(o,n);var a=Ee(o),s=$.shadowSlot(r);if(s.slotName=n.getAttribute("name")||de.defaultSlotKey,s.slotDestination=n.getAttribute("slot"),n.innerHTML.trim()){for(var u=M.DOM.createDocumentFragment(),c=void 0;c=n.firstChild;)u.appendChild(c);s.slotFallbackFactory=e.compile(u,t)}return i[a]=s,o}(this,t,e,n,r)),e.nextSibling;if("template"===a){if(!("content"in e))throw new Error("You cannot place a template element within "+e.namespaceURI+" namespace");(f=this.compile(e,t)).part=e.getAttribute("part")}else{if(v=t.getElement(e.getAttribute("as-element")||a),"let"===a&&!v&&d.createLetExpressions!==Pe)return u=d.createLetExpressions(t,e),n[Ee(e)]=$.letElement(u),e.nextSibling;v&&(m=X.element(e,v),v.processAttributes(this,t,e,s,m),l.push(m))}for(w=0,y=s.length;w<y;++w){if(V=C=(b=s[w]).name,O=b.value,A=d.inspectAttribute(t,a,C,O),o&&"slot"===A.attrName&&(A.attrName=C="au-slot"),g=null,v=t.getAttribute(A.attrName)){if((N=t.mapAttribute(A.attrName))&&(_=v.attributes[N])&&(A.defaultBindingMode=_.defaultBindingMode,A.command||A.expression||(A.command=_.hasOptions?"options":null),A.command&&"options"!==A.command&&v.primaryProperty)){var T=v.primaryProperty;C=A.attrName=T.attribute,A.defaultBindingMode=T.defaultBindingMode}}else m&&(g=m.type.attributes[A.attrName])&&(A.defaultBindingMode=g.defaultBindingMode);if(S=g?d.createAttributeInstruction(t,e,A,m):d.createAttributeInstruction(t,e,A,void 0,v))if(S.alteredAttr&&(v=t.getAttribute(S.attrName)),S.discrete)u.push(S);else if(v){if(S.type=v,this._configureProperties(S,t),v.liftsContent){S.originalAttrName=V,p=S;break}l.push(S)}else g?m.attributes[A.attrName].targetProperty=g.name:u.push(S.attributes[S.attrName]);else if(v){if((S=X.attribute(C,v)).attributes[t.mapAttribute(C)]=O,v.liftsContent){S.originalAttrName=V,p=S;break}l.push(S)}else g&&(m.attributes[C]=O)}if(p)p.viewFactory=f,n[Ee(e=p.type.compile(this,t,e,p,i))]=$.lifting(r,p);else{var B=!1;if(u.length||l.length){for(j=!!l.length&&++Te,w=0,y=l.length;w<y;++w)(S=l[w]).type.compile(this,t,e,S,i),h.push(S.type.target),B=B||S.skipContentProcessing;for(w=0,y=u.length;w<y;++w)void 0!==(c=u[w]).attrToRemove&&e.removeAttribute(c.attrToRemove);n[Ee(e)]=$.normal(j,r,h,l,u,m)}if(B)return e.nextSibling;for(var E=e.firstChild;E;)E=this._compileNode(E,t,n,e,j||r,o)}return e.nextSibling},e.prototype._configureProperties=function(e,t){var n=e.type,i=e.attrName,r=e.attributes,o=void 0,a=void 0,s=void 0,u=t.mapAttribute(i);for(a in u&&i in r&&u!==i&&(r[u]=r[i],delete r[i]),r)null!==(s=r[a])&&"object"===(void 0===s?"undefined":E(s))&&(o=n.attributes[a],s.targetProperty=void 0!==o?o.name:a)},e}(),Ie=function(){function e(e){this.id=e,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}return e.prototype.initialize=function(e){var t=this.mainResource,n=this.resources,i=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==t&&(t.metadata.viewStrategy=i,t.initialize(e));for(var r=0,o=n.length;r<o;++r)(t=n[r]).metadata.viewStrategy=i,t.initialize(e)}},e.prototype.register=function(e,t){var n=this.mainResource,i=this.resources;void 0!==n&&(n.register(e,t),t=null);for(var r=0,o=i.length;r<o;++r)i[r].register(e,t),t=null},e.prototype.load=function(e,t){if(null!==this.onLoaded)return this.loadContext===t?Promise.resolve():this.onLoaded;var n=this.mainResource,i=this.resources,r=void 0;if(void 0!==n){(r=new Array(i.length+1))[0]=n.load(e,t);for(var o=0,a=i.length;o<a;++o)r[o+1]=i[o].load(e,t)}else{r=new Array(i.length);for(var s=0,u=i.length;s<u;++s)r[s]=i[s].load(e,t)}return this.loadContext=t,this.onLoaded=Promise.all(r),this.onLoaded},e}(),Fe=function(){function e(e,t,n){n||(n=S.metadata.get(S.metadata.resource,t))||((n=new Ge).elementName=L(e),S.metadata.define(S.metadata.resource,n,t)),n instanceof Ge?void 0===n.elementName?n.elementName=L(e):void 0===n.attributeName?n.attributeName=L(e):null===n.attributeName&&null===n.elementName&&Ge.convention(e,n):n.name||(n.name=L(e)),this.metadata=n,this.value=t}return e.prototype.initialize=function(e){this.metadata.initialize(e,this.value)},e.prototype.register=function(e,t){this.metadata.register(e,t)},e.prototype.load=function(e,t){return this.metadata.load(e,this.value,t)},e}(),Re=function(){function e(){this.cache=Object.create(null)}return e.prototype.getAnalysis=function(e){return this.cache[e]},e.prototype.analyze=function(e,t,n){var i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=[],l=void 0,h=void 0,d=void 0;if(d=this.cache[e])return d;for(s in d=new Ie(e),this.cache[e]=d,"function"==typeof t&&(t={default:t}),n&&(i=new Fe(n,t[n])),t)u=t[s],s!==n&&"function"==typeof u&&((a=S.metadata.get(S.metadata.resource,u))?(a instanceof Ge&&(me.convention(u,a),null===a.attributeName&&null===a.elementName&&Ge.convention(s,a),null===a.attributeName&&null===a.elementName&&(a.elementName=L(s))),!i&&a instanceof Ge&&null!==a.elementName?i=new Fe(s,u,a):c.push(new Fe(s,u,a))):Z.decorates(u)?h=u:u instanceof A.TemplateRegistryEntry?h=new ne(e,u):(l=me.convention(u))||(l=Ge.convention(s))?(null===l.elementName||i?c.push(new Fe(s,u,l)):i=new Fe(s,u,l),S.metadata.define(S.metadata.resource,l,u)):(l=N.ValueConverterResource.convention(s)||N.BindingBehaviorResource.convention(s)||z.convention(s))?(c.push(new Fe(s,u,l)),S.metadata.define(S.metadata.resource,l,u)):r||(r=u,o=s));return!i&&r&&(i=new Fe(o,r)),d.moduleInstance=t,d.mainResource=i,d.resources=c,d.viewStrategy=h,d},e}(),ke=V.getLogger("templating");var De=function(){function e(e){var t=this;e.then((function(e){return t.viewFactory=e}))}return e.prototype.create=function(e,t,n,i){return this.viewFactory.create(e,t,n,i)},e.prototype.setCacheSize=function(e,t){this.viewFactory.setCacheSize(e,t)},e.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},e.prototype.returnViewToCache=function(e){this.viewFactory.returnViewToCache(e)},B(e,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),e}(),Le=null,He=(y=w=function(){function e(e,t,n,i,r){this.loader=e,this.container=t,this.viewCompiler=n,this.moduleAnalyzer=i,this.appResources=r,this._pluginMap={},null===Le&&((Le=new Ge).attributeName="au-slot",S.metadata.define(S.metadata.resource,Le,ce)),Le.initialize(t,ce),Le.register(r)}return e.inject=function(){return[A.Loader,j.Container,xe,Re,me]},e.prototype.addResourcePlugin=function(e,t){var n=e.replace(".","")+"-resource-plugin";this._pluginMap[e]=n,this.loader.addPlugin(n,t)},e.prototype.loadViewFactory=function(e,t,n,i){var r=this;return n=n||new K,function(e,t){return t instanceof A.TemplateRegistryEntry?Promise.resolve(t):e.loadTemplate(t)}(this.loader,e).then((function(e){var o=e.address;return e.onReady?n.hasDependency(o)?null===e.template?e.onReady:Promise.resolve(new De(e.onReady)):(n.addDependency(o),e.onReady):(n.addDependency(o),e.onReady=r.loadTemplateResources(e,t,n,i).then((function(n){if(e.resources=n,null===e.template)return e.factory=null;var i=r.viewCompiler.compile(e.template,n,t);return e.factory=i})),e.onReady)}))},e.prototype.loadTemplateResources=function(t,n,i,r){var o=new me(this.appResources,t.address),a=t.dependencies,s=void 0,u=void 0;if(n=n||Q.normal,0===a.length&&!n.associatedModuleId)return Promise.resolve(o);if(s=a.map((function(e){return e.src})),u=a.map((function(e){return e.name})),ke.debug("importing resources for "+t.address,s),r){var c=S.metadata.get(e.viewModelRequireMetadataKey,r);if(c){for(var l=s.length,h=0,d=c.length;h<d;++h){var p=c[h],f="function"==typeof p?S.Origin.get(p).moduleId:Object(_.d)(p.src||p,t.address);-1===s.indexOf(f)&&(s.push(f),u.push(p.as))}ke.debug("importing ViewModel resources for "+n.associatedModuleId,s.slice(l))}}return this.importViewResources(s,u,o,n,i)},e.prototype.importViewModelResource=function(e,t){var n=this;return this.loader.loadModule(e).then((function(i){var r=S.Origin.get(i).moduleId,o=n.moduleAnalyzer.analyze(r,i,t);if(!o.mainResource)throw new Error('No view model found in module "'+e+'".');return o.initialize(n.container),o.mainResource}))},e.prototype.importViewResources=function(e,t,n,i,r){var o=this;return r=r||new K,i=i||Q.normal,e=e.map((function(e){return o._applyLoaderPlugin(e)})),this.loader.loadAllModules(e).then((function(e){var a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,d=o.container,p=o.moduleAnalyzer,f=new Array(e.length);for(a=0,s=e.length;a<s;++a)l=e[a],c=S.Origin.get(l).moduleId,(u=p.analyze(c,l)).initialize(d),u.register(n,t[a]),f[a]=u;for(i.associatedModuleId&&(h=p.getAnalysis(i.associatedModuleId))&&h.register(n),a=0,s=f.length;a<s;++a)f[a]=f[a].load(d,r);return Promise.all(f).then((function(){return n}))}))},e.prototype._applyLoaderPlugin=function(e){var t=e.lastIndexOf(".");if(-1!==t){var n=e.substring(t),i=this._pluginMap[n];return void 0===i?e:this.loader.applyPluginToUrl(e,i)}return e},e}(),w.viewModelRequireMetadataKey="aurelia:view-model-require",y),ze=function(){function e(e,t,n,i){this.behavior=e,this.instruction=t,this.viewModel=n,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=i,this.elementEvents=i.elementEvents||null;var r,o=e.observerLocator.getOrCreateObserversLookup(n),a=e.handlesBind,s=t.attributes,u=this.boundProperties=[],c=e.properties,l=void 0;for(e._ensurePropertiesDefined(n,o),l=0,r=c.length;l<r;++l)c[l]._initialize(n,o,s,a,u)}return e.prototype.created=function(e){this.behavior.handlesCreated&&this.viewModel.created(e,this.view)},e.prototype.automate=function(e,t){this.view.bindingContext=this.viewModel,this.view.overrideContext=e||Object(N.createOverrideContext)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(t||null,this.view),this.bind(this.view)},e.prototype.bind=function(e){var t,n=this.behavior.handlesBind,i=this.boundProperties,r=void 0,o=void 0,a=void 0,s=void 0;if(this.isBound){if(this.scope===e)return;this.unbind()}for(this.isBound=!0,this.scope=e,r=0,t=i.length;r<t;++r)s=(a=(o=i[r]).observer).selfSubscriber,a.publishing=!1,n&&(a.selfSubscriber=null),o.binding.bind(e),a.call(),a.publishing=!0,a.selfSubscriber=s;var u=void 0;null!==this.view?(n&&(this.view.viewModelScope=e),this.viewModel===e.overrideContext.bindingContext?u=e.overrideContext:this.instruction.inheritBindingContext?u=Object(N.createOverrideContext)(this.viewModel,e.overrideContext):(u=Object(N.createOverrideContext)(this.viewModel)).__parentOverrideContext=e.overrideContext,this.view.bind(this.viewModel,u)):n&&(u=e.overrideContext,void 0!==e.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&((u=Object.assign({},e.overrideContext)).parentOverrideContext=e.overrideContext.__parentOverrideContext),this.viewModel.bind(e.bindingContext,u))},e.prototype.unbind=function(){if(this.isBound){var e,t=this.boundProperties,n=void 0;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),n=0,e=t.length;n<e;++n)t[n].binding.unbind()}},e.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},e.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},e}(),Ue=Object(N.subscriberCollection)()(b=function(){function e(e,t,n,i,r){this.taskQueue=e,this.obj=t,this.propertyName=n,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=i,this.currentValue=this.oldValue=r}return e.prototype.getValue=function(){return this.currentValue},e.prototype.setValue=function(e){var t=this.currentValue;Object.is(e,t)||(this.oldValue=t,this.currentValue=e,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))},e.prototype.call=function(){var e=this.oldValue,t=this.currentValue;this.notqueued=!0,Object.is(t,e)||(this.selfSubscriber&&this.selfSubscriber(t,e),this.callSubscribers(t,e),this.oldValue=t)},e.prototype.subscribe=function(e,t){this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},e}())||b;function qe(e,t){var n=e.__observers__;if(void 0===n){var i=Object.getPrototypeOf(e).constructor,r=S.metadata.get(S.metadata.resource,i);r.isInitialized||r.initialize(j.Container.instance||new j.Container,e.constructor),n=r.observerLocator.getOrCreateObserversLookup(e),r._ensurePropertiesDefined(e,n)}return n[t]}var We=function(){function e(e){"string"==typeof e?this.name=e:Object.assign(this,e),this.attribute=this.attribute||L(this.name);var t=this.defaultBindingMode;null==t?this.defaultBindingMode=N.bindingMode.oneWay:"string"==typeof t&&(this.defaultBindingMode=N.bindingMode[t]||N.bindingMode.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return e.prototype.registerWith=function(e,t,n){if(t.properties.push(this),t.attributes[this.attribute]=this,this.owner=t,n)return this.descriptor=n,this._configureDescriptor(n)},e.prototype._configureDescriptor=function(e){var t=this.name;return e.configurable=!0,e.enumerable=!0,"initializer"in e&&(this.defaultValue=e.initializer,delete e.initializer,delete e.writable),"value"in e&&(this.defaultValue=e.value,delete e.value,delete e.writable),e.get=function(){return qe(this,t).getValue()},e.set=function(e){qe(this,t).setValue(e)},e.get.getObserver=function(e){return qe(e,t)},e},e.prototype.defineOn=function(e,t){var n=this.name,i=void 0;null===this.changeHandler&&(i=n+"Changed")in e.prototype&&(this.changeHandler=i),null===this.descriptor&&Object.defineProperty(e.prototype,n,this._configureDescriptor(t,{}))},e.prototype.createObserver=function(e){var t=null,n=this.defaultValue,i=this.changeHandler,r=this.name,o=void 0;if(!this.hasOptions){if(i in e)t="propertyChanged"in e?function(t,n){e[i](t,n),e.propertyChanged(r,t,n)}:function(t,n){return e[i](t,n)};else if("propertyChanged"in e)t=function(t,n){return e.propertyChanged(r,t,n)};else if(null!==i)throw new Error("Change handler "+i+" was specified but not declared on the class.");return void 0!==n&&(o="function"==typeof n?n.call(e):n),new Ue(this.owner.taskQueue,e,this.name,t,o)}},e.prototype._initialize=function(e,t,n,i,r){var o=void 0,a=void 0,s=void 0,u=this.defaultValue;if(this.isDynamic)for(var c in n)this._createDynamicProperty(e,t,i,c,n[c],r);else this.hasOptions||(a=t[this.name],null!==n&&(o=a.selfSubscriber,s=n[this.attribute],i&&(a.selfSubscriber=null),"string"==typeof s?(e[this.name]=s,a.call()):s?r.push({observer:a,binding:s.createBinding(e)}):void 0!==u&&a.call(),a.selfSubscriber=o),a.publishing=!0)},e.prototype._createDynamicProperty=function(e,t,n,i,r,o){var a=i+"Changed",s=null,u=void 0,c=void 0;a in e?s="propertyChanged"in e?function(t,n){e[a](t,n),e.propertyChanged(i,t,n)}:function(t,n){return e[a](t,n)}:"propertyChanged"in e&&(s=function(t,n){return e.propertyChanged(i,t,n)}),u=t[i]=new Ue(this.owner.taskQueue,e,i,s),Object.defineProperty(e,i,{configurable:!0,enumerable:!0,get:u.getValue.bind(u),set:u.setValue.bind(u)}),n&&(u.selfSubscriber=null),"string"==typeof r?(e[i]=r,u.call()):r&&(c={observer:u,binding:r.createBinding(e)},o.push(c)),u.publishing=!0,u.selfSubscriber=s},e}(),Ke=0;function Qe(){return!0}function Xe(){}var Ge=function(){function e(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=Xe,this.processContent=Qe,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}return e.convention=function(t,n){var i=void 0;return t.endsWith("CustomAttribute")&&((i=n||new e).attributeName=L(t.substring(0,t.length-15))),t.endsWith("CustomElement")&&((i=n||new e).elementName=L(t.substring(0,t.length-13))),i},e.prototype.addChildBinding=function(e){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(e)},e.prototype.initialize=function(e,t){var n=t.prototype,i=this.properties,r=this.attributeName,o=this.attributeDefaultBindingMode,a=void 0,s=void 0,u=void 0;if(!this.isInitialized)if(this.isInitialized=!0,t.__providerId__=++Ke,this.observerLocator=e.get(N.ObserverLocator),this.taskQueue=e.get(T.TaskQueue),this.target=t,this.usesShadowDOM=this.targetShadowDOM&&M.FEATURE.shadowDOM,this.handlesCreated="created"in n,this.handlesBind="bind"in n,this.handlesUnbind="unbind"in n,this.handlesAttached="attached"in n,this.handlesDetached="detached"in n,this.htmlName=this.elementName||this.attributeName,null!==r)if(0===i.length&&new We({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:r,defaultBindingMode:o}).registerWith(t,this),u=i[0],1===i.length&&"value"===u.name)u.isDynamic=u.hasOptions=this.hasDynamicOptions,u.defineOn(t,this);else{for(a=0,s=i.length;a<s;++a)if(i[a].defineOn(t,this),i[a].primaryProperty){if(this.primaryProperty)throw new Error("Only one bindable property on a custom element can be defined as the default");this.primaryProperty=i[a]}(u=new We({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:r,defaultBindingMode:o})).hasOptions=!0,u.registerWith(t,this)}else{for(a=0,s=i.length;a<s;++a)i[a].defineOn(t,this);this._copyInheritedProperties(e,t)}},e.prototype.register=function(e,t){var n=this;null!==this.attributeName&&(e.registerAttribute(t||this.attributeName,this,this.attributeName),Array.isArray(this.aliases)&&this.aliases.forEach((function(t){e.registerAttribute(t,n,n.attributeName)}))),null!==this.elementName&&e.registerElement(t||this.elementName,this)},e.prototype.load=function(e,t,n,i,r){var o=this,a=void 0;return null!==this.elementName?(i=e.get(oe).getViewStrategy(i||this.viewStrategy||t),a=new Q(this.targetShadowDOM,!0),i.moduleId||(i.moduleId=S.Origin.get(t).moduleId),i.loadViewFactory(e.get(He),a,n,t).then((function(e){return r&&o.viewFactory||(o.viewFactory=e),e}))):Promise.resolve(this)},e.prototype.compile=function(e,t,n,i,r){if(this.liftsContent){if(!i.viewFactory){var o=M.DOM.createElement("template"),a=M.DOM.createDocumentFragment(),s=n.getAttribute("view-cache"),u=n.getAttribute("part");n.removeAttribute(i.originalAttrName),M.DOM.replaceNode(o,n,r),a.appendChild(n),i.viewFactory=e.compile(a,t),u&&(i.viewFactory.part=u,n.removeAttribute("part")),s&&(i.viewFactory.setCacheSize(s),n.removeAttribute("view-cache")),n=o}}else if(null!==this.elementName){var c={};if(this.processContent(e,t,n,i)&&n.hasChildNodes()){for(var l=n.firstChild,h=this.usesShadowDOM?null:M.DOM.createElement("au-content"),d=void 0,p=void 0;l;)d=l.nextSibling,"TEMPLATE"===l.tagName&&(p=l.getAttribute("replace-part"))?(c[p]=e.compile(l,t),M.DOM.removeNode(l,r),i.partReplacements=c):null!==h&&(3===l.nodeType&&H(l)?M.DOM.removeNode(l,r):h.appendChild(l)),l=d;null!==h&&h.hasChildNodes()&&n.appendChild(h),i.skipContentProcessing=!1}else i.skipContentProcessing=!0}else this.processContent(e,t,n,i)||(i.skipContentProcessing=!0);return n},e.prototype.create=function(e,t,n,i){var r=void 0,o=null;t=t||X.normal,n=n||null,i=i||null,null!==this.elementName&&n&&(this.usesShadowDOM?(r=n.attachShadow(this.shadowDOMOptions),e.registerInstance(M.DOM.boundary,r)):(r=n,this.targetShadowDOM&&e.registerInstance(M.DOM.boundary,r))),null!==n&&(n.au=o=n.au||{});var a=t.viewModel||e.get(this.target),s=new ze(this,t,a,e),u=this.childBindings,c=void 0;if(this.liftsContent)o.controller=s;else if(null!==this.elementName){if(c=t.viewFactory||this.viewFactory,e.viewModel=a,c&&(s.view=c.create(e,t,n)),null!==n){if(o.controller=s,s.view){if(!this.usesShadowDOM&&(1===n.childNodes.length||n.contentElement)){var l=n.childNodes[0]||n.contentElement;s.view.contentView={fragment:l},l.parentNode&&M.DOM.removeNode(l)}if(t.anchorIsContainer){if(null!==u)for(var h=0,d=u.length;h<d;++h)s.view.addBinding(u[h].create(n,a,s));s.view.appendNodesTo(r)}else s.view.insertNodesBefore(r)}else if(null!==u)for(var p=0,f=u.length;p<f;++p)i.push(u[p].create(n,a,s))}else if(s.view){if(s.view.controller=s,null!==u)for(var v=0,m=u.length;v<m;++v)s.view.addBinding(u[v].create(t.host,a,s))}else if(null!==u)for(var g=0,w=u.length;g<w;++g)i.push(u[g].create(t.host,a,s))}else if(null!==u)for(var y=0,b=u.length;y<b;++y)i.push(u[y].create(n,a,s));return null!==o&&(o[this.htmlName]=s),t.initiatedByBehavior&&c&&s.view.created(),s},e.prototype._ensurePropertiesDefined=function(e,t){var n,i=void 0,r=void 0,o=void 0;if(!("__propertiesDefined__"in t))for(t.__propertiesDefined__=!0,r=0,n=(i=this.properties).length;r<n;++r)void 0!==(o=i[r].createObserver(e))&&(t[o.propertyName]=o)},e.prototype._copyInheritedProperties=function(e,t){for(var n=this,i=void 0,r=t;;){var o=Object.getPrototypeOf(t.prototype);if(!(t=o&&o.constructor))return;if(i=S.metadata.getOwn(S.metadata.resource,t))break}i.initialize(e,t);for(var a=function(e,t){var o=i.properties[e];if(n.properties.some((function(e){return e.name===o.name})))return"continue";new We(o).registerWith(r,n)},s=0,u=i.properties.length;s<u;++s)a(s)},e}();function $e(e,t){return function(n,i,r){var o="string"==typeof i?n.constructor:n,a=S.metadata.getOrCreateOwn(S.metadata.resource,Ge,o);"string"==typeof e&&(e={selector:e,name:i}),r&&(r.writable=!0,r.configurable=!0),e.all=t,a.addChildBinding(new Je(e))}}function Ye(e){return $e(e,!0)}function Ze(e){return $e(e,!1)}var Je=function(){function e(e){this.name=e.name,this.changeHandler=e.changeHandler||this.name+"Changed",this.selector=e.selector,this.all=e.all}return e.prototype.create=function(e,t,n){return new it(this.selector,e,this.name,t,n,this.changeHandler,this.all)},e}(),et=[];function tt(e,t,n){var i=e.get(t);i||(i=[],e.set(t,i)),i.push(n)}function nt(e,t){for(var n=t.binders,i=n.length,r=new Map,o=0,a=e.length;o<a;++o){for(var s=e[o],u=s.addedNodes,c=s.removedNodes,l=0,h=c.length;l<h;++l){var d=c[l];if(1===d.nodeType)for(var p=0;p<i;++p){var f=n[p];f.onRemove(d)&&tt(r,f,s)}}for(var v=0,m=u.length;v<m;++v){var g=u[v];if(1===g.nodeType)for(var w=0;w<i;++w){var y=n[w];y.onAdd(g)&&tt(r,y,s)}}}r.forEach((function(e,t){t.isBound&&null!==t.changeHandler&&t.viewModel[t.changeHandler](e)}))}var it=function(){function e(e,t,n,i,r,o,a){this.selector=e,this.viewHost=t,this.property=n,this.viewModel=i,this.controller=r,this.changeHandler=o in i?o:null,this.usesShadowDOM=r.behavior.usesShadowDOM,this.all=a,!this.usesShadowDOM&&r.view&&r.view.contentView?this.contentView=r.view.contentView:this.contentView=null,this.source=null,this.isBound=!1}return e.prototype.matches=function(e){if(e.matches(this.selector)){if(null===this.contentView)return!0;var t=this.contentView,n=e.auAssignedSlot;if(n&&n.projectFromAnchors){for(var i=n.projectFromAnchors,r=0,o=i.length;r<o;++r)if(i[r].auOwnerView===t)return!0;return!1}return e.auOwnerView===t}return!1},e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.source=e}this.isBound=!0;var t=this.viewHost,n=this.viewModel,i=t.__childObserver__;if(!i){i=t.__childObserver__=M.DOM.createMutationObserver(nt);var r={childList:!0,subtree:!this.usesShadowDOM};i.observe(t,r),i.binders=[]}if(i.binders.push(this),this.usesShadowDOM){var o=t.firstElementChild;if(this.all){var a=n[this.property];for(a?a.splice(0):a=n[this.property]=[];o;)this.matches(o)&&a.push(o.au&&o.au.controller?o.au.controller.viewModel:o),o=o.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](et)}else for(;o;){if(this.matches(o)){var s=o.au&&o.au.controller?o.au.controller.viewModel:o;this.viewModel[this.property]=s,null!==this.changeHandler&&this.viewModel[this.changeHandler](s);break}o=o.nextElementSibling}}},e.prototype.onRemove=function(e){if(this.matches(e)){var t=e.au&&e.au.controller?e.au.controller.viewModel:e;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]),i=n.indexOf(t);return-1!==i&&n.splice(i,1),!0}this.viewModel[this.property]===t&&(this.viewModel[this.property]=null,this.isBound&&null!==this.changeHandler&&this.viewModel[this.changeHandler](t))}return!1},e.prototype.onAdd=function(e){if(this.matches(e)){var t=e.au&&e.au.controller?e.au.controller.viewModel:e;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]);if("*"===this.selector)return n.push(t),!0;for(var i=0,r=e.previousElementSibling;r;)this.matches(r)&&i++,r=r.previousElementSibling;return n.splice(i,0,t),!0}this.viewModel[this.property]=t,this.isBound&&null!==this.changeHandler&&this.viewModel[this.changeHandler](t)}return!1},e.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;var e=this.viewHost.__childObserver__;if(e){var t=e.binders;if(t&&t.length){var n=t.indexOf(this);-1!==n&&t.splice(n,1),0===t.length&&(e.disconnect(),this.viewHost.__childObserver__=null)}this.usesShadowDOM&&(this.viewModel[this.property]=null)}}},e}();function rt(e,t){return Array.isArray(t)?e.removeMany(t,!0):e.remove(t,!0)}var ot={before:function(e,t,n){return void 0===t?n():n().then((function(){return rt(e,t)}))},with:function(e,t,n){return void 0===t?n():Promise.all([rt(e,t),n()])},after:function(e,t,n){return Promise.resolve(e.removeAll(!0)).then(n)}};function at(e){return e.skipActivation||"function"!=typeof e.viewModel.activate?Promise.resolve():e.viewModel.activate(e.model)||Promise.resolve()}var st=Object(j.inject)(He,oe)(C=function(){function e(e,t){this.viewEngine=e,this.viewLocator=t}return e.prototype._swap=function(e,t){var n=ot[e.swapOrder]||ot.after,i=e.viewSlot.children.slice();return n(e.viewSlot,i,(function(){return Promise.resolve(e.viewSlot.add(t)).then((function(){e.currentController&&e.currentController.unbind()}))})).then((function(){e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done()}))},e.prototype._createControllerAndSwap=function(e){var t=this;return this.createController(e).then((function(n){return e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then((function(){return n.automate(e.overrideContext,e.owningView),t._swap(e,n.view)})).then((function(){return n})):(n.automate(e.overrideContext,e.owningView),t._swap(e,n.view).then((function(){return n})))}))},e.prototype.createController=function(e){var t=this,n=void 0,i=void 0,r=void 0,o=void 0;return this.ensureViewModel(e).then(at).then((function(){n=e.childContainer,i=e.viewModel,r=e.viewModelResource,o=r.metadata;var a=t.viewLocator.getViewStrategy(e.view||i);return e.viewResources&&a.makeRelativeTo(e.viewResources.viewUrl),o.load(n,r.value,null,a,!0)})).then((function(t){return o.create(n,X.dynamic(e.host,i,t))}))},e.prototype.ensureViewModel=function(e){var t=e.childContainer=e.childContainer||e.container.createChild();if("string"==typeof e.viewModel)return e.viewModel=e.viewResources?e.viewResources.relativeToView(e.viewModel):e.viewModel,this.viewEngine.importViewModelResource(e.viewModel).then((function(n){return t.autoRegister(n.value),e.host&&t.registerInstance(M.DOM.Element,e.host),e.viewModel=t.viewModel=t.get(n.value),e.viewModelResource=n,e}));var n=e.viewModel.constructor,i="function"==typeof e.viewModel;i&&(n=e.viewModel,t.autoRegister(n));var r=S.metadata.getOrCreateOwn(S.metadata.resource,Ge,n);return r.elementName=r.elementName||"dynamic-element",r.initialize(i?t:e.container||t,n),e.viewModelResource={metadata:r,value:n},e.host&&t.registerInstance(M.DOM.Element,e.host),t.viewModel=e.viewModel=i?t.get(n):e.viewModel,Promise.resolve(e)},e.prototype.compose=function(e){var t=this;e.childContainer=e.childContainer||e.container.createChild(),e.view=this.viewLocator.getViewStrategy(e.view);var n=e.childContainer.get(R),i=n.tryCapture();return i?e.compositionTransactionOwnershipToken=i:e.compositionTransactionNotifier=n.enlist(),e.viewModel?this._createControllerAndSwap(e):e.view?(e.viewResources&&e.view.makeRelativeTo(e.viewResources.viewUrl),e.view.loadViewFactory(this.viewEngine,new Q).then((function(n){var i=n.create(e.childContainer);return i.bind(e.bindingContext,e.overrideContext),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then((function(){return t._swap(e,i)})).then((function(){return i})):t._swap(e,i).then((function(){return i}))}))):e.viewSlot?(e.viewSlot.removeAll(),e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)},e}())||C,ut=function(){function e(){}return e.prototype.initialize=function(e,t){},e.prototype.register=function(e,t){},e.prototype.load=function(e,t){var n=new t;e.get(N.EventManager).registerElementConfig(n)},e}();function ct(e){return function(t){"string"==typeof e||Object.getPrototypeOf(e)===Object.prototype?t.$resource=e:S.metadata.define(S.metadata.resource,e,t)}}function lt(e){return function(t){if(e instanceof Ge)S.metadata.define(S.metadata.resource,e,t);else{var n=S.metadata.getOrCreateOwn(S.metadata.resource,Ge,t);Object.assign(n,e)}}}function ht(e){return function(t){S.metadata.getOrCreateOwn(S.metadata.resource,Ge,t).elementName=fe(e,"custom element")}}function dt(e,t,n){return function(i){var r=S.metadata.getOrCreateOwn(S.metadata.resource,Ge,i);r.attributeName=fe(e,"custom attribute"),r.attributeDefaultBindingMode=t,r.aliases=n}}function pt(e){var t=function(e){S.metadata.getOrCreateOwn(S.metadata.resource,Ge,e).liftsContent=!0};return e?t(e):t}function ft(e,t,n){var i=function(t,n,i){var r=n?t.constructor:t,o=S.metadata.getOrCreateOwn(S.metadata.resource,Ge,r);return n&&((e=e||{}).name=n),new We(e).registerWith(r,o,i)};if(!e)return i;if(t){var r=e;return e=null,i(r,t,n)}return i}function vt(e){var t=function(e){S.metadata.getOrCreateOwn(S.metadata.resource,Ge,e).hasDynamicOptions=!0};return e?t(e):t}var mt={mode:"open"};function gt(e){var t="function"!=typeof e&&e?e:mt,n=function(e){var n=S.metadata.getOrCreateOwn(S.metadata.resource,Ge,e);n.targetShadowDOM=!0,n.shadowDOMOptions=t};return"function"==typeof e?n(e):n}function wt(e){return function(t){S.metadata.getOrCreateOwn(S.metadata.resource,Ge,t).processAttributes=function(t,n,i,r,o){try{e(t,n,i,r,o)}catch(e){V.getLogger("templating").error(e)}}}}function yt(){return!1}function bt(e){return function(t){S.metadata.getOrCreateOwn(S.metadata.resource,Ge,t).processContent=e?function(t,n,i,r){try{return e(t,n,i,r)}catch(e){return V.getLogger("templating").error(e),!1}}:yt}}function Ct(e){var t=function(e){S.metadata.getOrCreateOwn(S.metadata.resource,Ge,e).containerless=!0};return e?t(e):t}function Ot(e){return function(t){S.metadata.define(oe.viewStrategyMetadataKey,e,t)}}function Vt(e){return Ot(new J(e))}function St(e,t,n){return Ot(new ie(e,t,n))}function Mt(e,t){var n=void 0,i=void 0;"function"==typeof e?n=e:(i=e,n=void 0);var r=function(e){S.metadata.define(oe.viewStrategyMetadataKey,new te(i,t),e)};return n?r(n):r}function At(e){return function(t){t.$view=e}}function _t(e){var t=function(e){S.metadata.define(S.metadata.resource,new ut,e)};return e?t(e):t}function Nt(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){S.metadata.define(He.viewModelRequireMetadataKey,t,e)}}var jt=Object(j.inject)(j.Container,Re,xe,st)(O=function(){function e(e,t,n,i){this._container=e,this._moduleAnalyzer=t,this._viewCompiler=n,this._compositionEngine=i,e.registerInstance(x,x.instance=new x)}return e.prototype.configureAnimator=function(e){this._container.unregister(x),this._container.registerInstance(x,x.instance=e)},e.prototype.compose=function(e){return this._compositionEngine.compose(e)},e.prototype.enhance=function(e){e instanceof M.DOM.Element&&(e={element:e});var t={letExpressions:[]},n=e.resources||this._container.get(me);this._viewCompiler._compileNode(e.element,n,t,e.element.parentNode,"root",!0);var i=new je(e.element,t,n),r=e.container||this._container.createChild(),o=i.create(r,X.enhance());return o.bind(e.bindingContext||{},e.overrideContext),o.firstChild=o.lastChild=o.fragment,o.fragment=M.DOM.createDocumentFragment(),o.attached(),o},e}())||O}}]);
//# sourceMappingURL=vendors~2a42e354.971802bae560453157cf.bundle.map