<template>
  <require from="./attribute-bind2a-dialog"></require>

  <div class="w3-center w3-padding">
    <button class="w3-button w3-theme-l4" click.delegate="identify()">Identify</button>
  </div>
    <table class="w3-tiny">
      <tr repeat.for="item of mapping"  class="w3-hover-theme" click.delegate="selectMapping(item)">
        <td><b show.bind="item.fmuvarname" title.bind="item.fmuvarname">${item.ashort}</b><span show.bind="!item.fmuvarname">${item.ashort}</span></td>

      </tr>
    </table>
  <div class="w3-center w3-padding">
    <button class="w3-button w3-theme-l4" click.delegate="submit()">Submit all</button>
    <button class="w3-button w3-theme-l4" click.delegate="undo()">Undo changes</button>
  </div>
  <div>
    <table>
      <tr>
        <td><label title="fmu variable name">findex</label></td>
        <td show.bind="api.outputreferences.length == 0">
      <span class="w3-tiny w3-theme-l4">click Identify button</span><br/>
          <input value.bind="currentMapping.findex" />
        </td>
        <td show.bind="api.outputreferences.length>0">
          <select value.bind="currentMapping.findex">
            <option value="">-- select variable --</option>
            <option repeat.for="i of api.outputreferences.length" value.bind="i">${api.outputreferences[i].name}
            </option>
          </select>
        </td>
      </tr>
      <tr>  <td><label>aname</label></td>
        <td title.bind="currentMapping.aname">${currentMapping.ashort}</td>
      </tr>
      <tr show.bind="!currentMapping.text">  <input type="checkbox" checked.bind="currentMapping.playonly"/> play only object</tr>
      <tr show.bind="!currentMapping.text">  <td><label>amin</label></td><td show.bind="!currentMapping.playonly"><input value.bind="currentMapping.amin" /></td></tr>
      <tr show.bind="!currentMapping.text">  <td><label>amax</label></td><td show.bind="!currentMapping.playonly"><input value.bind="currentMapping.amax" /></td></tr>
      <tr show.bind="!currentMapping.text">  <td><label>fmin</label></td><td show.bind="!currentMapping.playonly"><input value.bind="currentMapping.fmin" /></td></tr>
      <tr show.bind="!currentMapping.text">  <td><label>fmax</label></td><td show.bind="!currentMapping.playonly"><input value.bind="currentMapping.fmax" /></td></tr>
      <tr show.bind="currentMapping.text">  <td><label>convertor</label></td><td><input value.bind="currentMapping.convertor" /></td></tr>

    </table>
    <p title="move slider to see animation progress">test:<!--span class="w3-tiny">${api.askAttributesItemsArray[2].value}</span><input type="range" min.bind="api.askAttributesItemsArray[2].value" max.bind="api.askAttributesItemsArray[3].value" value.bind="animationvalue" step="1" /><span class="w3-tiny">${api.askAttributesItemsArray[3].value}</span-->
      <input type="range" min="0" max="160" value.bind="animationvalue" step="1" /><span class="w3-tiny">${animationvalue}</span>
    </p>
  </div>

</template>
