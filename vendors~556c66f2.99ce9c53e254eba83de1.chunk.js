/*! For license information please see vendors~556c66f2.99ce9c53e254eba83de1.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"/FZT":function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return i})),n.d(e,"retryStrategy",(function(){return o})),n.d(e,"RetryInterceptor",(function(){return u})),n.d(e,"HttpClientConfiguration",(function(){return c})),n.d(e,"HttpClient",(function(){return h}));var r=n("xIXs");function i(t,e){return JSON.stringify(void 0!==t?t:{},e)}const o={fixed:0,incremental:1,exponential:2,random:3},s={maxRetries:3,interval:1e3,strategy:o.fixed};class u{constructor(t){if(this.retryConfig=Object.assign({},s,t||{}),this.retryConfig.strategy===o.exponential&&this.retryConfig.interval<=1e3)throw new Error("An interval less than or equal to 1 second is not allowed when using the exponential retry strategy")}request(t){let e=t;return e.retryConfig||(e.retryConfig=Object.assign({},this.retryConfig),e.retryConfig.counter=0),e.retryConfig.requestClone=t.clone(),t}response(t,e){return delete e.retryConfig,t}responseError(t,e,n){const{retryConfig:i}=e,{requestClone:s}=i;return Promise.resolve().then((()=>{if(i.counter<i.maxRetries){const u=!i.doRetry||i.doRetry(t,e);return Promise.resolve(u).then((u=>{if(u)return i.counter++,new Promise((t=>r.PLATFORM.global.setTimeout(t,function(t){const{interval:e,strategy:n,minRandomInterval:r,maxRandomInterval:i,counter:s}=t;if("function"==typeof n)return t.strategy(s);switch(n){case o.fixed:return a[o.fixed](e);case o.incremental:return a[o.incremental](s,e);case o.exponential:return a[o.exponential](s,e);case o.random:return a[o.random](s,e,r,i);default:throw new Error("Unrecognized retry strategy")}}(i)||0))).then((()=>{let t=s.clone();return"function"==typeof i.beforeRetry?i.beforeRetry(t,n):t})).then((t=>n.fetch(Object.assign(t,{retryConfig:i}))));throw delete e.retryConfig,t}))}throw delete e.retryConfig,t}))}}const a=[t=>t,(t,e)=>e*t,(t,e)=>1===t?e:Math.pow(e,t)/1e3,(t,e,n=0,r=6e4)=>Math.random()*(r-n)+n];class c{constructor(){this.baseUrl="",this.defaults={},this.interceptors=[]}withBaseUrl(t){return this.baseUrl=t,this}withDefaults(t){return this.defaults=t,this}withInterceptor(t){return this.interceptors.push(t),this}useStandardConfiguration(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()}rejectErrorResponses(){return this.withInterceptor({response:l})}withRetry(t){const e=new u(t);return this.withInterceptor(e)}}function l(t){if(!t.ok)throw t;return t}class h{constructor(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch")}configure(t){let e;if("object"==typeof t)e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");{e=new c,e.baseUrl=this.baseUrl,e.defaults=Object.assign({},this.defaults),e.interceptors=this.interceptors;let n=t(e);c.prototype.isPrototypeOf(n)&&(e=n)}}let n=e.defaults;if(n&&Headers.prototype.isPrototypeOf(n.headers))throw new Error("Default headers must be a plain object.");let r=e.interceptors;if(r&&r.length){if(r.filter((t=>u.prototype.isPrototypeOf(t))).length>1)throw new Error("Only one RetryInterceptor is allowed.");const t=r.findIndex((t=>u.prototype.isPrototypeOf(t)));if(t>=0&&t!==r.length-1)throw new Error("The retry interceptor must be the last interceptor defined.")}return this.baseUrl=e.baseUrl,this.defaults=n,this.interceptors=e.interceptors||[],this.isConfigured=!0,this}fetch(t,e){!function(t){if(t.isRequesting=!!++t.activeRequestCount,t.isRequesting){let t=r.DOM.createCustomEvent("aurelia-fetch-client-request-started",{bubbles:!0,cancelable:!0});setTimeout((()=>r.DOM.dispatchEvent(t)),1)}}(this);let n=this.buildRequest(t,e);return function(t,e,n){return g(t,e,"request","requestError",n)}(n,this.interceptors,this).then((t=>{let e=null;if(Response.prototype.isPrototypeOf(t))e=Promise.resolve(t);else{if(!Request.prototype.isPrototypeOf(t))throw new Error(`An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got [${t}]`);n=t,e=fetch(t)}return function(t,e,n,r){return g(t,e,"response","responseError",n,r)}(e,this.interceptors,n,this)})).then((t=>Request.prototype.isPrototypeOf(t)?this.fetch(t):t)).then((t=>(f(this),t)),(t=>{throw f(this),t}))}buildRequest(t,e){let n,r,i,o=this.defaults||{},s=function(t){let e={};for(let n in t||{})t.hasOwnProperty(n)&&(e[n]="function"==typeof t[n]?t[n]():t[n]);return e}(o.headers);if(Request.prototype.isPrototypeOf(t))n=t,i=new Headers(n.headers).get("Content-Type");else{e||(e={}),r=e.body;let s=r?{body:r}:null,u=Object.assign({},o,{headers:{}},e,s);i=new Headers(u.headers).get("Content-Type"),n=new Request(function(t,e){if(d.test(e))return e;return(t||"")+e}(this.baseUrl,t),u)}return i||(new Headers(s).has("content-type")?n.headers.set("Content-Type",new Headers(s).get("content-type")):r&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(r)&&n.headers.set("Content-Type","application/json")),function(t,e){for(let n in e||{})e.hasOwnProperty(n)&&!t.has(n)&&t.set(n,e[n])}(n.headers,s),r&&Blob.prototype.isPrototypeOf(r)&&r.type&&n.headers.set("Content-Type",r.type),n}get(t,e){return this.fetch(t,e)}post(t,e,n){return m(this,t,e,n,"POST")}put(t,e,n){return m(this,t,e,n,"PUT")}patch(t,e,n){return m(this,t,e,n,"PATCH")}delete(t,e,n){return m(this,t,e,n,"DELETE")}}const d=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function f(t){if(t.isRequesting=!!--t.activeRequestCount,!t.isRequesting){let t=r.DOM.createCustomEvent("aurelia-fetch-client-requests-drained",{bubbles:!0,cancelable:!0});setTimeout((()=>r.DOM.dispatchEvent(t)),1)}}function g(t,e,n,r,...i){return(e||[]).reduce(((t,e)=>{let o=e[n],s=e[r];return t.then(o&&(t=>o.call(e,t,...i))||p,s&&(t=>s.call(e,t,...i))||v)}),Promise.resolve(t))}function p(t){return t}function v(t){throw t}function m(t,e,n,r,i){return r||(r={}),r.method=i,n&&(r.body=n),t.fetch(e,r)}},OeXm:function(t,e,n){"use strict";n.d(e,"n",(function(){return x})),n.d(e,"e",(function(){return M})),n.d(e,"b",(function(){return D})),n.d(e,"p",(function(){return f})),n.d(e,"s",(function(){return g})),n.d(e,"u",(function(){return V})),n.d(e,"t",(function(){return B})),n.d(e,"d",(function(){return q})),n.d(e,"z",(function(){return U})),n.d(e,"C",(function(){return F})),n.d(e,"B",(function(){return z})),n.d(e,"m",(function(){return N})),n.d(e,"j",(function(){return $})),n.d(e,"A",(function(){return p})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return y})),n.d(e,"f",(function(){return b})),n.d(e,"a",(function(){return w})),n.d(e,"h",(function(){return C})),n.d(e,"i",(function(){return R})),n.d(e,"c",(function(){return O})),n.d(e,"g",(function(){return k})),n.d(e,"r",(function(){return E})),n.d(e,"v",(function(){return T})),n.d(e,"o",(function(){return A})),n.d(e,"x",(function(){return S})),n.d(e,"y",(function(){return _})),n.d(e,"q",(function(){return P})),n.d(e,"w",(function(){return I}));var r,i,o,s,u,a,c=n("SGXf"),l=n("xIXs");function h(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t){const e=t=>{t.hasOwnProperty("inject")||(t.inject=(c.d.getOwn(c.d.paramTypes,t)||x).slice(),t.inject&&t.inject.length>0&&t.inject[t.inject.length-1]===Object&&t.inject.splice(-1,1))};return function(t){return!!t}(t)?e(t):e}function g(...t){return(e,n,r)=>{if("number"==typeof r)return f(e),void(1===t.length&&(e.inject[r]=t[0]));if(r){r.value.inject=t}else e.inject=t}}const p=c.f.create("aurelia:resolver",(t=>"function"==typeof t.get||"Resolvers must implement: get(container: Container, key: any): any"));var v;function m(t,e,n){return t===e}!function(t){t[t.instance=0]="instance",t[t.singleton=1]="singleton",t[t.transient=2]="transient",t[t.function=3]="function",t[t.array=4]="array",t[t.alias=5]="alias"}(v||(v={}));let y=class{constructor(t,e){this.strategy=t,this.state=e}get(t,e){if(m(this.strategy,v.instance,this.state))return this.state;if(m(this.strategy,v.singleton,this.state)){const e=t.invoke(this.state);return this.state=e,this.strategy=0,e}if(m(this.strategy,v.transient,this.state))return t.invoke(this.state);if(m(this.strategy,v.function,this.state))return this.state(t,e,this);if(m(this.strategy,v.array,this.state))return this.state[0].get(t,e);if(m(this.strategy,v.alias,this.state))return t.get(this.state);throw new Error("Invalid strategy: "+this.strategy)}};y=h([p(),d("design:paramtypes",[Number,Object])],y);let b=r=class{constructor(t){this._key=t}get(t){return()=>t.get(this._key)}static of(t){return new r(t)}};b=r=h([p(),d("design:paramtypes",[Object])],b);let w=i=class{constructor(t){this._key=t}get(t){return t.getAll(this._key)}static of(t){return new i(t)}};w=i=h([p(),d("design:paramtypes",[Object])],w);let C=o=class{constructor(t,e=!0){this._key=t,this._checkParent=e}get(t){return t.hasResolver(this._key,this._checkParent)?t.get(this._key):null}static of(t,e=!0){return new o(t,e)}};C=o=h([p(),d("design:paramtypes",[Object,Boolean])],C);let R=s=class{constructor(t){this._key=t}get(t){return t.parent?t.parent.get(this._key):null}static of(t){return new s(t)}};R=s=h([p(),d("design:paramtypes",[Object])],R);let O=u=class{constructor(t){this._key=t}get(t){let e=this._key;const n=t.getResolver(e);return n&&n.strategy===v.function&&(e=n.state),(...n)=>t.invoke(e,n)}static of(t){return new u(t)}};O=u=h([p(),d("design:paramtypes",[Object])],O);let k=a=class{constructor(t,...e){this.key=t,this.asKey=t,this.dynamicDependencies=e}get(t){const e=this.dynamicDependencies.length>0?this.dynamicDependencies.map((e=>e["protocol:aurelia:resolver"]?e.get(t):t.get(e))):void 0;let n=this.key;const r=t.getResolver(n);r&&3===r.strategy&&(n=r.state);const i=t.invoke(n,e);return t.registerInstance(this.asKey,i),i}as(t){return this.asKey=t,this}static of(t,...e){return new a(t,...e)}};function E(t){return f(t),t.inject}function T(t){return(e,n,r)=>{E(e)[r]=b.of(t)}}function A(t){return(e,n,r)=>{E(e)[r]=w.of(t)}}function S(t=!0){const e=t=>(e,n,r)=>{const i=E(e);i[r]=C.of(i[r],t)};return e("boolean"!=typeof t||t)}function _(t,e,n){const r=E(t);r[n]=R.of(r[n])}function P(t){return(e,n,r)=>{E(e)[r]=O.of(t)}}function I(t,...e){const n=t=>(n,r,i)=>{const o=E(n);o[i]=k.of(o[i],...e),t&&o[i].as(t)};return arguments.length>=1?n(t):n()}function j(t){if(null==t)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}k=a=h([p(),d("design:paramtypes",[Object,Object])],k);const x=Object.freeze([]);c.d.registration="aurelia:registration",c.d.invoker="aurelia:invoker";const L=p.decorates;class M{constructor(t,e,n){this.fn=t,this.invoker=e,this.dependencies=n}invoke(t,e){return void 0!==e?this.invoker.invokeWithDynamicDependencies(t,this.fn,this.dependencies,e):this.invoker.invoke(t,this.fn,this.dependencies)}}const H={invoke(t,e,n){const r=n.map((e=>t.get(e)));return Reflect.construct(e,r)},invokeWithDynamicDependencies:function(t,e,n,r){let i,o=n.length,s=new Array(o);for(;o--;){if(i=n[o],null==i)throw new Error("Constructor Parameter with index "+o+" cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?");s[o]=t.get(i)}return void 0!==r&&(s=s.concat(r)),Reflect.construct(e,s)}};class D{constructor(t){void 0===t&&(t={}),this._configuration=t,this._onHandlerCreated=t.onHandlerCreated,this._handlers=t.handlers||(t.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}makeGlobal(){return D.instance=this,this}setHandlerCreatedCallback(t){this._onHandlerCreated=t,this._configuration.onHandlerCreated=t}registerInstance(t,e){return this.registerResolver(t,new y(0,void 0===e?t:e))}registerSingleton(t,e){return this.registerResolver(t,new y(1,void 0===e?t:e))}registerTransient(t,e){return this.registerResolver(t,new y(2,void 0===e?t:e))}registerHandler(t,e){return this.registerResolver(t,new y(3,e))}registerAlias(t,e){return this.registerResolver(e,new y(5,t))}registerResolver(t,e){j(t);const n=this._resolvers,r=n.get(t);return void 0===r?n.set(t,e):4===r.strategy?r.state.push(e):n.set(t,new y(4,[r,e])),e}autoRegister(t,e){if("function"==typeof(e=void 0===e?t:e)){const n=c.d.get(c.d.registration,e);return void 0===n?this.registerResolver(t,new y(1,e)):n.registerResolver(this,t,e)}return this.registerResolver(t,new y(0,e))}autoRegisterAll(t){let e=t.length;for(;e--;)this.autoRegister(t[e])}unregister(t){this._resolvers.delete(t)}hasResolver(t,e=!1){return j(t),this._resolvers.has(t)||e&&null!==this.parent&&this.parent.hasResolver(t,e)}getResolver(t){return this._resolvers.get(t)}get(t){if(j(t),t===D)return this;if(L(t))return t.get(this,t);const e=this._resolvers.get(t);if(void 0===e){if(null===this.parent)return this.autoRegister(t).get(this,t);const e=c.d.get(c.d.registration,t);return void 0===e?this.parent._get(t):e.registerResolver(this,t,t).get(this,t)}return e.get(this,t)}_get(t){const e=this._resolvers.get(t);return void 0===e?null===this.parent?this.autoRegister(t).get(this,t):this.parent._get(t):e.get(this,t)}getAll(t){j(t);const e=this._resolvers.get(t);if(void 0===e)return null===this.parent?x:this.parent.getAll(t);if(4===e.strategy){const n=e.state;let r=n.length;const i=new Array(r);for(;r--;)i[r]=n[r].get(this,t);return i}return[e.get(this,t)]}createChild(){const t=new D(this._configuration);return t.root=this.root,t.parent=this,t}invoke(t,e){try{let n=this._handlers.get(t);return void 0===n&&(n=this._createInvocationHandler(t),this._handlers.set(t,n)),n.invoke(this,e)}catch(e){throw new l.AggregateError(`Error invoking ${t.name}. Check the inner error for details.`,e,!0)}}_createInvocationHandler(t){let e;if(void 0===t.inject)e=c.d.getOwn(c.d.paramTypes,t)||x;else{e=[];let r=t;for(;"function"==typeof r;)e.push(...(n=r,n.hasOwnProperty("inject")?"function"==typeof n.inject?n.inject():n.inject:[])),r=Object.getPrototypeOf(r)}var n;const r=c.d.getOwn(c.d.invoker,t)||H,i=new M(t,r,e);return void 0!==this._onHandlerCreated?this._onHandlerCreated(i):i}}function V(t){return e=>{c.d.define(c.d.invoker,t,e)}}function B(t){const e=t=>{c.d.define(c.d.invoker,q.instance,t)};return t?e(t):e}class q{invoke(t,e,n){let r=n.length;const i=new Array(r);for(;r--;)i[r]=t.get(n[r]);return e.apply(void 0,i)}invokeWithDynamicDependencies(t,e,n,r){let i=n.length,o=new Array(i);for(;i--;)o[i]=t.get(n[i]);return void 0!==r&&(o=o.concat(r)),e.apply(void 0,o)}}function U(t){return e=>{c.d.define(c.d.registration,t,e)}}function F(t){return U(new N(t))}function z(t,e=!1){return U(new $(t,e))}q.instance=new q;class N{constructor(t){this._key=t}registerResolver(t,e,n){const r=t.getResolver(this._key||e);return void 0===r?t.registerTransient(this._key||e,n):r}}class ${constructor(t,e=!1){"boolean"==typeof t?this._registerInChild=t:(this._key=t,this._registerInChild=e)}registerResolver(t,e,n){const r=this._registerInChild?t:t.root,i=r.getResolver(this._key||e);return void 0===i?r.registerSingleton(this._key||e,n):i}}},UOa9:function(t,e,n){"use strict";function r(t){throw new Error(`History must implement ${t}().`)}n.d(e,"a",(function(){return i}));let i=class{activate(t){r("activate")}deactivate(){r("deactivate")}getAbsoluteRoot(){r("getAbsoluteRoot")}navigate(t,e){r("navigate")}navigateBack(){r("navigateBack")}setTitle(t){r("setTitle")}setState(t,e){r("setState")}getState(t){r("getState")}getHistoryIndex(){r("getHistoryIndex")}go(t){r("go")}}},"aurelia-dynamic-html":function(t,e,n){"use strict";n.r(e),n.d(e,"configure",(function(){return i}));n("xIXs");var r=n("aurelia-dynamic-html/dynamic-html");function i(t){t.globalResources("./dynamic-html")}n.d(e,"DynamicHtml",(function(){return r.DynamicHtml}))},"aurelia-dynamic-html/dynamic-html":function(t,e,n){"use strict";n.r(e),n.d(e,"DynamicHtml",(function(){return h}));var r=n("NDtI"),i=n("OeXm"),o=n("KKpb"),s=n("aWZo"),u=n("SkM8"),a=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const l=Object(o.getLogger)("dynamic-html");let h=class{constructor(t,e,n,r){this.el=t,this.tq=e,this.container=n,this.viewCompiler=r,this.html=this.context=this.slot=this.bindingContext=this.overrideContext=null,this.renderErrors=this.isAttached=this.isBound=this.isCompiled=this.isInitialized=!1,this.isCleanedUp=!0}bind(t,e){this.isBound=!0,this.bindingContext=this.context||t.context||t,this.overrideContext=Object(r.kb)(t,e),this.htmlChanged(this.html)}unbind(){this.isBound=!1,this.bindingContext=null,this.overrideContext=null}attached(){this.isAttached=!0,this.isInitialized=!0,this.slot=new u.ViewSlot(this.el.firstElementChild||this.el,!0),this.tq.queueMicroTask((()=>{this.tryCompile()}))}detached(){this.isAttached=!1,this.isCompiled&&this.cleanUp(),this.slot=null}htmlChanged(t,e){null!=t||this.isCleanedUp?(this.isBound||this.isInitialized)&&this.tq.queueMicroTask((()=>{this.tryCompile()})):this.cleanUp()}contextChanged(t,e){null==t&&this.overrideContext?this.bindingContext=this.overrideContext.bindingContext:this.bindingContext=t,(this.isBound||this.isInitialized)&&this.tq.queueMicroTask((()=>{this.tryCompile()}))}tryCompile(){if(this.isAttached){this.isCleanedUp||this.cleanUp();try{this.tq.queueMicroTask((()=>{this.compile()}))}catch(t){l.warn(t.message),this.renderErrors&&this.tq.queueMicroTask((()=>{this.compile(`<template>${t.message}</template>`)}))}}}cleanUp(){this.isCompiled=!1,l.debug("Cleaning up");const t=this.slot;try{t.detached()}catch(t){l.error(t.message)}try{t.unbind()}catch(t){l.error(t.message)}try{t.removeAll()}catch(t){l.error(t.message)}this.isCleanedUp=!0}compile(t){if(this.isCleanedUp||this.cleanUp(),(null===this.html||void 0===this.html)&&void 0===t)return void l.debug("Skipping compilation because no html value is set");this.isCleanedUp=!1;const e=`<template>${t||this.html}</template>`;l.debug("Compiling",e,this.bindingContext);const n=this.container.get(u.ViewResources),r=this.container.createChild(),i=this.viewCompiler.compile(e,n).create(r),o=this.slot;o.add(i),o.bind(this.bindingContext,this.overrideContext),o.attached(),this.dispatchCompiledEvent(),this.isCompiled=!0}dispatchCompiledEvent(){const t=new CustomEvent("compiled",{cancelable:!0,bubbles:!0,detail:this});this.el.dispatchEvent(t)}};a([Object(u.bindable)({defaultBindingMode:r.cb.toView}),c("design:type",Object)],h.prototype,"html",void 0),a([Object(u.bindable)({defaultBindingMode:r.cb.toView}),c("design:type",Object)],h.prototype,"context",void 0),a([Object(u.bindable)({defaultBindingMode:r.cb.toView}),c("design:type",Boolean)],h.prototype,"renderErrors",void 0),h=a([Object(u.customElement)("dynamic-html"),u.inlineView("<template><div></div></template>"),c("design:paramtypes",[Element,s.a,i.b,u.ViewCompiler])],h)},"aurelia-event-aggregator":function(t,e,n){"use strict";n.r(e),n.d(e,"EventAggregator",(function(){return s})),n.d(e,"includeEventsIn",(function(){return u})),n.d(e,"configure",(function(){return a}));const r=n("KKpb").getLogger("event-aggregator");function i(t,e,n){try{t(e,n)}catch(t){r.error(t)}}function o(t,e){try{t.handle(e)}catch(t){r.error(t)}}let s=class{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(t,e){let n,r;if(!t)throw new Error("Event was invalid.");if("string"==typeof t){if(n=this.eventLookup[t],n)for(n=n.slice(),r=n.length;r--;)i(n[r],e,t)}else for(n=this.messageHandlers.slice(),r=n.length;r--;)o(n[r],t)}subscribe(t,e){let n,r;if(!t)throw new Error("Event channel/type was invalid.");return"string"==typeof t?(n=e,r=this.eventLookup[t]||(this.eventLookup[t]=[])):(n=new class{constructor(t,e){this.messageType=t,this.callback=e}handle(t){t instanceof this.messageType&&this.callback.call(null,t)}}(t,e),r=this.messageHandlers),r.push(n),{dispose(){let t=r.indexOf(n);-1!==t&&r.splice(t,1)}}}subscribeOnce(t,e){let n=this.subscribe(t,((t,r)=>(n.dispose(),e(t,r))));return n}};function u(t){let e=new s;return t.subscribeOnce=function(t,n){return e.subscribeOnce(t,n)},t.subscribe=function(t,n){return e.subscribe(t,n)},t.publish=function(t,n){e.publish(t,n)},e}function a(t){t.instance(s,u(t.aurelia))}},"aurelia-framework":function(t,e,n){"use strict";n.r(e),n.d(e,"Aurelia",(function(){return d})),n.d(e,"FrameworkConfiguration",(function(){return w})),n.d(e,"LogManager",(function(){return C}));var r=n("KKpb"),i=n("OeXm"),o=n("489m"),s=n("SkM8"),u=n("xIXs"),a=n("n+sw");n.d(e,"_emptyParameters",(function(){return i.n})),n.d(e,"InvocationHandler",(function(){return i.e})),n.d(e,"Container",(function(){return i.b})),n.d(e,"autoinject",(function(){return i.p})),n.d(e,"inject",(function(){return i.s})),n.d(e,"invoker",(function(){return i.u})),n.d(e,"invokeAsFactory",(function(){return i.t})),n.d(e,"FactoryInvoker",(function(){return i.d})),n.d(e,"registration",(function(){return i.z})),n.d(e,"transient",(function(){return i.C})),n.d(e,"singleton",(function(){return i.B})),n.d(e,"TransientRegistration",(function(){return i.m})),n.d(e,"SingletonRegistration",(function(){return i.j})),n.d(e,"resolver",(function(){return i.A})),n.d(e,"Strategy",(function(){return i.k})),n.d(e,"StrategyResolver",(function(){return i.l})),n.d(e,"Lazy",(function(){return i.f})),n.d(e,"All",(function(){return i.a})),n.d(e,"Optional",(function(){return i.h})),n.d(e,"Parent",(function(){return i.i})),n.d(e,"Factory",(function(){return i.c})),n.d(e,"NewInstance",(function(){return i.g})),n.d(e,"getDecoratorDependencies",(function(){return i.r})),n.d(e,"lazy",(function(){return i.v})),n.d(e,"all",(function(){return i.o})),n.d(e,"optional",(function(){return i.x})),n.d(e,"parent",(function(){return i.y})),n.d(e,"factory",(function(){return i.q})),n.d(e,"newInstance",(function(){return i.w}));var c=n("NDtI");n.d(e,"targetContext",(function(){return c.Kb})),n.d(e,"sourceContext",(function(){return c.Ib})),n.d(e,"camelCase",(function(){return c.eb})),n.d(e,"createOverrideContext",(function(){return c.kb})),n.d(e,"getContextFor",(function(){return c.wb})),n.d(e,"createScopeForTest",(function(){return c.lb})),n.d(e,"connectable",(function(){return c.ib})),n.d(e,"enqueueBindingConnect",(function(){return c.sb})),n.d(e,"setConnectQueueThreshold",(function(){return c.Gb})),n.d(e,"enableConnectQueue",(function(){return c.rb})),n.d(e,"disableConnectQueue",(function(){return c.pb})),n.d(e,"getConnectQueueSize",(function(){return c.vb})),n.d(e,"subscriberCollection",(function(){return c.Jb})),n.d(e,"ExpressionObserver",(function(){return c.C})),n.d(e,"calcSplices",(function(){return c.db})),n.d(e,"mergeSplice",(function(){return c.Ab})),n.d(e,"projectArraySplices",(function(){return c.Eb})),n.d(e,"getChangeRecords",(function(){return c.ub})),n.d(e,"ModifyCollectionObserver",(function(){return c.K})),n.d(e,"CollectionLengthObserver",(function(){return c.s})),n.d(e,"getArrayObserver",(function(){return c.tb})),n.d(e,"Expression",(function(){return c.A})),n.d(e,"BindingBehavior",(function(){return c.h})),n.d(e,"ValueConverter",(function(){return c.Y})),n.d(e,"Assign",(function(){return c.e})),n.d(e,"Conditional",(function(){return c.u})),n.d(e,"AccessThis",(function(){return c.d})),n.d(e,"AccessScope",(function(){return c.c})),n.d(e,"AccessMember",(function(){return c.b})),n.d(e,"AccessKeyed",(function(){return c.a})),n.d(e,"CallScope",(function(){return c.p})),n.d(e,"CallMember",(function(){return c.o})),n.d(e,"CallFunction",(function(){return c.n})),n.d(e,"Binary",(function(){return c.f})),n.d(e,"Unary",(function(){return c.V})),n.d(e,"LiteralPrimitive",(function(){return c.H})),n.d(e,"LiteralString",(function(){return c.I})),n.d(e,"LiteralTemplate",(function(){return c.J})),n.d(e,"LiteralArray",(function(){return c.F})),n.d(e,"LiteralObject",(function(){return c.G})),n.d(e,"Unparser",(function(){return c.W})),n.d(e,"ExpressionCloner",(function(){return c.B})),n.d(e,"cloneExpression",(function(){return c.fb})),n.d(e,"bindingMode",(function(){return c.cb})),n.d(e,"Parser",(function(){return c.O})),n.d(e,"ParserImplementation",(function(){return c.P})),n.d(e,"getMapObserver",(function(){return c.xb})),n.d(e,"delegationStrategy",(function(){return c.ob})),n.d(e,"EventManager",(function(){return c.y})),n.d(e,"EventSubscriber",(function(){return c.z})),n.d(e,"DirtyChecker",(function(){return c.x})),n.d(e,"DirtyCheckProperty",(function(){return c.w})),n.d(e,"propertyAccessor",(function(){return c.Fb})),n.d(e,"PrimitiveObserver",(function(){return c.Q})),n.d(e,"SetterObserver",(function(){return c.T})),n.d(e,"XLinkAttributeObserver",(function(){return c.ab})),n.d(e,"dataAttributeAccessor",(function(){return c.mb})),n.d(e,"DataAttributeObserver",(function(){return c.v})),n.d(e,"StyleObserver",(function(){return c.U})),n.d(e,"ValueAttributeObserver",(function(){return c.X})),n.d(e,"CheckedObserver",(function(){return c.q})),n.d(e,"SelectValueObserver",(function(){return c.S})),n.d(e,"ClassObserver",(function(){return c.r})),n.d(e,"hasDeclaredDependencies",(function(){return c.zb})),n.d(e,"declarePropertyDependencies",(function(){return c.nb})),n.d(e,"computedFrom",(function(){return c.gb})),n.d(e,"ComputedExpression",(function(){return c.t})),n.d(e,"createComputedObserver",(function(){return c.jb})),n.d(e,"elements",(function(){return c.qb})),n.d(e,"presentationElements",(function(){return c.Db})),n.d(e,"presentationAttributes",(function(){return c.Cb})),n.d(e,"SVGAnalyzer",(function(){return c.R})),n.d(e,"ObserverLocator",(function(){return c.N})),n.d(e,"ObjectObservationAdapter",(function(){return c.M})),n.d(e,"BindingExpression",(function(){return c.k})),n.d(e,"Binding",(function(){return c.g})),n.d(e,"CallExpression",(function(){return c.m})),n.d(e,"Call",(function(){return c.l})),n.d(e,"ValueConverterResource",(function(){return c.Z})),n.d(e,"valueConverter",(function(){return c.Lb})),n.d(e,"BindingBehaviorResource",(function(){return c.i})),n.d(e,"bindingBehavior",(function(){return c.bb})),n.d(e,"ListenerExpression",(function(){return c.E})),n.d(e,"Listener",(function(){return c.D})),n.d(e,"NameExpression",(function(){return c.L})),n.d(e,"BindingEngine",(function(){return c.j})),n.d(e,"getSetObserver",(function(){return c.yb})),n.d(e,"observable",(function(){return c.Bb})),n.d(e,"connectBindingToSignal",(function(){return c.hb})),n.d(e,"signalBindings",(function(){return c.Hb}));var l=n("SGXf");n.d(e,"metadata",(function(){return l.d})),n.d(e,"Origin",(function(){return l.a})),n.d(e,"decorators",(function(){return l.b})),n.d(e,"deprecated",(function(){return l.c})),n.d(e,"mixin",(function(){return l.e})),n.d(e,"protocol",(function(){return l.f})),n.d(e,"animationEvent",(function(){return s.animationEvent})),n.d(e,"Animator",(function(){return s.Animator})),n.d(e,"CompositionTransactionNotifier",(function(){return s.CompositionTransactionNotifier})),n.d(e,"CompositionTransactionOwnershipToken",(function(){return s.CompositionTransactionOwnershipToken})),n.d(e,"CompositionTransaction",(function(){return s.CompositionTransaction})),n.d(e,"_hyphenate",(function(){return s._hyphenate})),n.d(e,"_isAllWhitespace",(function(){return s._isAllWhitespace})),n.d(e,"ViewEngineHooksResource",(function(){return s.ViewEngineHooksResource})),n.d(e,"viewEngineHooks",(function(){return s.viewEngineHooks})),n.d(e,"ElementEvents",(function(){return s.ElementEvents})),n.d(e,"ResourceLoadContext",(function(){return s.ResourceLoadContext})),n.d(e,"ViewCompileInstruction",(function(){return s.ViewCompileInstruction})),n.d(e,"BehaviorInstruction",(function(){return s.BehaviorInstruction})),n.d(e,"TargetInstruction",(function(){return s.TargetInstruction})),n.d(e,"viewStrategy",(function(){return s.viewStrategy})),n.d(e,"RelativeViewStrategy",(function(){return s.RelativeViewStrategy})),n.d(e,"ConventionalViewStrategy",(function(){return s.ConventionalViewStrategy})),n.d(e,"NoViewStrategy",(function(){return s.NoViewStrategy})),n.d(e,"TemplateRegistryViewStrategy",(function(){return s.TemplateRegistryViewStrategy})),n.d(e,"InlineViewStrategy",(function(){return s.InlineViewStrategy})),n.d(e,"StaticViewStrategy",(function(){return s.StaticViewStrategy})),n.d(e,"ViewLocator",(function(){return s.ViewLocator})),n.d(e,"BindingLanguage",(function(){return s.BindingLanguage})),n.d(e,"SlotCustomAttribute",(function(){return s.SlotCustomAttribute})),n.d(e,"PassThroughSlot",(function(){return s.PassThroughSlot})),n.d(e,"ShadowSlot",(function(){return s.ShadowSlot})),n.d(e,"ShadowDOM",(function(){return s.ShadowDOM})),n.d(e,"validateBehaviorName",(function(){return s.validateBehaviorName})),n.d(e,"ViewResources",(function(){return s.ViewResources})),n.d(e,"View",(function(){return s.View})),n.d(e,"ViewSlot",(function(){return s.ViewSlot})),n.d(e,"BoundViewFactory",(function(){return s.BoundViewFactory})),n.d(e,"ViewFactory",(function(){return s.ViewFactory})),n.d(e,"ViewCompiler",(function(){return s.ViewCompiler})),n.d(e,"ResourceModule",(function(){return s.ResourceModule})),n.d(e,"ResourceDescription",(function(){return s.ResourceDescription})),n.d(e,"ModuleAnalyzer",(function(){return s.ModuleAnalyzer})),n.d(e,"ViewEngine",(function(){return s.ViewEngine})),n.d(e,"Controller",(function(){return s.Controller})),n.d(e,"BehaviorPropertyObserver",(function(){return s.BehaviorPropertyObserver})),n.d(e,"BindableProperty",(function(){return s.BindableProperty})),n.d(e,"HtmlBehaviorResource",(function(){return s.HtmlBehaviorResource})),n.d(e,"children",(function(){return s.children})),n.d(e,"child",(function(){return s.child})),n.d(e,"SwapStrategies",(function(){return s.SwapStrategies})),n.d(e,"CompositionEngine",(function(){return s.CompositionEngine})),n.d(e,"ElementConfigResource",(function(){return s.ElementConfigResource})),n.d(e,"resource",(function(){return s.resource})),n.d(e,"behavior",(function(){return s.behavior})),n.d(e,"customElement",(function(){return s.customElement})),n.d(e,"customAttribute",(function(){return s.customAttribute})),n.d(e,"templateController",(function(){return s.templateController})),n.d(e,"bindable",(function(){return s.bindable})),n.d(e,"dynamicOptions",(function(){return s.dynamicOptions})),n.d(e,"useShadowDOM",(function(){return s.useShadowDOM})),n.d(e,"processAttributes",(function(){return s.processAttributes})),n.d(e,"processContent",(function(){return s.processContent})),n.d(e,"containerless",(function(){return s.containerless})),n.d(e,"useViewStrategy",(function(){return s.useViewStrategy})),n.d(e,"useView",(function(){return s.useView})),n.d(e,"inlineView",(function(){return s.inlineView})),n.d(e,"noView",(function(){return s.noView})),n.d(e,"view",(function(){return s.view})),n.d(e,"elementConfig",(function(){return s.elementConfig})),n.d(e,"viewResources",(function(){return s.viewResources})),n.d(e,"TemplatingEngine",(function(){return s.TemplatingEngine})),n.d(e,"TemplateDependency",(function(){return o.b})),n.d(e,"TemplateRegistryEntry",(function(){return o.c})),n.d(e,"Loader",(function(){return o.a}));var h=n("aWZo");n.d(e,"TaskQueue",(function(){return h.a})),n.d(e,"relativeToFile",(function(){return a.d})),n.d(e,"join",(function(){return a.b})),n.d(e,"buildQueryString",(function(){return a.a})),n.d(e,"parseQueryString",(function(){return a.c})),n.d(e,"AggregateError",(function(){return u.AggregateError})),n.d(e,"FEATURE",(function(){return u.FEATURE})),n.d(e,"PLATFORM",(function(){return u.PLATFORM})),n.d(e,"DOM",(function(){return u.DOM})),n.d(e,"isInitialized",(function(){return u.isInitialized})),n.d(e,"initializePAL",(function(){return u.initializePAL})),n.d(e,"reset",(function(){return u.reset}));let d=class t{constructor(e,n,a){this.loader=e||new u.PLATFORM.Loader,this.container=n||(new i.b).makeGlobal(),this.resources=a||new s.ViewResources,this.use=new w(this),this.logger=r.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(t,this),this.use.instance(o.a,this.loader),this.use.instance(s.ViewResources,this.resources)}start(){return this._started?this._started:(this.logger.info("Aurelia Starting"),this._started=this.use.apply().then((()=>{if(u.DOM.addEventListener("submit",(t=>{const e=t.target,n=e.action;"form"!==e.tagName.toLowerCase()||n||t.preventDefault()})),!this.container.hasResolver(s.BindingLanguage)){let t="You must configure Aurelia with a BindingLanguage implementation.";throw this.logger.error(t),new Error(t)}this.logger.info("Aurelia Started");let t=u.DOM.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return u.DOM.dispatchEvent(t),this})))}enhance(t={},e=null){return this._configureHost(e||u.DOM.querySelectorAll("body")[0]),new Promise((e=>{let n=this.container.get(s.TemplatingEngine);this.root=n.enhance({container:this.container,element:this.host,resources:this.resources,bindingContext:t}),this.root.attached(),this._onAureliaComposed(),e(this)}))}setRoot(t=null,e=null){let n={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(e);let r=this.container.get(s.TemplatingEngine);return delete this.container.get(s.CompositionTransaction).initialComposition,t||(t=this.configModuleId?Object(a.d)("./app",this.configModuleId):"app"),n.viewModel=t,n.container=n.childContainer=this.container,n.viewSlot=this.hostSlot,n.host=this.host,r.compose(n).then((t=>(this.root=t,n.viewSlot.attached(),this._onAureliaComposed(),this)))}_configureHost(t){if(!this.hostConfigured){if(t=t||this.host,this.host=t&&"string"!=typeof t?t:u.DOM.getElementById(t||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new s.ViewSlot(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(u.DOM.boundary,this.host)}}_onAureliaComposed(){let t=u.DOM.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout((()=>u.DOM.dispatchEvent(t)),1)}};const f=r.getLogger("aurelia"),g=/\.[^/.]+$/;function p(t,e){let n,r=()=>(n=e.shift(),n?Promise.resolve(n(t)).then(r):Promise.resolve());return r()}function v(t,e,n){if(0===Object.keys(e).length)return Promise.resolve();let r=t.container.get(s.ViewEngine);return Promise.all(Object.keys(e).map((n=>function(e){let n=e.moduleId,r=m(n);i(n)&&(n=o(n));return t.loader.normalize(n,e.relativeTo).then((t=>({name:e.moduleId,importId:i(e.moduleId)?u(t,r):t})))}(e[n])))).then((t=>{let e=[],i=[];return t.forEach((t=>{e.push(void 0),i.push(t.importId)})),r.importViewResources(i,e,n)}));function i(t){let e=m(t);return!!e&&(""!==e&&(".js"!==e&&".ts"!==e))}function o(t){return t.replace(g,"")}function u(t,e){return o(t)+"."+e}}function m(t){let e=t.match(g);if(e&&e.length>0)return e[0].split(".")[1]}function y(t){if(t.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}function b(t,e){return`Invalid ${e} [${t}], ${e} must be specified as functions or relative module IDs.`}let w=class{constructor(t){this.aurelia=t,this.container=t.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.behaviorsToLoad=[],this.configuredPlugins=[],this.resourcesToLoad={},this.preTask((()=>t.loader.normalize("aurelia-bootstrapper").then((t=>this.bootstrapperName=t)))),this.postTask((()=>v(t,this.resourcesToLoad,t.resources)))}instance(t,e){return this.container.registerInstance(t,e),this}singleton(t,e){return this.container.registerSingleton(t,e),this}transient(t,e){return this.container.registerTransient(t,e),this}preTask(t){return y(this),this.preTasks.push(t),this}postTask(t){return y(this),this.postTasks.push(t),this}feature(t,e={}){switch(typeof t){case"string":let n=/\/index$/i.test(t),r=n||m(t)?t:t+"/index",i=n?t.substr(0,t.length-6):t;this.info.push({moduleId:r,resourcesRelativeTo:[i,""],config:e});break;case"function":this.info.push({configure:t,config:e||{}});break;default:throw new Error(b(t,"feature"))}return this}globalResources(t){y(this);let e,n=Array.isArray(t)?t:arguments,r=this.resourcesRelativeTo||["",""];for(let t=0,i=n.length;t<i;++t)switch(e=n[t],typeof e){case"string":let t=r[0],n=r[1],i=e;(e.startsWith("./")||e.startsWith("../"))&&""!==t&&(i=Object(a.b)(t,e)),this.resourcesToLoad[i]={moduleId:i,relativeTo:n};break;case"function":let o=this.aurelia.resources.autoRegister(this.container,e);o instanceof s.HtmlBehaviorResource&&null!==o.elementName&&1===this.behaviorsToLoad.push(o)&&this.postTask((()=>{return t=this,Promise.all(t.behaviorsToLoad.map((e=>e.load(t.container,e.target)))).then((()=>{t.behaviorsToLoad=null}));var t}));break;default:throw new Error(b(e,"resource"))}return this}globalName(t,e){return y(this),this.resourcesToLoad[t]={moduleId:e,relativeTo:""},this}plugin(t,e){let n;switch(y(this),typeof t){case"string":n={moduleId:t,resourcesRelativeTo:[t,""],config:e||{}};break;case"function":n={configure:t,config:e||{}};break;default:throw new Error(b(t,"plugin"))}return this.info.push(n),this}_addNormalizedPlugin(t,e){let n={moduleId:t,resourcesRelativeTo:[t,""],config:e||{}};return this.info.push(n),this.preTask((()=>{let e=[t,this.bootstrapperName];return n.moduleId=t,n.resourcesRelativeTo=e,Promise.resolve()})),this}defaultBindingLanguage(){return this._addNormalizedPlugin("aurelia-templating-binding")}router(){return this._addNormalizedPlugin("aurelia-templating-router")}history(){return this._addNormalizedPlugin("aurelia-history-browser")}defaultResources(){return this._addNormalizedPlugin("aurelia-templating-resources")}eventAggregator(){return this._addNormalizedPlugin("aurelia-event-aggregator")}basicConfiguration(){return this.defaultBindingLanguage().defaultResources().eventAggregator()}standardConfiguration(){return this.basicConfiguration().history().router()}developmentLogging(t){let e=t?r.logLevel[t]:void 0;return void 0===e&&(e=r.logLevel.debug),this.preTask((()=>this.aurelia.loader.normalize("aurelia-logging-console",this.bootstrapperName).then((t=>this.aurelia.loader.loadModule(t).then((t=>{r.addAppender(new t.ConsoleAppender),r.setLevel(e)})))))),this}apply(){return this.processed?Promise.resolve():p(this,this.preTasks).then((()=>{let t,e=this.aurelia.loader,n=this.info,r=()=>(t=n.shift(),t?function(t,e,n){if(f.debug(`Loading plugin ${n.moduleId}.`),"string"==typeof n.moduleId){t.resourcesRelativeTo=n.resourcesRelativeTo;let i=n.moduleId;return n.resourcesRelativeTo.length>1?e.normalize(n.moduleId,n.resourcesRelativeTo[1]).then((t=>r(t))):r(i)}if("function"==typeof n.configure)return-1!==t.configuredPlugins.indexOf(n.configure)?Promise.resolve():(t.configuredPlugins.push(n.configure),Promise.resolve(n.configure.call(null,t,n.config||{})));throw new Error(b(n.moduleId||n.configure,"plugin"));function r(r){return e.loadModule(r).then((e=>{if("configure"in e)return-1!==t.configuredPlugins.indexOf(e.configure)?Promise.resolve():Promise.resolve(e.configure(t,n.config||{})).then((()=>{t.configuredPlugins.push(e.configure),t.resourcesRelativeTo=null,f.debug(`Configured plugin ${n.moduleId}.`)}));t.resourcesRelativeTo=null,f.debug(`Loaded plugin ${n.moduleId}.`)}))}}(this,e,t).then(r):(this.processed=!0,this.configuredPlugins=null,Promise.resolve()));return r().then((()=>p(this,this.postTasks)))}))}};const C=r},"aurelia-history-browser":function(t,e,n){"use strict";n.d(e,"configure",(function(){return f}));var r=n("UOa9"),i=n("xIXs");class o{activate(t){}deactivate(){}}class s extends o{constructor(){super(),this.handler=t=>{let{shouldHandleEvent:e,href:n}=s.getEventInfo(t);e&&(t.preventDefault(),this.history.navigate(n))}}activate(t){t._hasPushState&&(this.history=t,i.DOM.addEventListener("click",this.handler,!0))}deactivate(){i.DOM.removeEventListener("click",this.handler,!0)}static getEventInfo(t){let e=t,n={shouldHandleEvent:!1,href:null,anchor:null},r=s.findClosestAnchor(e.target);if(!r||!s.targetIsThisWindow(r))return n;if(u(r,"download")||u(r,"router-ignore")||u(r,"data-router-ignore"))return n;if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return n;let i=r.getAttribute("href");n.anchor=r,n.href=i;let o=1===e.which,a=i&&!("#"===i.charAt(0)||/^[a-z]+:/i.test(i));return n.shouldHandleEvent=o&&a,n}static findClosestAnchor(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}}static targetIsThisWindow(t){let e=t.getAttribute("target"),n=i.PLATFORM.global;return!e||e===n.name||"_self"===e}}const u=(t,e)=>t.hasAttribute(e);class a extends r.a{constructor(t){super(),this._isActive=!1,this._checkUrlCallback=this._checkUrl.bind(this),this.location=i.PLATFORM.location,this.history=i.PLATFORM.history,this.linkHandler=t}activate(t){if(this._isActive)throw new Error("History has already been activated.");let e=this.history,n=!!t.pushState;this._isActive=!0;let r,o=this.options=Object.assign({},{root:"/"},this.options,t),s=this.root=("/"+o.root+"/").replace(l,"/"),u=this._wantsHashChange=!1!==o.hashChange,a=this._hasPushState=!!(o.pushState&&e&&e.pushState);if(a?r="popstate":u&&(r="hashchange"),i.PLATFORM.addEventListener(r,this._checkUrlCallback),u&&n){let t=this.location,n=t.pathname.replace(/[^\/]$/,"$&/")===s;if(!a&&!n){let e=this.fragment=this._getFragment(null,!0);return t.replace(s+t.search+"#"+e),!0}if(a&&n&&t.hash){let n=this.fragment=this._getHash().replace(c,"");e.replaceState({},i.DOM.title,s+n+t.search)}}if(this.fragment||(this.fragment=this._getFragment("")),this.linkHandler.activate(this),!o.silent)return this._loadUrl("")}deactivate(){const t=this._checkUrlCallback;i.PLATFORM.removeEventListener("popstate",t),i.PLATFORM.removeEventListener("hashchange",t),this._isActive=!1,this.linkHandler.deactivate()}getAbsoluteRoot(){let t=this.location;var e,n,r;return`${e=t.protocol,n=t.hostname,r=t.port,`${e}//${n}${r?":"+r:""}`}${this.root}`}navigate(t,{trigger:e=!0,replace:n=!1}={}){let r=this.location;if(t&&d.test(t))return r.href=t,!0;if(!this._isActive)return!1;if(t=this._getFragment(t||""),this.fragment===t&&!n)return!1;this.fragment=t;let o=this.root+t;return""===t&&"/"!==o&&(o=o.slice(0,-1)),this._hasPushState?(o=o.replace("//","/"),this.history[n?"replaceState":"pushState"]({},i.DOM.title,o)):this._wantsHashChange?function(t,e,n){if(n){let n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}(r,t,n):r.assign(o),!e||this._loadUrl(t)}navigateBack(){this.history.back()}setTitle(t){i.DOM.title=t}setState(t,e){let n=this.history,r=Object.assign({},n.state),{pathname:i,search:o,hash:s}=this.location;r[t]=e,n.replaceState(r,null,`${i}${o}${s}`)}getState(t){return Object.assign({},this.history.state)[t]}getHistoryIndex(){let t=this.getState("HistoryIndex");return void 0===t&&(t=this.history.length-1,this.setState("HistoryIndex",t)),t}go(t){this.history.go(t)}_getHash(){return this.location.hash.substr(1)}_getFragment(t,e){let n;if(!t)if(this._hasPushState||!this._wantsHashChange||e){let e=this.location;t=e.pathname+e.search,n=this.root.replace(h,""),t.indexOf(n)||(t=t.substr(n.length))}else t=this._getHash();return"/"+t.replace(c,"")}_checkUrl(){this._getFragment("")!==this.fragment&&this._loadUrl("")}_loadUrl(t){let e=this.fragment=this._getFragment(t);return!!this.options.routeHandler&&this.options.routeHandler(e)}}a.inject=[o];const c=/^#?\/*|\s+$/g,l=/^\/+|\/+$/g,h=/\/$/,d=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function f(t){const e=t;e.singleton(r.a,a),e.transient(o,s)}}}]);
//# sourceMappingURL=vendors~556c66f2.99ce9c53e254eba83de1.bundle.map