/*! For license information please see vendors~ecff2e3d.049cac71e3855aa394c5.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{aWZo:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("xIXs");function n(e){return function(){let t=setTimeout(s,0),i=setInterval(s,50);function s(){clearTimeout(t),clearInterval(i),e()}}}let r=class{constructor(){this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],s.FEATURE.mutationObserver?this.requestFlushMicroTaskQueue=function(e){let t=s.DOM.createMutationObserver(e),i="a",n=s.DOM.createTextNode("a"),r=Object.create(null);return r.a="b",r.b="a",t.observe(n,{characterData:!0}),function(){n.data=i=r[i]}}((()=>this.flushMicroTaskQueue())):this.requestFlushMicroTaskQueue=n((()=>this.flushMicroTaskQueue())),this.requestFlushTaskQueue=n((()=>this.flushTaskQueue()))}_flushQueue(e,t){let i,s=0;try{for(this.flushing=!0;s<e.length;)if(i=e[s],this.longStacks&&(this.stack="string"==typeof i.stack?i.stack:void 0),i.call(),s++,s>t){for(let t=0,i=e.length-s;t<i;t++)e[t]=e[t+s];e.length-=s,s=0}}catch(e){!function(e,t,i){i&&t.stack&&"object"==typeof e&&null!==e&&(e.stack=o(e.stack)+t.stack),"onError"in t?t.onError(e):setTimeout((()=>{throw e}),0)}(e,i,this.longStacks)}finally{this.flushing=!1}}queueMicroTask(e){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.longStacks&&(e.stack=this.prepareQueueStack("\nEnqueued in MicroTaskQueue by:\n")),this.microTaskQueue.push(e)}queueTask(e){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.longStacks&&(e.stack=this.prepareQueueStack("\nEnqueued in TaskQueue by:\n")),this.taskQueue.push(e)}flushTaskQueue(){let e=this.taskQueue;this.taskQueue=[],this._flushQueue(e,Number.MAX_VALUE)}flushMicroTaskQueue(){let e=this.microTaskQueue;this._flushQueue(e,this.microTaskQueueCapacity),e.length=0}prepareQueueStack(e){let t=e+function(e){return e.replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,"")}(function(){let e=new Error;if(e.stack)return e.stack;try{throw e}catch(e){return e.stack}}());return"string"==typeof this.stack&&(t=o(t)+this.stack),t}};function o(e){let t=e.lastIndexOf("flushMicroTaskQueue");return t<0&&(t=e.lastIndexOf("flushTaskQueue"),t<0)?e:(t=e.lastIndexOf("\n",t),t<0?e:e.substr(0,t))}},"aurelia-templating-binding":function(e,t,i){"use strict";i.d(t,"configure",(function(){return M}));var s,n,r,o,a,l,c,u,h=i("KKpb"),d=i("NDtI"),b=i("SkM8");let p=(n=s=class{constructor(e){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=e,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("img","usemap","useMap"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}register(e,t,i){e=e.toLowerCase(),t=t.toLowerCase();(this.elements[e]=this.elements[e]||Object.create(null))[t]=i}registerUniversal(e,t){e=e.toLowerCase(),this.allElements[e]=t}map(e,t){if(this.svg.isStandardSvgAttribute(e,t))return t;e=e.toLowerCase(),t=t.toLowerCase();const i=this.elements[e];return void 0!==i&&t in i?i[t]:t in this.allElements?this.allElements[t]:/(?:^data-)|(?:^aria-)|:/.test(t)?t:Object(d.eb)(t)}},s.inject=[d.R],n),g=class{constructor(e,t,i,s,n,r){this.observerLocator=e,this.targetProperty=t,this.parts=i,this.mode=s,this.lookupFunctions=n,this.attribute=this.attrToRemove=r,this.discrete=!1}createBinding(e){return 3===this.parts.length?new v(e,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new w(this.observerLocator,this.parts,e,this.targetProperty,this.mode,this.lookupFunctions)}};function m(e,t){if("style"===t)h.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(e.parentElement&&"TEXTAREA"===e.parentElement.nodeName&&"textContent"===t)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}let w=class{constructor(e,t,i,s,n,r){m(i,s),this.observerLocator=e,this.parts=t,this.target=i,this.targetProperty=s,this.targetAccessor=e.getAccessor(i,s),this.mode=n,this.lookupFunctions=r}interpolate(){if(this.isBound){let e="",t=this.parts;for(let i=0,s=t.length;i<s;i++)e+=i%2==0?t[i]:this["childBinding"+i].value;this.targetAccessor.setValue(e,this.target,this.targetProperty)}}updateOneTimeBindings(){for(let e=1,t=this.parts.length;e<t;e+=2){let t=this["childBinding"+e];t.mode===d.cb.oneTime&&t.call()}}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.source=e;let t=this.parts;for(let i=1,s=t.length;i<s;i+=2){let s=new v(this,this.observerLocator,t[i],this.mode,this.lookupFunctions);s.bind(e),this["childBinding"+i]=s}this.isBound=!0,this.interpolate()}unbind(){if(!this.isBound)return;this.isBound=!1,this.source=null;for(let e=1,t=this.parts.length;e<t;e+=2){this["childBinding"+e].unbind()}}},v=Object(d.ib)()(r=class{constructor(e,t,i,s,n,r,o,a){e instanceof w?this.parent=e:(m(e,r),this.target=e,this.targetProperty=r,this.targetAccessor=t.getAccessor(e,r)),this.observerLocator=t,this.sourceExpression=i,this.mode=s,this.lookupFunctions=n,this.left=o,this.right=a}updateTarget(e){(e=null==e?"":e.toString())!==this.value&&(this.value=e,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+e+this.right,this.target,this.targetProperty))}call(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==d.cb.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e;let t=this.sourceExpression;t.bind&&t.bind(this,e,this.lookupFunctions),this.rawValue=t.evaluate(e,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===d.cb.oneWay&&Object(d.sb)(this)}unbind(){if(!this.isBound)return;this.isBound=!1;let e=this.sourceExpression;e.unbind&&e.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}connect(e){this.isBound&&(e&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))}})||r,f=class{constructor(e,t,i,s,n){this.observerLocator=e,this.sourceExpression=i,this.targetProperty=t,this.lookupFunctions=s,this.toBindingContext=n}createBinding(){return new y(this.observerLocator,this.sourceExpression,this.targetProperty,this.lookupFunctions,this.toBindingContext)}},y=Object(d.ib)()(o=class{constructor(e,t,i,s,n){this.observerLocator=e,this.sourceExpression=t,this.targetProperty=i,this.lookupFunctions=s,this.source=null,this.target=null,this.toBindingContext=n}updateTarget(){const e=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.target[this.targetProperty]=e}call(e){if(this.isBound){if(e!==d.Ib)throw new Error("Unexpected call context "+e);this.updateTarget()}}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.target=this.toBindingContext?e.bindingContext:e.overrideContext,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),Object(d.sb)(this)}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.target=null,this.unobserve(!0))}connect(){this.isBound&&(this.updateTarget(),this.sourceExpression.connect(this,this.source))}})||o,C=class{constructor(e,t,i,s,n){this.observerLocator=e,this.targetProperty=t,this.parts=i,this.lookupFunctions=s,this.toBindingContext=n}createBinding(){return new x(this.observerLocator,this.targetProperty,this.parts,this.lookupFunctions,this.toBindingContext)}},x=class{constructor(e,t,i,s,n){this.observerLocator=e,this.parts=i,this.targetProperty=t,this.lookupFunctions=s,this.toBindingContext=n,this.target=null}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.target=this.toBindingContext?e.bindingContext:e.overrideContext,this.interpolationBinding=this.createInterpolationBinding(),this.interpolationBinding.bind(e)}unbind(){this.isBound&&(this.isBound=!1,this.source=null,this.target=null,this.interpolationBinding.unbind(),this.interpolationBinding=null)}createInterpolationBinding(){return 3===this.parts.length?new v(this.target,this.observerLocator,this.parts[1],d.cb.oneWay,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new w(this.observerLocator,this.parts,this.target,this.targetProperty,d.cb.oneWay,this.lookupFunctions)}},k=(l=a=class{constructor(e,t,i,s){this.parser=e,this.observerLocator=t,this.eventManager=i,this.attributeMap=s}interpret(e,t,i,s,n){return i.command in this?this[i.command](e,t,i,s,n):this.handleUnknownCommand(e,t,i,s,n)}handleUnknownCommand(e,t,i,s,n){return h.getLogger("templating-binding").warn("Unknown binding command.",i),s}determineDefaultBindingMode(e,t,i){let s=e.tagName.toLowerCase();return"input"===s&&("value"===t||"files"===t)&&"checkbox"!==e.type&&"radio"!==e.type||"input"===s&&"checked"===t&&("checkbox"===e.type||"radio"===e.type)||("textarea"===s||"select"===s)&&"value"===t||("textcontent"===t||"innerhtml"===t)&&"true"===e.contentEditable||"scrolltop"===t||"scrollleft"===t?d.cb.twoWay:i&&t in i.attributes&&i.attributes[t]&&i.attributes[t].defaultBindingMode>=d.cb.oneTime?i.attributes[t].defaultBindingMode:d.cb.oneWay}bind(e,t,i,s,n){let r=s||b.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new d.k(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),void 0===i.defaultBindingMode||null===i.defaultBindingMode?this.determineDefaultBindingMode(t,i.attrName,n):i.defaultBindingMode,e.lookupFunctions),r}trigger(e,t,i){return new d.E(this.eventManager,i.attrName,this.parser.parse(i.attrValue),d.ob.none,!0,e.lookupFunctions)}capture(e,t,i){return new d.E(this.eventManager,i.attrName,this.parser.parse(i.attrValue),d.ob.capturing,!0,e.lookupFunctions)}delegate(e,t,i){return new d.E(this.eventManager,i.attrName,this.parser.parse(i.attrValue),d.ob.bubbling,!0,e.lookupFunctions)}call(e,t,i,s){let n=s||b.BehaviorInstruction.attribute(i.attrName);return n.attributes[i.attrName]=new d.m(this.observerLocator,i.attrName,this.parser.parse(i.attrValue),e.lookupFunctions),n}options(e,t,i,s,n){let r,o,a,l=s||b.BehaviorInstruction.attribute(i.attrName),c=i.attrValue,u=this.language,h=null,d="",p=!1,g=!1,m=!1;for(o=0,a=c.length;o<a;++o){if(r=c[o],";"!==r||p)if(":"===r&&null===h)m=!0,h=d.trim(),d="";else{if("\\"===r){d+=r,g=!0;continue}d+=r,null!==h&&!1===g&&"'"===r&&(p=!p)}else m||(h=this._getPrimaryPropertyName(e,n)),i=u.inspectAttribute(e,"?",h,d.trim()),u.createAttributeInstruction(e,t,i,l,n),l.attributes[i.attrName]||(l.attributes[i.attrName]=i.attrValue),d="",h=null;g=!1}return m||(h=this._getPrimaryPropertyName(e,n)),null!==h&&(i=u.inspectAttribute(e,"?",h,d.trim()),u.createAttributeInstruction(e,t,i,l,n),l.attributes[i.attrName]||(l.attributes[i.attrName]=i.attrValue)),l}_getPrimaryPropertyName(e,t){let i=e.getAttribute(t.attributeName);return i&&i.primaryProperty?i.primaryProperty.attribute:null}for(e,t,i,s){let n,r,o,a,l;if(a=i.attrValue,l=a.match(/^ *[[].+[\]]/),n=l?a.split("of "):a.split(" of "),2!==n.length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return o=s||b.BehaviorInstruction.attribute(i.attrName),l?(r=n[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),o.attributes.key=r[0],o.attributes.value=r[1]):o.attributes.local=n[0],o.attributes.items=new d.k(this.observerLocator,"items",this.parser.parse(n[1]),d.cb.oneWay,e.lookupFunctions),o}"two-way"(e,t,i,s){let n=s||b.BehaviorInstruction.attribute(i.attrName);return n.attributes[i.attrName]=new d.k(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),d.cb.twoWay,e.lookupFunctions),n}"to-view"(e,t,i,s){let n=s||b.BehaviorInstruction.attribute(i.attrName);return n.attributes[i.attrName]=new d.k(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),d.cb.toView,e.lookupFunctions),n}"from-view"(e,t,i,s){let n=s||b.BehaviorInstruction.attribute(i.attrName);return n.attributes[i.attrName]=new d.k(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),d.cb.fromView,e.lookupFunctions),n}"one-time"(e,t,i,s){let n=s||b.BehaviorInstruction.attribute(i.attrName);return n.attributes[i.attrName]=new d.k(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),d.cb.oneTime,e.lookupFunctions),n}},a.inject=[d.O,d.N,d.y,p],l);k.prototype["one-way"]=k.prototype["to-view"];let O={},V=(u=c=class extends b.BindingLanguage{constructor(e,t,i,s){super(),this.parser=e,this.observerLocator=t,this.syntaxInterpreter=i,this.emptyStringExpression=this.parser.parse("''"),i.language=this,this.attributeMap=s,this.toBindingContextAttr="to-binding-context"}inspectAttribute(e,t,i,s){let n=i.split(".");if(O.defaultBindingMode=null,2===n.length)O.attrName=n[0].trim(),O.attrValue=s,O.command=n[1].trim(),"ref"===O.command?(O.expression=new d.L(this.parser.parse(s),O.attrName,e.lookupFunctions),O.command=null,O.attrName="ref"):O.expression=null;else if("ref"===i)O.attrName=i,O.attrValue=s,O.command=null,O.expression=new d.L(this.parser.parse(s),"element",e.lookupFunctions);else{O.attrName=i,O.attrValue=s,O.command=null;const n=this.parseInterpolation(e,s);O.expression=null===n?null:new g(this.observerLocator,this.attributeMap.map(t,i),n,d.cb.oneWay,e.lookupFunctions,i)}return O}createAttributeInstruction(e,t,i,s,n){let r;if(i.expression){if("ref"===i.attrName)return i.expression;r=s||b.BehaviorInstruction.attribute(i.attrName),r.attributes[i.attrName]=i.expression}else i.command&&(r=this.syntaxInterpreter.interpret(e,t,i,s,n));return r}createLetExpressions(e,t){let i,s,n,r,o,a=[],l=t.attributes,c=this.toBindingContextAttr,u=t.hasAttribute(c);for(let t=0,b=l.length;b>t;++t)if(i=l[t],n=i.name,r=i.nodeValue,s=n.split("."),n!==c)if(2===s.length){if(o=s[1],"bind"!==o){h.getLogger("templating-binding-language").warn(`Detected invalid let command. Expected "${s[0]}.bind", given "${n}"`);continue}a.push(new f(this.observerLocator,Object(d.eb)(s[0]),this.parser.parse(r),e.lookupFunctions,u))}else n=Object(d.eb)(n),s=this.parseInterpolation(e,r),null===s&&h.getLogger("templating-binding-language").warn(`Detected string literal in let bindings. Did you mean "${n}.bind=${r}" or "${n}=\${${r}}" ?`),s?a.push(new C(this.observerLocator,n,s,e.lookupFunctions,u)):a.push(new f(this.observerLocator,n,new d.I(r),e.lookupFunctions,u));return a}inspectTextContent(e,t){const i=this.parseInterpolation(e,t);return null===i?null:new g(this.observerLocator,"textContent",i,d.cb.oneWay,e.lookupFunctions,"textContent")}parseInterpolation(e,t){let i,s,n,r=t.indexOf("${",0),o=t.length,a=0,l=0,c=null,u=0;for(;r>=0&&r<o-2;){l=1,s=r,r+=2;do{i=t[r],r++,"'"!==i&&'"'!==i?"\\"!==i?null===c&&("{"===i?l++:"}"===i&&l--):r++:null===c?c=i:c===i&&(c=null)}while(l>0&&r<o);if(0!==l)break;n=n||[],"\\"===t[s-1]&&"\\"!==t[s-2]?(n[u]=t.substring(a,s-1)+t.substring(s,r),u++,n[u]=this.emptyStringExpression,u++):(n[u]=t.substring(a,s),u++,n[u]=this.parser.parse(t.substring(s+2,r-1)),u++),a=r,r=t.indexOf("${",r)}return 0===u?null:(n[u]=t.substr(a),n)}},c.inject=[d.O,d.N,k,p],u);function M(e){e.container.registerSingleton(b.BindingLanguage,V),e.container.registerAlias(b.BindingLanguage,V)}},"aurelia-templating-resources":function(e,t,i){"use strict";i.d(t,"a",(function(){return we})),i.d(t,"b",(function(){return ve})),i.d(t,"configure",(function(){return xe}));var s,n=i("OeXm"),r=i("xIXs"),o=i("aWZo"),a=i("SkM8"),l=i("NDtI"),c=i("KKpb"),u=i("489m"),h=i("n+sw"),d=i("SGXf");function b(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}!function(e){e.InvokeLifecycle="invoke-lifecycle",e.Replace="replace"}(s||(s={}));let p=class{constructor(e,t,i,n,r,o){this.activationStrategy=s.InvokeLifecycle,this.element=e,this.container=t,this.compositionEngine=i,this.viewSlot=n,this.viewResources=r,this.taskQueue=o,this.currentController=null,this.currentViewModel=null,this.changes=Object.create(null)}static inject(){return[r.DOM.Element,n.b,a.CompositionEngine,a.ViewSlot,a.ViewResources,o.a]}created(e){this.owningView=e}bind(e,t){this.bindingContext=e,this.overrideContext=t;let i=this.changes;i.view=this.view,i.viewModel=this.viewModel,i.model=this.model,this.pendingTask||g(this)}unbind(){this.changes=Object.create(null),this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)}modelChanged(e,t){this.changes.model=e,w(this)}viewChanged(e,t){this.changes.view=e,w(this)}viewModelChanged(e,t){this.changes.viewModel=e,w(this)}};function g(e){const t=e.changes;if(e.changes=Object.create(null),function(e,t){let i=e.activationStrategy;const n=e.currentViewModel;n&&"function"==typeof n.determineActivationStrategy&&(i=n.determineActivationStrategy());return"view"in t||"viewModel"in t||i===s.Replace}(e,t)){let i={view:e.view,viewModel:e.currentViewModel||e.viewModel,model:e.model};i=Object.assign(i,t),i=function(e,t){return Object.assign(t,{bindingContext:e.bindingContext,overrideContext:e.overrideContext,owningView:e.owningView,container:e.container,viewSlot:e.viewSlot,viewResources:e.viewResources,currentController:e.currentController,host:e.element,swapOrder:e.swapOrder})}(e,i),e.pendingTask=e.compositionEngine.compose(i).then((t=>{e.currentController=t,e.currentViewModel=t?t.viewModel:null}))}else if(e.pendingTask=function(e,t){if(e&&"function"==typeof e.activate)return Promise.resolve(e.activate(t))}(e.currentViewModel,t.model),!e.pendingTask)return;e.pendingTask=e.pendingTask.then((()=>{m(e)}),(t=>{throw m(e),t}))}function m(e){e.pendingTask=null,function(e){for(const t in e)return!1;return!0}(e.changes)||g(e)}function w(e){e.pendingTask||e.updateRequested||(e.updateRequested=!0,e.taskQueue.queueMicroTask((()=>{e.updateRequested=!1,g(e)})))}b([a.bindable],p.prototype,"model",void 0),b([a.bindable],p.prototype,"view",void 0),b([a.bindable],p.prototype,"viewModel",void 0),b([a.bindable],p.prototype,"activationStrategy",void 0),b([a.bindable],p.prototype,"swapOrder",void 0),p=b([a.noView,Object(a.customElement)("compose")],p);class v{constructor(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null,this.bindingContext=null,this.overrideContext=null,this.showing=!1,this.cache=!0}bind(e,t){this.bindingContext=e,this.overrideContext=t}unbind(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing?(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)):this.view.returnToCache(),this.view=null))}_show(){if(!this.showing)return null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing=!0,this.viewSlot.add(this.view);this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext)}_hide(){if(!this.showing)return;this.showing=!1;let e=this.viewSlot.remove(this.view);if(e instanceof Promise)return e.then((()=>{this._unbindView()}));this._unbindView()}_unbindView(){const e="false"!==this.cache&&!!this.cache;this.view.unbind(),e||(this.view=null)}}let f=class extends v{constructor(){super(...arguments),this.cache=!0}bind(e,t){super.bind(e,t),this.condition?this._show():this._hide()}conditionChanged(e){this._update(e)}_update(e){if(this.animating)return;let t;t=this.elseVm?e?this._swap(this.elseVm,this):this._swap(this,this.elseVm):e?this._show():this._hide(),t&&(this.animating=!0,t.then((()=>{this.animating=!1,this.condition!==this.showing&&this._update(this.condition)})))}_swap(e,t){switch(this.swapOrder){case"before":return Promise.resolve(t._show()).then((()=>e._hide()));case"with":return Promise.all([e._hide(),t._show()]);default:let i=e._hide();return i?i.then((()=>t._show())):t._show()}}};b([Object(a.bindable)({primaryProperty:!0})],f.prototype,"condition",void 0),b([a.bindable],f.prototype,"swapOrder",void 0),b([a.bindable],f.prototype,"cache",void 0),f=b([Object(a.customAttribute)("if"),a.templateController,Object(n.s)(a.BoundViewFactory,a.ViewSlot)],f);let y=class extends v{constructor(e,t){super(e,t),this._registerInIf()}bind(e,t){super.bind(e,t),this.ifVm.condition?this._hide():this._show()}_registerInIf(){let e=this.viewSlot.anchor.previousSibling;for(;e&&!e.au;)e=e.previousSibling;if(!e||!e.au.if)throw new Error("Can't find matching If for Else custom attribute.");this.ifVm=e.au.if.viewModel,this.ifVm.elseVm=this}};y=b([Object(a.customAttribute)("else"),a.templateController,Object(n.s)(a.BoundViewFactory,a.ViewSlot)],y);let C=class{constructor(e,t){this.viewFactory=e,this.viewSlot=t,this.parentOverrideContext=null,this.view=null}bind(e,t){this.parentOverrideContext=t,this.valueChanged(this.value)}valueChanged(e){let t=Object(l.kb)(e,this.parentOverrideContext),i=this.view;i?i.bind(e,t):(i=this.view=this.viewFactory.create(),i.bind(e,t),this.viewSlot.add(i))}unbind(){let e=this.view;this.parentOverrideContext=null,e&&e.unbind()}};C=b([Object(a.customAttribute)("with"),a.templateController,Object(n.s)(a.BoundViewFactory,a.ViewSlot)],C);const x=l.cb.oneTime;function k(e,t){let i=e.length;for(t>0&&(t-=1);t<i;++t)V(e[t].overrideContext,t,i)}function O(e,t,i,s,n){let r={},o=Object(l.kb)(r,e.scope.overrideContext);return void 0!==n?(r[e.key]=n,r[e.value]=t):r[e.local]=t,V(o,i,s),o}function V(e,t,i){let s=0===t,n=t===i-1,r=t%2==0;e.$index=t,e.$first=s,e.$last=n,e.$middle=!(s||n),e.$odd=!r,e.$even=r}function M(e){e.call&&e.mode===x?e.call(l.Ib):e.updateOneTimeBindings&&e.updateOneTimeBindings()}function S(e,t,i,s){if(!i)return e.indexOf(t);const n=e.length;for(let r=s||0;r<n;r++)if(i(e[r],t))return r;return-1}class _{getCollectionObserver(e,t){return e.getArrayObserver(t)}instanceChanged(e,t){const i=e,s=t.length;if(!t||0===s)return void i.removeAllViews(!0,!i.viewsRequireLifecycle);const n=i.views(),r=n.length;if(0!==r)if(i.viewsRequireLifecycle){const e=n.slice(0),o=i.local,a=i.matcher();let l=[];const c=[];for(let i=0;i<r;i++){const s=e[i],n=s.bindingContext[o];-1===S(t,n,a)?c.push(s):l.push(n)}let u,h;l.length>0?(h=i.removeViews(c,!0,!i.viewsRequireLifecycle),u=()=>{for(let e=0;e<s;e++){const r=t[e],o=S(l,r,a,e);let c;if(-1===o){const n=O(i,t[e],e,s);i.insertView(e,n.bindingContext,n),l.splice(e,0,void 0)}else o===e?(c=n[o],l[o]=void 0):(c=n[o],i.moveView(o,e),l.splice(o,1),l.splice(e,0,void 0));c&&V(c.overrideContext,e,s)}this._inPlaceProcessItems(i,t)}):(h=i.removeAllViews(!0,!i.viewsRequireLifecycle),u=()=>this._standardProcessInstanceChanged(i,t)),h instanceof Promise?h.then(u):u()}else this._inPlaceProcessItems(i,t);else this._standardProcessInstanceChanged(i,t)}_standardProcessInstanceChanged(e,t){for(let i=0,s=t.length;i<s;i++){let n=O(e,t[i],i,s);e.addView(n.bindingContext,n)}}_inPlaceProcessItems(e,t){let i=t.length,s=e.viewCount();for(;s>i;)s--,e.removeView(s,!0,!e.viewsRequireLifecycle);let n=e.local;for(let r=0;r<s;r++){let s=e.view(r),o=r===i-1,a=0!==r&&!o,l=s.bindingContext,c=s.overrideContext;l[n]===t[r]&&c.$middle===a&&c.$last===o||(l[n]=t[r],c.$middle=a,c.$last=o,e.updateBindings(s))}for(let n=s;n<i;n++){let s=O(e,t[n],n,i);e.addView(s.bindingContext,s)}}instanceMutated(e,t,i){if(e.__queuedSplices){for(let t=0,s=i.length;t<s;++t){let{index:s,removed:n,addedCount:r}=i[t];Object(l.Ab)(e.__queuedSplices,s,n,r)}return void(e.__array=t.slice(0))}let s=this._runSplices(e,t.slice(0),i);if(s instanceof Promise){let t=e.__queuedSplices=[],i=()=>{if(!t.length)return e.__queuedSplices=void 0,void(e.__array=void 0);let s=this._runSplices(e,e.__array,t)||Promise.resolve();t=e.__queuedSplices=[],s.then(i)};s.then(i)}}_runSplices(e,t,i){let s=0,n=[];for(let t=0,r=i.length;t<r;++t){let r=i[t];for(let t=0,i=r.removed.length;t<i;++t){let t=e.removeView(r.index+s+n.length,!0);t instanceof Promise&&n.push(t)}s-=r.addedCount}if(n.length>0)return Promise.all(n).then((()=>{let s=this._handleAddedSplices(e,t,i);k(e.views(),s)}));let r=this._handleAddedSplices(e,t,i);k(e.views(),r)}_handleAddedSplices(e,t,i){let s,n,r=t.length;for(let o=0,a=i.length;o<a;++o){let a=i[o],l=s=a.index,c=a.index+a.addedCount;for((null==n||n>a.index)&&(n=s);l<c;++l){let i=O(e,t[l],l,r);e.insertView(l,i.bindingContext,i)}}return n}}class E{getCollectionObserver(e,t){return e.getMapObserver(t)}instanceChanged(e,t){let i=e.removeAllViews(!0,!e.viewsRequireLifecycle);i instanceof Promise?i.then((()=>this._standardProcessItems(e,t))):this._standardProcessItems(e,t)}_standardProcessItems(e,t){let i,s=0;t.forEach(((n,r)=>{i=O(e,n,s,t.size,r),e.addView(i.bindingContext,i),++s}))}instanceMutated(e,t,i){let s,n,r,o,a,l,c,u,h=[];for(n=0,r=i.length;n<r;++n)switch(c=i[n],s=c.key,c.type){case"update":a=this._getViewIndexByKey(e,s),u=e.removeView(a,!0,!e.viewsRequireLifecycle),u instanceof Promise&&h.push(u),o=O(e,t.get(s),a,t.size,s),e.insertView(a,o.bindingContext,o);break;case"add":l=e.viewCount()<=t.size-1?e.viewCount():t.size-1,o=O(e,t.get(s),l,t.size,s),e.insertView(t.size-1,o.bindingContext,o);break;case"delete":if(void 0===c.oldValue)return;a=this._getViewIndexByKey(e,s),u=e.removeView(a,!0,!e.viewsRequireLifecycle),u instanceof Promise&&h.push(u);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}h.length>0?Promise.all(h).then((()=>{k(e.views(),0)})):k(e.views(),0)}_getViewIndexByKey(e,t){let i,s,n;for(i=0,s=e.viewCount();i<s;++i)if(n=e.view(i),n.bindingContext[e.key]===t)return i}}class T{instanceChanged(e,t){e.removeAllViews(!0)}getCollectionObserver(e,t){}}class I{getCollectionObserver(){return null}instanceChanged(e,t){let i=e.removeAllViews(!0,!e.viewsRequireLifecycle);i instanceof Promise?i.then((()=>this._standardProcessItems(e,t))):this._standardProcessItems(e,t)}_standardProcessItems(e,t){let i,s,n,r,o=e.viewCount();if(r=o-(t=Math.floor(t)),r>0)for(r>o&&(r=o),i=0,s=r;i<s;++i)e.removeView(o-(i+1),!0,!e.viewsRequireLifecycle);else{for(i=o,s=t;i<s;++i)n=O(e,i,i,s),e.addView(n.bindingContext,n);k(e.views(),0)}}}class L{getCollectionObserver(e,t){return e.getSetObserver(t)}instanceChanged(e,t){let i=e.removeAllViews(!0,!e.viewsRequireLifecycle);i instanceof Promise?i.then((()=>this._standardProcessItems(e,t))):this._standardProcessItems(e,t)}_standardProcessItems(e,t){let i,s=0;t.forEach((n=>{i=O(e,n,s,t.size),e.addView(i.bindingContext,i),++s}))}instanceMutated(e,t,i){let s,n,r,o,a,l,c,u=[];for(n=0,r=i.length;n<r;++n)switch(l=i[n],s=l.value,l.type){case"add":let i=Math.max(t.size-1,0);o=O(e,s,i,t.size),e.insertView(i,o.bindingContext,o);break;case"delete":a=this._getViewIndexByValue(e,s),c=e.removeView(a,!0,!e.viewsRequireLifecycle),c instanceof Promise&&u.push(c);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}u.length>0?Promise.all(u).then((()=>{k(e.views(),0)})):k(e.views(),0)}_getViewIndexByValue(e,t){let i,s,n;for(i=0,s=e.viewCount();i<s;++i)if(n=e.view(i),n.bindingContext[e.local]===t)return i}}const A=["focus","if","else","repeat","show","hide","with"];function j(e){let t=e.type,i=null!==t.elementName?t.elementName:t.attributeName;return-1===A.indexOf(i)&&(t.handlesAttached||t.handlesBind||t.handlesCreated||t.handlesDetached||t.handlesUnbind)||t.viewFactory&&N(t.viewFactory)||e.viewFactory&&N(e.viewFactory)}function B(e){let t=e.behaviorInstructions;if(t){let e=t.length;for(;e--;)if(j(t[e]))return!0}return e.viewFactory&&N(e.viewFactory)}function N(e){if("_viewsRequireLifecycle"in e)return e._viewsRequireLifecycle;if(e._viewsRequireLifecycle=!1,e.viewFactory)return e._viewsRequireLifecycle=N(e.viewFactory),e._viewsRequireLifecycle;if(e.template.querySelector(".au-animate"))return e._viewsRequireLifecycle=!0,!0;for(let t in e.instructions)if(B(e.instructions[t]))return e._viewsRequireLifecycle=!0,!0;return e._viewsRequireLifecycle=!1,!1}var P;const F="__marker_extracted__";let R=P=class extends class{constructor(e){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},e)}viewCount(){throw new Error("subclass must implement `viewCount`")}views(){throw new Error("subclass must implement `views`")}view(e){throw new Error("subclass must implement `view`")}matcher(){throw new Error("subclass must implement `matcher`")}addView(e,t){throw new Error("subclass must implement `addView`")}insertView(e,t,i){throw new Error("subclass must implement `insertView`")}moveView(e,t){throw new Error("subclass must implement `moveView`")}removeAllViews(e,t){throw new Error("subclass must implement `removeAllViews`")}removeViews(e,t,i){throw new Error("subclass must implement `removeView`")}removeView(e,t,i){throw new Error("subclass must implement `removeView`")}updateBindings(e){throw new Error("subclass must implement `updateBindings`")}}{constructor(e,t,i,s,n,r){super({local:"item",viewsRequireLifecycle:N(e)}),this.viewFactory=e,this.instruction=t,this.viewSlot=i,this.lookupFunctions=s.lookupFunctions,this.observerLocator=n,this.key="key",this.value="value",this.strategyLocator=r,this.ignoreMutation=!1,this.sourceExpression=function(e,t){return e.behaviorInstructions.filter((e=>e.originalAttrName===t))[0].attributes.items.sourceExpression}(this.instruction,"repeat.for"),this.isOneTime=function(e){for(;e instanceof l.h;){if("oneTime"===e.name)return!0;e=e.expression}return!1}(this.sourceExpression),this.viewsRequireLifecycle=N(e)}call(e,t){this[e](this.items,t)}bind(e,t){this.scope={bindingContext:e,overrideContext:t};const i=this.instruction;F in i||(i.__marker_extracted__=this._captureAndRemoveMatcherBinding()),this.matcherBinding=i.__marker_extracted__,this.itemsChanged()}unbind(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0,!0),this._unsubscribeCollection()}_unsubscribeCollection(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)}itemsChanged(){if(this._unsubscribeCollection(),!this.scope)return;let e=this.items;if(this.strategy=this.strategyLocator.getStrategy(e),!this.strategy)throw new Error(`Value for '${this.sourceExpression}' is non-repeatable`);this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.ignoreMutation=!0,this.strategy.instanceChanged(this,e),this.observerLocator.taskQueue.queueMicroTask((()=>{this.ignoreMutation=!1}))}_getInnerCollection(){let e=function(e){let t=!1;for(;e instanceof l.h;)e=e.expression;for(;e instanceof l.Y;)e=e.expression,t=!0;return t?e:null}(this.sourceExpression);return e?e.evaluate(this.scope,null):null}handleCollectionMutated(e,t){this.collectionObserver&&(this.ignoreMutation||this.strategy.instanceMutated(this,e,t))}handleInnerCollectionMutated(e,t){if(!this.collectionObserver)return;if(this.ignoreMutation)return;this.ignoreMutation=!0;let i=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask((()=>this.ignoreMutation=!1)),i===this.items?this.itemsChanged():this.items=i}_observeInnerCollection(){let e=this._getInnerCollection(),t=this.strategyLocator.getStrategy(e);return!!t&&(this.collectionObserver=t.getCollectionObserver(this.observerLocator,e),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))}_observeCollection(){let e=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,e),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))}_captureAndRemoveMatcherBinding(){const e=this.viewFactory.viewFactory;if(e){const t=e.template,i=e.instructions;if(P.useInnerMatcher)return q(i);if(D(t)>1)return;const s=Q(t);if(!s.hasAttribute("au-target-id"))return;const n=s.getAttribute("au-target-id");return q(i,n)}}viewCount(){return this.viewSlot.children.length}views(){return this.viewSlot.children}view(e){return this.viewSlot.children[e]}matcher(){const e=this.matcherBinding;return e?e.sourceExpression.evaluate(this.scope,e.lookupFunctions):null}addView(e,t){let i=this.viewFactory.create();i.bind(e,t),this.viewSlot.add(i)}insertView(e,t,i){let s=this.viewFactory.create();s.bind(t,i),this.viewSlot.insert(e,s)}moveView(e,t){this.viewSlot.move(e,t)}removeAllViews(e,t){return this.viewSlot.removeAll(e,t)}removeViews(e,t,i){return this.viewSlot.removeMany(e,t,i)}removeView(e,t,i){return this.viewSlot.removeAt(e,t,i)}updateBindings(e){const t=e;let i=t.bindings.length;for(;i--;)M(t.bindings[i]);for(i=t.controllers.length;i--;){let e=t.controllers[i].boundProperties.length;for(;e--;){M(t.controllers[i].boundProperties[e].binding)}}}};R.useInnerMatcher=!0,b([a.bindable],R.prototype,"items",void 0),b([a.bindable],R.prototype,"local",void 0),b([a.bindable],R.prototype,"key",void 0),b([a.bindable],R.prototype,"value",void 0),R=P=b([Object(a.customAttribute)("repeat"),a.templateController,Object(n.s)(a.BoundViewFactory,a.TargetInstruction,a.ViewSlot,a.ViewResources,l.N,class{constructor(){this.matchers=[],this.strategies=[],this.addStrategy((e=>null==e),new T),this.addStrategy((e=>e instanceof Array),new _),this.addStrategy((e=>e instanceof Map),new E),this.addStrategy((e=>e instanceof Set),new L),this.addStrategy((e=>"number"==typeof e),new I)}addStrategy(e,t){this.matchers.push(e),this.strategies.push(t)}getStrategy(e){let t=this.matchers;for(let i=0,s=t.length;i<s;++i)if(t[i](e))return this.strategies[i];return null}})],R);const q=(e,t)=>{const i=Object.keys(e);for(let s=0;s<i.length;s++){const n=i[s];if(void 0!==t&&n!==t)continue;const r=e[n].expressions;if(r)for(let e=0;e<r.length;e++)if("matcher"===r[e].targetProperty){const t=r[e];return r.splice(e,1),t}}},D=e=>{const t=e.childNodes;let i=0;for(let e=0,s=t.length;s>e;++e)1===t[e].nodeType&&++i;return i},Q=e=>{let t=e.firstChild;for(;null!==t;){if(1===t.nodeType)return t;t=t.nextSibling}return null},$="aurelia-hide",U=".aurelia-hide { display:none !important; }";function z(e){r.FEATURE.shadowDOM&&e&&!e.hasAureliaHideStyle&&(e.hasAureliaHideStyle=!0,r.DOM.injectStyles(U,e))}let W=class{constructor(e,t,i){this.element=e,this.animator=t,this.domBoundary=i}static inject(){return[r.DOM.Element,a.Animator,n.h.of(r.DOM.boundary,!0)]}created(){z(this.domBoundary)}valueChanged(e){let t=this.element,i=this.animator;e?i.removeClass(t,$):i.addClass(t,$)}bind(e){this.valueChanged(this.value)}};W=b([Object(a.customAttribute)("show")],W);let H=class{constructor(e,t,i){this.element=e,this.animator=t,this.domBoundary=i}static inject(){return[r.DOM.Element,a.Animator,n.h.of(r.DOM.boundary,!0)]}created(){z(this.domBoundary)}valueChanged(e){e?this.animator.addClass(this.element,$):this.animator.removeClass(this.element,$)}bind(e){this.valueChanged(this.value)}value(e){throw new Error("Method not implemented.")}};H=b([Object(a.customAttribute)("hide")],H);const K=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;let X=!0;let G=class{constructor(e){this.sanitizer=e}toView(e){return null==e?null:this.sanitizer.sanitize(e)}};G=b([Object(l.Lb)("sanitizeHTML"),Object(n.s)(class{sanitize(e){return X&&(X=!1,Object(c.getLogger)("html-sanitizer").warn("CAUTION: The default HTMLSanitizer does NOT provide security against a wide variety of sophisticated XSS attacks,\nand should not be relied on for sanitizing input from unknown sources.\nPlease see https://aurelia.io/docs/binding/basics#element-content for instructions on how to use a secure solution like DOMPurify or sanitize-html.")),e.replace(K,"")}})],G);let J=class{constructor(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null}bind(e,t){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(e,t)}unbind(){this.view.unbind()}};J=b([Object(a.customAttribute)("replaceable"),a.templateController,Object(n.s)(a.BoundViewFactory,a.ViewSlot)],J);let Z=class{constructor(e,t){this.element=e,this.taskQueue=t,this.isAttached=!1,this.needsApply=!1}static inject(){return[r.DOM.Element,o.a]}valueChanged(e){this.isAttached?this._apply():this.needsApply=!0}_apply(){this.value?this.taskQueue.queueMicroTask((()=>{this.value&&this.element.focus()})):this.element.blur()}attached(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this),this.element.addEventListener("blur",this)}detached(){this.isAttached=!1,this.element.removeEventListener("focus",this),this.element.removeEventListener("blur",this)}handleEvent(e){"focus"===e.type?this.value=!0:r.DOM.activeElement!==this.element&&(this.value=!1)}};Z=b([Object(a.customAttribute)("focus",l.cb.twoWay)],Z);let Y=/url\((?!['"]data)([^)]+)\)/gi;class ee{constructor(e){this.address=e,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}initialize(e,t){this._scoped=new t(this)}register(e,t){"scoped"===t?e.registerViewEngineHooks(this._scoped):this._global=!0}load(e){return e.get(u.a).loadText(this.address).catch((e=>null)).then((e=>{e=function(e,t){if("string"!=typeof t)throw new Error("Failed loading required CSS file: "+e);return t.replace(Y,((t,i)=>{let s=i.charAt(0);return"'"!==s&&'"'!==s||(i=i.substr(1,i.length-2)),"url('"+Object(h.d)(i,e)+"')"}))}(this.address,e),this._scoped.css=e,this._global&&(this._alreadyGloballyInjected=!0,r.DOM.injectStyles(e))}))}}function te(e){let t=class extends class{constructor(e){this.owner=e,this.css=null}beforeCompile(e,t,i){i.targetShadowDOM?r.DOM.injectStyles(this.css,e,!0):r.FEATURE.scopedCSS?r.DOM.injectStyles(this.css,e,!0).setAttribute("scoped","scoped"):this._global&&!this.owner._alreadyGloballyInjected&&(r.DOM.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)}}{};return t=b([Object(a.resource)(new ee(e))],t),t}let ie=class{bind(e,t){e.targetObserver=new l.v(e.target,e.targetProperty)}unbind(e,t){}};ie=b([Object(l.bb)("attr")],ie);let se={bind(e,t,i){e.originalMode=e.mode,e.mode=this.mode},unbind(e,t){e.mode=e.originalMode,e.originalMode=null}},ne=class{constructor(){this.mode=l.cb.oneTime}};ne=b([Object(d.e)(se),Object(l.bb)("oneTime")],ne);let re=class{constructor(){this.mode=l.cb.toView}};re=b([Object(d.e)(se),Object(l.bb)("oneWay")],re);let oe=class{constructor(){this.mode=l.cb.toView}};oe=b([Object(d.e)(se),Object(l.bb)("toView")],oe);let ae=class{constructor(){this.mode=l.cb.fromView}};ae=b([Object(d.e)(se),Object(l.bb)("fromView")],ae);let le=class{constructor(){this.mode=l.cb.twoWay}};function ce(e){let t=this.throttleState,i=+new Date-t.last;if(i>=t.delay)return clearTimeout(t.timeoutId),t.timeoutId=null,t.last=+new Date,void this.throttledMethod(e);t.newValue=e,null===t.timeoutId&&(t.timeoutId=setTimeout((()=>{t.timeoutId=null,t.last=+new Date,this.throttledMethod(t.newValue)}),t.delay-i))}le=b([Object(d.e)(se),Object(l.bb)("twoWay")],le);let ue=class{bind(e,t,i=200){let s="updateTarget";e.callSource?s="callSource":e.updateSource&&e.mode===l.cb.twoWay&&(s="updateSource"),e.throttledMethod=e[s],e.throttledMethod.originalName=s,e[s]=ce,e.throttleState={delay:i,last:0,timeoutId:null}}unbind(e,t){e[e.throttledMethod.originalName]=e.throttledMethod,e.throttledMethod=null,clearTimeout(e.throttleState.timeoutId),e.throttleState=null}};ue=b([Object(l.bb)("throttle")],ue);const he={};function de(e){const t=this.debounceState;clearTimeout(t.timeoutId),t.timeoutId=setTimeout((()=>this.debouncedMethod(e)),t.delay)}function be(e,t,i){const s=this.debounceState;if(clearTimeout(s.timeoutId),e!==s.callContextToDebounce)return s.oldValue=he,void this.debouncedMethod(e,t,i);s.oldValue===he&&(s.oldValue=i),s.timeoutId=setTimeout((()=>{const i=s.oldValue;s.oldValue=he,this.debouncedMethod(e,t,i)}),s.delay)}let pe=class{bind(e,t,i=200){const s=void 0!==e.callSource,n=s?"callSource":"call",r=s?de:be,o=e.mode,a=o===l.cb.twoWay||o===l.cb.fromView?l.Kb:l.Ib;e.debouncedMethod=e[n],e.debouncedMethod.originalName=n,e[n]=r,e.debounceState={callContextToDebounce:a,delay:i,timeoutId:0,oldValue:he}}unbind(e,t){e[e.debouncedMethod.originalName]=e.debouncedMethod,e.debouncedMethod=null,clearTimeout(e.debounceState.timeoutId),e.debounceState=null}};function ge(e){let t=function(e){return e.path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target}(e);this.target===t&&this.selfEventCallSource(e)}pe=b([Object(l.bb)("debounce")],pe);let me=class{bind(e,t){if(!e.callSource||!e.targetEvent)throw new Error("Self binding behavior only supports event.");e.selfEventCallSource=e.callSource,e.callSource=ge}unbind(e,t){e.callSource=e.selfEventCallSource,e.selfEventCallSource=null}};me=b([Object(l.bb)("self")],me);class we{constructor(){this.signals={}}signal(e){let t=this.signals[e];if(!t)return;let i=t.length;for(;i--;)t[i].call(l.Ib)}}let ve=class{constructor(e){this.signals=e.signals}static inject(){return[we]}bind(e,t,...i){if(!e.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");let s=this.signals;if(1===i.length){let t=i[0];(s[t]||(s[t]=[])).push(e),e.signalName=t}else{if(!(i.length>1))throw new Error("Signal name is required.");{let t=i.length;for(;t--;){let n=i[t];(s[n]||(s[n]=[])).push(e)}e.signalName=i}}}unbind(e,t){let i=this.signals,s=e.signalName;if(e.signalName=null,Array.isArray(s)){let t=s,n=t.length;for(;n--;){let s=i[t[n]];s.splice(s.indexOf(e),1)}}else{let t=i[s];t.splice(t.indexOf(e),1)}}};ve=b([Object(l.bb)("signal")],ve);const fe="The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.";let ye=class{bind(e,t,...i){if(0===i.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(e.mode!==l.cb.twoWay&&e.mode!==l.cb.fromView)throw new Error(fe);let s=e.observerLocator.getObserver(e.target,e.targetProperty);if(!s.handler)throw new Error(fe);e.targetObserver=s,s.originalHandler=e.targetObserver.handler;let n=new l.z(i);s.handler=n}unbind(e,t){let i=e.targetObserver;i.handler.dispose(),i.handler=i.originalHandler,i.originalHandler=null}};function Ce({name:e,viewUrl:t,bindableNames:i,useShadowDOMmode:s}){let n=class{bind(e){this.$parent=e}};n=b([Object(a.customElement)(e),Object(a.useView)(t)],n);for(let e=0,t=i.length;e<t;++e)Object(a.bindable)(i[e])(n);switch(s){case"open":Object(a.useShadowDOM)({mode:"open"})(n);break;case"closed":Object(a.useShadowDOM)({mode:"closed"})(n);break;case"":Object(a.useShadowDOM)(n);break;case null:break;default:Object(c.getLogger)("aurelia-html-only-element").warn('Expected \'use-shadow-dom\' value to be "close", "open" or "", received '+s)}return n}function xe(e){r.DOM.injectStyles(U),e.globalResources(p,f,y,C,R,W,H,J,Z,G,ne,re,oe,ae,le,ue,pe,me,ve,ye,ie),function(e){const t=e.container.get(a.ViewEngine),i=e.aurelia.loader;t.addResourcePlugin(".html",{fetch:function(e){return i.loadTemplate(e).then((t=>{let i=t.template.getAttribute("bindable");const s=t.template.getAttribute("use-shadow-dom"),n=/([^\/^\?]+)\.html/i.exec(e)[1].toLowerCase();return i?(i=i.split(",").map((e=>e.trim())),t.template.removeAttribute("bindable")):i=[],{[n]:Ce({name:n,viewUrl:e,bindableNames:i,useShadowDOMmode:s})}}))}})}(e);let t=e.container.get(a.ViewEngine),i={fetch:e=>({[e]:te(e)})};[".css",".less",".sass",".scss",".styl"].forEach((e=>t.addResourcePlugin(e,i)))}ye=b([Object(l.bb)("updateTrigger")],ye)},"aurelia-templating-router":function(e,t,i){"use strict";i.d(t,"configure",(function(){return v}));var s=i("IA8k"),n=i("SGXf"),r=i("n+sw"),o=i("SkM8"),a=i("OeXm"),l=i("NDtI"),c=i("xIXs"),u=i("KKpb");class h{}class d{constructor(e,t,i,s,n,r,o){this.element=e,this.container=t,this.viewSlot=i,this.router=s,this.viewLocator=n,this.compositionTransaction=r,this.compositionEngine=o,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in r||(r.initialComposition=!0,this.compositionTransactionNotifier=r.enlist())}static inject(){return[c.DOM.Element,a.b,o.ViewSlot,s.c,o.ViewLocator,o.CompositionTransaction,o.CompositionEngine]}created(e){this.owningView=e}bind(e,t){this.container.viewModel=e,this.overrideContext=t}process(e,t){const i=e,s=i.component,r=s.childContainer,a=s.viewModel,l=s.viewModelResource,c=l.metadata,u=s.router.currentInstruction.config,h=u.viewPorts&&u.viewPorts[i.name]||{};r.get(b)._notify(this);const d={viewModel:h.layoutViewModel||u.layoutViewModel||this.layoutViewModel,view:h.layoutView||u.layoutView||this.layoutView,model:h.layoutModel||u.layoutModel||this.layoutModel,router:i.component.router,childContainer:r,viewSlot:this.viewSlot},p=this.viewLocator.getViewStrategy(s.view||a);return p&&s.view&&p.makeRelativeTo(n.a.get(s.router.container.viewModel.constructor).moduleId),c.load(r,l.value,null,p,!0).then((e=>{this.compositionTransactionNotifier||(this.compositionTransactionOwnershipToken=this.compositionTransaction.tryCapture()),(d.viewModel||d.view)&&(i.layoutInstruction=d);const s=o.BehaviorInstruction.dynamic(this.element,a,e);if(i.controller=c.create(r,s),t)return null;this.swap(i)}))}swap(e){const t=e,i=t.controller,s=t.layoutInstruction,n=this.view,r=()=>{const e=o.SwapStrategies[this.swapOrder]||o.SwapStrategies.after,t=this.viewSlot;e(t,n,(()=>Promise.resolve(t.add(this.view)))).then((()=>{this._notify()}))},a=e=>{i.automate(this.overrideContext,e);const t=this.compositionTransactionOwnershipToken;return t?t.waitForCompositionComplete().then((()=>(this.compositionTransactionOwnershipToken=null,r()))):r()};return s?(s.viewModel||(s.viewModel=new h),this.compositionEngine.createController(s).then((e=>{const t=e.view;return o.ShadowDOM.distributeView(i.view,e.slots||t.slots),e.automate(Object(l.kb)(s.viewModel),this.owningView),t.children.push(i.view),t||e})).then((e=>(this.view=e,a(e))))):(this.view=i.view,a(this.owningView))}_notify(){const e=this.compositionTransactionNotifier;e&&(e.done(),this.compositionTransactionNotifier=null)}}d.$view=null,d.$resource={name:"router-view",bindables:["swapOrder","layoutView","layoutViewModel","layoutModel","inherit-binding-context"]};class b{constructor(){this.promise=new Promise((e=>this.resolve=e))}findNearest(){return this.promise}_notify(e){this.resolve(e)}}class p{}o.inlineView("<template></template>")(p);class g extends s.b{constructor(e){super(),this.compositionEngine=e}resolveViewModel(e,t){return new Promise(((i,s)=>{let a;if("moduleId"in t){let s=t.moduleId;return null===s?a=p:(s=Object(r.d)(s,n.a.get(e.container.viewModel.constructor).moduleId),a=/\.html/i.test(s)?function(e){const t=/([^\/^\?]+)\.html/i.exec(e)[1];class i{bind(e){this.$parent=e}}return Object(o.customElement)(t)(i),Object(o.useView)(e)(i),i}(s):s),i(a)}s(new Error('Invalid route config. No "moduleId" found.'))}))}createChildContainer(e){const t=e.container.createChild();return t.registerSingleton(b),t.getChildRouter=function(){let i;return t.registerHandler(s.c,(()=>i||(i=e.createChild(t)))),t.get(s.c)},t}loadRoute(e,t,i){return this.resolveViewModel(e,t).then((i=>this.compositionEngine.ensureViewModel({viewModel:i,childContainer:this.createChildContainer(e),view:t.view||t.viewStrategy,router:e})))}}g.inject=[o.CompositionEngine];const m=Object(u.getLogger)("route-href");class w{constructor(e,t){this.router=e,this.element=t,this.attribute="href"}static inject(){return[s.c,c.DOM.Element]}bind(){this.isActive=!0,this.processChange()}unbind(){this.isActive=!1}attributeChanged(e,t){return t&&this.element.removeAttribute(t),this.processChange()}processChange(){return this.router.ensureConfigured().then((()=>{if(!this.isActive)return null;const e=this.element,t=this.router.generate(this.route,this.params);return e.au.controller?e.au.controller.viewModel[this.attribute]=t:e.setAttribute(this.attribute,t),null})).catch((e=>{m.error(e)}))}}function v(e){e.singleton(s.b,g).singleton(s.c,s.a).globalResources(d,w),e.container.registerAlias(s.c,s.a)}w.$resource={type:"attribute",name:"route-href",bindables:[{name:"route",changeHandler:"processChange",primaryProperty:!0},{name:"params",changeHandler:"processChange"},"attribute"]}}}]);
//# sourceMappingURL=vendors~ecff2e3d.049cac71e3855aa394c5.bundle.map